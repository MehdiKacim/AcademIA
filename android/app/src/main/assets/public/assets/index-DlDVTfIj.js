var UI=e=>{throw TypeError(e)};var cS=(e,t,r)=>t.has(e)||UI("Cannot "+r);var ve=(e,t,r)=>(cS(e,t,"read from private field"),r?r.call(e):t.get(e)),At=(e,t,r)=>t.has(e)?UI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ot=(e,t,r,n)=>(cS(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Jt=(e,t,r)=>(cS(e,t,"access private method"),r);var fx=(e,t,r,n)=>({set _(i){ot(e,t,i,r)},get _(){return ve(e,t,n)}});function dre(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fre(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var uS={exports:{}},tp={},dS={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WI;function hre(){if(WI)return Wt;WI=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=d&&L[d]||L["@@iterator"],typeof L=="function"?L:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function v(L,q,K){this.props=L,this.context=q,this.refs=y,this.updater=K||p}v.prototype.isReactComponent={},v.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},v.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function b(){}b.prototype=v.prototype;function w(L,q,K){this.props=L,this.context=q,this.refs=y,this.updater=K||p}var j=w.prototype=new b;j.constructor=w,x(j,v.prototype),j.isPureReactComponent=!0;var S=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function O(L,q,K){var ee,te={},Q=null,G=null;if(q!=null)for(ee in q.ref!==void 0&&(G=q.ref),q.key!==void 0&&(Q=""+q.key),q)C.call(q,ee)&&!k.hasOwnProperty(ee)&&(te[ee]=q[ee]);var ne=arguments.length-2;if(ne===1)te.children=K;else if(1<ne){for(var Z=Array(ne),re=0;re<ne;re++)Z[re]=arguments[re+2];te.children=Z}if(L&&L.defaultProps)for(ee in ne=L.defaultProps,ne)te[ee]===void 0&&(te[ee]=ne[ee]);return{$$typeof:e,type:L,key:Q,ref:G,props:te,_owner:E.current}}function M(L,q){return{$$typeof:e,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function T(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(K){return q[K]})}var P=/\/+/g;function I(L,q){return typeof L=="object"&&L!==null&&L.key!=null?T(""+L.key):q.toString(36)}function B(L,q,K,ee,te){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var G=!1;if(L===null)G=!0;else switch(Q){case"string":case"number":G=!0;break;case"object":switch(L.$$typeof){case e:case t:G=!0}}if(G)return G=L,te=te(G),L=ee===""?"."+I(G,0):ee,S(te)?(K="",L!=null&&(K=L.replace(P,"$&/")+"/"),B(te,q,K,"",function(re){return re})):te!=null&&(R(te)&&(te=M(te,K+(!te.key||G&&G.key===te.key?"":(""+te.key).replace(P,"$&/")+"/")+L)),q.push(te)),1;if(G=0,ee=ee===""?".":ee+":",S(L))for(var ne=0;ne<L.length;ne++){Q=L[ne];var Z=ee+I(Q,ne);G+=B(Q,q,K,Z,te)}else if(Z=m(L),typeof Z=="function")for(L=Z.call(L),ne=0;!(Q=L.next()).done;)Q=Q.value,Z=ee+I(Q,ne++),G+=B(Q,q,K,Z,te);else if(Q==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return G}function $(L,q,K){if(L==null)return L;var ee=[],te=0;return B(L,ee,"","",function(Q){return q.call(K,Q,te++)}),ee}function H(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(K){(L._status===0||L._status===-1)&&(L._status=1,L._result=K)},function(K){(L._status===0||L._status===-1)&&(L._status=2,L._result=K)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var V={current:null},U={transition:null},W={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:U,ReactCurrentOwner:E};function F(){throw Error("act(...) is not supported in production builds of React.")}return Wt.Children={map:$,forEach:function(L,q,K){$(L,function(){q.apply(this,arguments)},K)},count:function(L){var q=0;return $(L,function(){q++}),q},toArray:function(L){return $(L,function(q){return q})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Wt.Component=v,Wt.Fragment=r,Wt.Profiler=i,Wt.PureComponent=w,Wt.StrictMode=n,Wt.Suspense=c,Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Wt.act=F,Wt.cloneElement=function(L,q,K){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ee=x({},L.props),te=L.key,Q=L.ref,G=L._owner;if(q!=null){if(q.ref!==void 0&&(Q=q.ref,G=E.current),q.key!==void 0&&(te=""+q.key),L.type&&L.type.defaultProps)var ne=L.type.defaultProps;for(Z in q)C.call(q,Z)&&!k.hasOwnProperty(Z)&&(ee[Z]=q[Z]===void 0&&ne!==void 0?ne[Z]:q[Z])}var Z=arguments.length-2;if(Z===1)ee.children=K;else if(1<Z){ne=Array(Z);for(var re=0;re<Z;re++)ne[re]=arguments[re+2];ee.children=ne}return{$$typeof:e,type:L.type,key:te,ref:Q,props:ee,_owner:G}},Wt.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:s,_context:L},L.Consumer=L},Wt.createElement=O,Wt.createFactory=function(L){var q=O.bind(null,L);return q.type=L,q},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(L){return{$$typeof:l,render:L}},Wt.isValidElement=R,Wt.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:H}},Wt.memo=function(L,q){return{$$typeof:u,type:L,compare:q===void 0?null:q}},Wt.startTransition=function(L){var q=U.transition;U.transition={};try{L()}finally{U.transition=q}},Wt.unstable_act=F,Wt.useCallback=function(L,q){return V.current.useCallback(L,q)},Wt.useContext=function(L){return V.current.useContext(L)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(L){return V.current.useDeferredValue(L)},Wt.useEffect=function(L,q){return V.current.useEffect(L,q)},Wt.useId=function(){return V.current.useId()},Wt.useImperativeHandle=function(L,q,K){return V.current.useImperativeHandle(L,q,K)},Wt.useInsertionEffect=function(L,q){return V.current.useInsertionEffect(L,q)},Wt.useLayoutEffect=function(L,q){return V.current.useLayoutEffect(L,q)},Wt.useMemo=function(L,q){return V.current.useMemo(L,q)},Wt.useReducer=function(L,q,K){return V.current.useReducer(L,q,K)},Wt.useRef=function(L){return V.current.useRef(L)},Wt.useState=function(L){return V.current.useState(L)},Wt.useSyncExternalStore=function(L,q,K){return V.current.useSyncExternalStore(L,q,K)},Wt.useTransition=function(){return V.current.useTransition()},Wt.version="18.3.1",Wt}var HI;function fv(){return HI||(HI=1,dS.exports=hre()),dS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI;function mre(){if(KI)return tp;KI=1;var e=fv(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,u){var f,d={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(d[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)d[f]===void 0&&(d[f]=c[f]);return{$$typeof:t,type:l,key:m,ref:p,props:d,_owner:i.current}}return tp.Fragment=r,tp.jsx=a,tp.jsxs=a,tp}var GI;function pre(){return GI||(GI=1,uS.exports=mre()),uS.exports}var o=pre(),mx={},fS={exports:{}},Yi={},hS={exports:{}},mS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI;function gre(){return YI||(YI=1,(function(e){function t(U,W){var F=U.length;U.push(W);e:for(;0<F;){var L=F-1>>>1,q=U[L];if(0<i(q,W))U[L]=W,U[F]=q,F=L;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var W=U[0],F=U.pop();if(F!==W){U[0]=F;e:for(var L=0,q=U.length,K=q>>>1;L<K;){var ee=2*(L+1)-1,te=U[ee],Q=ee+1,G=U[Q];if(0>i(te,F))Q<q&&0>i(G,te)?(U[L]=G,U[Q]=F,L=Q):(U[L]=te,U[ee]=F,L=ee);else if(Q<q&&0>i(G,F))U[L]=G,U[Q]=F,L=Q;else break e}}return W}function i(U,W){var F=U.sortIndex-W.sortIndex;return F!==0?F:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,m=3,p=!1,x=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(U){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=U)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function S(U){if(y=!1,j(U),!x)if(r(c)!==null)x=!0,H(C);else{var W=r(u);W!==null&&V(S,W.startTime-U)}}function C(U,W){x=!1,y&&(y=!1,b(O),O=-1),p=!0;var F=m;try{for(j(W),d=r(c);d!==null&&(!(d.expirationTime>W)||U&&!T());){var L=d.callback;if(typeof L=="function"){d.callback=null,m=d.priorityLevel;var q=L(d.expirationTime<=W);W=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(c)&&n(c),j(W)}else n(c);d=r(c)}if(d!==null)var K=!0;else{var ee=r(u);ee!==null&&V(S,ee.startTime-W),K=!1}return K}finally{d=null,m=F,p=!1}}var E=!1,k=null,O=-1,M=5,R=-1;function T(){return!(e.unstable_now()-R<M)}function P(){if(k!==null){var U=e.unstable_now();R=U;var W=!0;try{W=k(!0,U)}finally{W?I():(E=!1,k=null)}}else E=!1}var I;if(typeof w=="function")I=function(){w(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,$=B.port2;B.port1.onmessage=P,I=function(){$.postMessage(null)}}else I=function(){v(P,0)};function H(U){k=U,E||(E=!0,I())}function V(U,W){O=v(function(){U(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,H(C))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var F=m;m=W;try{return U()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=m;m=U;try{return W()}finally{m=F}},e.unstable_scheduleCallback=function(U,W,F){var L=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?L+F:L):F=L,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,U={id:f++,callback:W,priorityLevel:U,startTime:F,expirationTime:q,sortIndex:-1},F>L?(U.sortIndex=F,t(u,U),r(c)===null&&U===r(u)&&(y?(b(O),O=-1):y=!0,V(S,F-L))):(U.sortIndex=q,t(c,U),x||p||(x=!0,H(C))),U},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(U){var W=m;return function(){var F=m;m=W;try{return U.apply(this,arguments)}finally{m=F}}}})(mS)),mS}var QI;function vre(){return QI||(QI=1,hS.exports=gre()),hS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XI;function yre(){if(XI)return Yi;XI=1;var e=fv(),t=vre();function r(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,N=1;N<arguments.length;N++)g+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(h,g){a(h,g),a(h+"Capture",g)}function a(h,g){for(i[h]=g,h=0;h<g.length;h++)n.add(g[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function m(h){return c.call(d,h)?!0:c.call(f,h)?!1:u.test(h)?d[h]=!0:(f[h]=!0,!1)}function p(h,g,N,A){if(N!==null&&N.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return A?!1:N!==null?!N.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function x(h,g,N,A){if(g===null||typeof g>"u"||p(h,g,N,A))return!0;if(A)return!1;if(N!==null)switch(N.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(h,g,N,A,D,z,J){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=A,this.attributeNamespace=D,this.mustUseProperty=N,this.propertyName=h,this.type=g,this.sanitizeURL=z,this.removeEmptyString=J}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){v[h]=new y(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];v[g]=new y(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){v[h]=new y(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){v[h]=new y(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){v[h]=new y(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){v[h]=new y(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){v[h]=new y(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){v[h]=new y(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){v[h]=new y(h,5,!1,h.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function w(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(b,w);v[g]=new y(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(b,w);v[g]=new y(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(b,w);v[g]=new y(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){v[h]=new y(h,1,!1,h.toLowerCase(),null,!1,!1)}),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){v[h]=new y(h,1,!1,h.toLowerCase(),null,!0,!0)});function j(h,g,N,A){var D=v.hasOwnProperty(g)?v[g]:null;(D!==null?D.type!==0:A||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(x(g,N,D,A)&&(N=null),A||D===null?m(g)&&(N===null?h.removeAttribute(g):h.setAttribute(g,""+N)):D.mustUseProperty?h[D.propertyName]=N===null?D.type===3?!1:"":N:(g=D.attributeName,A=D.attributeNamespace,N===null?h.removeAttribute(g):(D=D.type,N=D===3||D===4&&N===!0?"":""+N,A?h.setAttributeNS(A,g,N):h.setAttribute(g,N))))}var S=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),U=Symbol.iterator;function W(h){return h===null||typeof h!="object"?null:(h=U&&h[U]||h["@@iterator"],typeof h=="function"?h:null)}var F=Object.assign,L;function q(h){if(L===void 0)try{throw Error()}catch(N){var g=N.stack.trim().match(/\n( *(at )?)/);L=g&&g[1]||""}return`
`+L+h}var K=!1;function ee(h,g){if(!h||K)return"";K=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ee){var A=Ee}Reflect.construct(h,[],g)}else{try{g.call()}catch(Ee){A=Ee}h.call(g.prototype)}else{try{throw Error()}catch(Ee){A=Ee}h()}}catch(Ee){if(Ee&&A&&typeof Ee.stack=="string"){for(var D=Ee.stack.split(`
`),z=A.stack.split(`
`),J=D.length-1,de=z.length-1;1<=J&&0<=de&&D[J]!==z[de];)de--;for(;1<=J&&0<=de;J--,de--)if(D[J]!==z[de]){if(J!==1||de!==1)do if(J--,de--,0>de||D[J]!==z[de]){var pe=`
`+D[J].replace(" at new "," at ");return h.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",h.displayName)),pe}while(1<=J&&0<=de);break}}}finally{K=!1,Error.prepareStackTrace=N}return(h=h?h.displayName||h.name:"")?q(h):""}function te(h){switch(h.tag){case 5:return q(h.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return h=ee(h.type,!1),h;case 11:return h=ee(h.type.render,!1),h;case 1:return h=ee(h.type,!0),h;default:return""}}function Q(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case k:return"Fragment";case E:return"Portal";case M:return"Profiler";case O:return"StrictMode";case I:return"Suspense";case B:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case T:return(h.displayName||"Context")+".Consumer";case R:return(h._context.displayName||"Context")+".Provider";case P:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case $:return g=h.displayName||null,g!==null?g:Q(h.type)||"Memo";case H:g=h._payload,h=h._init;try{return Q(h(g))}catch{}}return null}function G(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(g);case 8:return g===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function ne(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Z(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function re(h){var g=Z(h)?"checked":"value",N=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),A=""+h[g];if(!h.hasOwnProperty(g)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var D=N.get,z=N.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return D.call(this)},set:function(J){A=""+J,z.call(this,J)}}),Object.defineProperty(h,g,{enumerable:N.enumerable}),{getValue:function(){return A},setValue:function(J){A=""+J},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function fe(h){h._valueTracker||(h._valueTracker=re(h))}function ce(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var N=g.getValue(),A="";return h&&(A=Z(h)?h.checked?"true":"false":h.value),h=A,h!==N?(g.setValue(h),!0):!1}function xe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function be(h,g){var N=g.checked;return F({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??h._wrapperState.initialChecked})}function ke(h,g){var N=g.defaultValue==null?"":g.defaultValue,A=g.checked!=null?g.checked:g.defaultChecked;N=ne(g.value!=null?g.value:N),h._wrapperState={initialChecked:A,initialValue:N,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Te(h,g){g=g.checked,g!=null&&j(h,"checked",g,!1)}function De(h,g){Te(h,g);var N=ne(g.value),A=g.type;if(N!=null)A==="number"?(N===0&&h.value===""||h.value!=N)&&(h.value=""+N):h.value!==""+N&&(h.value=""+N);else if(A==="submit"||A==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?ge(h,g.type,N):g.hasOwnProperty("defaultValue")&&ge(h,g.type,ne(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function ae(h,g,N){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var A=g.type;if(!(A!=="submit"&&A!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,N||g===h.value||(h.value=g),h.defaultValue=g}N=h.name,N!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,N!==""&&(h.name=N)}function ge(h,g,N){(g!=="number"||xe(h.ownerDocument)!==h)&&(N==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+N&&(h.defaultValue=""+N))}var X=Array.isArray;function ie(h,g,N,A){if(h=h.options,g){g={};for(var D=0;D<N.length;D++)g["$"+N[D]]=!0;for(N=0;N<h.length;N++)D=g.hasOwnProperty("$"+h[N].value),h[N].selected!==D&&(h[N].selected=D),D&&A&&(h[N].defaultSelected=!0)}else{for(N=""+ne(N),g=null,D=0;D<h.length;D++){if(h[D].value===N){h[D].selected=!0,A&&(h[D].defaultSelected=!0);return}g!==null||h[D].disabled||(g=h[D])}g!==null&&(g.selected=!0)}}function oe(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(r(91));return F({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function je(h,g){var N=g.value;if(N==null){if(N=g.children,g=g.defaultValue,N!=null){if(g!=null)throw Error(r(92));if(X(N)){if(1<N.length)throw Error(r(93));N=N[0]}g=N}g==null&&(g=""),N=g}h._wrapperState={initialValue:ne(N)}}function le(h,g){var N=ne(g.value),A=ne(g.defaultValue);N!=null&&(N=""+N,N!==h.value&&(h.value=N),g.defaultValue==null&&h.defaultValue!==N&&(h.defaultValue=N)),A!=null&&(h.defaultValue=""+A)}function he(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function we(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?we(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Oe,gt=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,N,A,D){MSApp.execUnsafeLocalFunction(function(){return h(g,N,A,D)})}:h})(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Oe.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function Se(h,g){if(g){var N=h.firstChild;if(N&&N===h.lastChild&&N.nodeType===3){N.nodeValue=g;return}}h.textContent=g}var Ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nt=["Webkit","ms","Moz","O"];Object.keys(Ge).forEach(function(h){Nt.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),Ge[g]=Ge[h]})});function vt(h,g,N){return g==null||typeof g=="boolean"||g===""?"":N||typeof g!="number"||g===0||Ge.hasOwnProperty(h)&&Ge[h]?(""+g).trim():g+"px"}function mr(h,g){h=h.style;for(var N in g)if(g.hasOwnProperty(N)){var A=N.indexOf("--")===0,D=vt(N,g[N],A);N==="float"&&(N="cssFloat"),A?h.setProperty(N,D):h[N]=D}}var tn=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jr(h,g){if(g){if(tn[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(r(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(r(61))}if(g.style!=null&&typeof g.style!="object")throw Error(r(62))}}function Ot(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ze=null;function ft(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var xt=null,bt=null,ct=null;function $t(h){if(h=qm(h)){if(typeof xt!="function")throw Error(r(280));var g=h.stateNode;g&&(g=Ey(g),xt(h.stateNode,h.type,g))}}function Ut(h){bt?ct?ct.push(h):ct=[h]:bt=h}function Je(){if(bt){var h=bt,g=ct;if(ct=bt=null,$t(h),g)for(h=0;h<g.length;h++)$t(g[h])}}function ht(h,g){return h(g)}function yt(){}var zt=!1;function Xt(h,g,N){if(zt)return h(g,N);zt=!0;try{return ht(h,g,N)}finally{zt=!1,(bt!==null||ct!==null)&&(yt(),Je())}}function qt(h,g){var N=h.stateNode;if(N===null)return null;var A=Ey(N);if(A===null)return null;N=A[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(h=h.type,A=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!A;break e;default:h=!1}if(h)return null;if(N&&typeof N!="function")throw Error(r(231,g,typeof N));return N}var Cr=!1;if(l)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Cr=!1}function qr(h,g,N,A,D,z,J,de,pe){var Ee=Array.prototype.slice.call(arguments,3);try{g.apply(N,Ee)}catch(Ve){this.onError(Ve)}}var fi=!1,Vi=null,Zn=!1,fs=null,Ga={onError:function(h){fi=!0,Vi=h}};function bm(h,g,N,A,D,z,J,de,pe){fi=!1,Vi=null,qr.apply(Ga,arguments)}function Qc(h,g,N,A,D,z,J,de,pe){if(bm.apply(this,arguments),fi){if(fi){var Ee=Vi;fi=!1,Vi=null}else throw Error(r(198));Zn||(Zn=!0,fs=Ee)}}function hs(h){var g=h,N=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(N=g.return),h=g.return;while(h)}return g.tag===3?N:null}function Ae(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function wt(h){if(hs(h)!==h)throw Error(r(188))}function Kr(h){var g=h.alternate;if(!g){if(g=hs(h),g===null)throw Error(r(188));return g!==h?null:h}for(var N=h,A=g;;){var D=N.return;if(D===null)break;var z=D.alternate;if(z===null){if(A=D.return,A!==null){N=A;continue}break}if(D.child===z.child){for(z=D.child;z;){if(z===N)return wt(D),h;if(z===A)return wt(D),g;z=z.sibling}throw Error(r(188))}if(N.return!==A.return)N=D,A=z;else{for(var J=!1,de=D.child;de;){if(de===N){J=!0,N=D,A=z;break}if(de===A){J=!0,A=D,N=z;break}de=de.sibling}if(!J){for(de=z.child;de;){if(de===N){J=!0,N=z,A=D;break}if(de===A){J=!0,A=z,N=D;break}de=de.sibling}if(!J)throw Error(r(189))}}if(N.alternate!==A)throw Error(r(190))}if(N.tag!==3)throw Error(r(188));return N.stateNode.current===N?h:g}function ln(h){return h=Kr(h),h!==null?$e(h):null}function $e(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=$e(h);if(g!==null)return g;h=h.sibling}return null}var Mt=t.unstable_scheduleCallback,Er=t.unstable_cancelCallback,Xc=t.unstable_shouldYield,Zt=t.unstable_requestPaint,Gr=t.unstable_now,ay=t.unstable_getCurrentPriorityLevel,wm=t.unstable_ImmediatePriority,xR=t.unstable_UserBlockingPriority,oy=t.unstable_NormalPriority,Cee=t.unstable_LowPriority,bR=t.unstable_IdlePriority,ly=null,Ya=null;function Nee(h){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(ly,h,void 0,(h.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:Oee,Eee=Math.log,kee=Math.LN2;function Oee(h){return h>>>=0,h===0?32:31-(Eee(h)/kee|0)|0}var cy=64,uy=4194304;function _m(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function dy(h,g){var N=h.pendingLanes;if(N===0)return 0;var A=0,D=h.suspendedLanes,z=h.pingedLanes,J=N&268435455;if(J!==0){var de=J&~D;de!==0?A=_m(de):(z&=J,z!==0&&(A=_m(z)))}else J=N&~D,J!==0?A=_m(J):z!==0&&(A=_m(z));if(A===0)return 0;if(g!==0&&g!==A&&(g&D)===0&&(D=A&-A,z=g&-g,D>=z||D===16&&(z&4194240)!==0))return g;if((A&4)!==0&&(A|=N&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=A;0<g;)N=31-la(g),D=1<<N,A|=h[N],g&=~D;return A}function Aee(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tee(h,g){for(var N=h.suspendedLanes,A=h.pingedLanes,D=h.expirationTimes,z=h.pendingLanes;0<z;){var J=31-la(z),de=1<<J,pe=D[J];pe===-1?((de&N)===0||(de&A)!==0)&&(D[J]=Aee(de,g)):pe<=g&&(h.expiredLanes|=de),z&=~de}}function A_(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function wR(){var h=cy;return cy<<=1,(cy&4194240)===0&&(cy=64),h}function T_(h){for(var g=[],N=0;31>N;N++)g.push(h);return g}function Sm(h,g,N){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-la(g),h[g]=N}function Pee(h,g){var N=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<N;){var D=31-la(N),z=1<<D;g[D]=0,A[D]=-1,h[D]=-1,N&=~z}}function P_(h,g){var N=h.entangledLanes|=g;for(h=h.entanglements;N;){var A=31-la(N),D=1<<A;D&g|h[A]&g&&(h[A]|=g),N&=~D}}var _r=0;function _R(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var SR,M_,jR,CR,NR,R_=!1,fy=[],Tl=null,Pl=null,Ml=null,jm=new Map,Cm=new Map,Rl=[],Mee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ER(h,g){switch(h){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":jm.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cm.delete(g.pointerId)}}function Nm(h,g,N,A,D,z){return h===null||h.nativeEvent!==z?(h={blockedOn:g,domEventName:N,eventSystemFlags:A,nativeEvent:z,targetContainers:[D]},g!==null&&(g=qm(g),g!==null&&M_(g)),h):(h.eventSystemFlags|=A,g=h.targetContainers,D!==null&&g.indexOf(D)===-1&&g.push(D),h)}function Ree(h,g,N,A,D){switch(g){case"focusin":return Tl=Nm(Tl,h,g,N,A,D),!0;case"dragenter":return Pl=Nm(Pl,h,g,N,A,D),!0;case"mouseover":return Ml=Nm(Ml,h,g,N,A,D),!0;case"pointerover":var z=D.pointerId;return jm.set(z,Nm(jm.get(z)||null,h,g,N,A,D)),!0;case"gotpointercapture":return z=D.pointerId,Cm.set(z,Nm(Cm.get(z)||null,h,g,N,A,D)),!0}return!1}function kR(h){var g=Zc(h.target);if(g!==null){var N=hs(g);if(N!==null){if(g=N.tag,g===13){if(g=Ae(N),g!==null){h.blockedOn=g,NR(h.priority,function(){jR(N)});return}}else if(g===3&&N.stateNode.current.memoizedState.isDehydrated){h.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}h.blockedOn=null}function hy(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var N=I_(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(N===null){N=h.nativeEvent;var A=new N.constructor(N.type,N);Ze=A,N.target.dispatchEvent(A),Ze=null}else return g=qm(N),g!==null&&M_(g),h.blockedOn=N,!1;g.shift()}return!0}function OR(h,g,N){hy(h)&&N.delete(g)}function Dee(){R_=!1,Tl!==null&&hy(Tl)&&(Tl=null),Pl!==null&&hy(Pl)&&(Pl=null),Ml!==null&&hy(Ml)&&(Ml=null),jm.forEach(OR),Cm.forEach(OR)}function Em(h,g){h.blockedOn===g&&(h.blockedOn=null,R_||(R_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Dee)))}function km(h){function g(D){return Em(D,h)}if(0<fy.length){Em(fy[0],h);for(var N=1;N<fy.length;N++){var A=fy[N];A.blockedOn===h&&(A.blockedOn=null)}}for(Tl!==null&&Em(Tl,h),Pl!==null&&Em(Pl,h),Ml!==null&&Em(Ml,h),jm.forEach(g),Cm.forEach(g),N=0;N<Rl.length;N++)A=Rl[N],A.blockedOn===h&&(A.blockedOn=null);for(;0<Rl.length&&(N=Rl[0],N.blockedOn===null);)kR(N),N.blockedOn===null&&Rl.shift()}var xd=S.ReactCurrentBatchConfig,my=!0;function Iee(h,g,N,A){var D=_r,z=xd.transition;xd.transition=null;try{_r=1,D_(h,g,N,A)}finally{_r=D,xd.transition=z}}function Lee(h,g,N,A){var D=_r,z=xd.transition;xd.transition=null;try{_r=4,D_(h,g,N,A)}finally{_r=D,xd.transition=z}}function D_(h,g,N,A){if(my){var D=I_(h,g,N,A);if(D===null)J_(h,g,A,py,N),ER(h,A);else if(Ree(D,h,g,N,A))A.stopPropagation();else if(ER(h,A),g&4&&-1<Mee.indexOf(h)){for(;D!==null;){var z=qm(D);if(z!==null&&SR(z),z=I_(h,g,N,A),z===null&&J_(h,g,A,py,N),z===D)break;D=z}D!==null&&A.stopPropagation()}else J_(h,g,A,null,N)}}var py=null;function I_(h,g,N,A){if(py=null,h=ft(A),h=Zc(h),h!==null)if(g=hs(h),g===null)h=null;else if(N=g.tag,N===13){if(h=Ae(g),h!==null)return h;h=null}else if(N===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return py=h,null}function AR(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ay()){case wm:return 1;case xR:return 4;case oy:case Cee:return 16;case bR:return 536870912;default:return 16}default:return 16}}var Dl=null,L_=null,gy=null;function TR(){if(gy)return gy;var h,g=L_,N=g.length,A,D="value"in Dl?Dl.value:Dl.textContent,z=D.length;for(h=0;h<N&&g[h]===D[h];h++);var J=N-h;for(A=1;A<=J&&g[N-A]===D[z-A];A++);return gy=D.slice(h,1<A?1-A:void 0)}function vy(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function yy(){return!0}function PR(){return!1}function ms(h){function g(N,A,D,z,J){this._reactName=N,this._targetInst=D,this.type=A,this.nativeEvent=z,this.target=J,this.currentTarget=null;for(var de in h)h.hasOwnProperty(de)&&(N=h[de],this[de]=N?N(z):z[de]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?yy:PR,this.isPropagationStopped=PR,this}return F(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=yy)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=yy)},persist:function(){},isPersistent:yy}),g}var bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$_=ms(bd),Om=F({},bd,{view:0,detail:0}),$ee=ms(Om),F_,q_,Am,xy=F({},Om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z_,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Am&&(Am&&h.type==="mousemove"?(F_=h.screenX-Am.screenX,q_=h.screenY-Am.screenY):q_=F_=0,Am=h),F_)},movementY:function(h){return"movementY"in h?h.movementY:q_}}),MR=ms(xy),Fee=F({},xy,{dataTransfer:0}),qee=ms(Fee),Bee=F({},Om,{relatedTarget:0}),B_=ms(Bee),zee=F({},bd,{animationName:0,elapsedTime:0,pseudoElement:0}),Vee=ms(zee),Uee=F({},bd,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Wee=ms(Uee),Hee=F({},bd,{data:0}),RR=ms(Hee),Kee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qee(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=Yee[h])?!!g[h]:!1}function z_(){return Qee}var Xee=F({},Om,{key:function(h){if(h.key){var g=Kee[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=vy(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Gee[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z_,charCode:function(h){return h.type==="keypress"?vy(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?vy(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Zee=ms(Xee),Jee=F({},xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DR=ms(Jee),ete=F({},Om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z_}),tte=ms(ete),rte=F({},bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),nte=ms(rte),ite=F({},xy,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),ste=ms(ite),ate=[9,13,27,32],V_=l&&"CompositionEvent"in window,Tm=null;l&&"documentMode"in document&&(Tm=document.documentMode);var ote=l&&"TextEvent"in window&&!Tm,IR=l&&(!V_||Tm&&8<Tm&&11>=Tm),LR=" ",$R=!1;function FR(h,g){switch(h){case"keyup":return ate.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qR(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var wd=!1;function lte(h,g){switch(h){case"compositionend":return qR(g);case"keypress":return g.which!==32?null:($R=!0,LR);case"textInput":return h=g.data,h===LR&&$R?null:h;default:return null}}function cte(h,g){if(wd)return h==="compositionend"||!V_&&FR(h,g)?(h=TR(),gy=L_=Dl=null,wd=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return IR&&g.locale!=="ko"?null:g.data;default:return null}}var ute={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BR(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!ute[h.type]:g==="textarea"}function zR(h,g,N,A){Ut(A),g=jy(g,"onChange"),0<g.length&&(N=new $_("onChange","change",null,N,A),h.push({event:N,listeners:g}))}var Pm=null,Mm=null;function dte(h){aD(h,0)}function by(h){var g=Nd(h);if(ce(g))return h}function fte(h,g){if(h==="change")return g}var VR=!1;if(l){var U_;if(l){var W_="oninput"in document;if(!W_){var UR=document.createElement("div");UR.setAttribute("oninput","return;"),W_=typeof UR.oninput=="function"}U_=W_}else U_=!1;VR=U_&&(!document.documentMode||9<document.documentMode)}function WR(){Pm&&(Pm.detachEvent("onpropertychange",HR),Mm=Pm=null)}function HR(h){if(h.propertyName==="value"&&by(Mm)){var g=[];zR(g,Mm,h,ft(h)),Xt(dte,g)}}function hte(h,g,N){h==="focusin"?(WR(),Pm=g,Mm=N,Pm.attachEvent("onpropertychange",HR)):h==="focusout"&&WR()}function mte(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return by(Mm)}function pte(h,g){if(h==="click")return by(g)}function gte(h,g){if(h==="input"||h==="change")return by(g)}function vte(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var ca=typeof Object.is=="function"?Object.is:vte;function Rm(h,g){if(ca(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var N=Object.keys(h),A=Object.keys(g);if(N.length!==A.length)return!1;for(A=0;A<N.length;A++){var D=N[A];if(!c.call(g,D)||!ca(h[D],g[D]))return!1}return!0}function KR(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function GR(h,g){var N=KR(h);h=0;for(var A;N;){if(N.nodeType===3){if(A=h+N.textContent.length,h<=g&&A>=g)return{node:N,offset:g-h};h=A}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=KR(N)}}function YR(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?YR(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function QR(){for(var h=window,g=xe();g instanceof h.HTMLIFrameElement;){try{var N=typeof g.contentWindow.location.href=="string"}catch{N=!1}if(N)h=g.contentWindow;else break;g=xe(h.document)}return g}function H_(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function yte(h){var g=QR(),N=h.focusedElem,A=h.selectionRange;if(g!==N&&N&&N.ownerDocument&&YR(N.ownerDocument.documentElement,N)){if(A!==null&&H_(N)){if(g=A.start,h=A.end,h===void 0&&(h=g),"selectionStart"in N)N.selectionStart=g,N.selectionEnd=Math.min(h,N.value.length);else if(h=(g=N.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var D=N.textContent.length,z=Math.min(A.start,D);A=A.end===void 0?z:Math.min(A.end,D),!h.extend&&z>A&&(D=A,A=z,z=D),D=GR(N,z);var J=GR(N,A);D&&J&&(h.rangeCount!==1||h.anchorNode!==D.node||h.anchorOffset!==D.offset||h.focusNode!==J.node||h.focusOffset!==J.offset)&&(g=g.createRange(),g.setStart(D.node,D.offset),h.removeAllRanges(),z>A?(h.addRange(g),h.extend(J.node,J.offset)):(g.setEnd(J.node,J.offset),h.addRange(g)))}}for(g=[],h=N;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<g.length;N++)h=g[N],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var xte=l&&"documentMode"in document&&11>=document.documentMode,_d=null,K_=null,Dm=null,G_=!1;function XR(h,g,N){var A=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;G_||_d==null||_d!==xe(A)||(A=_d,"selectionStart"in A&&H_(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Dm&&Rm(Dm,A)||(Dm=A,A=jy(K_,"onSelect"),0<A.length&&(g=new $_("onSelect","select",null,g,N),h.push({event:g,listeners:A}),g.target=_d)))}function wy(h,g){var N={};return N[h.toLowerCase()]=g.toLowerCase(),N["Webkit"+h]="webkit"+g,N["Moz"+h]="moz"+g,N}var Sd={animationend:wy("Animation","AnimationEnd"),animationiteration:wy("Animation","AnimationIteration"),animationstart:wy("Animation","AnimationStart"),transitionend:wy("Transition","TransitionEnd")},Y_={},ZR={};l&&(ZR=document.createElement("div").style,"AnimationEvent"in window||(delete Sd.animationend.animation,delete Sd.animationiteration.animation,delete Sd.animationstart.animation),"TransitionEvent"in window||delete Sd.transitionend.transition);function _y(h){if(Y_[h])return Y_[h];if(!Sd[h])return h;var g=Sd[h],N;for(N in g)if(g.hasOwnProperty(N)&&N in ZR)return Y_[h]=g[N];return h}var JR=_y("animationend"),eD=_y("animationiteration"),tD=_y("animationstart"),rD=_y("transitionend"),nD=new Map,iD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Il(h,g){nD.set(h,g),s(g,[h])}for(var Q_=0;Q_<iD.length;Q_++){var X_=iD[Q_],bte=X_.toLowerCase(),wte=X_[0].toUpperCase()+X_.slice(1);Il(bte,"on"+wte)}Il(JR,"onAnimationEnd"),Il(eD,"onAnimationIteration"),Il(tD,"onAnimationStart"),Il("dblclick","onDoubleClick"),Il("focusin","onFocus"),Il("focusout","onBlur"),Il(rD,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Im="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_te=new Set("cancel close invalid load scroll toggle".split(" ").concat(Im));function sD(h,g,N){var A=h.type||"unknown-event";h.currentTarget=N,Qc(A,g,void 0,h),h.currentTarget=null}function aD(h,g){g=(g&4)!==0;for(var N=0;N<h.length;N++){var A=h[N],D=A.event;A=A.listeners;e:{var z=void 0;if(g)for(var J=A.length-1;0<=J;J--){var de=A[J],pe=de.instance,Ee=de.currentTarget;if(de=de.listener,pe!==z&&D.isPropagationStopped())break e;sD(D,de,Ee),z=pe}else for(J=0;J<A.length;J++){if(de=A[J],pe=de.instance,Ee=de.currentTarget,de=de.listener,pe!==z&&D.isPropagationStopped())break e;sD(D,de,Ee),z=pe}}}if(Zn)throw h=fs,Zn=!1,fs=null,h}function Rr(h,g){var N=g[s1];N===void 0&&(N=g[s1]=new Set);var A=h+"__bubble";N.has(A)||(oD(g,h,2,!1),N.add(A))}function Z_(h,g,N){var A=0;g&&(A|=4),oD(N,h,A,g)}var Sy="_reactListening"+Math.random().toString(36).slice(2);function Lm(h){if(!h[Sy]){h[Sy]=!0,n.forEach(function(N){N!=="selectionchange"&&(_te.has(N)||Z_(N,!1,h),Z_(N,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[Sy]||(g[Sy]=!0,Z_("selectionchange",!1,g))}}function oD(h,g,N,A){switch(AR(g)){case 1:var D=Iee;break;case 4:D=Lee;break;default:D=D_}N=D.bind(null,g,N,h),D=void 0,!Cr||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(D=!0),A?D!==void 0?h.addEventListener(g,N,{capture:!0,passive:D}):h.addEventListener(g,N,!0):D!==void 0?h.addEventListener(g,N,{passive:D}):h.addEventListener(g,N,!1)}function J_(h,g,N,A,D){var z=A;if((g&1)===0&&(g&2)===0&&A!==null)e:for(;;){if(A===null)return;var J=A.tag;if(J===3||J===4){var de=A.stateNode.containerInfo;if(de===D||de.nodeType===8&&de.parentNode===D)break;if(J===4)for(J=A.return;J!==null;){var pe=J.tag;if((pe===3||pe===4)&&(pe=J.stateNode.containerInfo,pe===D||pe.nodeType===8&&pe.parentNode===D))return;J=J.return}for(;de!==null;){if(J=Zc(de),J===null)return;if(pe=J.tag,pe===5||pe===6){A=z=J;continue e}de=de.parentNode}}A=A.return}Xt(function(){var Ee=z,Ve=ft(N),Ue=[];e:{var ze=nD.get(h);if(ze!==void 0){var et=$_,lt=h;switch(h){case"keypress":if(vy(N)===0)break e;case"keydown":case"keyup":et=Zee;break;case"focusin":lt="focus",et=B_;break;case"focusout":lt="blur",et=B_;break;case"beforeblur":case"afterblur":et=B_;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=MR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=qee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=tte;break;case JR:case eD:case tD:et=Vee;break;case rD:et=nte;break;case"scroll":et=$ee;break;case"wheel":et=ste;break;case"copy":case"cut":case"paste":et=Wee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=DR}var ut=(g&4)!==0,cn=!ut&&h==="scroll",_e=ut?ze!==null?ze+"Capture":null:ze;ut=[];for(var ye=Ee,Ce;ye!==null;){Ce=ye;var Ke=Ce.stateNode;if(Ce.tag===5&&Ke!==null&&(Ce=Ke,_e!==null&&(Ke=qt(ye,_e),Ke!=null&&ut.push($m(ye,Ke,Ce)))),cn)break;ye=ye.return}0<ut.length&&(ze=new et(ze,lt,null,N,Ve),Ue.push({event:ze,listeners:ut}))}}if((g&7)===0){e:{if(ze=h==="mouseover"||h==="pointerover",et=h==="mouseout"||h==="pointerout",ze&&N!==Ze&&(lt=N.relatedTarget||N.fromElement)&&(Zc(lt)||lt[Mo]))break e;if((et||ze)&&(ze=Ve.window===Ve?Ve:(ze=Ve.ownerDocument)?ze.defaultView||ze.parentWindow:window,et?(lt=N.relatedTarget||N.toElement,et=Ee,lt=lt?Zc(lt):null,lt!==null&&(cn=hs(lt),lt!==cn||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(et=null,lt=Ee),et!==lt)){if(ut=MR,Ke="onMouseLeave",_e="onMouseEnter",ye="mouse",(h==="pointerout"||h==="pointerover")&&(ut=DR,Ke="onPointerLeave",_e="onPointerEnter",ye="pointer"),cn=et==null?ze:Nd(et),Ce=lt==null?ze:Nd(lt),ze=new ut(Ke,ye+"leave",et,N,Ve),ze.target=cn,ze.relatedTarget=Ce,Ke=null,Zc(Ve)===Ee&&(ut=new ut(_e,ye+"enter",lt,N,Ve),ut.target=Ce,ut.relatedTarget=cn,Ke=ut),cn=Ke,et&&lt)t:{for(ut=et,_e=lt,ye=0,Ce=ut;Ce;Ce=jd(Ce))ye++;for(Ce=0,Ke=_e;Ke;Ke=jd(Ke))Ce++;for(;0<ye-Ce;)ut=jd(ut),ye--;for(;0<Ce-ye;)_e=jd(_e),Ce--;for(;ye--;){if(ut===_e||_e!==null&&ut===_e.alternate)break t;ut=jd(ut),_e=jd(_e)}ut=null}else ut=null;et!==null&&lD(Ue,ze,et,ut,!1),lt!==null&&cn!==null&&lD(Ue,cn,lt,ut,!0)}}e:{if(ze=Ee?Nd(Ee):window,et=ze.nodeName&&ze.nodeName.toLowerCase(),et==="select"||et==="input"&&ze.type==="file")var mt=fte;else if(BR(ze))if(VR)mt=gte;else{mt=mte;var _t=hte}else(et=ze.nodeName)&&et.toLowerCase()==="input"&&(ze.type==="checkbox"||ze.type==="radio")&&(mt=pte);if(mt&&(mt=mt(h,Ee))){zR(Ue,mt,N,Ve);break e}_t&&_t(h,ze,Ee),h==="focusout"&&(_t=ze._wrapperState)&&_t.controlled&&ze.type==="number"&&ge(ze,"number",ze.value)}switch(_t=Ee?Nd(Ee):window,h){case"focusin":(BR(_t)||_t.contentEditable==="true")&&(_d=_t,K_=Ee,Dm=null);break;case"focusout":Dm=K_=_d=null;break;case"mousedown":G_=!0;break;case"contextmenu":case"mouseup":case"dragend":G_=!1,XR(Ue,N,Ve);break;case"selectionchange":if(xte)break;case"keydown":case"keyup":XR(Ue,N,Ve)}var St;if(V_)e:{switch(h){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else wd?FR(h,N)&&(Rt="onCompositionEnd"):h==="keydown"&&N.keyCode===229&&(Rt="onCompositionStart");Rt&&(IR&&N.locale!=="ko"&&(wd||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&wd&&(St=TR()):(Dl=Ve,L_="value"in Dl?Dl.value:Dl.textContent,wd=!0)),_t=jy(Ee,Rt),0<_t.length&&(Rt=new RR(Rt,h,null,N,Ve),Ue.push({event:Rt,listeners:_t}),St?Rt.data=St:(St=qR(N),St!==null&&(Rt.data=St)))),(St=ote?lte(h,N):cte(h,N))&&(Ee=jy(Ee,"onBeforeInput"),0<Ee.length&&(Ve=new RR("onBeforeInput","beforeinput",null,N,Ve),Ue.push({event:Ve,listeners:Ee}),Ve.data=St))}aD(Ue,g)})}function $m(h,g,N){return{instance:h,listener:g,currentTarget:N}}function jy(h,g){for(var N=g+"Capture",A=[];h!==null;){var D=h,z=D.stateNode;D.tag===5&&z!==null&&(D=z,z=qt(h,N),z!=null&&A.unshift($m(h,z,D)),z=qt(h,g),z!=null&&A.push($m(h,z,D))),h=h.return}return A}function jd(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function lD(h,g,N,A,D){for(var z=g._reactName,J=[];N!==null&&N!==A;){var de=N,pe=de.alternate,Ee=de.stateNode;if(pe!==null&&pe===A)break;de.tag===5&&Ee!==null&&(de=Ee,D?(pe=qt(N,z),pe!=null&&J.unshift($m(N,pe,de))):D||(pe=qt(N,z),pe!=null&&J.push($m(N,pe,de)))),N=N.return}J.length!==0&&h.push({event:g,listeners:J})}var Ste=/\r\n?/g,jte=/\u0000|\uFFFD/g;function cD(h){return(typeof h=="string"?h:""+h).replace(Ste,`
`).replace(jte,"")}function Cy(h,g,N){if(g=cD(g),cD(h)!==g&&N)throw Error(r(425))}function Ny(){}var e1=null,t1=null;function r1(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var n1=typeof setTimeout=="function"?setTimeout:void 0,Cte=typeof clearTimeout=="function"?clearTimeout:void 0,uD=typeof Promise=="function"?Promise:void 0,Nte=typeof queueMicrotask=="function"?queueMicrotask:typeof uD<"u"?function(h){return uD.resolve(null).then(h).catch(Ete)}:n1;function Ete(h){setTimeout(function(){throw h})}function i1(h,g){var N=g,A=0;do{var D=N.nextSibling;if(h.removeChild(N),D&&D.nodeType===8)if(N=D.data,N==="/$"){if(A===0){h.removeChild(D),km(g);return}A--}else N!=="$"&&N!=="$?"&&N!=="$!"||A++;N=D}while(N);km(g)}function Ll(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function dD(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var N=h.data;if(N==="$"||N==="$!"||N==="$?"){if(g===0)return h;g--}else N==="/$"&&g++}h=h.previousSibling}return null}var Cd=Math.random().toString(36).slice(2),Qa="__reactFiber$"+Cd,Fm="__reactProps$"+Cd,Mo="__reactContainer$"+Cd,s1="__reactEvents$"+Cd,kte="__reactListeners$"+Cd,Ote="__reactHandles$"+Cd;function Zc(h){var g=h[Qa];if(g)return g;for(var N=h.parentNode;N;){if(g=N[Mo]||N[Qa]){if(N=g.alternate,g.child!==null||N!==null&&N.child!==null)for(h=dD(h);h!==null;){if(N=h[Qa])return N;h=dD(h)}return g}h=N,N=h.parentNode}return null}function qm(h){return h=h[Qa]||h[Mo],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Nd(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function Ey(h){return h[Fm]||null}var a1=[],Ed=-1;function $l(h){return{current:h}}function Dr(h){0>Ed||(h.current=a1[Ed],a1[Ed]=null,Ed--)}function Ar(h,g){Ed++,a1[Ed]=h.current,h.current=g}var Fl={},hi=$l(Fl),Ui=$l(!1),Jc=Fl;function kd(h,g){var N=h.type.contextTypes;if(!N)return Fl;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===g)return A.__reactInternalMemoizedMaskedChildContext;var D={},z;for(z in N)D[z]=g[z];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=D),D}function Wi(h){return h=h.childContextTypes,h!=null}function ky(){Dr(Ui),Dr(hi)}function fD(h,g,N){if(hi.current!==Fl)throw Error(r(168));Ar(hi,g),Ar(Ui,N)}function hD(h,g,N){var A=h.stateNode;if(g=g.childContextTypes,typeof A.getChildContext!="function")return N;A=A.getChildContext();for(var D in A)if(!(D in g))throw Error(r(108,G(h)||"Unknown",D));return F({},N,A)}function Oy(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Fl,Jc=hi.current,Ar(hi,h),Ar(Ui,Ui.current),!0}function mD(h,g,N){var A=h.stateNode;if(!A)throw Error(r(169));N?(h=hD(h,g,Jc),A.__reactInternalMemoizedMergedChildContext=h,Dr(Ui),Dr(hi),Ar(hi,h)):Dr(Ui),Ar(Ui,N)}var Ro=null,Ay=!1,o1=!1;function pD(h){Ro===null?Ro=[h]:Ro.push(h)}function Ate(h){Ay=!0,pD(h)}function ql(){if(!o1&&Ro!==null){o1=!0;var h=0,g=_r;try{var N=Ro;for(_r=1;h<N.length;h++){var A=N[h];do A=A(!0);while(A!==null)}Ro=null,Ay=!1}catch(D){throw Ro!==null&&(Ro=Ro.slice(h+1)),Mt(wm,ql),D}finally{_r=g,o1=!1}}return null}var Od=[],Ad=0,Ty=null,Py=0,Ds=[],Is=0,eu=null,Do=1,Io="";function tu(h,g){Od[Ad++]=Py,Od[Ad++]=Ty,Ty=h,Py=g}function gD(h,g,N){Ds[Is++]=Do,Ds[Is++]=Io,Ds[Is++]=eu,eu=h;var A=Do;h=Io;var D=32-la(A)-1;A&=~(1<<D),N+=1;var z=32-la(g)+D;if(30<z){var J=D-D%5;z=(A&(1<<J)-1).toString(32),A>>=J,D-=J,Do=1<<32-la(g)+D|N<<D|A,Io=z+h}else Do=1<<z|N<<D|A,Io=h}function l1(h){h.return!==null&&(tu(h,1),gD(h,1,0))}function c1(h){for(;h===Ty;)Ty=Od[--Ad],Od[Ad]=null,Py=Od[--Ad],Od[Ad]=null;for(;h===eu;)eu=Ds[--Is],Ds[Is]=null,Io=Ds[--Is],Ds[Is]=null,Do=Ds[--Is],Ds[Is]=null}var ps=null,gs=null,Br=!1,ua=null;function vD(h,g){var N=qs(5,null,null,0);N.elementType="DELETED",N.stateNode=g,N.return=h,g=h.deletions,g===null?(h.deletions=[N],h.flags|=16):g.push(N)}function yD(h,g){switch(h.tag){case 5:var N=h.type;return g=g.nodeType!==1||N.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,ps=h,gs=Ll(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,ps=h,gs=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(N=eu!==null?{id:Do,overflow:Io}:null,h.memoizedState={dehydrated:g,treeContext:N,retryLane:1073741824},N=qs(18,null,null,0),N.stateNode=g,N.return=h,h.child=N,ps=h,gs=null,!0):!1;default:return!1}}function u1(h){return(h.mode&1)!==0&&(h.flags&128)===0}function d1(h){if(Br){var g=gs;if(g){var N=g;if(!yD(h,g)){if(u1(h))throw Error(r(418));g=Ll(N.nextSibling);var A=ps;g&&yD(h,g)?vD(A,N):(h.flags=h.flags&-4097|2,Br=!1,ps=h)}}else{if(u1(h))throw Error(r(418));h.flags=h.flags&-4097|2,Br=!1,ps=h}}}function xD(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ps=h}function My(h){if(h!==ps)return!1;if(!Br)return xD(h),Br=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!r1(h.type,h.memoizedProps)),g&&(g=gs)){if(u1(h))throw bD(),Error(r(418));for(;g;)vD(h,g),g=Ll(g.nextSibling)}if(xD(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var N=h.data;if(N==="/$"){if(g===0){gs=Ll(h.nextSibling);break e}g--}else N!=="$"&&N!=="$!"&&N!=="$?"||g++}h=h.nextSibling}gs=null}}else gs=ps?Ll(h.stateNode.nextSibling):null;return!0}function bD(){for(var h=gs;h;)h=Ll(h.nextSibling)}function Td(){gs=ps=null,Br=!1}function f1(h){ua===null?ua=[h]:ua.push(h)}var Tte=S.ReactCurrentBatchConfig;function Bm(h,g,N){if(h=N.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(r(309));var A=N.stateNode}if(!A)throw Error(r(147,h));var D=A,z=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===z?g.ref:(g=function(J){var de=D.refs;J===null?delete de[z]:de[z]=J},g._stringRef=z,g)}if(typeof h!="string")throw Error(r(284));if(!N._owner)throw Error(r(290,h))}return h}function Ry(h,g){throw h=Object.prototype.toString.call(g),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function wD(h){var g=h._init;return g(h._payload)}function _D(h){function g(_e,ye){if(h){var Ce=_e.deletions;Ce===null?(_e.deletions=[ye],_e.flags|=16):Ce.push(ye)}}function N(_e,ye){if(!h)return null;for(;ye!==null;)g(_e,ye),ye=ye.sibling;return null}function A(_e,ye){for(_e=new Map;ye!==null;)ye.key!==null?_e.set(ye.key,ye):_e.set(ye.index,ye),ye=ye.sibling;return _e}function D(_e,ye){return _e=Gl(_e,ye),_e.index=0,_e.sibling=null,_e}function z(_e,ye,Ce){return _e.index=Ce,h?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<ye?(_e.flags|=2,ye):Ce):(_e.flags|=2,ye)):(_e.flags|=1048576,ye)}function J(_e){return h&&_e.alternate===null&&(_e.flags|=2),_e}function de(_e,ye,Ce,Ke){return ye===null||ye.tag!==6?(ye=nS(Ce,_e.mode,Ke),ye.return=_e,ye):(ye=D(ye,Ce),ye.return=_e,ye)}function pe(_e,ye,Ce,Ke){var mt=Ce.type;return mt===k?Ve(_e,ye,Ce.props.children,Ke,Ce.key):ye!==null&&(ye.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===H&&wD(mt)===ye.type)?(Ke=D(ye,Ce.props),Ke.ref=Bm(_e,ye,Ce),Ke.return=_e,Ke):(Ke=ix(Ce.type,Ce.key,Ce.props,null,_e.mode,Ke),Ke.ref=Bm(_e,ye,Ce),Ke.return=_e,Ke)}function Ee(_e,ye,Ce,Ke){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ce.containerInfo||ye.stateNode.implementation!==Ce.implementation?(ye=iS(Ce,_e.mode,Ke),ye.return=_e,ye):(ye=D(ye,Ce.children||[]),ye.return=_e,ye)}function Ve(_e,ye,Ce,Ke,mt){return ye===null||ye.tag!==7?(ye=cu(Ce,_e.mode,Ke,mt),ye.return=_e,ye):(ye=D(ye,Ce),ye.return=_e,ye)}function Ue(_e,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=nS(""+ye,_e.mode,Ce),ye.return=_e,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case C:return Ce=ix(ye.type,ye.key,ye.props,null,_e.mode,Ce),Ce.ref=Bm(_e,null,ye),Ce.return=_e,Ce;case E:return ye=iS(ye,_e.mode,Ce),ye.return=_e,ye;case H:var Ke=ye._init;return Ue(_e,Ke(ye._payload),Ce)}if(X(ye)||W(ye))return ye=cu(ye,_e.mode,Ce,null),ye.return=_e,ye;Ry(_e,ye)}return null}function ze(_e,ye,Ce,Ke){var mt=ye!==null?ye.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return mt!==null?null:de(_e,ye,""+Ce,Ke);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case C:return Ce.key===mt?pe(_e,ye,Ce,Ke):null;case E:return Ce.key===mt?Ee(_e,ye,Ce,Ke):null;case H:return mt=Ce._init,ze(_e,ye,mt(Ce._payload),Ke)}if(X(Ce)||W(Ce))return mt!==null?null:Ve(_e,ye,Ce,Ke,null);Ry(_e,Ce)}return null}function et(_e,ye,Ce,Ke,mt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return _e=_e.get(Ce)||null,de(ye,_e,""+Ke,mt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case C:return _e=_e.get(Ke.key===null?Ce:Ke.key)||null,pe(ye,_e,Ke,mt);case E:return _e=_e.get(Ke.key===null?Ce:Ke.key)||null,Ee(ye,_e,Ke,mt);case H:var _t=Ke._init;return et(_e,ye,Ce,_t(Ke._payload),mt)}if(X(Ke)||W(Ke))return _e=_e.get(Ce)||null,Ve(ye,_e,Ke,mt,null);Ry(ye,Ke)}return null}function lt(_e,ye,Ce,Ke){for(var mt=null,_t=null,St=ye,Rt=ye=0,$n=null;St!==null&&Rt<Ce.length;Rt++){St.index>Rt?($n=St,St=null):$n=St.sibling;var ur=ze(_e,St,Ce[Rt],Ke);if(ur===null){St===null&&(St=$n);break}h&&St&&ur.alternate===null&&g(_e,St),ye=z(ur,ye,Rt),_t===null?mt=ur:_t.sibling=ur,_t=ur,St=$n}if(Rt===Ce.length)return N(_e,St),Br&&tu(_e,Rt),mt;if(St===null){for(;Rt<Ce.length;Rt++)St=Ue(_e,Ce[Rt],Ke),St!==null&&(ye=z(St,ye,Rt),_t===null?mt=St:_t.sibling=St,_t=St);return Br&&tu(_e,Rt),mt}for(St=A(_e,St);Rt<Ce.length;Rt++)$n=et(St,_e,Rt,Ce[Rt],Ke),$n!==null&&(h&&$n.alternate!==null&&St.delete($n.key===null?Rt:$n.key),ye=z($n,ye,Rt),_t===null?mt=$n:_t.sibling=$n,_t=$n);return h&&St.forEach(function(Yl){return g(_e,Yl)}),Br&&tu(_e,Rt),mt}function ut(_e,ye,Ce,Ke){var mt=W(Ce);if(typeof mt!="function")throw Error(r(150));if(Ce=mt.call(Ce),Ce==null)throw Error(r(151));for(var _t=mt=null,St=ye,Rt=ye=0,$n=null,ur=Ce.next();St!==null&&!ur.done;Rt++,ur=Ce.next()){St.index>Rt?($n=St,St=null):$n=St.sibling;var Yl=ze(_e,St,ur.value,Ke);if(Yl===null){St===null&&(St=$n);break}h&&St&&Yl.alternate===null&&g(_e,St),ye=z(Yl,ye,Rt),_t===null?mt=Yl:_t.sibling=Yl,_t=Yl,St=$n}if(ur.done)return N(_e,St),Br&&tu(_e,Rt),mt;if(St===null){for(;!ur.done;Rt++,ur=Ce.next())ur=Ue(_e,ur.value,Ke),ur!==null&&(ye=z(ur,ye,Rt),_t===null?mt=ur:_t.sibling=ur,_t=ur);return Br&&tu(_e,Rt),mt}for(St=A(_e,St);!ur.done;Rt++,ur=Ce.next())ur=et(St,_e,Rt,ur.value,Ke),ur!==null&&(h&&ur.alternate!==null&&St.delete(ur.key===null?Rt:ur.key),ye=z(ur,ye,Rt),_t===null?mt=ur:_t.sibling=ur,_t=ur);return h&&St.forEach(function(ure){return g(_e,ure)}),Br&&tu(_e,Rt),mt}function cn(_e,ye,Ce,Ke){if(typeof Ce=="object"&&Ce!==null&&Ce.type===k&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case C:e:{for(var mt=Ce.key,_t=ye;_t!==null;){if(_t.key===mt){if(mt=Ce.type,mt===k){if(_t.tag===7){N(_e,_t.sibling),ye=D(_t,Ce.props.children),ye.return=_e,_e=ye;break e}}else if(_t.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===H&&wD(mt)===_t.type){N(_e,_t.sibling),ye=D(_t,Ce.props),ye.ref=Bm(_e,_t,Ce),ye.return=_e,_e=ye;break e}N(_e,_t);break}else g(_e,_t);_t=_t.sibling}Ce.type===k?(ye=cu(Ce.props.children,_e.mode,Ke,Ce.key),ye.return=_e,_e=ye):(Ke=ix(Ce.type,Ce.key,Ce.props,null,_e.mode,Ke),Ke.ref=Bm(_e,ye,Ce),Ke.return=_e,_e=Ke)}return J(_e);case E:e:{for(_t=Ce.key;ye!==null;){if(ye.key===_t)if(ye.tag===4&&ye.stateNode.containerInfo===Ce.containerInfo&&ye.stateNode.implementation===Ce.implementation){N(_e,ye.sibling),ye=D(ye,Ce.children||[]),ye.return=_e,_e=ye;break e}else{N(_e,ye);break}else g(_e,ye);ye=ye.sibling}ye=iS(Ce,_e.mode,Ke),ye.return=_e,_e=ye}return J(_e);case H:return _t=Ce._init,cn(_e,ye,_t(Ce._payload),Ke)}if(X(Ce))return lt(_e,ye,Ce,Ke);if(W(Ce))return ut(_e,ye,Ce,Ke);Ry(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,ye!==null&&ye.tag===6?(N(_e,ye.sibling),ye=D(ye,Ce),ye.return=_e,_e=ye):(N(_e,ye),ye=nS(Ce,_e.mode,Ke),ye.return=_e,_e=ye),J(_e)):N(_e,ye)}return cn}var Pd=_D(!0),SD=_D(!1),Dy=$l(null),Iy=null,Md=null,h1=null;function m1(){h1=Md=Iy=null}function p1(h){var g=Dy.current;Dr(Dy),h._currentValue=g}function g1(h,g,N){for(;h!==null;){var A=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,A!==null&&(A.childLanes|=g)):A!==null&&(A.childLanes&g)!==g&&(A.childLanes|=g),h===N)break;h=h.return}}function Rd(h,g){Iy=h,h1=Md=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(Hi=!0),h.firstContext=null)}function Ls(h){var g=h._currentValue;if(h1!==h)if(h={context:h,memoizedValue:g,next:null},Md===null){if(Iy===null)throw Error(r(308));Md=h,Iy.dependencies={lanes:0,firstContext:h}}else Md=Md.next=h;return g}var ru=null;function v1(h){ru===null?ru=[h]:ru.push(h)}function jD(h,g,N,A){var D=g.interleaved;return D===null?(N.next=N,v1(g)):(N.next=D.next,D.next=N),g.interleaved=N,Lo(h,A)}function Lo(h,g){h.lanes|=g;var N=h.alternate;for(N!==null&&(N.lanes|=g),N=h,h=h.return;h!==null;)h.childLanes|=g,N=h.alternate,N!==null&&(N.childLanes|=g),N=h,h=h.return;return N.tag===3?N.stateNode:null}var Bl=!1;function y1(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CD(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function $o(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function zl(h,g,N){var A=h.updateQueue;if(A===null)return null;if(A=A.shared,(ar&2)!==0){var D=A.pending;return D===null?g.next=g:(g.next=D.next,D.next=g),A.pending=g,Lo(h,N)}return D=A.interleaved,D===null?(g.next=g,v1(A)):(g.next=D.next,D.next=g),A.interleaved=g,Lo(h,N)}function Ly(h,g,N){if(g=g.updateQueue,g!==null&&(g=g.shared,(N&4194240)!==0)){var A=g.lanes;A&=h.pendingLanes,N|=A,g.lanes=N,P_(h,N)}}function ND(h,g){var N=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,N===A)){var D=null,z=null;if(N=N.firstBaseUpdate,N!==null){do{var J={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};z===null?D=z=J:z=z.next=J,N=N.next}while(N!==null);z===null?D=z=g:z=z.next=g}else D=z=g;N={baseState:A.baseState,firstBaseUpdate:D,lastBaseUpdate:z,shared:A.shared,effects:A.effects},h.updateQueue=N;return}h=N.lastBaseUpdate,h===null?N.firstBaseUpdate=g:h.next=g,N.lastBaseUpdate=g}function $y(h,g,N,A){var D=h.updateQueue;Bl=!1;var z=D.firstBaseUpdate,J=D.lastBaseUpdate,de=D.shared.pending;if(de!==null){D.shared.pending=null;var pe=de,Ee=pe.next;pe.next=null,J===null?z=Ee:J.next=Ee,J=pe;var Ve=h.alternate;Ve!==null&&(Ve=Ve.updateQueue,de=Ve.lastBaseUpdate,de!==J&&(de===null?Ve.firstBaseUpdate=Ee:de.next=Ee,Ve.lastBaseUpdate=pe))}if(z!==null){var Ue=D.baseState;J=0,Ve=Ee=pe=null,de=z;do{var ze=de.lane,et=de.eventTime;if((A&ze)===ze){Ve!==null&&(Ve=Ve.next={eventTime:et,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var lt=h,ut=de;switch(ze=g,et=N,ut.tag){case 1:if(lt=ut.payload,typeof lt=="function"){Ue=lt.call(et,Ue,ze);break e}Ue=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ut.payload,ze=typeof lt=="function"?lt.call(et,Ue,ze):lt,ze==null)break e;Ue=F({},Ue,ze);break e;case 2:Bl=!0}}de.callback!==null&&de.lane!==0&&(h.flags|=64,ze=D.effects,ze===null?D.effects=[de]:ze.push(de))}else et={eventTime:et,lane:ze,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Ve===null?(Ee=Ve=et,pe=Ue):Ve=Ve.next=et,J|=ze;if(de=de.next,de===null){if(de=D.shared.pending,de===null)break;ze=de,de=ze.next,ze.next=null,D.lastBaseUpdate=ze,D.shared.pending=null}}while(!0);if(Ve===null&&(pe=Ue),D.baseState=pe,D.firstBaseUpdate=Ee,D.lastBaseUpdate=Ve,g=D.shared.interleaved,g!==null){D=g;do J|=D.lane,D=D.next;while(D!==g)}else z===null&&(D.shared.lanes=0);su|=J,h.lanes=J,h.memoizedState=Ue}}function ED(h,g,N){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var A=h[g],D=A.callback;if(D!==null){if(A.callback=null,A=N,typeof D!="function")throw Error(r(191,D));D.call(A)}}}var zm={},Xa=$l(zm),Vm=$l(zm),Um=$l(zm);function nu(h){if(h===zm)throw Error(r(174));return h}function x1(h,g){switch(Ar(Um,g),Ar(Vm,h),Ar(Xa,zm),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:ue(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=ue(g,h)}Dr(Xa),Ar(Xa,g)}function Dd(){Dr(Xa),Dr(Vm),Dr(Um)}function kD(h){nu(Um.current);var g=nu(Xa.current),N=ue(g,h.type);g!==N&&(Ar(Vm,h),Ar(Xa,N))}function b1(h){Vm.current===h&&(Dr(Xa),Dr(Vm))}var Yr=$l(0);function Fy(h){for(var g=h;g!==null;){if(g.tag===13){var N=g.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var w1=[];function _1(){for(var h=0;h<w1.length;h++)w1[h]._workInProgressVersionPrimary=null;w1.length=0}var qy=S.ReactCurrentDispatcher,S1=S.ReactCurrentBatchConfig,iu=0,Qr=null,wn=null,In=null,By=!1,Wm=!1,Hm=0,Pte=0;function mi(){throw Error(r(321))}function j1(h,g){if(g===null)return!1;for(var N=0;N<g.length&&N<h.length;N++)if(!ca(h[N],g[N]))return!1;return!0}function C1(h,g,N,A,D,z){if(iu=z,Qr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,qy.current=h===null||h.memoizedState===null?Ite:Lte,h=N(A,D),Wm){z=0;do{if(Wm=!1,Hm=0,25<=z)throw Error(r(301));z+=1,In=wn=null,g.updateQueue=null,qy.current=$te,h=N(A,D)}while(Wm)}if(qy.current=Uy,g=wn!==null&&wn.next!==null,iu=0,In=wn=Qr=null,By=!1,g)throw Error(r(300));return h}function N1(){var h=Hm!==0;return Hm=0,h}function Za(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Qr.memoizedState=In=h:In=In.next=h,In}function $s(){if(wn===null){var h=Qr.alternate;h=h!==null?h.memoizedState:null}else h=wn.next;var g=In===null?Qr.memoizedState:In.next;if(g!==null)In=g,wn=h;else{if(h===null)throw Error(r(310));wn=h,h={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},In===null?Qr.memoizedState=In=h:In=In.next=h}return In}function Km(h,g){return typeof g=="function"?g(h):g}function E1(h){var g=$s(),N=g.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var A=wn,D=A.baseQueue,z=N.pending;if(z!==null){if(D!==null){var J=D.next;D.next=z.next,z.next=J}A.baseQueue=D=z,N.pending=null}if(D!==null){z=D.next,A=A.baseState;var de=J=null,pe=null,Ee=z;do{var Ve=Ee.lane;if((iu&Ve)===Ve)pe!==null&&(pe=pe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),A=Ee.hasEagerState?Ee.eagerState:h(A,Ee.action);else{var Ue={lane:Ve,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};pe===null?(de=pe=Ue,J=A):pe=pe.next=Ue,Qr.lanes|=Ve,su|=Ve}Ee=Ee.next}while(Ee!==null&&Ee!==z);pe===null?J=A:pe.next=de,ca(A,g.memoizedState)||(Hi=!0),g.memoizedState=A,g.baseState=J,g.baseQueue=pe,N.lastRenderedState=A}if(h=N.interleaved,h!==null){D=h;do z=D.lane,Qr.lanes|=z,su|=z,D=D.next;while(D!==h)}else D===null&&(N.lanes=0);return[g.memoizedState,N.dispatch]}function k1(h){var g=$s(),N=g.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var A=N.dispatch,D=N.pending,z=g.memoizedState;if(D!==null){N.pending=null;var J=D=D.next;do z=h(z,J.action),J=J.next;while(J!==D);ca(z,g.memoizedState)||(Hi=!0),g.memoizedState=z,g.baseQueue===null&&(g.baseState=z),N.lastRenderedState=z}return[z,A]}function OD(){}function AD(h,g){var N=Qr,A=$s(),D=g(),z=!ca(A.memoizedState,D);if(z&&(A.memoizedState=D,Hi=!0),A=A.queue,O1(MD.bind(null,N,A,h),[h]),A.getSnapshot!==g||z||In!==null&&In.memoizedState.tag&1){if(N.flags|=2048,Gm(9,PD.bind(null,N,A,D,g),void 0,null),Ln===null)throw Error(r(349));(iu&30)!==0||TD(N,g,D)}return D}function TD(h,g,N){h.flags|=16384,h={getSnapshot:g,value:N},g=Qr.updateQueue,g===null?(g={lastEffect:null,stores:null},Qr.updateQueue=g,g.stores=[h]):(N=g.stores,N===null?g.stores=[h]:N.push(h))}function PD(h,g,N,A){g.value=N,g.getSnapshot=A,RD(g)&&DD(h)}function MD(h,g,N){return N(function(){RD(g)&&DD(h)})}function RD(h){var g=h.getSnapshot;h=h.value;try{var N=g();return!ca(h,N)}catch{return!0}}function DD(h){var g=Lo(h,1);g!==null&&ma(g,h,1,-1)}function ID(h){var g=Za();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:h},g.queue=h,h=h.dispatch=Dte.bind(null,Qr,h),[g.memoizedState,h]}function Gm(h,g,N,A){return h={tag:h,create:g,destroy:N,deps:A,next:null},g=Qr.updateQueue,g===null?(g={lastEffect:null,stores:null},Qr.updateQueue=g,g.lastEffect=h.next=h):(N=g.lastEffect,N===null?g.lastEffect=h.next=h:(A=N.next,N.next=h,h.next=A,g.lastEffect=h)),h}function LD(){return $s().memoizedState}function zy(h,g,N,A){var D=Za();Qr.flags|=h,D.memoizedState=Gm(1|g,N,void 0,A===void 0?null:A)}function Vy(h,g,N,A){var D=$s();A=A===void 0?null:A;var z=void 0;if(wn!==null){var J=wn.memoizedState;if(z=J.destroy,A!==null&&j1(A,J.deps)){D.memoizedState=Gm(g,N,z,A);return}}Qr.flags|=h,D.memoizedState=Gm(1|g,N,z,A)}function $D(h,g){return zy(8390656,8,h,g)}function O1(h,g){return Vy(2048,8,h,g)}function FD(h,g){return Vy(4,2,h,g)}function qD(h,g){return Vy(4,4,h,g)}function BD(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function zD(h,g,N){return N=N!=null?N.concat([h]):null,Vy(4,4,BD.bind(null,g,h),N)}function A1(){}function VD(h,g){var N=$s();g=g===void 0?null:g;var A=N.memoizedState;return A!==null&&g!==null&&j1(g,A[1])?A[0]:(N.memoizedState=[h,g],h)}function UD(h,g){var N=$s();g=g===void 0?null:g;var A=N.memoizedState;return A!==null&&g!==null&&j1(g,A[1])?A[0]:(h=h(),N.memoizedState=[h,g],h)}function WD(h,g,N){return(iu&21)===0?(h.baseState&&(h.baseState=!1,Hi=!0),h.memoizedState=N):(ca(N,g)||(N=wR(),Qr.lanes|=N,su|=N,h.baseState=!0),g)}function Mte(h,g){var N=_r;_r=N!==0&&4>N?N:4,h(!0);var A=S1.transition;S1.transition={};try{h(!1),g()}finally{_r=N,S1.transition=A}}function HD(){return $s().memoizedState}function Rte(h,g,N){var A=Hl(h);if(N={lane:A,action:N,hasEagerState:!1,eagerState:null,next:null},KD(h))GD(g,N);else if(N=jD(h,g,N,A),N!==null){var D=Ci();ma(N,h,A,D),YD(N,g,A)}}function Dte(h,g,N){var A=Hl(h),D={lane:A,action:N,hasEagerState:!1,eagerState:null,next:null};if(KD(h))GD(g,D);else{var z=h.alternate;if(h.lanes===0&&(z===null||z.lanes===0)&&(z=g.lastRenderedReducer,z!==null))try{var J=g.lastRenderedState,de=z(J,N);if(D.hasEagerState=!0,D.eagerState=de,ca(de,J)){var pe=g.interleaved;pe===null?(D.next=D,v1(g)):(D.next=pe.next,pe.next=D),g.interleaved=D;return}}catch{}finally{}N=jD(h,g,D,A),N!==null&&(D=Ci(),ma(N,h,A,D),YD(N,g,A))}}function KD(h){var g=h.alternate;return h===Qr||g!==null&&g===Qr}function GD(h,g){Wm=By=!0;var N=h.pending;N===null?g.next=g:(g.next=N.next,N.next=g),h.pending=g}function YD(h,g,N){if((N&4194240)!==0){var A=g.lanes;A&=h.pendingLanes,N|=A,g.lanes=N,P_(h,N)}}var Uy={readContext:Ls,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Ite={readContext:Ls,useCallback:function(h,g){return Za().memoizedState=[h,g===void 0?null:g],h},useContext:Ls,useEffect:$D,useImperativeHandle:function(h,g,N){return N=N!=null?N.concat([h]):null,zy(4194308,4,BD.bind(null,g,h),N)},useLayoutEffect:function(h,g){return zy(4194308,4,h,g)},useInsertionEffect:function(h,g){return zy(4,2,h,g)},useMemo:function(h,g){var N=Za();return g=g===void 0?null:g,h=h(),N.memoizedState=[h,g],h},useReducer:function(h,g,N){var A=Za();return g=N!==void 0?N(g):g,A.memoizedState=A.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},A.queue=h,h=h.dispatch=Rte.bind(null,Qr,h),[A.memoizedState,h]},useRef:function(h){var g=Za();return h={current:h},g.memoizedState=h},useState:ID,useDebugValue:A1,useDeferredValue:function(h){return Za().memoizedState=h},useTransition:function(){var h=ID(!1),g=h[0];return h=Mte.bind(null,h[1]),Za().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,N){var A=Qr,D=Za();if(Br){if(N===void 0)throw Error(r(407));N=N()}else{if(N=g(),Ln===null)throw Error(r(349));(iu&30)!==0||TD(A,g,N)}D.memoizedState=N;var z={value:N,getSnapshot:g};return D.queue=z,$D(MD.bind(null,A,z,h),[h]),A.flags|=2048,Gm(9,PD.bind(null,A,z,N,g),void 0,null),N},useId:function(){var h=Za(),g=Ln.identifierPrefix;if(Br){var N=Io,A=Do;N=(A&~(1<<32-la(A)-1)).toString(32)+N,g=":"+g+"R"+N,N=Hm++,0<N&&(g+="H"+N.toString(32)),g+=":"}else N=Pte++,g=":"+g+"r"+N.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},Lte={readContext:Ls,useCallback:VD,useContext:Ls,useEffect:O1,useImperativeHandle:zD,useInsertionEffect:FD,useLayoutEffect:qD,useMemo:UD,useReducer:E1,useRef:LD,useState:function(){return E1(Km)},useDebugValue:A1,useDeferredValue:function(h){var g=$s();return WD(g,wn.memoizedState,h)},useTransition:function(){var h=E1(Km)[0],g=$s().memoizedState;return[h,g]},useMutableSource:OD,useSyncExternalStore:AD,useId:HD,unstable_isNewReconciler:!1},$te={readContext:Ls,useCallback:VD,useContext:Ls,useEffect:O1,useImperativeHandle:zD,useInsertionEffect:FD,useLayoutEffect:qD,useMemo:UD,useReducer:k1,useRef:LD,useState:function(){return k1(Km)},useDebugValue:A1,useDeferredValue:function(h){var g=$s();return wn===null?g.memoizedState=h:WD(g,wn.memoizedState,h)},useTransition:function(){var h=k1(Km)[0],g=$s().memoizedState;return[h,g]},useMutableSource:OD,useSyncExternalStore:AD,useId:HD,unstable_isNewReconciler:!1};function da(h,g){if(h&&h.defaultProps){g=F({},g),h=h.defaultProps;for(var N in h)g[N]===void 0&&(g[N]=h[N]);return g}return g}function T1(h,g,N,A){g=h.memoizedState,N=N(A,g),N=N==null?g:F({},g,N),h.memoizedState=N,h.lanes===0&&(h.updateQueue.baseState=N)}var Wy={isMounted:function(h){return(h=h._reactInternals)?hs(h)===h:!1},enqueueSetState:function(h,g,N){h=h._reactInternals;var A=Ci(),D=Hl(h),z=$o(A,D);z.payload=g,N!=null&&(z.callback=N),g=zl(h,z,D),g!==null&&(ma(g,h,D,A),Ly(g,h,D))},enqueueReplaceState:function(h,g,N){h=h._reactInternals;var A=Ci(),D=Hl(h),z=$o(A,D);z.tag=1,z.payload=g,N!=null&&(z.callback=N),g=zl(h,z,D),g!==null&&(ma(g,h,D,A),Ly(g,h,D))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var N=Ci(),A=Hl(h),D=$o(N,A);D.tag=2,g!=null&&(D.callback=g),g=zl(h,D,A),g!==null&&(ma(g,h,A,N),Ly(g,h,A))}};function QD(h,g,N,A,D,z,J){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,z,J):g.prototype&&g.prototype.isPureReactComponent?!Rm(N,A)||!Rm(D,z):!0}function XD(h,g,N){var A=!1,D=Fl,z=g.contextType;return typeof z=="object"&&z!==null?z=Ls(z):(D=Wi(g)?Jc:hi.current,A=g.contextTypes,z=(A=A!=null)?kd(h,D):Fl),g=new g(N,z),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Wy,h.stateNode=g,g._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=D,h.__reactInternalMemoizedMaskedChildContext=z),g}function ZD(h,g,N,A){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(N,A),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(N,A),g.state!==h&&Wy.enqueueReplaceState(g,g.state,null)}function P1(h,g,N,A){var D=h.stateNode;D.props=N,D.state=h.memoizedState,D.refs={},y1(h);var z=g.contextType;typeof z=="object"&&z!==null?D.context=Ls(z):(z=Wi(g)?Jc:hi.current,D.context=kd(h,z)),D.state=h.memoizedState,z=g.getDerivedStateFromProps,typeof z=="function"&&(T1(h,g,z,N),D.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(g=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),g!==D.state&&Wy.enqueueReplaceState(D,D.state,null),$y(h,N,D,A),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308)}function Id(h,g){try{var N="",A=g;do N+=te(A),A=A.return;while(A);var D=N}catch(z){D=`
Error generating stack: `+z.message+`
`+z.stack}return{value:h,source:g,stack:D,digest:null}}function M1(h,g,N){return{value:h,source:null,stack:N??null,digest:g??null}}function R1(h,g){try{console.error(g.value)}catch(N){setTimeout(function(){throw N})}}var Fte=typeof WeakMap=="function"?WeakMap:Map;function JD(h,g,N){N=$o(-1,N),N.tag=3,N.payload={element:null};var A=g.value;return N.callback=function(){Zy||(Zy=!0,Y1=A),R1(h,g)},N}function eI(h,g,N){N=$o(-1,N),N.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var D=g.value;N.payload=function(){return A(D)},N.callback=function(){R1(h,g)}}var z=h.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(N.callback=function(){R1(h,g),typeof A!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var J=g.stack;this.componentDidCatch(g.value,{componentStack:J!==null?J:""})}),N}function tI(h,g,N){var A=h.pingCache;if(A===null){A=h.pingCache=new Fte;var D=new Set;A.set(g,D)}else D=A.get(g),D===void 0&&(D=new Set,A.set(g,D));D.has(N)||(D.add(N),h=Jte.bind(null,h,g,N),g.then(h,h))}function rI(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function nI(h,g,N,A,D){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(g=$o(-1,1),g.tag=2,zl(N,g,1))),N.lanes|=1),h):(h.flags|=65536,h.lanes=D,h)}var qte=S.ReactCurrentOwner,Hi=!1;function ji(h,g,N,A){g.child=h===null?SD(g,null,N,A):Pd(g,h.child,N,A)}function iI(h,g,N,A,D){N=N.render;var z=g.ref;return Rd(g,D),A=C1(h,g,N,A,z,D),N=N1(),h!==null&&!Hi?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~D,Fo(h,g,D)):(Br&&N&&l1(g),g.flags|=1,ji(h,g,A,D),g.child)}function sI(h,g,N,A,D){if(h===null){var z=N.type;return typeof z=="function"&&!rS(z)&&z.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(g.tag=15,g.type=z,aI(h,g,z,A,D)):(h=ix(N.type,null,A,g,g.mode,D),h.ref=g.ref,h.return=g,g.child=h)}if(z=h.child,(h.lanes&D)===0){var J=z.memoizedProps;if(N=N.compare,N=N!==null?N:Rm,N(J,A)&&h.ref===g.ref)return Fo(h,g,D)}return g.flags|=1,h=Gl(z,A),h.ref=g.ref,h.return=g,g.child=h}function aI(h,g,N,A,D){if(h!==null){var z=h.memoizedProps;if(Rm(z,A)&&h.ref===g.ref)if(Hi=!1,g.pendingProps=A=z,(h.lanes&D)!==0)(h.flags&131072)!==0&&(Hi=!0);else return g.lanes=h.lanes,Fo(h,g,D)}return D1(h,g,N,A,D)}function oI(h,g,N){var A=g.pendingProps,D=A.children,z=h!==null?h.memoizedState:null;if(A.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar($d,vs),vs|=N;else{if((N&1073741824)===0)return h=z!==null?z.baseLanes|N:N,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,Ar($d,vs),vs|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=z!==null?z.baseLanes:N,Ar($d,vs),vs|=A}else z!==null?(A=z.baseLanes|N,g.memoizedState=null):A=N,Ar($d,vs),vs|=A;return ji(h,g,D,N),g.child}function lI(h,g){var N=g.ref;(h===null&&N!==null||h!==null&&h.ref!==N)&&(g.flags|=512,g.flags|=2097152)}function D1(h,g,N,A,D){var z=Wi(N)?Jc:hi.current;return z=kd(g,z),Rd(g,D),N=C1(h,g,N,A,z,D),A=N1(),h!==null&&!Hi?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~D,Fo(h,g,D)):(Br&&A&&l1(g),g.flags|=1,ji(h,g,N,D),g.child)}function cI(h,g,N,A,D){if(Wi(N)){var z=!0;Oy(g)}else z=!1;if(Rd(g,D),g.stateNode===null)Ky(h,g),XD(g,N,A),P1(g,N,A,D),A=!0;else if(h===null){var J=g.stateNode,de=g.memoizedProps;J.props=de;var pe=J.context,Ee=N.contextType;typeof Ee=="object"&&Ee!==null?Ee=Ls(Ee):(Ee=Wi(N)?Jc:hi.current,Ee=kd(g,Ee));var Ve=N.getDerivedStateFromProps,Ue=typeof Ve=="function"||typeof J.getSnapshotBeforeUpdate=="function";Ue||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(de!==A||pe!==Ee)&&ZD(g,J,A,Ee),Bl=!1;var ze=g.memoizedState;J.state=ze,$y(g,A,J,D),pe=g.memoizedState,de!==A||ze!==pe||Ui.current||Bl?(typeof Ve=="function"&&(T1(g,N,Ve,A),pe=g.memoizedState),(de=Bl||QD(g,N,de,A,ze,pe,Ee))?(Ue||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(g.flags|=4194308)):(typeof J.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=A,g.memoizedState=pe),J.props=A,J.state=pe,J.context=Ee,A=de):(typeof J.componentDidMount=="function"&&(g.flags|=4194308),A=!1)}else{J=g.stateNode,CD(h,g),de=g.memoizedProps,Ee=g.type===g.elementType?de:da(g.type,de),J.props=Ee,Ue=g.pendingProps,ze=J.context,pe=N.contextType,typeof pe=="object"&&pe!==null?pe=Ls(pe):(pe=Wi(N)?Jc:hi.current,pe=kd(g,pe));var et=N.getDerivedStateFromProps;(Ve=typeof et=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(de!==Ue||ze!==pe)&&ZD(g,J,A,pe),Bl=!1,ze=g.memoizedState,J.state=ze,$y(g,A,J,D);var lt=g.memoizedState;de!==Ue||ze!==lt||Ui.current||Bl?(typeof et=="function"&&(T1(g,N,et,A),lt=g.memoizedState),(Ee=Bl||QD(g,N,Ee,A,ze,lt,pe)||!1)?(Ve||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(A,lt,pe),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(A,lt,pe)),typeof J.componentDidUpdate=="function"&&(g.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof J.componentDidUpdate!="function"||de===h.memoizedProps&&ze===h.memoizedState||(g.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&ze===h.memoizedState||(g.flags|=1024),g.memoizedProps=A,g.memoizedState=lt),J.props=A,J.state=lt,J.context=pe,A=Ee):(typeof J.componentDidUpdate!="function"||de===h.memoizedProps&&ze===h.memoizedState||(g.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&ze===h.memoizedState||(g.flags|=1024),A=!1)}return I1(h,g,N,A,z,D)}function I1(h,g,N,A,D,z){lI(h,g);var J=(g.flags&128)!==0;if(!A&&!J)return D&&mD(g,N,!1),Fo(h,g,z);A=g.stateNode,qte.current=g;var de=J&&typeof N.getDerivedStateFromError!="function"?null:A.render();return g.flags|=1,h!==null&&J?(g.child=Pd(g,h.child,null,z),g.child=Pd(g,null,de,z)):ji(h,g,de,z),g.memoizedState=A.state,D&&mD(g,N,!0),g.child}function uI(h){var g=h.stateNode;g.pendingContext?fD(h,g.pendingContext,g.pendingContext!==g.context):g.context&&fD(h,g.context,!1),x1(h,g.containerInfo)}function dI(h,g,N,A,D){return Td(),f1(D),g.flags|=256,ji(h,g,N,A),g.child}var L1={dehydrated:null,treeContext:null,retryLane:0};function $1(h){return{baseLanes:h,cachePool:null,transitions:null}}function fI(h,g,N){var A=g.pendingProps,D=Yr.current,z=!1,J=(g.flags&128)!==0,de;if((de=J)||(de=h!==null&&h.memoizedState===null?!1:(D&2)!==0),de?(z=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(D|=1),Ar(Yr,D&1),h===null)return d1(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(J=A.children,h=A.fallback,z?(A=g.mode,z=g.child,J={mode:"hidden",children:J},(A&1)===0&&z!==null?(z.childLanes=0,z.pendingProps=J):z=sx(J,A,0,null),h=cu(h,A,N,null),z.return=g,h.return=g,z.sibling=h,g.child=z,g.child.memoizedState=$1(N),g.memoizedState=L1,h):F1(g,J));if(D=h.memoizedState,D!==null&&(de=D.dehydrated,de!==null))return Bte(h,g,J,A,de,D,N);if(z){z=A.fallback,J=g.mode,D=h.child,de=D.sibling;var pe={mode:"hidden",children:A.children};return(J&1)===0&&g.child!==D?(A=g.child,A.childLanes=0,A.pendingProps=pe,g.deletions=null):(A=Gl(D,pe),A.subtreeFlags=D.subtreeFlags&14680064),de!==null?z=Gl(de,z):(z=cu(z,J,N,null),z.flags|=2),z.return=g,A.return=g,A.sibling=z,g.child=A,A=z,z=g.child,J=h.child.memoizedState,J=J===null?$1(N):{baseLanes:J.baseLanes|N,cachePool:null,transitions:J.transitions},z.memoizedState=J,z.childLanes=h.childLanes&~N,g.memoizedState=L1,A}return z=h.child,h=z.sibling,A=Gl(z,{mode:"visible",children:A.children}),(g.mode&1)===0&&(A.lanes=N),A.return=g,A.sibling=null,h!==null&&(N=g.deletions,N===null?(g.deletions=[h],g.flags|=16):N.push(h)),g.child=A,g.memoizedState=null,A}function F1(h,g){return g=sx({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function Hy(h,g,N,A){return A!==null&&f1(A),Pd(g,h.child,null,N),h=F1(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function Bte(h,g,N,A,D,z,J){if(N)return g.flags&256?(g.flags&=-257,A=M1(Error(r(422))),Hy(h,g,J,A)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):(z=A.fallback,D=g.mode,A=sx({mode:"visible",children:A.children},D,0,null),z=cu(z,D,J,null),z.flags|=2,A.return=g,z.return=g,A.sibling=z,g.child=A,(g.mode&1)!==0&&Pd(g,h.child,null,J),g.child.memoizedState=$1(J),g.memoizedState=L1,z);if((g.mode&1)===0)return Hy(h,g,J,null);if(D.data==="$!"){if(A=D.nextSibling&&D.nextSibling.dataset,A)var de=A.dgst;return A=de,z=Error(r(419)),A=M1(z,A,void 0),Hy(h,g,J,A)}if(de=(J&h.childLanes)!==0,Hi||de){if(A=Ln,A!==null){switch(J&-J){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(A.suspendedLanes|J))!==0?0:D,D!==0&&D!==z.retryLane&&(z.retryLane=D,Lo(h,D),ma(A,h,D,-1))}return tS(),A=M1(Error(r(421))),Hy(h,g,J,A)}return D.data==="$?"?(g.flags|=128,g.child=h.child,g=ere.bind(null,h),D._reactRetry=g,null):(h=z.treeContext,gs=Ll(D.nextSibling),ps=g,Br=!0,ua=null,h!==null&&(Ds[Is++]=Do,Ds[Is++]=Io,Ds[Is++]=eu,Do=h.id,Io=h.overflow,eu=g),g=F1(g,A.children),g.flags|=4096,g)}function hI(h,g,N){h.lanes|=g;var A=h.alternate;A!==null&&(A.lanes|=g),g1(h.return,g,N)}function q1(h,g,N,A,D){var z=h.memoizedState;z===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:A,tail:N,tailMode:D}:(z.isBackwards=g,z.rendering=null,z.renderingStartTime=0,z.last=A,z.tail=N,z.tailMode=D)}function mI(h,g,N){var A=g.pendingProps,D=A.revealOrder,z=A.tail;if(ji(h,g,A.children,N),A=Yr.current,(A&2)!==0)A=A&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&hI(h,N,g);else if(h.tag===19)hI(h,N,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(Ar(Yr,A),(g.mode&1)===0)g.memoizedState=null;else switch(D){case"forwards":for(N=g.child,D=null;N!==null;)h=N.alternate,h!==null&&Fy(h)===null&&(D=N),N=N.sibling;N=D,N===null?(D=g.child,g.child=null):(D=N.sibling,N.sibling=null),q1(g,!1,D,N,z);break;case"backwards":for(N=null,D=g.child,g.child=null;D!==null;){if(h=D.alternate,h!==null&&Fy(h)===null){g.child=D;break}h=D.sibling,D.sibling=N,N=D,D=h}q1(g,!0,N,null,z);break;case"together":q1(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Ky(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function Fo(h,g,N){if(h!==null&&(g.dependencies=h.dependencies),su|=g.lanes,(N&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(r(153));if(g.child!==null){for(h=g.child,N=Gl(h,h.pendingProps),g.child=N,N.return=g;h.sibling!==null;)h=h.sibling,N=N.sibling=Gl(h,h.pendingProps),N.return=g;N.sibling=null}return g.child}function zte(h,g,N){switch(g.tag){case 3:uI(g),Td();break;case 5:kD(g);break;case 1:Wi(g.type)&&Oy(g);break;case 4:x1(g,g.stateNode.containerInfo);break;case 10:var A=g.type._context,D=g.memoizedProps.value;Ar(Dy,A._currentValue),A._currentValue=D;break;case 13:if(A=g.memoizedState,A!==null)return A.dehydrated!==null?(Ar(Yr,Yr.current&1),g.flags|=128,null):(N&g.child.childLanes)!==0?fI(h,g,N):(Ar(Yr,Yr.current&1),h=Fo(h,g,N),h!==null?h.sibling:null);Ar(Yr,Yr.current&1);break;case 19:if(A=(N&g.childLanes)!==0,(h.flags&128)!==0){if(A)return mI(h,g,N);g.flags|=128}if(D=g.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Ar(Yr,Yr.current),A)break;return null;case 22:case 23:return g.lanes=0,oI(h,g,N)}return Fo(h,g,N)}var pI,B1,gI,vI;pI=function(h,g){for(var N=g.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},B1=function(){},gI=function(h,g,N,A){var D=h.memoizedProps;if(D!==A){h=g.stateNode,nu(Xa.current);var z=null;switch(N){case"input":D=be(h,D),A=be(h,A),z=[];break;case"select":D=F({},D,{value:void 0}),A=F({},A,{value:void 0}),z=[];break;case"textarea":D=oe(h,D),A=oe(h,A),z=[];break;default:typeof D.onClick!="function"&&typeof A.onClick=="function"&&(h.onclick=Ny)}jr(N,A);var J;N=null;for(Ee in D)if(!A.hasOwnProperty(Ee)&&D.hasOwnProperty(Ee)&&D[Ee]!=null)if(Ee==="style"){var de=D[Ee];for(J in de)de.hasOwnProperty(J)&&(N||(N={}),N[J]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?z||(z=[]):(z=z||[]).push(Ee,null));for(Ee in A){var pe=A[Ee];if(de=D!=null?D[Ee]:void 0,A.hasOwnProperty(Ee)&&pe!==de&&(pe!=null||de!=null))if(Ee==="style")if(de){for(J in de)!de.hasOwnProperty(J)||pe&&pe.hasOwnProperty(J)||(N||(N={}),N[J]="");for(J in pe)pe.hasOwnProperty(J)&&de[J]!==pe[J]&&(N||(N={}),N[J]=pe[J])}else N||(z||(z=[]),z.push(Ee,N)),N=pe;else Ee==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,de=de?de.__html:void 0,pe!=null&&de!==pe&&(z=z||[]).push(Ee,pe)):Ee==="children"?typeof pe!="string"&&typeof pe!="number"||(z=z||[]).push(Ee,""+pe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(pe!=null&&Ee==="onScroll"&&Rr("scroll",h),z||de===pe||(z=[])):(z=z||[]).push(Ee,pe))}N&&(z=z||[]).push("style",N);var Ee=z;(g.updateQueue=Ee)&&(g.flags|=4)}},vI=function(h,g,N,A){N!==A&&(g.flags|=4)};function Ym(h,g){if(!Br)switch(h.tailMode){case"hidden":g=h.tail;for(var N=null;g!==null;)g.alternate!==null&&(N=g),g=g.sibling;N===null?h.tail=null:N.sibling=null;break;case"collapsed":N=h.tail;for(var A=null;N!==null;)N.alternate!==null&&(A=N),N=N.sibling;A===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function pi(h){var g=h.alternate!==null&&h.alternate.child===h.child,N=0,A=0;if(g)for(var D=h.child;D!==null;)N|=D.lanes|D.childLanes,A|=D.subtreeFlags&14680064,A|=D.flags&14680064,D.return=h,D=D.sibling;else for(D=h.child;D!==null;)N|=D.lanes|D.childLanes,A|=D.subtreeFlags,A|=D.flags,D.return=h,D=D.sibling;return h.subtreeFlags|=A,h.childLanes=N,g}function Vte(h,g,N){var A=g.pendingProps;switch(c1(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(g),null;case 1:return Wi(g.type)&&ky(),pi(g),null;case 3:return A=g.stateNode,Dd(),Dr(Ui),Dr(hi),_1(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(My(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,ua!==null&&(Z1(ua),ua=null))),B1(h,g),pi(g),null;case 5:b1(g);var D=nu(Um.current);if(N=g.type,h!==null&&g.stateNode!=null)gI(h,g,N,A,D),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!A){if(g.stateNode===null)throw Error(r(166));return pi(g),null}if(h=nu(Xa.current),My(g)){A=g.stateNode,N=g.type;var z=g.memoizedProps;switch(A[Qa]=g,A[Fm]=z,h=(g.mode&1)!==0,N){case"dialog":Rr("cancel",A),Rr("close",A);break;case"iframe":case"object":case"embed":Rr("load",A);break;case"video":case"audio":for(D=0;D<Im.length;D++)Rr(Im[D],A);break;case"source":Rr("error",A);break;case"img":case"image":case"link":Rr("error",A),Rr("load",A);break;case"details":Rr("toggle",A);break;case"input":ke(A,z),Rr("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!z.multiple},Rr("invalid",A);break;case"textarea":je(A,z),Rr("invalid",A)}jr(N,z),D=null;for(var J in z)if(z.hasOwnProperty(J)){var de=z[J];J==="children"?typeof de=="string"?A.textContent!==de&&(z.suppressHydrationWarning!==!0&&Cy(A.textContent,de,h),D=["children",de]):typeof de=="number"&&A.textContent!==""+de&&(z.suppressHydrationWarning!==!0&&Cy(A.textContent,de,h),D=["children",""+de]):i.hasOwnProperty(J)&&de!=null&&J==="onScroll"&&Rr("scroll",A)}switch(N){case"input":fe(A),ae(A,z,!0);break;case"textarea":fe(A),he(A);break;case"select":case"option":break;default:typeof z.onClick=="function"&&(A.onclick=Ny)}A=D,g.updateQueue=A,A!==null&&(g.flags|=4)}else{J=D.nodeType===9?D:D.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=we(N)),h==="http://www.w3.org/1999/xhtml"?N==="script"?(h=J.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof A.is=="string"?h=J.createElement(N,{is:A.is}):(h=J.createElement(N),N==="select"&&(J=h,A.multiple?J.multiple=!0:A.size&&(J.size=A.size))):h=J.createElementNS(h,N),h[Qa]=g,h[Fm]=A,pI(h,g,!1,!1),g.stateNode=h;e:{switch(J=Ot(N,A),N){case"dialog":Rr("cancel",h),Rr("close",h),D=A;break;case"iframe":case"object":case"embed":Rr("load",h),D=A;break;case"video":case"audio":for(D=0;D<Im.length;D++)Rr(Im[D],h);D=A;break;case"source":Rr("error",h),D=A;break;case"img":case"image":case"link":Rr("error",h),Rr("load",h),D=A;break;case"details":Rr("toggle",h),D=A;break;case"input":ke(h,A),D=be(h,A),Rr("invalid",h);break;case"option":D=A;break;case"select":h._wrapperState={wasMultiple:!!A.multiple},D=F({},A,{value:void 0}),Rr("invalid",h);break;case"textarea":je(h,A),D=oe(h,A),Rr("invalid",h);break;default:D=A}jr(N,D),de=D;for(z in de)if(de.hasOwnProperty(z)){var pe=de[z];z==="style"?mr(h,pe):z==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&gt(h,pe)):z==="children"?typeof pe=="string"?(N!=="textarea"||pe!=="")&&Se(h,pe):typeof pe=="number"&&Se(h,""+pe):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(i.hasOwnProperty(z)?pe!=null&&z==="onScroll"&&Rr("scroll",h):pe!=null&&j(h,z,pe,J))}switch(N){case"input":fe(h),ae(h,A,!1);break;case"textarea":fe(h),he(h);break;case"option":A.value!=null&&h.setAttribute("value",""+ne(A.value));break;case"select":h.multiple=!!A.multiple,z=A.value,z!=null?ie(h,!!A.multiple,z,!1):A.defaultValue!=null&&ie(h,!!A.multiple,A.defaultValue,!0);break;default:typeof D.onClick=="function"&&(h.onclick=Ny)}switch(N){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return pi(g),null;case 6:if(h&&g.stateNode!=null)vI(h,g,h.memoizedProps,A);else{if(typeof A!="string"&&g.stateNode===null)throw Error(r(166));if(N=nu(Um.current),nu(Xa.current),My(g)){if(A=g.stateNode,N=g.memoizedProps,A[Qa]=g,(z=A.nodeValue!==N)&&(h=ps,h!==null))switch(h.tag){case 3:Cy(A.nodeValue,N,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Cy(A.nodeValue,N,(h.mode&1)!==0)}z&&(g.flags|=4)}else A=(N.nodeType===9?N:N.ownerDocument).createTextNode(A),A[Qa]=g,g.stateNode=A}return pi(g),null;case 13:if(Dr(Yr),A=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Br&&gs!==null&&(g.mode&1)!==0&&(g.flags&128)===0)bD(),Td(),g.flags|=98560,z=!1;else if(z=My(g),A!==null&&A.dehydrated!==null){if(h===null){if(!z)throw Error(r(318));if(z=g.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(r(317));z[Qa]=g}else Td(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;pi(g),z=!1}else ua!==null&&(Z1(ua),ua=null),z=!0;if(!z)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=N,g):(A=A!==null,A!==(h!==null&&h.memoizedState!==null)&&A&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(Yr.current&1)!==0?_n===0&&(_n=3):tS())),g.updateQueue!==null&&(g.flags|=4),pi(g),null);case 4:return Dd(),B1(h,g),h===null&&Lm(g.stateNode.containerInfo),pi(g),null;case 10:return p1(g.type._context),pi(g),null;case 17:return Wi(g.type)&&ky(),pi(g),null;case 19:if(Dr(Yr),z=g.memoizedState,z===null)return pi(g),null;if(A=(g.flags&128)!==0,J=z.rendering,J===null)if(A)Ym(z,!1);else{if(_n!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(J=Fy(h),J!==null){for(g.flags|=128,Ym(z,!1),A=J.updateQueue,A!==null&&(g.updateQueue=A,g.flags|=4),g.subtreeFlags=0,A=N,N=g.child;N!==null;)z=N,h=A,z.flags&=14680066,J=z.alternate,J===null?(z.childLanes=0,z.lanes=h,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=J.childLanes,z.lanes=J.lanes,z.child=J.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=J.memoizedProps,z.memoizedState=J.memoizedState,z.updateQueue=J.updateQueue,z.type=J.type,h=J.dependencies,z.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),N=N.sibling;return Ar(Yr,Yr.current&1|2),g.child}h=h.sibling}z.tail!==null&&Gr()>Fd&&(g.flags|=128,A=!0,Ym(z,!1),g.lanes=4194304)}else{if(!A)if(h=Fy(J),h!==null){if(g.flags|=128,A=!0,N=h.updateQueue,N!==null&&(g.updateQueue=N,g.flags|=4),Ym(z,!0),z.tail===null&&z.tailMode==="hidden"&&!J.alternate&&!Br)return pi(g),null}else 2*Gr()-z.renderingStartTime>Fd&&N!==1073741824&&(g.flags|=128,A=!0,Ym(z,!1),g.lanes=4194304);z.isBackwards?(J.sibling=g.child,g.child=J):(N=z.last,N!==null?N.sibling=J:g.child=J,z.last=J)}return z.tail!==null?(g=z.tail,z.rendering=g,z.tail=g.sibling,z.renderingStartTime=Gr(),g.sibling=null,N=Yr.current,Ar(Yr,A?N&1|2:N&1),g):(pi(g),null);case 22:case 23:return eS(),A=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(g.flags|=8192),A&&(g.mode&1)!==0?(vs&1073741824)!==0&&(pi(g),g.subtreeFlags&6&&(g.flags|=8192)):pi(g),null;case 24:return null;case 25:return null}throw Error(r(156,g.tag))}function Ute(h,g){switch(c1(g),g.tag){case 1:return Wi(g.type)&&ky(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return Dd(),Dr(Ui),Dr(hi),_1(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return b1(g),null;case 13:if(Dr(Yr),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(r(340));Td()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return Dr(Yr),null;case 4:return Dd(),null;case 10:return p1(g.type._context),null;case 22:case 23:return eS(),null;case 24:return null;default:return null}}var Gy=!1,gi=!1,Wte=typeof WeakSet=="function"?WeakSet:Set,it=null;function Ld(h,g){var N=h.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(A){rn(h,g,A)}else N.current=null}function z1(h,g,N){try{N()}catch(A){rn(h,g,A)}}var yI=!1;function Hte(h,g){if(e1=my,h=QR(),H_(h)){if("selectionStart"in h)var N={start:h.selectionStart,end:h.selectionEnd};else e:{N=(N=h.ownerDocument)&&N.defaultView||window;var A=N.getSelection&&N.getSelection();if(A&&A.rangeCount!==0){N=A.anchorNode;var D=A.anchorOffset,z=A.focusNode;A=A.focusOffset;try{N.nodeType,z.nodeType}catch{N=null;break e}var J=0,de=-1,pe=-1,Ee=0,Ve=0,Ue=h,ze=null;t:for(;;){for(var et;Ue!==N||D!==0&&Ue.nodeType!==3||(de=J+D),Ue!==z||A!==0&&Ue.nodeType!==3||(pe=J+A),Ue.nodeType===3&&(J+=Ue.nodeValue.length),(et=Ue.firstChild)!==null;)ze=Ue,Ue=et;for(;;){if(Ue===h)break t;if(ze===N&&++Ee===D&&(de=J),ze===z&&++Ve===A&&(pe=J),(et=Ue.nextSibling)!==null)break;Ue=ze,ze=Ue.parentNode}Ue=et}N=de===-1||pe===-1?null:{start:de,end:pe}}else N=null}N=N||{start:0,end:0}}else N=null;for(t1={focusedElem:h,selectionRange:N},my=!1,it=g;it!==null;)if(g=it,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,it=h;else for(;it!==null;){g=it;try{var lt=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ut=lt.memoizedProps,cn=lt.memoizedState,_e=g.stateNode,ye=_e.getSnapshotBeforeUpdate(g.elementType===g.type?ut:da(g.type,ut),cn);_e.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Ce=g.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){rn(g,g.return,Ke)}if(h=g.sibling,h!==null){h.return=g.return,it=h;break}it=g.return}return lt=yI,yI=!1,lt}function Qm(h,g,N){var A=g.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var D=A=A.next;do{if((D.tag&h)===h){var z=D.destroy;D.destroy=void 0,z!==void 0&&z1(g,N,z)}D=D.next}while(D!==A)}}function Yy(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&h)===h){var A=N.create;N.destroy=A()}N=N.next}while(N!==g)}}function V1(h){var g=h.ref;if(g!==null){var N=h.stateNode;switch(h.tag){case 5:h=N;break;default:h=N}typeof g=="function"?g(h):g.current=h}}function xI(h){var g=h.alternate;g!==null&&(h.alternate=null,xI(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[Qa],delete g[Fm],delete g[s1],delete g[kte],delete g[Ote])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function bI(h){return h.tag===5||h.tag===3||h.tag===4}function wI(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||bI(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function U1(h,g,N){var A=h.tag;if(A===5||A===6)h=h.stateNode,g?N.nodeType===8?N.parentNode.insertBefore(h,g):N.insertBefore(h,g):(N.nodeType===8?(g=N.parentNode,g.insertBefore(h,N)):(g=N,g.appendChild(h)),N=N._reactRootContainer,N!=null||g.onclick!==null||(g.onclick=Ny));else if(A!==4&&(h=h.child,h!==null))for(U1(h,g,N),h=h.sibling;h!==null;)U1(h,g,N),h=h.sibling}function W1(h,g,N){var A=h.tag;if(A===5||A===6)h=h.stateNode,g?N.insertBefore(h,g):N.appendChild(h);else if(A!==4&&(h=h.child,h!==null))for(W1(h,g,N),h=h.sibling;h!==null;)W1(h,g,N),h=h.sibling}var Jn=null,fa=!1;function Vl(h,g,N){for(N=N.child;N!==null;)_I(h,g,N),N=N.sibling}function _I(h,g,N){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(ly,N)}catch{}switch(N.tag){case 5:gi||Ld(N,g);case 6:var A=Jn,D=fa;Jn=null,Vl(h,g,N),Jn=A,fa=D,Jn!==null&&(fa?(h=Jn,N=N.stateNode,h.nodeType===8?h.parentNode.removeChild(N):h.removeChild(N)):Jn.removeChild(N.stateNode));break;case 18:Jn!==null&&(fa?(h=Jn,N=N.stateNode,h.nodeType===8?i1(h.parentNode,N):h.nodeType===1&&i1(h,N),km(h)):i1(Jn,N.stateNode));break;case 4:A=Jn,D=fa,Jn=N.stateNode.containerInfo,fa=!0,Vl(h,g,N),Jn=A,fa=D;break;case 0:case 11:case 14:case 15:if(!gi&&(A=N.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){D=A=A.next;do{var z=D,J=z.destroy;z=z.tag,J!==void 0&&((z&2)!==0||(z&4)!==0)&&z1(N,g,J),D=D.next}while(D!==A)}Vl(h,g,N);break;case 1:if(!gi&&(Ld(N,g),A=N.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=N.memoizedProps,A.state=N.memoizedState,A.componentWillUnmount()}catch(de){rn(N,g,de)}Vl(h,g,N);break;case 21:Vl(h,g,N);break;case 22:N.mode&1?(gi=(A=gi)||N.memoizedState!==null,Vl(h,g,N),gi=A):Vl(h,g,N);break;default:Vl(h,g,N)}}function SI(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var N=h.stateNode;N===null&&(N=h.stateNode=new Wte),g.forEach(function(A){var D=tre.bind(null,h,A);N.has(A)||(N.add(A),A.then(D,D))})}}function ha(h,g){var N=g.deletions;if(N!==null)for(var A=0;A<N.length;A++){var D=N[A];try{var z=h,J=g,de=J;e:for(;de!==null;){switch(de.tag){case 5:Jn=de.stateNode,fa=!1;break e;case 3:Jn=de.stateNode.containerInfo,fa=!0;break e;case 4:Jn=de.stateNode.containerInfo,fa=!0;break e}de=de.return}if(Jn===null)throw Error(r(160));_I(z,J,D),Jn=null,fa=!1;var pe=D.alternate;pe!==null&&(pe.return=null),D.return=null}catch(Ee){rn(D,g,Ee)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)jI(g,h),g=g.sibling}function jI(h,g){var N=h.alternate,A=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(ha(g,h),Ja(h),A&4){try{Qm(3,h,h.return),Yy(3,h)}catch(ut){rn(h,h.return,ut)}try{Qm(5,h,h.return)}catch(ut){rn(h,h.return,ut)}}break;case 1:ha(g,h),Ja(h),A&512&&N!==null&&Ld(N,N.return);break;case 5:if(ha(g,h),Ja(h),A&512&&N!==null&&Ld(N,N.return),h.flags&32){var D=h.stateNode;try{Se(D,"")}catch(ut){rn(h,h.return,ut)}}if(A&4&&(D=h.stateNode,D!=null)){var z=h.memoizedProps,J=N!==null?N.memoizedProps:z,de=h.type,pe=h.updateQueue;if(h.updateQueue=null,pe!==null)try{de==="input"&&z.type==="radio"&&z.name!=null&&Te(D,z),Ot(de,J);var Ee=Ot(de,z);for(J=0;J<pe.length;J+=2){var Ve=pe[J],Ue=pe[J+1];Ve==="style"?mr(D,Ue):Ve==="dangerouslySetInnerHTML"?gt(D,Ue):Ve==="children"?Se(D,Ue):j(D,Ve,Ue,Ee)}switch(de){case"input":De(D,z);break;case"textarea":le(D,z);break;case"select":var ze=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!z.multiple;var et=z.value;et!=null?ie(D,!!z.multiple,et,!1):ze!==!!z.multiple&&(z.defaultValue!=null?ie(D,!!z.multiple,z.defaultValue,!0):ie(D,!!z.multiple,z.multiple?[]:"",!1))}D[Fm]=z}catch(ut){rn(h,h.return,ut)}}break;case 6:if(ha(g,h),Ja(h),A&4){if(h.stateNode===null)throw Error(r(162));D=h.stateNode,z=h.memoizedProps;try{D.nodeValue=z}catch(ut){rn(h,h.return,ut)}}break;case 3:if(ha(g,h),Ja(h),A&4&&N!==null&&N.memoizedState.isDehydrated)try{km(g.containerInfo)}catch(ut){rn(h,h.return,ut)}break;case 4:ha(g,h),Ja(h);break;case 13:ha(g,h),Ja(h),D=h.child,D.flags&8192&&(z=D.memoizedState!==null,D.stateNode.isHidden=z,!z||D.alternate!==null&&D.alternate.memoizedState!==null||(G1=Gr())),A&4&&SI(h);break;case 22:if(Ve=N!==null&&N.memoizedState!==null,h.mode&1?(gi=(Ee=gi)||Ve,ha(g,h),gi=Ee):ha(g,h),Ja(h),A&8192){if(Ee=h.memoizedState!==null,(h.stateNode.isHidden=Ee)&&!Ve&&(h.mode&1)!==0)for(it=h,Ve=h.child;Ve!==null;){for(Ue=it=Ve;it!==null;){switch(ze=it,et=ze.child,ze.tag){case 0:case 11:case 14:case 15:Qm(4,ze,ze.return);break;case 1:Ld(ze,ze.return);var lt=ze.stateNode;if(typeof lt.componentWillUnmount=="function"){A=ze,N=ze.return;try{g=A,lt.props=g.memoizedProps,lt.state=g.memoizedState,lt.componentWillUnmount()}catch(ut){rn(A,N,ut)}}break;case 5:Ld(ze,ze.return);break;case 22:if(ze.memoizedState!==null){EI(Ue);continue}}et!==null?(et.return=ze,it=et):EI(Ue)}Ve=Ve.sibling}e:for(Ve=null,Ue=h;;){if(Ue.tag===5){if(Ve===null){Ve=Ue;try{D=Ue.stateNode,Ee?(z=D.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none"):(de=Ue.stateNode,pe=Ue.memoizedProps.style,J=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,de.style.display=vt("display",J))}catch(ut){rn(h,h.return,ut)}}}else if(Ue.tag===6){if(Ve===null)try{Ue.stateNode.nodeValue=Ee?"":Ue.memoizedProps}catch(ut){rn(h,h.return,ut)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===h)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===h)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===h)break e;Ve===Ue&&(Ve=null),Ue=Ue.return}Ve===Ue&&(Ve=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}break;case 19:ha(g,h),Ja(h),A&4&&SI(h);break;case 21:break;default:ha(g,h),Ja(h)}}function Ja(h){var g=h.flags;if(g&2){try{e:{for(var N=h.return;N!==null;){if(bI(N)){var A=N;break e}N=N.return}throw Error(r(160))}switch(A.tag){case 5:var D=A.stateNode;A.flags&32&&(Se(D,""),A.flags&=-33);var z=wI(h);W1(h,z,D);break;case 3:case 4:var J=A.stateNode.containerInfo,de=wI(h);U1(h,de,J);break;default:throw Error(r(161))}}catch(pe){rn(h,h.return,pe)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function Kte(h,g,N){it=h,CI(h)}function CI(h,g,N){for(var A=(h.mode&1)!==0;it!==null;){var D=it,z=D.child;if(D.tag===22&&A){var J=D.memoizedState!==null||Gy;if(!J){var de=D.alternate,pe=de!==null&&de.memoizedState!==null||gi;de=Gy;var Ee=gi;if(Gy=J,(gi=pe)&&!Ee)for(it=D;it!==null;)J=it,pe=J.child,J.tag===22&&J.memoizedState!==null?kI(D):pe!==null?(pe.return=J,it=pe):kI(D);for(;z!==null;)it=z,CI(z),z=z.sibling;it=D,Gy=de,gi=Ee}NI(h)}else(D.subtreeFlags&8772)!==0&&z!==null?(z.return=D,it=z):NI(h)}}function NI(h){for(;it!==null;){var g=it;if((g.flags&8772)!==0){var N=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:gi||Yy(5,g);break;case 1:var A=g.stateNode;if(g.flags&4&&!gi)if(N===null)A.componentDidMount();else{var D=g.elementType===g.type?N.memoizedProps:da(g.type,N.memoizedProps);A.componentDidUpdate(D,N.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var z=g.updateQueue;z!==null&&ED(g,z,A);break;case 3:var J=g.updateQueue;if(J!==null){if(N=null,g.child!==null)switch(g.child.tag){case 5:N=g.child.stateNode;break;case 1:N=g.child.stateNode}ED(g,J,N)}break;case 5:var de=g.stateNode;if(N===null&&g.flags&4){N=de;var pe=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&N.focus();break;case"img":pe.src&&(N.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ee=g.alternate;if(Ee!==null){var Ve=Ee.memoizedState;if(Ve!==null){var Ue=Ve.dehydrated;Ue!==null&&km(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}gi||g.flags&512&&V1(g)}catch(ze){rn(g,g.return,ze)}}if(g===h){it=null;break}if(N=g.sibling,N!==null){N.return=g.return,it=N;break}it=g.return}}function EI(h){for(;it!==null;){var g=it;if(g===h){it=null;break}var N=g.sibling;if(N!==null){N.return=g.return,it=N;break}it=g.return}}function kI(h){for(;it!==null;){var g=it;try{switch(g.tag){case 0:case 11:case 15:var N=g.return;try{Yy(4,g)}catch(pe){rn(g,N,pe)}break;case 1:var A=g.stateNode;if(typeof A.componentDidMount=="function"){var D=g.return;try{A.componentDidMount()}catch(pe){rn(g,D,pe)}}var z=g.return;try{V1(g)}catch(pe){rn(g,z,pe)}break;case 5:var J=g.return;try{V1(g)}catch(pe){rn(g,J,pe)}}}catch(pe){rn(g,g.return,pe)}if(g===h){it=null;break}var de=g.sibling;if(de!==null){de.return=g.return,it=de;break}it=g.return}}var Gte=Math.ceil,Qy=S.ReactCurrentDispatcher,H1=S.ReactCurrentOwner,Fs=S.ReactCurrentBatchConfig,ar=0,Ln=null,gn=null,ei=0,vs=0,$d=$l(0),_n=0,Xm=null,su=0,Xy=0,K1=0,Zm=null,Ki=null,G1=0,Fd=1/0,qo=null,Zy=!1,Y1=null,Ul=null,Jy=!1,Wl=null,ex=0,Jm=0,Q1=null,tx=-1,rx=0;function Ci(){return(ar&6)!==0?Gr():tx!==-1?tx:tx=Gr()}function Hl(h){return(h.mode&1)===0?1:(ar&2)!==0&&ei!==0?ei&-ei:Tte.transition!==null?(rx===0&&(rx=wR()),rx):(h=_r,h!==0||(h=window.event,h=h===void 0?16:AR(h.type)),h)}function ma(h,g,N,A){if(50<Jm)throw Jm=0,Q1=null,Error(r(185));Sm(h,N,A),((ar&2)===0||h!==Ln)&&(h===Ln&&((ar&2)===0&&(Xy|=N),_n===4&&Kl(h,ei)),Gi(h,A),N===1&&ar===0&&(g.mode&1)===0&&(Fd=Gr()+500,Ay&&ql()))}function Gi(h,g){var N=h.callbackNode;Tee(h,g);var A=dy(h,h===Ln?ei:0);if(A===0)N!==null&&Er(N),h.callbackNode=null,h.callbackPriority=0;else if(g=A&-A,h.callbackPriority!==g){if(N!=null&&Er(N),g===1)h.tag===0?Ate(AI.bind(null,h)):pD(AI.bind(null,h)),Nte(function(){(ar&6)===0&&ql()}),N=null;else{switch(_R(A)){case 1:N=wm;break;case 4:N=xR;break;case 16:N=oy;break;case 536870912:N=bR;break;default:N=oy}N=$I(N,OI.bind(null,h))}h.callbackPriority=g,h.callbackNode=N}}function OI(h,g){if(tx=-1,rx=0,(ar&6)!==0)throw Error(r(327));var N=h.callbackNode;if(qd()&&h.callbackNode!==N)return null;var A=dy(h,h===Ln?ei:0);if(A===0)return null;if((A&30)!==0||(A&h.expiredLanes)!==0||g)g=nx(h,A);else{g=A;var D=ar;ar|=2;var z=PI();(Ln!==h||ei!==g)&&(qo=null,Fd=Gr()+500,ou(h,g));do try{Xte();break}catch(de){TI(h,de)}while(!0);m1(),Qy.current=z,ar=D,gn!==null?g=0:(Ln=null,ei=0,g=_n)}if(g!==0){if(g===2&&(D=A_(h),D!==0&&(A=D,g=X1(h,D))),g===1)throw N=Xm,ou(h,0),Kl(h,A),Gi(h,Gr()),N;if(g===6)Kl(h,A);else{if(D=h.current.alternate,(A&30)===0&&!Yte(D)&&(g=nx(h,A),g===2&&(z=A_(h),z!==0&&(A=z,g=X1(h,z))),g===1))throw N=Xm,ou(h,0),Kl(h,A),Gi(h,Gr()),N;switch(h.finishedWork=D,h.finishedLanes=A,g){case 0:case 1:throw Error(r(345));case 2:lu(h,Ki,qo);break;case 3:if(Kl(h,A),(A&130023424)===A&&(g=G1+500-Gr(),10<g)){if(dy(h,0)!==0)break;if(D=h.suspendedLanes,(D&A)!==A){Ci(),h.pingedLanes|=h.suspendedLanes&D;break}h.timeoutHandle=n1(lu.bind(null,h,Ki,qo),g);break}lu(h,Ki,qo);break;case 4:if(Kl(h,A),(A&4194240)===A)break;for(g=h.eventTimes,D=-1;0<A;){var J=31-la(A);z=1<<J,J=g[J],J>D&&(D=J),A&=~z}if(A=D,A=Gr()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*Gte(A/1960))-A,10<A){h.timeoutHandle=n1(lu.bind(null,h,Ki,qo),A);break}lu(h,Ki,qo);break;case 5:lu(h,Ki,qo);break;default:throw Error(r(329))}}}return Gi(h,Gr()),h.callbackNode===N?OI.bind(null,h):null}function X1(h,g){var N=Zm;return h.current.memoizedState.isDehydrated&&(ou(h,g).flags|=256),h=nx(h,g),h!==2&&(g=Ki,Ki=N,g!==null&&Z1(g)),h}function Z1(h){Ki===null?Ki=h:Ki.push.apply(Ki,h)}function Yte(h){for(var g=h;;){if(g.flags&16384){var N=g.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var A=0;A<N.length;A++){var D=N[A],z=D.getSnapshot;D=D.value;try{if(!ca(z(),D))return!1}catch{return!1}}}if(N=g.child,g.subtreeFlags&16384&&N!==null)N.return=g,g=N;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Kl(h,g){for(g&=~K1,g&=~Xy,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var N=31-la(g),A=1<<N;h[N]=-1,g&=~A}}function AI(h){if((ar&6)!==0)throw Error(r(327));qd();var g=dy(h,0);if((g&1)===0)return Gi(h,Gr()),null;var N=nx(h,g);if(h.tag!==0&&N===2){var A=A_(h);A!==0&&(g=A,N=X1(h,A))}if(N===1)throw N=Xm,ou(h,0),Kl(h,g),Gi(h,Gr()),N;if(N===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,lu(h,Ki,qo),Gi(h,Gr()),null}function J1(h,g){var N=ar;ar|=1;try{return h(g)}finally{ar=N,ar===0&&(Fd=Gr()+500,Ay&&ql())}}function au(h){Wl!==null&&Wl.tag===0&&(ar&6)===0&&qd();var g=ar;ar|=1;var N=Fs.transition,A=_r;try{if(Fs.transition=null,_r=1,h)return h()}finally{_r=A,Fs.transition=N,ar=g,(ar&6)===0&&ql()}}function eS(){vs=$d.current,Dr($d)}function ou(h,g){h.finishedWork=null,h.finishedLanes=0;var N=h.timeoutHandle;if(N!==-1&&(h.timeoutHandle=-1,Cte(N)),gn!==null)for(N=gn.return;N!==null;){var A=N;switch(c1(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&ky();break;case 3:Dd(),Dr(Ui),Dr(hi),_1();break;case 5:b1(A);break;case 4:Dd();break;case 13:Dr(Yr);break;case 19:Dr(Yr);break;case 10:p1(A.type._context);break;case 22:case 23:eS()}N=N.return}if(Ln=h,gn=h=Gl(h.current,null),ei=vs=g,_n=0,Xm=null,K1=Xy=su=0,Ki=Zm=null,ru!==null){for(g=0;g<ru.length;g++)if(N=ru[g],A=N.interleaved,A!==null){N.interleaved=null;var D=A.next,z=N.pending;if(z!==null){var J=z.next;z.next=D,A.next=J}N.pending=A}ru=null}return h}function TI(h,g){do{var N=gn;try{if(m1(),qy.current=Uy,By){for(var A=Qr.memoizedState;A!==null;){var D=A.queue;D!==null&&(D.pending=null),A=A.next}By=!1}if(iu=0,In=wn=Qr=null,Wm=!1,Hm=0,H1.current=null,N===null||N.return===null){_n=1,Xm=g,gn=null;break}e:{var z=h,J=N.return,de=N,pe=g;if(g=ei,de.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ee=pe,Ve=de,Ue=Ve.tag;if((Ve.mode&1)===0&&(Ue===0||Ue===11||Ue===15)){var ze=Ve.alternate;ze?(Ve.updateQueue=ze.updateQueue,Ve.memoizedState=ze.memoizedState,Ve.lanes=ze.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var et=rI(J);if(et!==null){et.flags&=-257,nI(et,J,de,z,g),et.mode&1&&tI(z,Ee,g),g=et,pe=Ee;var lt=g.updateQueue;if(lt===null){var ut=new Set;ut.add(pe),g.updateQueue=ut}else lt.add(pe);break e}else{if((g&1)===0){tI(z,Ee,g),tS();break e}pe=Error(r(426))}}else if(Br&&de.mode&1){var cn=rI(J);if(cn!==null){(cn.flags&65536)===0&&(cn.flags|=256),nI(cn,J,de,z,g),f1(Id(pe,de));break e}}z=pe=Id(pe,de),_n!==4&&(_n=2),Zm===null?Zm=[z]:Zm.push(z),z=J;do{switch(z.tag){case 3:z.flags|=65536,g&=-g,z.lanes|=g;var _e=JD(z,pe,g);ND(z,_e);break e;case 1:de=pe;var ye=z.type,Ce=z.stateNode;if((z.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(Ul===null||!Ul.has(Ce)))){z.flags|=65536,g&=-g,z.lanes|=g;var Ke=eI(z,de,g);ND(z,Ke);break e}}z=z.return}while(z!==null)}RI(N)}catch(mt){g=mt,gn===N&&N!==null&&(gn=N=N.return);continue}break}while(!0)}function PI(){var h=Qy.current;return Qy.current=Uy,h===null?Uy:h}function tS(){(_n===0||_n===3||_n===2)&&(_n=4),Ln===null||(su&268435455)===0&&(Xy&268435455)===0||Kl(Ln,ei)}function nx(h,g){var N=ar;ar|=2;var A=PI();(Ln!==h||ei!==g)&&(qo=null,ou(h,g));do try{Qte();break}catch(D){TI(h,D)}while(!0);if(m1(),ar=N,Qy.current=A,gn!==null)throw Error(r(261));return Ln=null,ei=0,_n}function Qte(){for(;gn!==null;)MI(gn)}function Xte(){for(;gn!==null&&!Xc();)MI(gn)}function MI(h){var g=LI(h.alternate,h,vs);h.memoizedProps=h.pendingProps,g===null?RI(h):gn=g,H1.current=null}function RI(h){var g=h;do{var N=g.alternate;if(h=g.return,(g.flags&32768)===0){if(N=Vte(N,g,vs),N!==null){gn=N;return}}else{if(N=Ute(N,g),N!==null){N.flags&=32767,gn=N;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{_n=6,gn=null;return}}if(g=g.sibling,g!==null){gn=g;return}gn=g=h}while(g!==null);_n===0&&(_n=5)}function lu(h,g,N){var A=_r,D=Fs.transition;try{Fs.transition=null,_r=1,Zte(h,g,N,A)}finally{Fs.transition=D,_r=A}return null}function Zte(h,g,N,A){do qd();while(Wl!==null);if((ar&6)!==0)throw Error(r(327));N=h.finishedWork;var D=h.finishedLanes;if(N===null)return null;if(h.finishedWork=null,h.finishedLanes=0,N===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var z=N.lanes|N.childLanes;if(Pee(h,z),h===Ln&&(gn=Ln=null,ei=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||Jy||(Jy=!0,$I(oy,function(){return qd(),null})),z=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||z){z=Fs.transition,Fs.transition=null;var J=_r;_r=1;var de=ar;ar|=4,H1.current=null,Hte(h,N),jI(N,h),yte(t1),my=!!e1,t1=e1=null,h.current=N,Kte(N),Zt(),ar=de,_r=J,Fs.transition=z}else h.current=N;if(Jy&&(Jy=!1,Wl=h,ex=D),z=h.pendingLanes,z===0&&(Ul=null),Nee(N.stateNode),Gi(h,Gr()),g!==null)for(A=h.onRecoverableError,N=0;N<g.length;N++)D=g[N],A(D.value,{componentStack:D.stack,digest:D.digest});if(Zy)throw Zy=!1,h=Y1,Y1=null,h;return(ex&1)!==0&&h.tag!==0&&qd(),z=h.pendingLanes,(z&1)!==0?h===Q1?Jm++:(Jm=0,Q1=h):Jm=0,ql(),null}function qd(){if(Wl!==null){var h=_R(ex),g=Fs.transition,N=_r;try{if(Fs.transition=null,_r=16>h?16:h,Wl===null)var A=!1;else{if(h=Wl,Wl=null,ex=0,(ar&6)!==0)throw Error(r(331));var D=ar;for(ar|=4,it=h.current;it!==null;){var z=it,J=z.child;if((it.flags&16)!==0){var de=z.deletions;if(de!==null){for(var pe=0;pe<de.length;pe++){var Ee=de[pe];for(it=Ee;it!==null;){var Ve=it;switch(Ve.tag){case 0:case 11:case 15:Qm(8,Ve,z)}var Ue=Ve.child;if(Ue!==null)Ue.return=Ve,it=Ue;else for(;it!==null;){Ve=it;var ze=Ve.sibling,et=Ve.return;if(xI(Ve),Ve===Ee){it=null;break}if(ze!==null){ze.return=et,it=ze;break}it=et}}}var lt=z.alternate;if(lt!==null){var ut=lt.child;if(ut!==null){lt.child=null;do{var cn=ut.sibling;ut.sibling=null,ut=cn}while(ut!==null)}}it=z}}if((z.subtreeFlags&2064)!==0&&J!==null)J.return=z,it=J;else e:for(;it!==null;){if(z=it,(z.flags&2048)!==0)switch(z.tag){case 0:case 11:case 15:Qm(9,z,z.return)}var _e=z.sibling;if(_e!==null){_e.return=z.return,it=_e;break e}it=z.return}}var ye=h.current;for(it=ye;it!==null;){J=it;var Ce=J.child;if((J.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=J,it=Ce;else e:for(J=ye;it!==null;){if(de=it,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:Yy(9,de)}}catch(mt){rn(de,de.return,mt)}if(de===J){it=null;break e}var Ke=de.sibling;if(Ke!==null){Ke.return=de.return,it=Ke;break e}it=de.return}}if(ar=D,ql(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(ly,h)}catch{}A=!0}return A}finally{_r=N,Fs.transition=g}}return!1}function DI(h,g,N){g=Id(N,g),g=JD(h,g,1),h=zl(h,g,1),g=Ci(),h!==null&&(Sm(h,1,g),Gi(h,g))}function rn(h,g,N){if(h.tag===3)DI(h,h,N);else for(;g!==null;){if(g.tag===3){DI(g,h,N);break}else if(g.tag===1){var A=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Ul===null||!Ul.has(A))){h=Id(N,h),h=eI(g,h,1),g=zl(g,h,1),h=Ci(),g!==null&&(Sm(g,1,h),Gi(g,h));break}}g=g.return}}function Jte(h,g,N){var A=h.pingCache;A!==null&&A.delete(g),g=Ci(),h.pingedLanes|=h.suspendedLanes&N,Ln===h&&(ei&N)===N&&(_n===4||_n===3&&(ei&130023424)===ei&&500>Gr()-G1?ou(h,0):K1|=N),Gi(h,g)}function II(h,g){g===0&&((h.mode&1)===0?g=1:(g=uy,uy<<=1,(uy&130023424)===0&&(uy=4194304)));var N=Ci();h=Lo(h,g),h!==null&&(Sm(h,g,N),Gi(h,N))}function ere(h){var g=h.memoizedState,N=0;g!==null&&(N=g.retryLane),II(h,N)}function tre(h,g){var N=0;switch(h.tag){case 13:var A=h.stateNode,D=h.memoizedState;D!==null&&(N=D.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(g),II(h,N)}var LI;LI=function(h,g,N){if(h!==null)if(h.memoizedProps!==g.pendingProps||Ui.current)Hi=!0;else{if((h.lanes&N)===0&&(g.flags&128)===0)return Hi=!1,zte(h,g,N);Hi=(h.flags&131072)!==0}else Hi=!1,Br&&(g.flags&1048576)!==0&&gD(g,Py,g.index);switch(g.lanes=0,g.tag){case 2:var A=g.type;Ky(h,g),h=g.pendingProps;var D=kd(g,hi.current);Rd(g,N),D=C1(null,g,A,h,D,N);var z=N1();return g.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Wi(A)?(z=!0,Oy(g)):z=!1,g.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,y1(g),D.updater=Wy,g.stateNode=D,D._reactInternals=g,P1(g,A,h,N),g=I1(null,g,A,!0,z,N)):(g.tag=0,Br&&z&&l1(g),ji(null,g,D,N),g=g.child),g;case 16:A=g.elementType;e:{switch(Ky(h,g),h=g.pendingProps,D=A._init,A=D(A._payload),g.type=A,D=g.tag=nre(A),h=da(A,h),D){case 0:g=D1(null,g,A,h,N);break e;case 1:g=cI(null,g,A,h,N);break e;case 11:g=iI(null,g,A,h,N);break e;case 14:g=sI(null,g,A,da(A.type,h),N);break e}throw Error(r(306,A,""))}return g;case 0:return A=g.type,D=g.pendingProps,D=g.elementType===A?D:da(A,D),D1(h,g,A,D,N);case 1:return A=g.type,D=g.pendingProps,D=g.elementType===A?D:da(A,D),cI(h,g,A,D,N);case 3:e:{if(uI(g),h===null)throw Error(r(387));A=g.pendingProps,z=g.memoizedState,D=z.element,CD(h,g),$y(g,A,null,N);var J=g.memoizedState;if(A=J.element,z.isDehydrated)if(z={element:A,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},g.updateQueue.baseState=z,g.memoizedState=z,g.flags&256){D=Id(Error(r(423)),g),g=dI(h,g,A,N,D);break e}else if(A!==D){D=Id(Error(r(424)),g),g=dI(h,g,A,N,D);break e}else for(gs=Ll(g.stateNode.containerInfo.firstChild),ps=g,Br=!0,ua=null,N=SD(g,null,A,N),g.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Td(),A===D){g=Fo(h,g,N);break e}ji(h,g,A,N)}g=g.child}return g;case 5:return kD(g),h===null&&d1(g),A=g.type,D=g.pendingProps,z=h!==null?h.memoizedProps:null,J=D.children,r1(A,D)?J=null:z!==null&&r1(A,z)&&(g.flags|=32),lI(h,g),ji(h,g,J,N),g.child;case 6:return h===null&&d1(g),null;case 13:return fI(h,g,N);case 4:return x1(g,g.stateNode.containerInfo),A=g.pendingProps,h===null?g.child=Pd(g,null,A,N):ji(h,g,A,N),g.child;case 11:return A=g.type,D=g.pendingProps,D=g.elementType===A?D:da(A,D),iI(h,g,A,D,N);case 7:return ji(h,g,g.pendingProps,N),g.child;case 8:return ji(h,g,g.pendingProps.children,N),g.child;case 12:return ji(h,g,g.pendingProps.children,N),g.child;case 10:e:{if(A=g.type._context,D=g.pendingProps,z=g.memoizedProps,J=D.value,Ar(Dy,A._currentValue),A._currentValue=J,z!==null)if(ca(z.value,J)){if(z.children===D.children&&!Ui.current){g=Fo(h,g,N);break e}}else for(z=g.child,z!==null&&(z.return=g);z!==null;){var de=z.dependencies;if(de!==null){J=z.child;for(var pe=de.firstContext;pe!==null;){if(pe.context===A){if(z.tag===1){pe=$o(-1,N&-N),pe.tag=2;var Ee=z.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ve=Ee.pending;Ve===null?pe.next=pe:(pe.next=Ve.next,Ve.next=pe),Ee.pending=pe}}z.lanes|=N,pe=z.alternate,pe!==null&&(pe.lanes|=N),g1(z.return,N,g),de.lanes|=N;break}pe=pe.next}}else if(z.tag===10)J=z.type===g.type?null:z.child;else if(z.tag===18){if(J=z.return,J===null)throw Error(r(341));J.lanes|=N,de=J.alternate,de!==null&&(de.lanes|=N),g1(J,N,g),J=z.sibling}else J=z.child;if(J!==null)J.return=z;else for(J=z;J!==null;){if(J===g){J=null;break}if(z=J.sibling,z!==null){z.return=J.return,J=z;break}J=J.return}z=J}ji(h,g,D.children,N),g=g.child}return g;case 9:return D=g.type,A=g.pendingProps.children,Rd(g,N),D=Ls(D),A=A(D),g.flags|=1,ji(h,g,A,N),g.child;case 14:return A=g.type,D=da(A,g.pendingProps),D=da(A.type,D),sI(h,g,A,D,N);case 15:return aI(h,g,g.type,g.pendingProps,N);case 17:return A=g.type,D=g.pendingProps,D=g.elementType===A?D:da(A,D),Ky(h,g),g.tag=1,Wi(A)?(h=!0,Oy(g)):h=!1,Rd(g,N),XD(g,A,D),P1(g,A,D,N),I1(null,g,A,!0,h,N);case 19:return mI(h,g,N);case 22:return oI(h,g,N)}throw Error(r(156,g.tag))};function $I(h,g){return Mt(h,g)}function rre(h,g,N,A){this.tag=h,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(h,g,N,A){return new rre(h,g,N,A)}function rS(h){return h=h.prototype,!(!h||!h.isReactComponent)}function nre(h){if(typeof h=="function")return rS(h)?1:0;if(h!=null){if(h=h.$$typeof,h===P)return 11;if(h===$)return 14}return 2}function Gl(h,g){var N=h.alternate;return N===null?(N=qs(h.tag,g,h.key,h.mode),N.elementType=h.elementType,N.type=h.type,N.stateNode=h.stateNode,N.alternate=h,h.alternate=N):(N.pendingProps=g,N.type=h.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=h.flags&14680064,N.childLanes=h.childLanes,N.lanes=h.lanes,N.child=h.child,N.memoizedProps=h.memoizedProps,N.memoizedState=h.memoizedState,N.updateQueue=h.updateQueue,g=h.dependencies,N.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},N.sibling=h.sibling,N.index=h.index,N.ref=h.ref,N}function ix(h,g,N,A,D,z){var J=2;if(A=h,typeof h=="function")rS(h)&&(J=1);else if(typeof h=="string")J=5;else e:switch(h){case k:return cu(N.children,D,z,g);case O:J=8,D|=8;break;case M:return h=qs(12,N,g,D|2),h.elementType=M,h.lanes=z,h;case I:return h=qs(13,N,g,D),h.elementType=I,h.lanes=z,h;case B:return h=qs(19,N,g,D),h.elementType=B,h.lanes=z,h;case V:return sx(N,D,z,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case R:J=10;break e;case T:J=9;break e;case P:J=11;break e;case $:J=14;break e;case H:J=16,A=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return g=qs(J,N,g,D),g.elementType=h,g.type=A,g.lanes=z,g}function cu(h,g,N,A){return h=qs(7,h,A,g),h.lanes=N,h}function sx(h,g,N,A){return h=qs(22,h,A,g),h.elementType=V,h.lanes=N,h.stateNode={isHidden:!1},h}function nS(h,g,N){return h=qs(6,h,null,g),h.lanes=N,h}function iS(h,g,N){return g=qs(4,h.children!==null?h.children:[],h.key,g),g.lanes=N,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function ire(h,g,N,A,D){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T_(0),this.expirationTimes=T_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T_(0),this.identifierPrefix=A,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function sS(h,g,N,A,D,z,J,de,pe){return h=new ire(h,g,N,de,pe),g===1?(g=1,z===!0&&(g|=8)):g=0,z=qs(3,null,null,g),h.current=z,z.stateNode=h,z.memoizedState={element:A,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},y1(z),h}function sre(h,g,N){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:A==null?null:""+A,children:h,containerInfo:g,implementation:N}}function FI(h){if(!h)return Fl;h=h._reactInternals;e:{if(hs(h)!==h||h.tag!==1)throw Error(r(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Wi(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(r(171))}if(h.tag===1){var N=h.type;if(Wi(N))return hD(h,N,g)}return g}function qI(h,g,N,A,D,z,J,de,pe){return h=sS(N,A,!0,h,D,z,J,de,pe),h.context=FI(null),N=h.current,A=Ci(),D=Hl(N),z=$o(A,D),z.callback=g??null,zl(N,z,D),h.current.lanes=D,Sm(h,D,A),Gi(h,A),h}function ax(h,g,N,A){var D=g.current,z=Ci(),J=Hl(D);return N=FI(N),g.context===null?g.context=N:g.pendingContext=N,g=$o(z,J),g.payload={element:h},A=A===void 0?null:A,A!==null&&(g.callback=A),h=zl(D,g,J),h!==null&&(ma(h,D,J,z),Ly(h,D,J)),J}function ox(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function BI(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var N=h.retryLane;h.retryLane=N!==0&&N<g?N:g}}function aS(h,g){BI(h,g),(h=h.alternate)&&BI(h,g)}function are(){return null}var zI=typeof reportError=="function"?reportError:function(h){console.error(h)};function oS(h){this._internalRoot=h}lx.prototype.render=oS.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(r(409));ax(h,g,null,null)},lx.prototype.unmount=oS.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;au(function(){ax(null,h,null,null)}),g[Mo]=null}};function lx(h){this._internalRoot=h}lx.prototype.unstable_scheduleHydration=function(h){if(h){var g=CR();h={blockedOn:null,target:h,priority:g};for(var N=0;N<Rl.length&&g!==0&&g<Rl[N].priority;N++);Rl.splice(N,0,h),N===0&&kR(h)}};function lS(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function cx(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function VI(){}function ore(h,g,N,A,D){if(D){if(typeof A=="function"){var z=A;A=function(){var Ee=ox(J);z.call(Ee)}}var J=qI(g,A,h,0,null,!1,!1,"",VI);return h._reactRootContainer=J,h[Mo]=J.current,Lm(h.nodeType===8?h.parentNode:h),au(),J}for(;D=h.lastChild;)h.removeChild(D);if(typeof A=="function"){var de=A;A=function(){var Ee=ox(pe);de.call(Ee)}}var pe=sS(h,0,!1,null,null,!1,!1,"",VI);return h._reactRootContainer=pe,h[Mo]=pe.current,Lm(h.nodeType===8?h.parentNode:h),au(function(){ax(g,pe,N,A)}),pe}function ux(h,g,N,A,D){var z=N._reactRootContainer;if(z){var J=z;if(typeof D=="function"){var de=D;D=function(){var pe=ox(J);de.call(pe)}}ax(g,J,h,D)}else J=ore(N,g,h,D,A);return ox(J)}SR=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var N=_m(g.pendingLanes);N!==0&&(P_(g,N|1),Gi(g,Gr()),(ar&6)===0&&(Fd=Gr()+500,ql()))}break;case 13:au(function(){var A=Lo(h,1);if(A!==null){var D=Ci();ma(A,h,1,D)}}),aS(h,1)}},M_=function(h){if(h.tag===13){var g=Lo(h,134217728);if(g!==null){var N=Ci();ma(g,h,134217728,N)}aS(h,134217728)}},jR=function(h){if(h.tag===13){var g=Hl(h),N=Lo(h,g);if(N!==null){var A=Ci();ma(N,h,g,A)}aS(h,g)}},CR=function(){return _r},NR=function(h,g){var N=_r;try{return _r=h,g()}finally{_r=N}},xt=function(h,g,N){switch(g){case"input":if(De(h,N),g=N.name,N.type==="radio"&&g!=null){for(N=h;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<N.length;g++){var A=N[g];if(A!==h&&A.form===h.form){var D=Ey(A);if(!D)throw Error(r(90));ce(A),De(A,D)}}}break;case"textarea":le(h,N);break;case"select":g=N.value,g!=null&&ie(h,!!N.multiple,g,!1)}},ht=J1,yt=au;var lre={usingClientEntryPoint:!1,Events:[qm,Nd,Ey,Ut,Je,J1]},ep={findFiberByHostInstance:Zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cre={bundleType:ep.bundleType,version:ep.version,rendererPackageName:ep.rendererPackageName,rendererConfig:ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=ln(h),h===null?null:h.stateNode},findFiberByHostInstance:ep.findFiberByHostInstance||are,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dx.isDisabled&&dx.supportsFiber)try{ly=dx.inject(cre),Ya=dx}catch{}}return Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lre,Yi.createPortal=function(h,g){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lS(g))throw Error(r(200));return sre(h,g,null,N)},Yi.createRoot=function(h,g){if(!lS(h))throw Error(r(299));var N=!1,A="",D=zI;return g!=null&&(g.unstable_strictMode===!0&&(N=!0),g.identifierPrefix!==void 0&&(A=g.identifierPrefix),g.onRecoverableError!==void 0&&(D=g.onRecoverableError)),g=sS(h,1,!1,null,null,N,!1,A,D),h[Mo]=g.current,Lm(h.nodeType===8?h.parentNode:h),new oS(g)},Yi.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=ln(g),h=h===null?null:h.stateNode,h},Yi.flushSync=function(h){return au(h)},Yi.hydrate=function(h,g,N){if(!cx(g))throw Error(r(200));return ux(null,h,g,!0,N)},Yi.hydrateRoot=function(h,g,N){if(!lS(h))throw Error(r(405));var A=N!=null&&N.hydratedSources||null,D=!1,z="",J=zI;if(N!=null&&(N.unstable_strictMode===!0&&(D=!0),N.identifierPrefix!==void 0&&(z=N.identifierPrefix),N.onRecoverableError!==void 0&&(J=N.onRecoverableError)),g=qI(g,null,h,1,N??null,D,!1,z,J),h[Mo]=g.current,Lm(h),A)for(h=0;h<A.length;h++)N=A[h],D=N._getVersion,D=D(N._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[N,D]:g.mutableSourceEagerHydrationData.push(N,D);return new lx(g)},Yi.render=function(h,g,N){if(!cx(g))throw Error(r(200));return ux(null,h,g,!1,N)},Yi.unmountComponentAtNode=function(h){if(!cx(h))throw Error(r(40));return h._reactRootContainer?(au(function(){ux(null,null,h,!1,function(){h._reactRootContainer=null,h[Mo]=null})}),!0):!1},Yi.unstable_batchedUpdates=J1,Yi.unstable_renderSubtreeIntoContainer=function(h,g,N,A){if(!cx(N))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return ux(h,g,N,!1,A)},Yi.version="18.3.1-next-f1338f8080-20240426",Yi}var ZI;function LT(){if(ZI)return fS.exports;ZI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fS.exports=yre(),fS.exports}var JI;function xre(){if(JI)return mx;JI=1;var e=LT();return mx.createRoot=e.createRoot,mx.hydrateRoot=e.hydrateRoot,mx}var bre=xre(),_=fv();const Y=wr(_),$T=dre({__proto__:null,default:Y},[_]);var lo=LT();const sV=wr(lo);var wre=e=>{switch(e){case"success":return jre;case"info":return Nre;case"warning":return Cre;case"error":return Ere;default:return null}},_re=Array(12).fill(0),Sre=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},_re.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),jre=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Cre=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Nre=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ere=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kre=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ore=()=>{let[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Pk=1,Are=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Pk++,s=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,s,a=n.then(async c=>{if(s=["resolve",c],Y.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(Pre(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Pk++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Zi=new Are,Tre=(e,t)=>{let r=(t==null?void 0:t.id)||Pk++;return Zi.addToast({title:e,...t,id:r}),r},Pre=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Mre=Tre,Rre=()=>Zi.toasts,Dre=()=>Zi.getActiveToasts(),aV=Object.assign(Mre,{success:Zi.success,info:Zi.info,warning:Zi.warning,error:Zi.error,custom:Zi.custom,message:Zi.message,promise:Zi.promise,dismiss:Zi.dismiss,loading:Zi.loading},{getHistory:Rre,getToasts:Dre});function Ire(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Ire(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function px(e){return e.label!==void 0}var Lre=3,$re="32px",Fre="16px",eL=4e3,qre=356,Bre=14,zre=20,Vre=200;function pa(...e){return e.filter(Boolean).join(" ")}function Ure(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Wre=e=>{var t,r,n,i,s,a,l,c,u,f,d;let{invert:m,toast:p,unstyled:x,interacting:y,setHeights:v,visibleToasts:b,heights:w,index:j,toasts:S,expanded:C,removeToast:E,defaultRichColors:k,closeButton:O,style:M,cancelButtonStyle:R,actionButtonStyle:T,className:P="",descriptionClassName:I="",duration:B,position:$,gap:H,loadingIcon:V,expandByDefault:U,classNames:W,icons:F,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:q}=e,[K,ee]=Y.useState(null),[te,Q]=Y.useState(null),[G,ne]=Y.useState(!1),[Z,re]=Y.useState(!1),[fe,ce]=Y.useState(!1),[xe,be]=Y.useState(!1),[ke,Te]=Y.useState(!1),[De,ae]=Y.useState(0),[ge,X]=Y.useState(0),ie=Y.useRef(p.duration||B||eL),oe=Y.useRef(null),je=Y.useRef(null),le=j===0,he=j+1<=b,we=p.type,ue=p.dismissible!==!1,Oe=p.className||"",gt=p.descriptionClassName||"",Se=Y.useMemo(()=>w.findIndex(Je=>Je.toastId===p.id)||0,[w,p.id]),Ge=Y.useMemo(()=>{var Je;return(Je=p.closeButton)!=null?Je:O},[p.closeButton,O]),Nt=Y.useMemo(()=>p.duration||B||eL,[p.duration,B]),vt=Y.useRef(0),mr=Y.useRef(0),tn=Y.useRef(0),jr=Y.useRef(null),[Ot,Ze]=$.split("-"),ft=Y.useMemo(()=>w.reduce((Je,ht,yt)=>yt>=Se?Je:Je+ht.height,0),[w,Se]),xt=Ore(),bt=p.invert||m,ct=we==="loading";mr.current=Y.useMemo(()=>Se*H+ft,[Se,ft]),Y.useEffect(()=>{ie.current=Nt},[Nt]),Y.useEffect(()=>{ne(!0)},[]),Y.useEffect(()=>{let Je=je.current;if(Je){let ht=Je.getBoundingClientRect().height;return X(ht),v(yt=>[{toastId:p.id,height:ht,position:p.position},...yt]),()=>v(yt=>yt.filter(zt=>zt.toastId!==p.id))}},[v,p.id]),Y.useLayoutEffect(()=>{if(!G)return;let Je=je.current,ht=Je.style.height;Je.style.height="auto";let yt=Je.getBoundingClientRect().height;Je.style.height=ht,X(yt),v(zt=>zt.find(Xt=>Xt.toastId===p.id)?zt.map(Xt=>Xt.toastId===p.id?{...Xt,height:yt}:Xt):[{toastId:p.id,height:yt,position:p.position},...zt])},[G,p.title,p.description,v,p.id]);let $t=Y.useCallback(()=>{re(!0),ae(mr.current),v(Je=>Je.filter(ht=>ht.toastId!==p.id)),setTimeout(()=>{E(p)},Vre)},[p,E,v,mr]);Y.useEffect(()=>{if(p.promise&&we==="loading"||p.duration===1/0||p.type==="loading")return;let Je;return C||y||q&&xt?(()=>{if(tn.current<vt.current){let ht=new Date().getTime()-vt.current;ie.current=ie.current-ht}tn.current=new Date().getTime()})():ie.current!==1/0&&(vt.current=new Date().getTime(),Je=setTimeout(()=>{var ht;(ht=p.onAutoClose)==null||ht.call(p,p),$t()},ie.current)),()=>clearTimeout(Je)},[C,y,p,we,q,xt,$t]),Y.useEffect(()=>{p.delete&&$t()},[$t,p.delete]);function Ut(){var Je,ht,yt;return F!=null&&F.loading?Y.createElement("div",{className:pa(W==null?void 0:W.loader,(Je=p==null?void 0:p.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":we==="loading"},F.loading):V?Y.createElement("div",{className:pa(W==null?void 0:W.loader,(ht=p==null?void 0:p.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":we==="loading"},V):Y.createElement(Sre,{className:pa(W==null?void 0:W.loader,(yt=p==null?void 0:p.classNames)==null?void 0:yt.loader),visible:we==="loading"})}return Y.createElement("li",{tabIndex:0,ref:je,className:pa(P,Oe,W==null?void 0:W.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,W==null?void 0:W.default,W==null?void 0:W[we],(r=p==null?void 0:p.classNames)==null?void 0:r[we]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":G,"data-promise":!!p.promise,"data-swiped":ke,"data-removed":Z,"data-visible":he,"data-y-position":Ot,"data-x-position":Ze,"data-index":j,"data-front":le,"data-swiping":fe,"data-dismissible":ue,"data-type":we,"data-invert":bt,"data-swipe-out":xe,"data-swipe-direction":te,"data-expanded":!!(C||U&&G),style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${Z?De:mr.current}px`,"--initial-height":U?"auto":`${ge}px`,...M,...p.style},onDragEnd:()=>{ce(!1),ee(null),jr.current=null},onPointerDown:Je=>{ct||!ue||(oe.current=new Date,ae(mr.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(ce(!0),jr.current={x:Je.clientX,y:Je.clientY}))},onPointerUp:()=>{var Je,ht,yt,zt;if(xe||!ue)return;jr.current=null;let Xt=Number(((Je=je.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qt=Number(((ht=je.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Cr=new Date().getTime()-((yt=oe.current)==null?void 0:yt.getTime()),cr=K==="x"?Xt:qt,qr=Math.abs(cr)/Cr;if(Math.abs(cr)>=zre||qr>.11){ae(mr.current),(zt=p.onDismiss)==null||zt.call(p,p),Q(K==="x"?Xt>0?"right":"left":qt>0?"down":"up"),$t(),be(!0),Te(!1);return}ce(!1),ee(null)},onPointerMove:Je=>{var ht,yt,zt,Xt;if(!jr.current||!ue||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;let qt=Je.clientY-jr.current.y,Cr=Je.clientX-jr.current.x,cr=(yt=e.swipeDirections)!=null?yt:Ure($);!K&&(Math.abs(Cr)>1||Math.abs(qt)>1)&&ee(Math.abs(Cr)>Math.abs(qt)?"x":"y");let qr={x:0,y:0};K==="y"?(cr.includes("top")||cr.includes("bottom"))&&(cr.includes("top")&&qt<0||cr.includes("bottom")&&qt>0)&&(qr.y=qt):K==="x"&&(cr.includes("left")||cr.includes("right"))&&(cr.includes("left")&&Cr<0||cr.includes("right")&&Cr>0)&&(qr.x=Cr),(Math.abs(qr.x)>0||Math.abs(qr.y)>0)&&Te(!0),(zt=je.current)==null||zt.style.setProperty("--swipe-amount-x",`${qr.x}px`),(Xt=je.current)==null||Xt.style.setProperty("--swipe-amount-y",`${qr.y}px`)}},Ge&&!p.jsx?Y.createElement("button",{"aria-label":L,"data-disabled":ct,"data-close-button":!0,onClick:ct||!ue?()=>{}:()=>{var Je;$t(),(Je=p.onDismiss)==null||Je.call(p,p)},className:pa(W==null?void 0:W.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=F==null?void 0:F.close)!=null?s:kre):null,p.jsx||_.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Y.createElement(Y.Fragment,null,we||p.icon||p.promise?Y.createElement("div",{"data-icon":"",className:pa(W==null?void 0:W.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ut():null,p.type!=="loading"?p.icon||(F==null?void 0:F[we])||wre(we):null):null,Y.createElement("div",{"data-content":"",className:pa(W==null?void 0:W.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Y.createElement("div",{"data-title":"",className:pa(W==null?void 0:W.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?Y.createElement("div",{"data-description":"",className:pa(I,gt,W==null?void 0:W.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),_.isValidElement(p.cancel)?p.cancel:p.cancel&&px(p.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:Je=>{var ht,yt;px(p.cancel)&&ue&&((yt=(ht=p.cancel).onClick)==null||yt.call(ht,Je),$t())},className:pa(W==null?void 0:W.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,_.isValidElement(p.action)?p.action:p.action&&px(p.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||T,onClick:Je=>{var ht,yt;px(p.action)&&((yt=(ht=p.action).onClick)==null||yt.call(ht,Je),!Je.defaultPrevented&&$t())},className:pa(W==null?void 0:W.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function tL(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Hre(e,t){let r={};return[e,t].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?Fre:$re;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var Kre=_.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:m,style:p,visibleToasts:x=Lre,toastOptions:y,dir:v=tL(),gap:b=Bre,loadingIcon:w,icons:j,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:C}=e,[E,k]=Y.useState([]),O=Y.useMemo(()=>Array.from(new Set([n].concat(E.filter(q=>q.position).map(q=>q.position)))),[E,n]),[M,R]=Y.useState([]),[T,P]=Y.useState(!1),[I,B]=Y.useState(!1),[$,H]=Y.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=Y.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=Y.useRef(null),F=Y.useRef(!1),L=Y.useCallback(q=>{k(K=>{var ee;return(ee=K.find(te=>te.id===q.id))!=null&&ee.delete||Zi.dismiss(q.id),K.filter(({id:te})=>te!==q.id)})},[]);return Y.useEffect(()=>Zi.subscribe(q=>{if(q.dismiss){k(K=>K.map(ee=>ee.id===q.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{sV.flushSync(()=>{k(K=>{let ee=K.findIndex(te=>te.id===q.id);return ee!==-1?[...K.slice(0,ee),{...K[ee],...q},...K.slice(ee+1)]:[q,...K]})})})}),[]),Y.useEffect(()=>{if(f!=="system"){H(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:K})=>{H(K?"dark":"light")})}catch{q.addListener(({matches:ee})=>{try{H(ee?"dark":"light")}catch(te){console.error(te)}})}},[f]),Y.useEffect(()=>{E.length<=1&&P(!1)},[E]),Y.useEffect(()=>{let q=K=>{var ee,te;i.every(Q=>K[Q]||K.code===Q)&&(P(!0),(ee=V.current)==null||ee.focus()),K.code==="Escape"&&(document.activeElement===V.current||(te=V.current)!=null&&te.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[i]),Y.useEffect(()=>{if(V.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,F.current=!1)}},[V.current]),Y.createElement("section",{ref:t,"aria-label":`${S} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((q,K)=>{var ee;let[te,Q]=q.split("-");return E.length?Y.createElement("ol",{key:q,dir:v==="auto"?tL():v,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":te,"data-lifted":T&&E.length>1&&!s,"data-x-position":Q,style:{"--front-toast-height":`${((ee=M[0])==null?void 0:ee.height)||0}px`,"--width":`${qre}px`,"--gap":`${b}px`,...p,...Hre(c,u)},onBlur:G=>{F.current&&!G.currentTarget.contains(G.relatedTarget)&&(F.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||F.current||(F.current=!0,W.current=G.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{I||P(!1)},onDragEnd:()=>P(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},E.filter(G=>!G.position&&K===0||G.position===q).map((G,ne)=>{var Z,re;return Y.createElement(Wre,{key:G.id,icons:j,index:ne,toast:G,defaultRichColors:d,duration:(Z=y==null?void 0:y.duration)!=null?Z:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:x,closeButton:(re=y==null?void 0:y.closeButton)!=null?re:a,interacting:I,position:q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:L,toasts:E.filter(fe=>fe.position==G.position),heights:M.filter(fe=>fe.position==G.position),setHeights:R,expandByDefault:s,gap:b,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});function Ye(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function rL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cl(...e){return t=>{let r=!1;const n=e.map(i=>{const s=rL(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():rL(e[i],null)}}}}function Dt(...e){return _.useCallback(cl(...e),e)}function Gre(e,t){const r=_.createContext(t),n=s=>{const{children:a,...l}=s,c=_.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function i(s){const a=_.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function Qn(e,t=[]){let r=[];function n(s,a){const l=_.createContext(a),c=r.length;r=[...r,a];const u=d=>{var b;const{scope:m,children:p,...x}=d,y=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,v=_.useMemo(()=>x,Object.values(x));return o.jsx(y.Provider,{value:v,children:p})};u.displayName=s+"Provider";function f(d,m){var y;const p=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=_.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=r.map(a=>_.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Yre(i,...t)]}function Yre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function kc(e){const t=Qre(e),r=_.forwardRef((n,i)=>{const{children:s,...a}=n,l=_.Children.toArray(s),c=l.find(Xre);if(c){const u=c.props.children,f=l.map(d=>d===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:d);return o.jsx(t,{...a,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,f):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var oV=kc("Slot");function Qre(e){const t=_.forwardRef((r,n)=>{const{children:i,...s}=r;if(_.isValidElement(i)){const a=Jre(i),l=Zre(s,i.props);return i.type!==_.Fragment&&(l.ref=n?cl(n,a):a),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lV=Symbol("radix.slottable");function cV(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=lV,t}function Xre(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lV}function Zre(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Jre(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ene=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=ene.reduce((e,t)=>{const r=kc(`Primitive.${t}`),n=_.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function uV(e,t){e&&lo.flushSync(()=>e.dispatchEvent(t))}function An(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function tne(e,t=globalThis==null?void 0:globalThis.document){const r=An(e);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var rne="DismissableLayer",Mk="dismissableLayer.update",nne="dismissableLayer.pointerDownOutside",ine="dismissableLayer.focusOutside",nL,dV=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qh=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=_.useContext(dV),[f,d]=_.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),x=Dt(t,k=>d(k)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(v),w=f?y.indexOf(f):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,C=one(k=>{const O=k.target,M=[...u.branches].some(R=>R.contains(O));!S||M||(i==null||i(k),a==null||a(k),k.defaultPrevented||l==null||l())},m),E=lne(k=>{const O=k.target;[...u.branches].some(R=>R.contains(O))||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},m);return tne(k=>{w===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),_.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(nL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),iL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=nL)}},[f,m,r,u]),_.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),iL())},[f,u]),_.useEffect(()=>{const k=()=>p({});return document.addEventListener(Mk,k),()=>document.removeEventListener(Mk,k)},[]),o.jsx(at.div,{...c,ref:x,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,C.onPointerDownCapture)})});qh.displayName=rne;var sne="DismissableLayerBranch",ane=_.forwardRef((e,t)=>{const r=_.useContext(dV),n=_.useRef(null),i=Dt(t,n);return _.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(at.div,{...e,ref:i})});ane.displayName=sne;function one(e,t=globalThis==null?void 0:globalThis.document){const r=An(e),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){fV(nne,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lne(e,t=globalThis==null?void 0:globalThis.document){const r=An(e),n=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!n.current&&fV(ine,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function iL(){const e=new CustomEvent(Mk);document.dispatchEvent(e)}function fV(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?uV(i,s):i.dispatchEvent(s)}var pn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},cne=$T[" useId ".trim().toString()]||(()=>{}),une=0;function Wn(e){const[t,r]=_.useState(cne());return pn(()=>{r(n=>n??String(une++))},[e]),t?`radix-${t}`:""}const dne=["top","right","bottom","left"],Oc=Math.min,_s=Math.max,pb=Math.round,gx=Math.floor,mo=e=>({x:e,y:e}),fne={left:"right",right:"left",bottom:"top",top:"bottom"},hne={start:"end",end:"start"};function Rk(e,t,r){return _s(e,Oc(t,r))}function ul(e,t){return typeof e=="function"?e(t):e}function dl(e){return e.split("-")[0]}function Bh(e){return e.split("-")[1]}function FT(e){return e==="x"?"y":"x"}function qT(e){return e==="y"?"height":"width"}const mne=new Set(["top","bottom"]);function co(e){return mne.has(dl(e))?"y":"x"}function BT(e){return FT(co(e))}function pne(e,t,r){r===void 0&&(r=!1);const n=Bh(e),i=BT(e),s=qT(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=gb(a)),[a,gb(a)]}function gne(e){const t=gb(e);return[Dk(e),t,Dk(t)]}function Dk(e){return e.replace(/start|end/g,t=>hne[t])}const sL=["left","right"],aL=["right","left"],vne=["top","bottom"],yne=["bottom","top"];function xne(e,t,r){switch(e){case"top":case"bottom":return r?t?aL:sL:t?sL:aL;case"left":case"right":return t?vne:yne;default:return[]}}function bne(e,t,r,n){const i=Bh(e);let s=xne(dl(e),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Dk)))),s}function gb(e){return e.replace(/left|right|bottom|top/g,t=>fne[t])}function wne(e){return{top:0,right:0,bottom:0,left:0,...e}}function hV(e){return typeof e!="number"?wne(e):{top:e,right:e,bottom:e,left:e}}function vb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function oL(e,t,r){let{reference:n,floating:i}=e;const s=co(t),a=BT(t),l=qT(a),c=dl(t),u=s==="y",f=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-i.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-i.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Bh(t)){case"start":p[a]-=m*(r&&u?-1:1);break;case"end":p[a]+=m*(r&&u?-1:1);break}return p}const _ne=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:d}=oL(u,n,c),m=n,p={},x=0;for(let y=0;y<l.length;y++){const{name:v,fn:b}=l[y],{x:w,y:j,data:S,reset:C}=await b({x:f,y:d,initialPlacement:n,placement:m,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});f=w??f,d=j??d,p={...p,[v]:{...p[v],...S}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:f,y:d}=oL(u,m,c)),y=-1)}return{x:f,y:d,placement:m,strategy:i,middlewareData:p}};async function Yp(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:p=0}=ul(t,e),x=hV(p),v=l[m?d==="floating"?"reference":"floating":d],b=vb(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),w=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},C=vb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:j,strategy:c}):w);return{top:(b.top-C.top+x.top)/S.y,bottom:(C.bottom-b.bottom+x.bottom)/S.y,left:(b.left-C.left+x.left)/S.x,right:(C.right-b.right+x.right)/S.x}}const Sne=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=ul(e,t)||{};if(u==null)return{};const d=hV(f),m={x:r,y:n},p=BT(i),x=qT(p),y=await a.getDimensions(u),v=p==="y",b=v?"top":"left",w=v?"bottom":"right",j=v?"clientHeight":"clientWidth",S=s.reference[x]+s.reference[p]-m[p]-s.floating[x],C=m[p]-s.reference[p],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let k=E?E[j]:0;(!k||!await(a.isElement==null?void 0:a.isElement(E)))&&(k=l.floating[j]||s.floating[x]);const O=S/2-C/2,M=k/2-y[x]/2-1,R=Oc(d[b],M),T=Oc(d[w],M),P=R,I=k-y[x]-T,B=k/2-y[x]/2+O,$=Rk(P,B,I),H=!c.arrow&&Bh(i)!=null&&B!==$&&s.reference[x]/2-(B<P?R:T)-y[x]/2<0,V=H?B<P?B-P:B-I:0;return{[p]:m[p]+V,data:{[p]:$,centerOffset:B-$-V,...H&&{alignmentOffset:V}},reset:H}}}),jne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...v}=ul(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=dl(i),w=co(l),j=dl(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(j||!y?[gb(l)]:gne(l)),E=x!=="none";!m&&E&&C.push(...bne(l,y,x,S));const k=[l,...C],O=await Yp(t,v),M=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&M.push(O[b]),d){const B=pne(i,a,S);M.push(O[B[0]],O[B[1]])}if(R=[...R,{placement:i,overflows:M}],!M.every(B=>B<=0)){var T,P;const B=(((T=s.flip)==null?void 0:T.index)||0)+1,$=k[B];if($&&(!(d==="alignment"?w!==co($):!1)||R.every(U=>co(U.placement)===w?U.overflows[0]>0:!0)))return{data:{index:B,overflows:R},reset:{placement:$}};let H=(P=R.filter(V=>V.overflows[0]<=0).sort((V,U)=>V.overflows[1]-U.overflows[1])[0])==null?void 0:P.placement;if(!H)switch(p){case"bestFit":{var I;const V=(I=R.filter(U=>{if(E){const W=co(U.placement);return W===w||W==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(W=>W>0).reduce((W,F)=>W+F,0)]).sort((U,W)=>U[1]-W[1])[0])==null?void 0:I[0];V&&(H=V);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function lL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cL(e){return dne.some(t=>e[t]>=0)}const Cne=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=ul(e,t);switch(n){case"referenceHidden":{const s=await Yp(t,{...i,elementContext:"reference"}),a=lL(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:cL(a)}}}case"escaped":{const s=await Yp(t,{...i,altBoundary:!0}),a=lL(s,r.floating);return{data:{escapedOffsets:a,escaped:cL(a)}}}default:return{}}}}},mV=new Set(["left","top"]);async function Nne(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=dl(r),l=Bh(r),c=co(r)==="y",u=mV.has(a)?-1:1,f=s&&c?-1:1,d=ul(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*f,y:m*u}:{x:m*u,y:p*f}}const Ene=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:a,middlewareData:l}=t,c=await Nne(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},kne=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...c}=ul(e,t),u={x:r,y:n},f=await Yp(t,c),d=co(dl(i)),m=FT(d);let p=u[m],x=u[d];if(s){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=p+f[v],j=p-f[b];p=Rk(w,p,j)}if(a){const v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=x+f[v],j=x-f[b];x=Rk(w,x,j)}const y=l.fn({...t,[m]:p,[d]:x});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:s,[d]:a}}}}}},One=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ul(e,t),f={x:r,y:n},d=co(i),m=FT(d);let p=f[m],x=f[d];const y=ul(l,t),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const j=m==="y"?"height":"width",S=s.reference[m]-s.floating[j]+v.mainAxis,C=s.reference[m]+s.reference[j]-v.mainAxis;p<S?p=S:p>C&&(p=C)}if(u){var b,w;const j=m==="y"?"width":"height",S=mV.has(dl(i)),C=s.reference[d]-s.floating[j]+(S&&((b=a.offset)==null?void 0:b[d])||0)+(S?0:v.crossAxis),E=s.reference[d]+s.reference[j]+(S?0:((w=a.offset)==null?void 0:w[d])||0)-(S?v.crossAxis:0);x<C?x=C:x>E&&(x=E)}return{[m]:p,[d]:x}}}},Ane=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=ul(e,t),f=await Yp(t,u),d=dl(i),m=Bh(i),p=co(i)==="y",{width:x,height:y}=s.floating;let v,b;d==="top"||d==="bottom"?(v=d,b=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=d,v=m==="end"?"top":"bottom");const w=y-f.top-f.bottom,j=x-f.left-f.right,S=Oc(y-f[v],w),C=Oc(x-f[b],j),E=!t.middlewareData.shift;let k=S,O=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=w),E&&!m){const R=_s(f.left,0),T=_s(f.right,0),P=_s(f.top,0),I=_s(f.bottom,0);p?O=x-2*(R!==0||T!==0?R+T:_s(f.left,f.right)):k=y-2*(P!==0||I!==0?P+I:_s(f.top,f.bottom))}await c({...t,availableWidth:O,availableHeight:k});const M=await a.getDimensions(l.floating);return x!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function ew(){return typeof window<"u"}function zh(e){return pV(e)?(e.nodeName||"").toLowerCase():"#document"}function Cs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ko(e){var t;return(t=(pV(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pV(e){return ew()?e instanceof Node||e instanceof Cs(e).Node:!1}function Ra(e){return ew()?e instanceof Element||e instanceof Cs(e).Element:!1}function _o(e){return ew()?e instanceof HTMLElement||e instanceof Cs(e).HTMLElement:!1}function uL(e){return!ew()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cs(e).ShadowRoot}const Tne=new Set(["inline","contents"]);function hv(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Da(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Tne.has(i)}const Pne=new Set(["table","td","th"]);function Mne(e){return Pne.has(zh(e))}const Rne=[":popover-open",":modal"];function tw(e){return Rne.some(t=>{try{return e.matches(t)}catch{return!1}})}const Dne=["transform","translate","scale","rotate","perspective"],Ine=["transform","translate","scale","rotate","perspective","filter"],Lne=["paint","layout","strict","content"];function zT(e){const t=VT(),r=Ra(e)?Da(e):e;return Dne.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Ine.some(n=>(r.willChange||"").includes(n))||Lne.some(n=>(r.contain||"").includes(n))}function $ne(e){let t=Ac(e);for(;_o(t)&&!Yf(t);){if(zT(t))return t;if(tw(t))return null;t=Ac(t)}return null}function VT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Fne=new Set(["html","body","#document"]);function Yf(e){return Fne.has(zh(e))}function Da(e){return Cs(e).getComputedStyle(e)}function rw(e){return Ra(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ac(e){if(zh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uL(e)&&e.host||ko(e);return uL(t)?t.host:t}function gV(e){const t=Ac(e);return Yf(t)?e.ownerDocument?e.ownerDocument.body:e.body:_o(t)&&hv(t)?t:gV(t)}function Qp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=gV(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),a=Cs(i);if(s){const l=Ik(a);return t.concat(a,a.visualViewport||[],hv(i)?i:[],l&&r?Qp(l):[])}return t.concat(i,Qp(i,[],r))}function Ik(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vV(e){const t=Da(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=_o(e),s=i?e.offsetWidth:r,a=i?e.offsetHeight:n,l=pb(r)!==s||pb(n)!==a;return l&&(r=s,n=a),{width:r,height:n,$:l}}function UT(e){return Ra(e)?e:e.contextElement}function Cf(e){const t=UT(e);if(!_o(t))return mo(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=vV(t);let a=(s?pb(r.width):r.width)/n,l=(s?pb(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const qne=mo(0);function yV(e){const t=Cs(e);return!VT()||!t.visualViewport?qne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Bne(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Cs(e)?!1:t}function Bu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=UT(e);let a=mo(1);t&&(n?Ra(n)&&(a=Cf(n)):a=Cf(e));const l=Bne(s,r,n)?yV(s):mo(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,f=i.width/a.x,d=i.height/a.y;if(s){const m=Cs(s),p=n&&Ra(n)?Cs(n):n;let x=m,y=Ik(x);for(;y&&n&&p!==x;){const v=Cf(y),b=y.getBoundingClientRect(),w=Da(y),j=b.left+(y.clientLeft+parseFloat(w.paddingLeft))*v.x,S=b.top+(y.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,f*=v.x,d*=v.y,c+=j,u+=S,x=Cs(y),y=Ik(x)}}return vb({width:f,height:d,x:c,y:u})}function nw(e,t){const r=rw(e).scrollLeft;return t?t.left+r:Bu(ko(e)).left+r}function xV(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-nw(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function zne(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",a=ko(n),l=t?tw(t.floating):!1;if(n===a||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=mo(1);const f=mo(0),d=_o(n);if((d||!d&&!s)&&((zh(n)!=="body"||hv(a))&&(c=rw(n)),_o(n))){const p=Bu(n);u=Cf(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const m=a&&!d&&!s?xV(a,c):mo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:r.y*u.y-c.scrollTop*u.y+f.y+m.y}}function Vne(e){return Array.from(e.getClientRects())}function Une(e){const t=ko(e),r=rw(e),n=e.ownerDocument.body,i=_s(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=_s(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+nw(e);const l=-r.scrollTop;return Da(n).direction==="rtl"&&(a+=_s(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:l}}const dL=25;function Wne(e,t){const r=Cs(e),n=ko(e),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const f=VT();(!f||f&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=nw(n);if(u<=0){const f=n.ownerDocument,d=f.body,m=getComputedStyle(d),p=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(n.clientWidth-d.clientWidth-p);x<=dL&&(s-=x)}else u<=dL&&(s+=u);return{width:s,height:a,x:l,y:c}}const Hne=new Set(["absolute","fixed"]);function Kne(e,t){const r=Bu(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=_o(e)?Cf(e):mo(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:a,height:l,x:c,y:u}}function fL(e,t,r){let n;if(t==="viewport")n=Wne(e,r);else if(t==="document")n=Une(ko(e));else if(Ra(t))n=Kne(t,r);else{const i=yV(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return vb(n)}function bV(e,t){const r=Ac(e);return r===t||!Ra(r)||Yf(r)?!1:Da(r).position==="fixed"||bV(r,t)}function Gne(e,t){const r=t.get(e);if(r)return r;let n=Qp(e,[],!1).filter(l=>Ra(l)&&zh(l)!=="body"),i=null;const s=Da(e).position==="fixed";let a=s?Ac(e):e;for(;Ra(a)&&!Yf(a);){const l=Da(a),c=zT(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&Hne.has(i.position)||hv(a)&&!c&&bV(e,a))?n=n.filter(f=>f!==a):i=l,a=Ac(a)}return t.set(e,n),n}function Yne(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?tw(t)?[]:Gne(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,f)=>{const d=fL(t,f,i);return u.top=_s(d.top,u.top),u.right=Oc(d.right,u.right),u.bottom=Oc(d.bottom,u.bottom),u.left=_s(d.left,u.left),u},fL(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Qne(e){const{width:t,height:r}=vV(e);return{width:t,height:r}}function Xne(e,t,r){const n=_o(t),i=ko(t),s=r==="fixed",a=Bu(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=mo(0);function u(){c.x=nw(i)}if(n||!n&&!s)if((zh(t)!=="body"||hv(i))&&(l=rw(t)),n){const p=Bu(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();s&&!n&&i&&u();const f=i&&!n&&!s?xV(i,l):mo(0),d=a.left+l.scrollLeft-c.x-f.x,m=a.top+l.scrollTop-c.y-f.y;return{x:d,y:m,width:a.width,height:a.height}}function pS(e){return Da(e).position==="static"}function hL(e,t){if(!_o(e)||Da(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ko(e)===r&&(r=r.ownerDocument.body),r}function wV(e,t){const r=Cs(e);if(tw(e))return r;if(!_o(e)){let i=Ac(e);for(;i&&!Yf(i);){if(Ra(i)&&!pS(i))return i;i=Ac(i)}return r}let n=hL(e,t);for(;n&&Mne(n)&&pS(n);)n=hL(n,t);return n&&Yf(n)&&pS(n)&&!zT(n)?r:n||$ne(e)||r}const Zne=async function(e){const t=this.getOffsetParent||wV,r=this.getDimensions,n=await r(e.floating);return{reference:Xne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Jne(e){return Da(e).direction==="rtl"}const eie={convertOffsetParentRelativeRectToViewportRelativeRect:zne,getDocumentElement:ko,getClippingRect:Yne,getOffsetParent:wV,getElementRects:Zne,getClientRects:Vne,getDimensions:Qne,getScale:Cf,isElement:Ra,isRTL:Jne};function _V(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tie(e,t){let r=null,n;const i=ko(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:d,width:m,height:p}=u;if(l||t(),!m||!p)return;const x=gx(d),y=gx(i.clientWidth-(f+m)),v=gx(i.clientHeight-(d+p)),b=gx(f),j={rootMargin:-x+"px "+-y+"px "+-v+"px "+-b+"px",threshold:_s(0,Oc(1,c))||1};let S=!0;function C(E){const k=E[0].intersectionRatio;if(k!==c){if(!S)return a();k?a(!1,k):n=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!_V(u,e.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver(C,{...j,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,j)}r.observe(e)}return a(!0),s}function rie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=UT(e),f=i||s?[...u?Qp(u):[],...Qp(t)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const d=u&&l?tie(u,r):null;let m=-1,p=null;a&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,y=c?Bu(e):null;c&&v();function v(){const b=Bu(e);y&&!_V(y,b)&&r(),y=b,x=requestAnimationFrame(v)}return r(),()=>{var b;f.forEach(w=>{i&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),d==null||d(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const nie=Ene,iie=kne,sie=jne,aie=Ane,oie=Cne,mL=Sne,lie=One,cie=(e,t,r)=>{const n=new Map,i={platform:eie,...r},s={...i.platform,_c:n};return _ne(e,t,{...i,platform:s})};var uie=typeof document<"u",die=function(){},eb=uie?_.useLayoutEffect:die;function yb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!yb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!yb(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function SV(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pL(e,t){const r=SV(e);return Math.round(t*r)/r}function gS(e){const t=_.useRef(e);return eb(()=>{t.current=e}),t}function fie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=_.useState(n);yb(m,n)||p(n);const[x,y]=_.useState(null),[v,b]=_.useState(null),w=_.useCallback(U=>{U!==E.current&&(E.current=U,y(U))},[]),j=_.useCallback(U=>{U!==k.current&&(k.current=U,b(U))},[]),S=s||x,C=a||v,E=_.useRef(null),k=_.useRef(null),O=_.useRef(f),M=c!=null,R=gS(c),T=gS(i),P=gS(u),I=_.useCallback(()=>{if(!E.current||!k.current)return;const U={placement:t,strategy:r,middleware:m};T.current&&(U.platform=T.current),cie(E.current,k.current,U).then(W=>{const F={...W,isPositioned:P.current!==!1};B.current&&!yb(O.current,F)&&(O.current=F,lo.flushSync(()=>{d(F)}))})},[m,t,r,T,P]);eb(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(U=>({...U,isPositioned:!1})))},[u]);const B=_.useRef(!1);eb(()=>(B.current=!0,()=>{B.current=!1}),[]),eb(()=>{if(S&&(E.current=S),C&&(k.current=C),S&&C){if(R.current)return R.current(S,C,I);I()}},[S,C,I,R,M]);const $=_.useMemo(()=>({reference:E,floating:k,setReference:w,setFloating:j}),[w,j]),H=_.useMemo(()=>({reference:S,floating:C}),[S,C]),V=_.useMemo(()=>{const U={position:r,left:0,top:0};if(!H.floating)return U;const W=pL(H.floating,f.x),F=pL(H.floating,f.y);return l?{...U,transform:"translate("+W+"px, "+F+"px)",...SV(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:F}},[r,l,H.floating,f.x,f.y]);return _.useMemo(()=>({...f,update:I,refs:$,elements:H,floatingStyles:V}),[f,I,$,H,V])}const hie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?mL({element:n.current,padding:i}).fn(r):{}:n?mL({element:n,padding:i}).fn(r):{}}}},mie=(e,t)=>({...nie(e),options:[e,t]}),pie=(e,t)=>({...iie(e),options:[e,t]}),gie=(e,t)=>({...lie(e),options:[e,t]}),vie=(e,t)=>({...sie(e),options:[e,t]}),yie=(e,t)=>({...aie(e),options:[e,t]}),xie=(e,t)=>({...oie(e),options:[e,t]}),bie=(e,t)=>({...hie(e),options:[e,t]});var wie="Arrow",jV=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return o.jsx(at.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});jV.displayName=wie;var _ie=jV;function WT(e){const[t,r]=_.useState(void 0);return pn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var HT="Popper",[CV,Ic]=Qn(HT),[Sie,NV]=CV(HT),EV=e=>{const{__scopePopper:t,children:r}=e,[n,i]=_.useState(null);return o.jsx(Sie,{scope:t,anchor:n,onAnchorChange:i,children:r})};EV.displayName=HT;var kV="PopperAnchor",OV=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=NV(kV,r),a=_.useRef(null),l=Dt(t,a),c=_.useRef(null);return _.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:o.jsx(at.div,{...i,ref:l})});OV.displayName=kV;var KT="PopperContent",[jie,Cie]=CV(KT),AV=_.forwardRef((e,t)=>{var G,ne,Z,re,fe,ce;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...y}=e,v=NV(KT,r),[b,w]=_.useState(null),j=Dt(t,xe=>w(xe)),[S,C]=_.useState(null),E=WT(S),k=(E==null?void 0:E.width)??0,O=(E==null?void 0:E.height)??0,M=n+(s!=="center"?"-"+s:""),R=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(u)?u:[u],P=T.length>0,I={padding:R,boundary:T.filter(Eie),altBoundary:P},{refs:B,floatingStyles:$,placement:H,isPositioned:V,middlewareData:U}=fie({strategy:"fixed",placement:M,whileElementsMounted:(...xe)=>rie(...xe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[mie({mainAxis:i+O,alignmentAxis:a}),c&&pie({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?gie():void 0,...I}),c&&vie({...I}),yie({...I,apply:({elements:xe,rects:be,availableWidth:ke,availableHeight:Te})=>{const{width:De,height:ae}=be.reference,ge=xe.floating.style;ge.setProperty("--radix-popper-available-width",`${ke}px`),ge.setProperty("--radix-popper-available-height",`${Te}px`),ge.setProperty("--radix-popper-anchor-width",`${De}px`),ge.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),S&&bie({element:S,padding:l}),kie({arrowWidth:k,arrowHeight:O}),m&&xie({strategy:"referenceHidden",...I})]}),[W,F]=MV(H),L=An(x);pn(()=>{V&&(L==null||L())},[V,L]);const q=(G=U.arrow)==null?void 0:G.x,K=(ne=U.arrow)==null?void 0:ne.y,ee=((Z=U.arrow)==null?void 0:Z.centerOffset)!==0,[te,Q]=_.useState();return pn(()=>{b&&Q(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:V?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(re=U.transformOrigin)==null?void 0:re.x,(fe=U.transformOrigin)==null?void 0:fe.y].join(" "),...((ce=U.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(jie,{scope:r,placedSide:W,onArrowChange:C,arrowX:q,arrowY:K,shouldHideArrow:ee,children:o.jsx(at.div,{"data-side":W,"data-align":F,...y,ref:j,style:{...y.style,animation:V?void 0:"none"}})})})});AV.displayName=KT;var TV="PopperArrow",Nie={top:"bottom",right:"left",bottom:"top",left:"right"},PV=_.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=Cie(TV,n),a=Nie[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(_ie,{...i,ref:r,style:{...i.style,display:"block"}})})});PV.displayName=TV;function Eie(e){return e!==null}var kie=e=>({name:"transformOrigin",options:e,fn(t){var v,b,w;const{placement:r,rects:n,middlewareData:i}=t,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=MV(r),d={start:"0%",center:"50%",end:"100%"}[f],m=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=a?d:`${m}px`,y=`${-c}px`):u==="top"?(x=a?d:`${m}px`,y=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=a?d:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,y=a?d:`${p}px`),{data:{x,y}}}});function MV(e){const[t,r="center"]=e.split("-");return[t,r]}var iw=EV,mv=OV,sw=AV,aw=PV,Oie="Portal",pv=_.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,s]=_.useState(!1);pn(()=>s(!0),[]);const a=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?sV.createPortal(o.jsx(at.div,{...n,ref:t}),a):null});pv.displayName=Oie;function Aie(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var di=e=>{const{present:t,children:r}=e,n=Tie(t),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),s=Dt(n.ref,Pie(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:s}):null};di.displayName="Presence";function Tie(e){const[t,r]=_.useState(),n=_.useRef(null),i=_.useRef(e),s=_.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Aie(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=vx(n.current);s.current=l==="mounted"?u:"none"},[l]),pn(()=>{const u=n.current,f=i.current;if(f!==e){const m=s.current,p=vx(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),pn(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const y=vx(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(s.current=vx(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function vx(e){return(e==null?void 0:e.animationName)||"none"}function Pie(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mie=$T[" useInsertionEffect ".trim().toString()]||pn;function So({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,a]=Rie({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const f=_.useRef(e!==void 0);_.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=_.useCallback(f=>{var d;if(l){const m=Die(f)?f(e):f;m!==e&&((d=a.current)==null||d.call(a,m))}else s(f)},[l,e,s,a]);return[c,u]}function Rie({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),i=_.useRef(r),s=_.useRef(t);return Mie(()=>{s.current=t},[t]),_.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function Die(e){return typeof e=="function"}var RV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Iie="VisuallyHidden",DV=_.forwardRef((e,t)=>o.jsx(at.span,{...e,ref:t,style:{...RV,...e.style}}));DV.displayName=Iie;var Lie=DV,[ow,mqe]=Qn("Tooltip",[Ic]),lw=Ic(),IV="TooltipProvider",$ie=700,Lk="tooltip.open",[Fie,GT]=ow(IV),LV=e=>{const{__scopeTooltip:t,delayDuration:r=$ie,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,a=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Fie,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};LV.displayName=IV;var Xp="Tooltip",[qie,cw]=ow(Xp),$V=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=e,c=GT(Xp,e.__scopeTooltip),u=lw(t),[f,d]=_.useState(null),m=Wn(),p=_.useRef(0),x=a??c.disableHoverableContent,y=l??c.delayDuration,v=_.useRef(!1),[b,w]=So({prop:n,defaultProp:i??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(Lk))):c.onClose(),s==null||s(k)},caller:Xp}),j=_.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),S=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,w(!0)},[w]),C=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),E=_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,w(!0),p.current=0},y)},[y,w]);return _.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(iw,{...u,children:o.jsx(qie,{scope:t,contentId:m,open:b,stateAttribute:j,trigger:f,onTriggerChange:d,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?E():S()},[c.isOpenDelayedRef,E,S]),onTriggerLeave:_.useCallback(()=>{x?C():(window.clearTimeout(p.current),p.current=0)},[C,x]),onOpen:S,onClose:C,disableHoverableContent:x,children:r})})};$V.displayName=Xp;var $k="TooltipTrigger",FV=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=cw($k,r),s=GT($k,r),a=lw(r),l=_.useRef(null),c=Dt(t,l,i.onTriggerChange),u=_.useRef(!1),f=_.useRef(!1),d=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(mv,{asChild:!0,...a,children:o.jsx(at.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ye(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ye(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ye(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ye(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ye(e.onBlur,i.onClose),onClick:Ye(e.onClick,i.onClose)})})});FV.displayName=$k;var Bie="TooltipPortal",[pqe,zie]=ow(Bie,{forceMount:void 0}),Qf="TooltipContent",qV=_.forwardRef((e,t)=>{const r=zie(Qf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,a=cw(Qf,e.__scopeTooltip);return o.jsx(di,{present:n||a.open,children:a.disableHoverableContent?o.jsx(BV,{side:i,...s,ref:t}):o.jsx(Vie,{side:i,...s,ref:t})})}),Vie=_.forwardRef((e,t)=>{const r=cw(Qf,e.__scopeTooltip),n=GT(Qf,e.__scopeTooltip),i=_.useRef(null),s=Dt(t,i),[a,l]=_.useState(null),{trigger:c,onClose:u}=r,f=i.current,{onPointerInTransitChange:d}=n,m=_.useCallback(()=>{l(null),d(!1)},[d]),p=_.useCallback((x,y)=>{const v=x.currentTarget,b={x:x.clientX,y:x.clientY},w=Gie(b,v.getBoundingClientRect()),j=Yie(b,w),S=Qie(y.getBoundingClientRect()),C=Zie([...j,...S]);l(C),d(!0)},[d]);return _.useEffect(()=>()=>m(),[m]),_.useEffect(()=>{if(c&&f){const x=v=>p(v,f),y=v=>p(v,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",y)}}},[c,f,p,m]),_.useEffect(()=>{if(a){const x=y=>{const v=y.target,b={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(v))||(f==null?void 0:f.contains(v)),j=!Xie(b,a);w?m():j&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,a,u,m]),o.jsx(BV,{...e,ref:s})}),[Uie,Wie]=ow(Xp,{isInside:!1}),Hie=cV("TooltipContent"),BV=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,c=cw(Qf,r),u=lw(r),{onClose:f}=c;return _.useEffect(()=>(document.addEventListener(Lk,f),()=>document.removeEventListener(Lk,f)),[f]),_.useEffect(()=>{if(c.trigger){const d=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),o.jsx(qh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:o.jsxs(sw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Hie,{children:n}),o.jsx(Uie,{scope:r,isInside:!0,children:o.jsx(Lie,{id:c.contentId,role:"tooltip",children:i||n})})]})})});qV.displayName=Qf;var zV="TooltipArrow",Kie=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=lw(r);return Wie(zV,r).isInside?null:o.jsx(aw,{...i,...n,ref:t})});Kie.displayName=zV;function Gie(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Yie(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Qie(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function Xie(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,f=l.y,d=c.x,m=c.y;f>n!=m>n&&r<(d-u)*(n-f)/(m-f)+u&&(i=!i)}return i}function Zie(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Jie(t)}function Jie(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var ese=LV,tse=$V,rse=FV,VV=qV;function UV(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=UV(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ir(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=UV(e))&&(n&&(n+=" "),n+=t);return n}const YT="-",nse=e=>{const t=sse(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(YT);return l[0]===""&&l.length!==1&&l.shift(),WV(l,t)||ise(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},WV=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?WV(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(YT);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},gL=/^\[(.+)\]$/,ise=e=>{if(gL.test(e)){const t=gL.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sse=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ose(Object.entries(e.classGroups),r).forEach(([s,a])=>{Fk(a,n,s,t)}),n},Fk=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:vL(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(ase(i)){Fk(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{Fk(a,vL(t,s),r,n)})})},vL=(e,t)=>{let r=e;return t.split(YT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ase=e=>e.isThemeGetter,ose=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[r,i]}):e,lse=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},HV="!",cse=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,a=l=>{const c=[];let u=0,f=0,d;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===i&&(n||l.slice(v,v+s)===t)){c.push(l.slice(f,v)),f=v+s;continue}if(b==="/"){d=v;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(f),p=m.startsWith(HV),x=p?m.substring(1):m,y=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:a}):a},use=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},dse=e=>({cache:lse(e.cacheSize),parseClassName:cse(e),...nse(e)}),fse=/\s+/,hse=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(fse);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let x=!!p,y=n(x?m.substring(0,p):m);if(!y){if(!x){l=u+(l.length>0?" "+l:l);continue}if(y=n(m),!y){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=use(f).join(":"),b=d?v+HV:v,w=b+y;if(s.includes(w))continue;s.push(w);const j=i(y,x);for(let S=0;S<j.length;++S){const C=j[S];s.push(b+C)}l=u+(l.length>0?" "+l:l)}return l};function mse(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=KV(t))&&(n&&(n+=" "),n+=r);return n}const KV=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=KV(e[n]))&&(r&&(r+=" "),r+=t);return r};function pse(e,...t){let r,n,i,s=a;function a(c){const u=t.reduce((f,d)=>d(f),e());return r=dse(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=hse(c,r);return i(c,f),f}return function(){return s(mse.apply(null,arguments))}}const Ir=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},GV=/^\[(?:([a-z-]+):)?(.+)\]$/i,gse=/^\d+\/\d+$/,vse=new Set(["px","full","screen"]),yse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_se=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=e=>Nf(e)||vse.has(e)||gse.test(e),Ql=e=>Vh(e,"length",Ase),Nf=e=>!!e&&!Number.isNaN(Number(e)),vS=e=>Vh(e,"number",Nf),rp=e=>!!e&&Number.isInteger(Number(e)),Sse=e=>e.endsWith("%")&&Nf(e.slice(0,-1)),Bt=e=>GV.test(e),Xl=e=>yse.test(e),jse=new Set(["length","size","percentage"]),Cse=e=>Vh(e,jse,YV),Nse=e=>Vh(e,"position",YV),Ese=new Set(["image","url"]),kse=e=>Vh(e,Ese,Pse),Ose=e=>Vh(e,"",Tse),np=()=>!0,Vh=(e,t,r)=>{const n=GV.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Ase=e=>xse.test(e)&&!bse.test(e),YV=()=>!1,Tse=e=>wse.test(e),Pse=e=>_se.test(e),Mse=()=>{const e=Ir("colors"),t=Ir("spacing"),r=Ir("blur"),n=Ir("brightness"),i=Ir("borderColor"),s=Ir("borderRadius"),a=Ir("borderSpacing"),l=Ir("borderWidth"),c=Ir("contrast"),u=Ir("grayscale"),f=Ir("hueRotate"),d=Ir("invert"),m=Ir("gap"),p=Ir("gradientColorStops"),x=Ir("gradientColorStopPositions"),y=Ir("inset"),v=Ir("margin"),b=Ir("opacity"),w=Ir("padding"),j=Ir("saturate"),S=Ir("scale"),C=Ir("sepia"),E=Ir("skew"),k=Ir("space"),O=Ir("translate"),M=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Bt,t],P=()=>[Bt,t],I=()=>["",Bo,Ql],B=()=>["auto",Nf,Bt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Bt],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Nf,Bt];return{cacheSize:500,separator:":",theme:{colors:[np],spacing:[Bo,Ql],blur:["none","",Xl,Bt],brightness:L(),borderColor:[e],borderRadius:["none","","full",Xl,Bt],borderSpacing:P(),borderWidth:I(),contrast:L(),grayscale:W(),hueRotate:L(),invert:W(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[Sse,Ql],inset:T(),margin:T(),opacity:L(),padding:P(),saturate:L(),scale:L(),sepia:W(),skew:L(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[Xl]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Bt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rp,Bt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",rp,Bt]}],"grid-cols":[{"grid-cols":[np]}],"col-start-end":[{col:["auto",{span:["full",rp,Bt]},Bt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[np]}],"row-start-end":[{row:["auto",{span:[rp,Bt]},Bt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,t]}],"min-w":[{"min-w":[Bt,t,"min","max","fit"]}],"max-w":[{"max-w":[Bt,t,"none","full","min","max","fit","prose",{screen:[Xl]},Xl]}],h:[{h:[Bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xl,Ql]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vS]}],"font-family":[{font:[np]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",Nf,vS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bo,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bo,Ql]}],"underline-offset":[{"underline-offset":["auto",Bo,Bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),Nse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kse]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Bo,Bt]}],"outline-w":[{outline:[Bo,Ql]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Bo,Ql]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xl,Ose]}],"shadow-color":[{shadow:[np]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xl,Bt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[j]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[rp,Bt]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bo,Ql,vS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Rse=pse(Mse);function Ne(...e){return Rse(ir(e))}const Dse=ese,yL=tse,xL=rse,qk=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(VV,{ref:n,sideOffset:t,className:Ne("z-50 overflow-hidden rounded-card-lg border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-card-shadow animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));qk.displayName=VV.displayName;var gv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zu=typeof window>"u"||"Deno"in globalThis;function Ji(){}function Ise(e,t){return typeof e=="function"?e(t):e}function Bk(e){return typeof e=="number"&&e>=0&&e!==1/0}function QV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Sc(e,t){return typeof e=="function"?e(t):e}function Ks(e,t){return typeof e=="function"?e(t):e}function bL(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==QT(a,t.options))return!1}else if(!Jp(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function wL(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Zp(t.options.mutationKey)!==Zp(s))return!1}else if(!Jp(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function QT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zp)(e)}function Zp(e){return JSON.stringify(e,(t,r)=>Vk(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Jp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Jp(e[r],t[r])):!1}function XV(e,t){if(e===t)return e;const r=_L(e)&&_L(t);if(r||Vk(e)&&Vk(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),a=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<a;f++){const d=r?f:s[f];(!r&&c.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=XV(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return i===a&&u===i?e:l}return t}function zk(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _L(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vk(e){if(!SL(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!SL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function SL(e){return Object.prototype.toString.call(e)==="[object Object]"}function Lse(e){return new Promise(t=>{setTimeout(t,e)})}function Uk(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?XV(e,t):t}function $se(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Fse(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var XT=Symbol();function ZV(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===XT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function qse(e,t){return typeof e=="function"?e(...t):!!e}var ku,dc,If,Qz,Bse=(Qz=class extends gv{constructor(){super();At(this,ku);At(this,dc);At(this,If);ot(this,If,t=>{if(!zu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ve(this,dc)||this.setEventListener(ve(this,If))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,dc))==null||t.call(this),ot(this,dc,void 0))}setEventListener(t){var r;ot(this,If,t),(r=ve(this,dc))==null||r.call(this),ot(this,dc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ve(this,ku)!==t&&(ot(this,ku,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ve(this,ku)=="boolean"?ve(this,ku):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ku=new WeakMap,dc=new WeakMap,If=new WeakMap,Qz),ZT=new Bse,Lf,fc,$f,Xz,zse=(Xz=class extends gv{constructor(){super();At(this,Lf,!0);At(this,fc);At(this,$f);ot(this,$f,t=>{if(!zu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ve(this,fc)||this.setEventListener(ve(this,$f))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,fc))==null||t.call(this),ot(this,fc,void 0))}setEventListener(t){var r;ot(this,$f,t),(r=ve(this,fc))==null||r.call(this),ot(this,fc,t(this.setOnline.bind(this)))}setOnline(t){ve(this,Lf)!==t&&(ot(this,Lf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ve(this,Lf)}},Lf=new WeakMap,fc=new WeakMap,$f=new WeakMap,Xz),xb=new zse;function Wk(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function Vse(e){return Math.min(1e3*2**e,3e4)}function JV(e){return(e??"online")==="online"?xb.isOnline():!0}var eU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function tU(e){let t=!1,r=0,n;const i=Wk(),s=()=>i.status!=="pending",a=y=>{var v;s()||(m(new eU(y)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>ZT.isFocused()&&(e.networkMode==="always"||xb.isOnline())&&e.canRun(),f=()=>JV(e.networkMode)&&e.canRun(),d=y=>{s()||(n==null||n(),i.resolve(y))},m=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var v;n=b=>{(s()||u())&&y(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;n=void 0,s()||(y=e.onContinue)==null||y.call(e)}),x=()=>{if(s())return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(d).catch(b=>{var E;if(s())return;const w=e.retry??(zu?0:3),j=e.retryDelay??Vse,S=typeof j=="function"?j(r,b):j,C=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,b);if(t||!C){m(b);return}r++,(E=e.onFail)==null||E.call(e,r,b),Lse(S).then(()=>u()?void 0:p()).then(()=>{t?m(b):x()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?x():p().then(x),i)}}var Use=e=>setTimeout(e,0);function Wse(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=Use;const s=l=>{t?e.push(l):i(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var ii=Wse(),Ou,Zz,rU=(Zz=class{constructor(){At(this,Ou)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bk(this.gcTime)&&ot(this,Ou,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zu?1/0:300*1e3))}clearGcTimeout(){ve(this,Ou)&&(clearTimeout(ve(this,Ou)),ot(this,Ou,void 0))}},Ou=new WeakMap,Zz),Ff,qf,Hs,Au,qn,lv,Tu,wa,Ho,Jz,Hse=(Jz=class extends rU{constructor(t){super();At(this,wa);At(this,Ff);At(this,qf);At(this,Hs);At(this,Au);At(this,qn);At(this,lv);At(this,Tu);ot(this,Tu,!1),ot(this,lv,t.defaultOptions),this.setOptions(t.options),this.observers=[],ot(this,Au,t.client),ot(this,Hs,ve(this,Au).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ot(this,Ff,Kse(this.options)),this.state=t.state??ve(this,Ff),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ve(this,qn))==null?void 0:t.promise}setOptions(t){this.options={...ve(this,lv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ve(this,Hs).remove(this)}setData(t,r){const n=Uk(this.state.data,t,this.options);return Jt(this,wa,Ho).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Jt(this,wa,Ho).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=ve(this,qn))==null?void 0:n.promise;return(i=ve(this,qn))==null||i.cancel(t),r?r.then(Ji).catch(Ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ve(this,Ff))}isActive(){return this.observers.some(t=>Ks(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Sc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!QV(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ve(this,qn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ve(this,qn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ve(this,Hs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ve(this,qn)&&(ve(this,Tu)?ve(this,qn).cancel({revert:!0}):ve(this,qn).cancelRetry()),this.scheduleGc()),ve(this,Hs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jt(this,wa,Ho).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,f,d,m,p,x,y,v,b,w,j;if(this.state.fetchStatus!=="idle"&&((c=ve(this,qn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ve(this,qn))return ve(this,qn).continueRetry(),ve(this,qn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(C=>C.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,i=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(ot(this,Tu,!0),n.signal)})},s=()=>{const S=ZV(this.options,r),E=(()=>{const k={client:ve(this,Au),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return ot(this,Tu,!1),this.options.persister?this.options.persister(S,E,this):S(E)},l=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ve(this,Au),state:this.state,fetchFn:s};return i(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),ot(this,qf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Jt(this,wa,Ho).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),ot(this,qn,tU({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onFail:(S,C)=>{Jt(this,wa,Ho).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{Jt(this,wa,Ho).call(this,{type:"pause"})},onContinue:()=>{Jt(this,wa,Ho).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await ve(this,qn).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(p=(m=ve(this,Hs).config).onSuccess)==null||p.call(m,S,this),(y=(x=ve(this,Hs).config).onSettled)==null||y.call(x,S,this.state.error,this),S}catch(S){if(S instanceof eU){if(S.silent)return ve(this,qn).promise;if(S.revert){if(this.setState({...ve(this,qf),fetchStatus:"idle"}),this.state.data===void 0)throw S;return this.state.data}}throw Jt(this,wa,Ho).call(this,{type:"error",error:S}),(b=(v=ve(this,Hs).config).onError)==null||b.call(v,S,this),(j=(w=ve(this,Hs).config).onSettled)==null||j.call(w,this.state.data,S,this),S}finally{this.scheduleGc()}}},Ff=new WeakMap,qf=new WeakMap,Hs=new WeakMap,Au=new WeakMap,qn=new WeakMap,lv=new WeakMap,Tu=new WeakMap,wa=new WeakSet,Ho=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nU(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ot(this,qf,t.manual?i:void 0),i;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ii.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ve(this,Hs).notify({query:this,type:"updated",action:t})})},Jz);function nU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JV(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Kse(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var to,eV,Gse=(eV=class extends gv{constructor(t={}){super();At(this,to);this.config=t,ot(this,to,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??QT(i,r);let a=this.get(s);return a||(a=new Hse({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){ve(this,to).has(t.queryHash)||(ve(this,to).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ve(this,to).get(t.queryHash);r&&(t.destroy(),r===t&&ve(this,to).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ii.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ve(this,to).get(t)}getAll(){return[...ve(this,to).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bL(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>bL(t,n)):r}notify(t){ii.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ii.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ii.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},to=new WeakMap,eV),ro,ki,Pu,no,rc,tV,Yse=(tV=class extends rU{constructor(t){super();At(this,no);At(this,ro);At(this,ki);At(this,Pu);this.mutationId=t.mutationId,ot(this,ki,t.mutationCache),ot(this,ro,[]),this.state=t.state||Qse(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ve(this,ro).includes(t)||(ve(this,ro).push(t),this.clearGcTimeout(),ve(this,ki).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ot(this,ro,ve(this,ro).filter(r=>r!==t)),this.scheduleGc(),ve(this,ki).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ve(this,ro).length||(this.state.status==="pending"?this.scheduleGc():ve(this,ki).remove(this))}continue(){var t;return((t=ve(this,Pu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,l,c,u,f,d,m,p,x,y,v,b,w,j,S,C,E,k,O;const r=()=>{Jt(this,no,rc).call(this,{type:"continue"})};ot(this,Pu,tU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,R)=>{Jt(this,no,rc).call(this,{type:"failed",failureCount:M,error:R})},onPause:()=>{Jt(this,no,rc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ve(this,ki).canRun(this)}));const n=this.state.status==="pending",i=!ve(this,Pu).canStart();try{if(n)r();else{Jt(this,no,rc).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(s=ve(this,ki).config).onMutate)==null?void 0:a.call(s,t,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));R!==this.state.context&&Jt(this,no,rc).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const M=await ve(this,Pu).start();return await((f=(u=ve(this,ki).config).onSuccess)==null?void 0:f.call(u,M,t,this.state.context,this)),await((m=(d=this.options).onSuccess)==null?void 0:m.call(d,M,t,this.state.context)),await((x=(p=ve(this,ki).config).onSettled)==null?void 0:x.call(p,M,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,M,null,t,this.state.context)),Jt(this,no,rc).call(this,{type:"success",data:M}),M}catch(M){try{throw await((w=(b=ve(this,ki).config).onError)==null?void 0:w.call(b,M,t,this.state.context,this)),await((S=(j=this.options).onError)==null?void 0:S.call(j,M,t,this.state.context)),await((E=(C=ve(this,ki).config).onSettled)==null?void 0:E.call(C,void 0,M,this.state.variables,this.state.context,this)),await((O=(k=this.options).onSettled)==null?void 0:O.call(k,void 0,M,t,this.state.context)),M}finally{Jt(this,no,rc).call(this,{type:"error",error:M})}}finally{ve(this,ki).runNext(this)}}},ro=new WeakMap,ki=new WeakMap,Pu=new WeakMap,no=new WeakSet,rc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ii.batch(()=>{ve(this,ro).forEach(n=>{n.onMutationUpdate(t)}),ve(this,ki).notify({mutation:this,type:"updated",action:t})})},tV);function Qse(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yo,_a,cv,rV,Xse=(rV=class extends gv{constructor(t={}){super();At(this,Yo);At(this,_a);At(this,cv);this.config=t,ot(this,Yo,new Set),ot(this,_a,new Map),ot(this,cv,0)}build(t,r,n){const i=new Yse({mutationCache:this,mutationId:++fx(this,cv)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){ve(this,Yo).add(t);const r=yx(t);if(typeof r=="string"){const n=ve(this,_a).get(r);n?n.push(t):ve(this,_a).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ve(this,Yo).delete(t)){const r=yx(t);if(typeof r=="string"){const n=ve(this,_a).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&ve(this,_a).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=yx(t);if(typeof r=="string"){const n=ve(this,_a).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=yx(t);if(typeof r=="string"){const i=(n=ve(this,_a).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ii.batch(()=>{ve(this,Yo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ve(this,Yo).clear(),ve(this,_a).clear()})}getAll(){return Array.from(ve(this,Yo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wL(r,n))}findAll(t={}){return this.getAll().filter(r=>wL(t,r))}notify(t){ii.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ii.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ji))))}},Yo=new WeakMap,_a=new WeakMap,cv=new WeakMap,rV);function yx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function jL(e){return{onFetch:(t,r)=>{var f,d,m,p,x;const n=t.options,i=(m=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=ZV(t.options,t.fetchOptions),w=async(j,S,C)=>{if(y)return Promise.reject();if(S==null&&j.pages.length)return Promise.resolve(j);const k=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};return v(T),T})(),O=await b(k),{maxPages:M}=t.options,R=C?Fse:$se;return{pages:R(j.pages,O,M),pageParams:R(j.pageParams,S,M)}};if(i&&s.length){const j=i==="backward",S=j?Zse:CL,C={pages:s,pageParams:a},E=S(n,C);l=await w(C,E,j)}else{const j=e??s.length;do{const S=c===0?a[0]??n.initialPageParam:CL(n,l);if(c>0&&S==null)break;l=await w(l,S),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var y,v;return(v=(y=t.options).persister)==null?void 0:v.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function CL(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Zse(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var nn,hc,mc,Bf,zf,pc,Vf,Uf,nV,Jse=(nV=class{constructor(e={}){At(this,nn);At(this,hc);At(this,mc);At(this,Bf);At(this,zf);At(this,pc);At(this,Vf);At(this,Uf);ot(this,nn,e.queryCache||new Gse),ot(this,hc,e.mutationCache||new Xse),ot(this,mc,e.defaultOptions||{}),ot(this,Bf,new Map),ot(this,zf,new Map),ot(this,pc,0)}mount(){fx(this,pc)._++,ve(this,pc)===1&&(ot(this,Vf,ZT.subscribe(async e=>{e&&(await this.resumePausedMutations(),ve(this,nn).onFocus())})),ot(this,Uf,xb.subscribe(async e=>{e&&(await this.resumePausedMutations(),ve(this,nn).onOnline())})))}unmount(){var e,t;fx(this,pc)._--,ve(this,pc)===0&&((e=ve(this,Vf))==null||e.call(this),ot(this,Vf,void 0),(t=ve(this,Uf))==null||t.call(this),ot(this,Uf,void 0))}isFetching(e){return ve(this,nn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ve(this,hc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ve(this,nn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ve(this,nn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Sc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ve(this,nn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=ve(this,nn).get(n.queryHash),s=i==null?void 0:i.state.data,a=Ise(t,s);if(a!==void 0)return ve(this,nn).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return ii.batch(()=>ve(this,nn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ve(this,nn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ve(this,nn);ii.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ve(this,nn);return ii.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ii.batch(()=>ve(this,nn).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Ji).catch(Ji)}invalidateQueries(e,t={}){return ii.batch(()=>(ve(this,nn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ii.batch(()=>ve(this,nn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ji)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ji)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ve(this,nn).build(this,t);return r.isStaleByTime(Sc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ji).catch(Ji)}fetchInfiniteQuery(e){return e.behavior=jL(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ji).catch(Ji)}ensureInfiniteQueryData(e){return e.behavior=jL(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xb.isOnline()?ve(this,hc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ve(this,nn)}getMutationCache(){return ve(this,hc)}getDefaultOptions(){return ve(this,mc)}setDefaultOptions(e){ot(this,mc,e)}setQueryDefaults(e,t){ve(this,Bf).set(Zp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ve(this,Bf).values()],r={};return t.forEach(n=>{Jp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ve(this,zf).set(Zp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ve(this,zf).values()],r={};return t.forEach(n=>{Jp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ve(this,mc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=QT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===XT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ve(this,mc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ve(this,nn).clear(),ve(this,hc).clear()}},nn=new WeakMap,hc=new WeakMap,mc=new WeakMap,Bf=new WeakMap,zf=new WeakMap,pc=new WeakMap,Vf=new WeakMap,Uf=new WeakMap,nV),Xi,er,uv,Oi,Mu,Wf,Qo,gc,dv,Hf,Kf,Ru,Du,vc,Gf,br,wp,Hk,Kk,Gk,Yk,Qk,Xk,Zk,iU,iV,eae=(iV=class extends gv{constructor(t,r){super();At(this,br);At(this,Xi);At(this,er);At(this,uv);At(this,Oi);At(this,Mu);At(this,Wf);At(this,Qo);At(this,gc);At(this,dv);At(this,Hf);At(this,Kf);At(this,Ru);At(this,Du);At(this,vc);At(this,Gf,new Set);this.options=r,ot(this,Xi,t),ot(this,gc,null),ot(this,Qo,Wk()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ve(this,er).addObserver(this),NL(ve(this,er),this.options)?Jt(this,br,wp).call(this):this.updateResult(),Jt(this,br,Yk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jk(ve(this,er),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jk(ve(this,er),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Jt(this,br,Qk).call(this),Jt(this,br,Xk).call(this),ve(this,er).removeObserver(this)}setOptions(t){const r=this.options,n=ve(this,er);if(this.options=ve(this,Xi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ks(this.options.enabled,ve(this,er))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Jt(this,br,Zk).call(this),ve(this,er).setOptions(this.options),r._defaulted&&!zk(this.options,r)&&ve(this,Xi).getQueryCache().notify({type:"observerOptionsUpdated",query:ve(this,er),observer:this});const i=this.hasListeners();i&&EL(ve(this,er),n,this.options,r)&&Jt(this,br,wp).call(this),this.updateResult(),i&&(ve(this,er)!==n||Ks(this.options.enabled,ve(this,er))!==Ks(r.enabled,ve(this,er))||Sc(this.options.staleTime,ve(this,er))!==Sc(r.staleTime,ve(this,er)))&&Jt(this,br,Hk).call(this);const s=Jt(this,br,Kk).call(this);i&&(ve(this,er)!==n||Ks(this.options.enabled,ve(this,er))!==Ks(r.enabled,ve(this,er))||s!==ve(this,vc))&&Jt(this,br,Gk).call(this,s)}getOptimisticResult(t){const r=ve(this,Xi).getQueryCache().build(ve(this,Xi),t),n=this.createResult(r,t);return rae(this,n)&&(ot(this,Oi,n),ot(this,Wf,this.options),ot(this,Mu,ve(this,er).state)),n}getCurrentResult(){return ve(this,Oi)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ve(this,Qo).status==="pending"&&ve(this,Qo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,i))})}trackProp(t){ve(this,Gf).add(t)}getCurrentQuery(){return ve(this,er)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ve(this,Xi).defaultQueryOptions(t),n=ve(this,Xi).getQueryCache().build(ve(this,Xi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Jt(this,br,wp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ve(this,Oi)))}createResult(t,r){var M;const n=ve(this,er),i=this.options,s=ve(this,Oi),a=ve(this,Mu),l=ve(this,Wf),u=t!==n?t.state:ve(this,uv),{state:f}=t;let d={...f},m=!1,p;if(r._optimisticResults){const R=this.hasListeners(),T=!R&&NL(t,r),P=R&&EL(t,n,r,i);(T||P)&&(d={...d,...nU(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:y,status:v}=d;p=d.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let R;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(R=s.data,b=!0):R=typeof r.placeholderData=="function"?r.placeholderData((M=ve(this,Kf))==null?void 0:M.state.data,ve(this,Kf)):r.placeholderData,R!==void 0&&(v="success",p=Uk(s==null?void 0:s.data,R,r),m=!0)}if(r.select&&p!==void 0&&!b)if(s&&p===(a==null?void 0:a.data)&&r.select===ve(this,dv))p=ve(this,Hf);else try{ot(this,dv,r.select),p=r.select(p),p=Uk(s==null?void 0:s.data,p,r),ot(this,Hf,p),ot(this,gc,null)}catch(R){ot(this,gc,R)}ve(this,gc)&&(x=ve(this,gc),p=ve(this,Hf),y=Date.now(),v="error");const w=d.fetchStatus==="fetching",j=v==="pending",S=v==="error",C=j&&w,E=p!==void 0,O={status:v,fetchStatus:d.fetchStatus,isPending:j,isSuccess:v==="success",isError:S,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!j,isLoadingError:S&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&E,isStale:JT(t,r),refetch:this.refetch,promise:ve(this,Qo),isEnabled:Ks(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=I=>{O.status==="error"?I.reject(O.error):O.data!==void 0&&I.resolve(O.data)},T=()=>{const I=ot(this,Qo,O.promise=Wk());R(I)},P=ve(this,Qo);switch(P.status){case"pending":t.queryHash===n.queryHash&&R(P);break;case"fulfilled":(O.status==="error"||O.data!==P.value)&&T();break;case"rejected":(O.status!=="error"||O.error!==P.reason)&&T();break}}return O}updateResult(){const t=ve(this,Oi),r=this.createResult(ve(this,er),this.options);if(ot(this,Mu,ve(this,er).state),ot(this,Wf,this.options),ve(this,Mu).data!==void 0&&ot(this,Kf,ve(this,er)),zk(r,t))return;ot(this,Oi,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ve(this,Gf).size)return!0;const a=new Set(s??ve(this,Gf));return this.options.throwOnError&&a.add("error"),Object.keys(ve(this,Oi)).some(l=>{const c=l;return ve(this,Oi)[c]!==t[c]&&a.has(c)})};Jt(this,br,iU).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Jt(this,br,Yk).call(this)}},Xi=new WeakMap,er=new WeakMap,uv=new WeakMap,Oi=new WeakMap,Mu=new WeakMap,Wf=new WeakMap,Qo=new WeakMap,gc=new WeakMap,dv=new WeakMap,Hf=new WeakMap,Kf=new WeakMap,Ru=new WeakMap,Du=new WeakMap,vc=new WeakMap,Gf=new WeakMap,br=new WeakSet,wp=function(t){Jt(this,br,Zk).call(this);let r=ve(this,er).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ji)),r},Hk=function(){Jt(this,br,Qk).call(this);const t=Sc(this.options.staleTime,ve(this,er));if(zu||ve(this,Oi).isStale||!Bk(t))return;const n=QV(ve(this,Oi).dataUpdatedAt,t)+1;ot(this,Ru,setTimeout(()=>{ve(this,Oi).isStale||this.updateResult()},n))},Kk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ve(this,er)):this.options.refetchInterval)??!1},Gk=function(t){Jt(this,br,Xk).call(this),ot(this,vc,t),!(zu||Ks(this.options.enabled,ve(this,er))===!1||!Bk(ve(this,vc))||ve(this,vc)===0)&&ot(this,Du,setInterval(()=>{(this.options.refetchIntervalInBackground||ZT.isFocused())&&Jt(this,br,wp).call(this)},ve(this,vc)))},Yk=function(){Jt(this,br,Hk).call(this),Jt(this,br,Gk).call(this,Jt(this,br,Kk).call(this))},Qk=function(){ve(this,Ru)&&(clearTimeout(ve(this,Ru)),ot(this,Ru,void 0))},Xk=function(){ve(this,Du)&&(clearInterval(ve(this,Du)),ot(this,Du,void 0))},Zk=function(){const t=ve(this,Xi).getQueryCache().build(ve(this,Xi),this.options);if(t===ve(this,er))return;const r=ve(this,er);ot(this,er,t),ot(this,uv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},iU=function(t){ii.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ve(this,Oi))}),ve(this,Xi).getQueryCache().notify({query:ve(this,er),type:"observerResultsUpdated"})})},iV);function tae(e,t){return Ks(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function NL(e,t){return tae(e,t)||e.state.data!==void 0&&Jk(e,t,t.refetchOnMount)}function Jk(e,t,r){if(Ks(t.enabled,e)!==!1&&Sc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&JT(e,t)}return!1}function EL(e,t,r,n){return(e!==t||Ks(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&JT(e,r)}function JT(e,t){return Ks(t.enabled,e)!==!1&&e.isStaleByTime(Sc(t.staleTime,e))}function rae(e,t){return!zk(e.getCurrentResult(),t)}var sU=_.createContext(void 0),nae=e=>{const t=_.useContext(sU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iae=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(sU.Provider,{value:e,children:t})),aU=_.createContext(!1),sae=()=>_.useContext(aU);aU.Provider;function aae(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var oae=_.createContext(aae()),lae=()=>_.useContext(oae),cae=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},uae=e=>{_.useEffect(()=>{e.clearReset()},[e])},dae=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||qse(r,[e.error,n])),fae=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},hae=(e,t)=>e.isLoading&&e.isFetching&&!t,mae=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,kL=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function pae(e,t,r){var d,m,p,x,y;const n=sae(),i=lae(),s=nae(),a=s.defaultQueryOptions(e);(m=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,a),a._optimisticResults=n?"isRestoring":"optimistic",fae(a),cae(a,i),uae(i);const l=!s.getQueryCache().get(a.queryHash),[c]=_.useState(()=>new t(s,a)),u=c.getOptimisticResult(a),f=!n&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(v=>{const b=f?c.subscribe(ii.batchCalls(v)):Ji;return c.updateResult(),b},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(a)},[a,c]),mae(a,u))throw kL(a,c,i);if(dae({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((x=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,a,u),a.experimental_prefetchInRender&&!zu&&hae(u,n)){const v=l?kL(a,c,i):(y=s.getQueryCache().get(a.queryHash))==null?void 0:y.promise;v==null||v.catch(Ji).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function gae(e,t){return pae(e,eae)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}var yc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yc||(yc={}));const OL="popstate";function vae(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:l}=n.location;return eO("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:bb(i)}return xae(t,r,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yae(){return Math.random().toString(36).substr(2,8)}function AL(e,t){return{usr:e.state,key:e.key,idx:t}}function eO(e,t,r,n){return r===void 0&&(r=null),eg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Uh(t):t,{state:r,key:t&&t.key||n||yae()})}function bb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Uh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function xae(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l=yc.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(eg({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=yc.Pop;let v=f(),b=v==null?null:v-u;u=v,c&&c({action:l,location:y.location,delta:b})}function m(v,b){l=yc.Push;let w=eO(y.location,v,b);u=f()+1;let j=AL(w,u),S=y.createHref(w);try{a.pushState(j,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}s&&c&&c({action:l,location:y.location,delta:1})}function p(v,b){l=yc.Replace;let w=eO(y.location,v,b);u=f();let j=AL(w,u),S=y.createHref(w);a.replaceState(j,"",S),s&&c&&c({action:l,location:y.location,delta:0})}function x(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:bb(v);return w=w.replace(/ $/,"%20"),hn(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return l},get location(){return e(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(OL,d),c=v,()=>{i.removeEventListener(OL,d),c=null}},createHref(v){return t(i,v)},createURL:x,encodeLocation(v){let b=x(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(v){return a.go(v)}};return y}var TL;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(TL||(TL={}));function bae(e,t,r){return r===void 0&&(r="/"),wae(e,t,r)}function wae(e,t,r,n){let i=typeof t=="string"?Uh(t):t,s=e2(i.pathname||"/",r);if(s==null)return null;let a=lU(e);_ae(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Rae(s);l=Tae(a[c],u)}return l}function lU(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(hn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=jc([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(hn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lU(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Oae(u,s.index),routesMeta:f})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of cU(s.path))i(s,a,c)}),t}function cU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=cU(n.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _ae(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Aae(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Sae=/^:[\w-]+$/,jae=3,Cae=2,Nae=1,Eae=10,kae=-2,PL=e=>e==="*";function Oae(e,t){let r=e.split("/"),n=r.length;return r.some(PL)&&(n+=kae),t&&(n+=Cae),r.filter(i=>!PL(i)).reduce((i,s)=>i+(Sae.test(s)?jae:s===""?Nae:Eae),n)}function Aae(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Tae(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",d=Pae({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:jc([s,d.pathname]),pathnameBase:$ae(jc([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=jc([s,d.pathnameBase]))}return a}function Pae(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Mae(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let y=l[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[d];return p&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function Mae(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),oU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Rae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function e2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Dae(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Uh(e):e;return{pathname:r?r.startsWith("/")?r:Iae(r,t):t,search:Fae(n),hash:qae(i)}}function Iae(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function yS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lae(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function t2(e,t){let r=Lae(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function r2(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Uh(e):(i=eg({},e),hn(!i.pathname||!i.pathname.includes("?"),yS("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),yS("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),yS("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=Dae(i,l),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const jc=e=>e.join("/").replace(/\/\/+/g,"/"),$ae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uU=["post","put","patch","delete"];new Set(uU);const zae=["get",...uU];new Set(zae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(this,arguments)}const n2=_.createContext(null),Vae=_.createContext(null),Lc=_.createContext(null),uw=_.createContext(null),Oo=_.createContext({outlet:null,matches:[],isDataRoute:!1}),dU=_.createContext(null);function Uae(e,t){let{relative:r}=t===void 0?{}:t;Wh()||hn(!1);let{basename:n,navigator:i}=_.useContext(Lc),{hash:s,pathname:a,search:l}=pU(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:jc([n,a])),i.createHref({pathname:c,search:l,hash:s})}function Wh(){return _.useContext(uw)!=null}function cs(){return Wh()||hn(!1),_.useContext(uw).location}function fU(e){_.useContext(Lc).static||_.useLayoutEffect(e)}function on(){let{isDataRoute:e}=_.useContext(Oo);return e?ioe():Wae()}function Wae(){Wh()||hn(!1);let e=_.useContext(n2),{basename:t,future:r,navigator:n}=_.useContext(Lc),{matches:i}=_.useContext(Oo),{pathname:s}=cs(),a=JSON.stringify(t2(i,r.v7_relativeSplatPath)),l=_.useRef(!1);return fU(()=>{l.current=!0}),_.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=r2(u,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:jc([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,a,s,e])}const hU=_.createContext(null);function mU(){return _.useContext(hU)}function Hae(e){let t=_.useContext(Oo).outlet;return t&&_.createElement(hU.Provider,{value:e},t)}function i2(){let{matches:e}=_.useContext(Oo),t=e[e.length-1];return t?t.params:{}}function pU(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Lc),{matches:i}=_.useContext(Oo),{pathname:s}=cs(),a=JSON.stringify(t2(i,n.v7_relativeSplatPath));return _.useMemo(()=>r2(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function Kae(e,t){return Gae(e,t)}function Gae(e,t,r,n){Wh()||hn(!1);let{navigator:i}=_.useContext(Lc),{matches:s}=_.useContext(Oo),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=cs(),f;if(t){var d;let v=typeof t=="string"?Uh(t):t;c==="/"||(d=v.pathname)!=null&&d.startsWith(c)||hn(!1),f=v}else f=u;let m=f.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=bae(e,{pathname:p}),y=Jae(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:jc([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:jc([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&y?_.createElement(uw.Provider,{value:{location:tg({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:yc.Pop}},y):y}function Yae(){let e=noe(),t=Bae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:i},r):null,null)}const Qae=_.createElement(Yae,null);class Xae extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(Oo.Provider,{value:this.props.routeContext},_.createElement(dU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zae(e){let{routeContext:t,match:r,children:n}=e,i=_.useContext(n2);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Oo.Provider,{value:t},n)}function Jae(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||hn(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:p}=r,x=d.route.loader&&m[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,m)=>{let p,x=!1,y=null,v=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||Qae,c&&(u<0&&m===0?(soe("route-fallback"),x=!0,v=null):u===m&&(x=!0,v=d.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,m+1)),w=()=>{let j;return p?j=y:x?j=v:d.route.Component?j=_.createElement(d.route.Component,null):d.route.element?j=d.route.element:j=f,_.createElement(Zae,{match:d,routeContext:{outlet:f,matches:b,isDataRoute:r!=null},children:j})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?_.createElement(Xae,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var gU=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(gU||{}),vU=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(vU||{});function eoe(e){let t=_.useContext(n2);return t||hn(!1),t}function toe(e){let t=_.useContext(Vae);return t||hn(!1),t}function roe(e){let t=_.useContext(Oo);return t||hn(!1),t}function yU(e){let t=roe(),r=t.matches[t.matches.length-1];return r.route.id||hn(!1),r.route.id}function noe(){var e;let t=_.useContext(dU),r=toe(),n=yU();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ioe(){let{router:e}=eoe(gU.UseNavigateStable),t=yU(vU.UseNavigateStable),r=_.useRef(!1);return fU(()=>{r.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,tg({fromRouteId:t},s)))},[e,t])}const ML={};function soe(e,t,r){ML[e]||(ML[e]=!0)}function aoe(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wb(e){let{to:t,replace:r,state:n,relative:i}=e;Wh()||hn(!1);let{future:s,static:a}=_.useContext(Lc),{matches:l}=_.useContext(Oo),{pathname:c}=cs(),u=on(),f=r2(t,t2(l,s.v7_relativeSplatPath),c,i==="path"),d=JSON.stringify(f);return _.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function xU(e){return Hae(e.context)}function Qi(e){hn(!1)}function ooe(e){let{basename:t="/",children:r=null,location:n,navigationType:i=yc.Pop,navigator:s,static:a=!1,future:l}=e;Wh()&&hn(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:s,static:a,future:tg({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof n=="string"&&(n=Uh(n));let{pathname:f="/",search:d="",hash:m="",state:p=null,key:x="default"}=n,y=_.useMemo(()=>{let v=e2(f,c);return v==null?null:{location:{pathname:v,search:d,hash:m,state:p,key:x},navigationType:i}},[c,f,d,m,p,x,i]);return y==null?null:_.createElement(Lc.Provider,{value:u},_.createElement(uw.Provider,{children:r,value:y}))}function loe(e){let{children:t,location:r}=e;return Kae(tO(t),r)}new Promise(()=>{});function tO(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,i)=>{if(!_.isValidElement(n))return;let s=[...t,i];if(n.type===_.Fragment){r.push.apply(r,tO(n.props.children,s));return}n.type!==Qi&&hn(!1),!n.props.index||!n.props.children||hn(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=tO(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rO.apply(this,arguments)}function coe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function uoe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function doe(e,t){return e.button===0&&(!t||t==="_self")&&!uoe(e)}function nO(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function foe(e,t){let r=nO(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const hoe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],moe="6";try{window.__reactRouterVersion=moe}catch{}const poe="startTransition",RL=$T[poe];function goe(e){let{basename:t,children:r,future:n,window:i}=e,s=_.useRef();s.current==null&&(s.current=vae({window:i,v5Compat:!0}));let a=s.current,[l,c]=_.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},f=_.useCallback(d=>{u&&RL?RL(()=>c(d)):c(d)},[c,u]);return _.useLayoutEffect(()=>a.listen(f),[a,f]),_.useEffect(()=>aoe(n),[n]),_.createElement(ooe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const voe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yoe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=_.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,m=coe(t,hoe),{basename:p}=_.useContext(Lc),x,y=!1;if(typeof u=="string"&&yoe.test(u)&&(x=u,voe))try{let j=new URL(window.location.href),S=u.startsWith("//")?new URL(j.protocol+u):new URL(u),C=e2(S.pathname,p);S.origin===j.origin&&C!=null?u=C+S.search+S.hash:y=!0}catch{}let v=Uae(u,{relative:i}),b=xoe(u,{replace:a,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:d});function w(j){n&&n(j),j.defaultPrevented||b(j)}return _.createElement("a",rO({},m,{href:x||v,onClick:y||s?n:w,ref:r,target:c}))});var DL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DL||(DL={}));var IL;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(IL||(IL={}));function xoe(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,c=on(),u=cs(),f=pU(e,{relative:a});return _.useCallback(d=>{if(doe(d,r)){d.preventDefault();let m=n!==void 0?n:bb(u)===bb(f);c(e,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,f,n,i,r,e,s,a,l])}function s2(e){let t=_.useRef(nO(e)),r=_.useRef(!1),n=cs(),i=_.useMemo(()=>foe(n.search,r.current?null:t.current),[n.search]),s=on(),a=_.useCallback((l,c)=>{const u=nO(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,a]}const LL=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$L=ir,dw=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return $L(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const f=r==null?void 0:r[u],d=s==null?void 0:s[u];if(f===null)return null;const m=LL(f)||LL(d);return i[u][m]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,m]=f;return m===void 0||(u[d]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:m,...p}=f;return Object.entries(p).every(x=>{let[y,v]=x;return Array.isArray(v)?v.includes({...s,...l}[y]):{...s,...l}[y]===v})?[...u,d,m]:u},[]);return $L(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},rg=dw("inline-flex items-center justify-center whitespace-nowrap rounded-card-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-card-lg px-3",lg:"h-11 rounded-card-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const a=n?oV:"button";return o.jsx(a,{className:Ne(rg({variant:t,size:r,className:e})),ref:s,...i})});me.displayName="Button";const Ia=({iconClassName:e,textClassName:t,showText:r=!0,onLogoClick:n=()=>{}})=>o.jsxs("div",{className:"flex items-center gap-2",onClick:n,children:[" ",o.jsx("div",{className:Ne("w-8 h-8",e),children:o.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[o.jsx("ellipse",{cx:"50",cy:"50",rx:"45",ry:"20",stroke:"hsl(var(--primary) / 0.3)",strokeWidth:"3",fill:"none",transform:"rotate(30 50 50)"}),o.jsx("ellipse",{cx:"50",cy:"50",rx:"45",ry:"20",stroke:"hsl(var(--primary) / 0.3)",strokeWidth:"3",fill:"none",transform:"rotate(-30 50 50)"}),o.jsx("ellipse",{cx:"50",cy:"50",rx:"20",ry:"45",stroke:"hsl(var(--primary) / 0.3)",strokeWidth:"3",fill:"none"}),o.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"hsl(var(--primary))"}),o.jsx("circle",{r:"5",fill:"hsl(var(--primary))",children:o.jsx("animateMotion",{dur:"4s",repeatCount:"indefinite",path:"M 50,30 A 45 20 30 1 1 49.9,30.1 Z"})}),o.jsx("circle",{r:"5",fill:"hsl(var(--primary))",children:o.jsx("animateMotion",{dur:"5s",repeatCount:"indefinite",path:"M 50,70 A 45 20 -30 1 1 49.9,70.1 Z"})}),o.jsx("circle",{r:"5",fill:"hsl(var(--primary))",children:o.jsx("animateMotion",{dur:"6s",repeatCount:"indefinite",path:"M 30,50 A 20 45 0 1 1 29.9,50.1 Z"})})]})}),r&&o.jsx("h1",{className:Ne("text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",t),children:"AcademIA"})]}),Re=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ne("rounded-card-lg border bg-card text-card-foreground shadow-card-shadow",e),...t}));Re.displayName="Card";const Be=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ne("flex flex-col space-y-1.5 p-6",e),...t}));Be.displayName="CardHeader";const Fe=_.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Ne("font-semibold leading-none tracking-tight",e),...t}));Fe.displayName="CardTitle";const Le=_.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));Le.displayName="CardDescription";const qe=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ne("p-6 pt-0",e),...t}));qe.displayName="CardContent";const boe=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ne("flex items-center p-6 pt-0",e),...t}));boe.displayName="CardFooter";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bU=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _oe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...l},c)=>_.createElement("svg",{ref:c,..._oe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:bU("lucide",i),...l},[...a.map(([u,f])=>_.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(e,t)=>{const r=_.forwardRef(({className:n,...i},s)=>_.createElement(Soe,{ref:s,iconNode:t,className:bU(`lucide-${woe(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=We("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=We("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=We("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=We("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=We("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=We("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=We("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=We("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=We("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M8 7h6",key:"1f0q6e"}],["path",{d:"M8 11h8",key:"vwpz6n"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=We("BotMessageSquare",[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=We("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=We("BriefcaseBusiness",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=We("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=We("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=We("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=We("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=We("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=We("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=We("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=We("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=We("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=We("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=We("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=We("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=We("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=We("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=We("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=We("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=We("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=We("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=We("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=We("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=We("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=We("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=We("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=We("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=We("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=We("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=We("MailQuestion",[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M18 15.28c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"7z9rxb"}],["path",{d:"M20 22v.01",key:"12bgn6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=We("MessageCircleMore",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=We("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=We("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=We("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=We("NotebookText",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=We("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=We("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=We("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=We("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=We("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=We("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=We("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=We("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=We("SunMoon",[["path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4",key:"1fu5g2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.9 4.9 1.4 1.4",key:"b9915j"}],["path",{d:"m17.7 17.7 1.4 1.4",key:"qc3ed3"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.3 17.7-1.4 1.4",key:"5gca6"}],["path",{d:"m19.1 4.9-1.4 1.4",key:"wpu9u6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=We("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=We("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=We("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=We("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=We("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=We("UserRoundCog",[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m19.5 14.3-.4.9",key:"1eb35c"}],["path",{d:"m16.9 20.8-.4.9",key:"dfjc4z"}],["path",{d:"m21.7 19.5-.9-.4",key:"q4dx6b"}],["path",{d:"m15.2 16.9-.9-.4",key:"1r0w5f"}],["path",{d:"m21.7 16.5-.9.4",key:"1knoei"}],["path",{d:"m15.2 19.1-.9.4",key:"j188fs"}],["path",{d:"m19.5 21.7-.4-.9",key:"1tonu5"}],["path",{d:"m16.9 15.2-.4-.9",key:"699xu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=We("UserRoundSearch",[["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m22 22-1.9-1.9",key:"1e5ubv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=We("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=We("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=We("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var _b=["light","dark"],m2="(prefers-color-scheme: dark)",qoe=typeof window>"u",p2=_.createContext(void 0),Boe={setTheme:e=>{},themes:[]},g2=()=>{var e;return(e=_.useContext(p2))!=null?e:Boe},zoe=e=>_.useContext(p2)?e.children:_.createElement(Uoe,{...e}),Voe=["light","dark"],Uoe=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:s=Voe,defaultTheme:a=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:f})=>{let[d,m]=_.useState(()=>qL(i,a)),[p,x]=_.useState(()=>qL(i)),y=c?Object.values(c):s,v=_.useCallback(S=>{let C=S;if(!C)return;S==="system"&&r&&(C=BL());let E=c?c[C]:C,k=t?Hoe():null,O=document.documentElement;if(l==="class"?(O.classList.remove(...y),E&&O.classList.add(E)):E?O.setAttribute(l,E):O.removeAttribute(l),n){let M=_b.includes(a)?a:null,R=_b.includes(C)?C:M;O.style.colorScheme=R}k==null||k()},[]),b=_.useCallback(S=>{let C=typeof S=="function"?S(S):S;m(C);try{localStorage.setItem(i,C)}catch{}},[e]),w=_.useCallback(S=>{let C=BL(S);x(C),d==="system"&&r&&!e&&v("system")},[d,e]);_.useEffect(()=>{let S=window.matchMedia(m2);return S.addListener(w),w(S),()=>S.removeListener(w)},[w]),_.useEffect(()=>{let S=C=>{if(C.key!==i)return;let E=C.newValue||a;b(E)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[b]),_.useEffect(()=>{v(e??d)},[e,d]);let j=_.useMemo(()=>({theme:d,setTheme:b,forcedTheme:e,resolvedTheme:d==="system"?p:d,themes:r?[...s,"system"]:s,systemTheme:r?p:void 0}),[d,b,e,p,r,s]);return _.createElement(p2.Provider,{value:j},_.createElement(Woe,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:i,themes:s,defaultTheme:a,attribute:l,value:c,children:u,attrs:y,nonce:f}),u)},Woe=_.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let u=s==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?_b.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,y=!1,v=!0)=>{let b=a?a[x]:x,w=y?x+"|| ''":`'${b}'`,j="";return i&&v&&!y&&_b.includes(x)&&(j+=`d.style.colorScheme = '${x}';`),r==="class"?y||b?j+=`c.add(${w})`:j+="null":b&&(j+=`d[s](n,${w})`),j},p=e?`!function(){${f}${m(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${m2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(s,!1,!1)};}${d}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),qL=(e,t)=>{if(qoe)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Hoe=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},BL=e=>(e||(e=window.matchMedia(m2)),e.matches?"dark":"light");const Koe="modulepreload",Goe=function(e){return"/"+e},zL={},yv=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(r.map(u=>{if(u=Goe(u),u in zL)return;zL[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Koe,f||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((p,x)=>{m.addEventListener("load",p),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Yoe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yv(async()=>{const{default:n}=await Promise.resolve().then(()=>rm);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class v2 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Qoe extends v2{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VL extends v2{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class UL extends v2{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var aO;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(aO||(aO={}));var Xoe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Zoe{constructor(t,{headers:r={},customFetch:n,region:i=aO.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Yoe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Xoe(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(l["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(l["Content-Type"]="application/json",f=JSON.stringify(a)));const d=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(y=>{throw new Qoe(y)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new VL(d);if(!d.ok)throw new UL(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield d.json():p==="application/octet-stream"?x=yield d.blob():p==="text/event-stream"?x=d:p==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof UL||i instanceof VL?i.context:void 0}}})}}var Fn={},Bd={},zd={},Vd={},Ud={},Wd={},Joe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xf=Joe();const ele=Xf.fetch,IU=Xf.fetch.bind(Xf),LU=Xf.Headers,tle=Xf.Request,rle=Xf.Response,rm=Object.freeze(Object.defineProperty({__proto__:null,Headers:LU,Request:tle,Response:rle,default:IU,fetch:ele},Symbol.toStringTag,{value:"Module"})),nle=fre(rm);var bx={},WL;function $U(){if(WL)return bx;WL=1,Object.defineProperty(bx,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return bx.default=e,bx}var HL;function FU(){if(HL)return Wd;HL=1;var e=Wd&&Wd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wd,"__esModule",{value:!0});const t=e(nle),r=e($U());class n{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,d,m,p;let x=null,y=null,v=null,b=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?y=E:y=JSON.parse(E))}const S=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),C=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&C&&C.length>1&&(v=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(x={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,b=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const S=await u.text();try{x=JSON.parse(S),Array.isArray(x)&&u.status===404&&(y=[],x=null,b=200,w="OK")}catch{u.status===404&&S===""?(b=204,w="No Content"):x={message:S}}if(x&&this.isMaybeSingle&&(!((p=x==null?void 0:x.details)===null||p===void 0)&&p.includes("0 rows"))&&(x=null,b=200,w="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:y,count:v,status:b,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,d,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}}return Wd.default=n,Wd}var KL;function qU(){if(KL)return Ud;KL=1;var e=Ud&&Ud.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ud,"__esModule",{value:!0});const t=e(FU());class r extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var f;const d=[i?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ud.default=r,Ud}var GL;function y2(){if(GL)return Vd;GL=1;var e=Vd&&Vd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vd,"__esModule",{value:!0});const t=e(qU());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return Vd.default=r,Vd}var YL;function BU(){if(YL)return zd;YL=1;var e=zd&&zd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zd,"__esModule",{value:!0});const t=e(y2());class r{constructor(i,{headers:s={},schema:a,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(i,{head:s=!1,count:a}={}){const l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(d.length>0){const m=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return zd.default=r,zd}var QL;function ile(){if(QL)return Bd;QL=1;var e=Bd&&Bd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bd,"__esModule",{value:!0});const t=e(BU()),r=e(y2());class n{constructor(s,{headers:a={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(s){const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:c=!1,count:u}={}){var f;let d;const m=new URL(`${this.url}/rpc/${s}`);let p;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{m.searchParams.append(y,v)})):(d="POST",p=a);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:d,url:m,headers:x,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Bd.default=n,Bd}var XL;function sle(){if(XL)return Fn;XL=1;var e=Fn&&Fn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.PostgrestError=Fn.PostgrestBuilder=Fn.PostgrestTransformBuilder=Fn.PostgrestFilterBuilder=Fn.PostgrestQueryBuilder=Fn.PostgrestClient=void 0;const t=e(ile());Fn.PostgrestClient=t.default;const r=e(BU());Fn.PostgrestQueryBuilder=r.default;const n=e(y2());Fn.PostgrestFilterBuilder=n.default;const i=e(qU());Fn.PostgrestTransformBuilder=i.default;const s=e(FU());Fn.PostgrestBuilder=s.default;const a=e($U());return Fn.PostgrestError=a.default,Fn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Fn}var ale=sle();const ole=wr(ale),{PostgrestClient:lle,PostgrestQueryBuilder:gqe,PostgrestFilterBuilder:vqe,PostgrestTransformBuilder:yqe,PostgrestBuilder:xqe,PostgrestError:bqe}=ole;class cle{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ule="2.15.1",dle=`realtime-js/${ule}`,fle="1.0.0",oO=1e4,hle=1e3,mle=100;var Pp;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pp||(Pp={}));var Cn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cn||(Cn={}));var Sa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sa||(Sa={}));var lO;(function(e){e.websocket="websocket"})(lO||(lO={}));var bu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bu||(bu={}));class ple{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class zU{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tr||(Tr={}));const ZL=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=gle(a,e,t,i),s),{})},gle=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?VU(s,a):cO(a)},VU=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ble(t,r)}switch(e){case Tr.bool:return vle(t);case Tr.float4:case Tr.float8:case Tr.int2:case Tr.int4:case Tr.int8:case Tr.numeric:case Tr.oid:return yle(t);case Tr.json:case Tr.jsonb:return xle(t);case Tr.timestamp:return wle(t);case Tr.abstime:case Tr.date:case Tr.daterange:case Tr.int4range:case Tr.int8range:case Tr.money:case Tr.reltime:case Tr.text:case Tr.time:case Tr.timestamptz:case Tr.timetz:case Tr.tsrange:case Tr.tstzrange:return cO(t);default:return cO(t)}},cO=e=>e,vle=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yle=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xle=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ble=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>VU(t,l))}return e},wle=e=>typeof e=="string"?e.replace(" ","T"):e,UU=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class bS{constructor(t,r,n={},i=oO){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var JL;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(JL||(JL={}));class Mp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mp.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Mp.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mp.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,f)=>{a[u]||(c[u]=f)}),this.map(a,(u,f)=>{const d=s[u];if(d){const m=f.map(v=>v.presence_ref),p=d.map(v=>v.presence_ref),x=f.filter(v=>p.indexOf(v.presence_ref)<0),y=d.filter(v=>m.indexOf(v.presence_ref)<0);x.length>0&&(l[u]=x),y.length>0&&(c[u]=y)}else l[u]=f}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),m=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,f,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(e4||(e4={}));var Rp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Rp||(Rp={}));var Go;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Go||(Go={}));class x2{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bS(this,Sa.join,this.params,this.timeout),this.rejoinTimer=new zU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sa.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Mp(this),this.broadcastEndpointURL=UU(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Cn.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Rp.PRESENCE]&&this.bindings[Rp.PRESENCE].length>0,f={},d={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Go.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Go.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Go.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,v=[];for(let b=0;b<y;b++){const w=x[b],{filter:{event:j,schema:S,table:C,filter:E}}=w,k=m&&m[b];if(k&&k.event===j&&k.schema===S&&k.table===C&&k.filter===E)v.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Cn.errored,t==null||t(Go.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Go.SUBSCRIBED);return}}).receive("error",m=>{this.state=Cn.errored,t==null||t(Go.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Go.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Cn.joined&&t===Rp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new bS(this,Sa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bS(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mle){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Sa;if(n&&[l,c,u,f].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var x,y,v;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(m,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var x,y,v,b,w,j;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,C=(x=p.filter)===null||x===void 0?void 0:x.event;return S&&((y=r.ids)===null||y===void 0?void 0:y.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:y,table:v,commit_timestamp:b,type:w,errors:j}=x;m=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:j}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===Cn.closed}_isJoined(){return this.state===Cn.joined}_isJoining(){return this.state===Cn.joining}_isLeaving(){return this.state===Cn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&x2.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sa.close,{},t)}_onError(t){this._on(Sa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ZL(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ZL(t.columns,t.old_record)),r}}const t4=()=>{},wx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_le=[1e3,2e3,5e3,1e4],Sle=1e4,jle=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cle{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oO,this.transport=null,this.heartbeatIntervalMs=wx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=t4,this.ref=0,this.reconnectTimer=null,this.logger=t4,this.conn=null,this.sendBuffer=[],this.serializer=new ple,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>yv(async()=>{const{default:l}=await Promise.resolve().then(()=>rm);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${lO.websocket}`,this.httpEndpoint=UU(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cle.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fle}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pp.connecting:return bu.Connecting;case Pp.open:return bu.Open;case Pp.closing:return bu.Closing;default:return bu.Closed}}isConnected(){return this.connectionState()===bu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new x2(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(hle,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wx.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,l=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([jle],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:dle};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Sa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:oO,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:wx.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:(f=>_le[f-1]||Sle),this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:((f,d)=>d(JSON.stringify(f))),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class b2 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function En(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Nle extends b2{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uO extends b2{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ele=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const WU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yv(async()=>{const{default:n}=await Promise.resolve().then(()=>rm);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},kle=()=>Ele(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yv(()=>Promise.resolve().then(()=>rm),void 0)).Response:Response}),dO=e=>{if(Array.isArray(e))return e.map(r=>dO(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=dO(n)}),t},Ole=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ud=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const wS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ale=(e,t,r)=>ud(void 0,void 0,void 0,function*(){const n=yield kle();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new Nle(wS(i),s,a))}).catch(i=>{t(new uO(wS(i),i))}):t(new uO(wS(e),e))}),Tle=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Ole(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function xv(e,t,r,n,i,s){return ud(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Tle(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Ale(c,l,n))})})}function Sb(e,t,r,n){return ud(this,void 0,void 0,function*(){return xv(e,"GET",t,r,n)})}function eo(e,t,r,n,i){return ud(this,void 0,void 0,function*(){return xv(e,"POST",t,n,i,r)})}function fO(e,t,r,n,i){return ud(this,void 0,void 0,function*(){return xv(e,"PUT",t,n,i,r)})}function Ple(e,t,r,n){return ud(this,void 0,void 0,function*(){return xv(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function HU(e,t,r,n,i){return ud(this,void 0,void 0,function*(){return xv(e,"DELETE",t,n,i,r)})}var Ni=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Mle={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rle{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=WU(i)}uploadOrUpdate(t,r,n,i){return Ni(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},r4),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield(t=="PUT"?fO:eo)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(En(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ni(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ni(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:r4.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield fO(this.fetch,l.toString(),c,{headers:f});return{data:{path:s,fullPath:d.Key},error:null}}catch(c){if(En(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ni(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield eo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new b2("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ni(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ni(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ni(this,void 0,void 0,function*(){try{return{data:{path:(yield eo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ni(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield eo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ni(this,void 0,void 0,function*(){try{const i=yield eo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}download(t,r){return Ni(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Sb(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(En(l))return{data:null,error:l};throw l}})}info(t){return Ni(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Sb(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dO(n),error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}exists(t){return Ni(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ple(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(En(n)&&n instanceof uO){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ni(this,void 0,void 0,function*(){try{return{data:yield HU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ni(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Mle),r),{prefix:t||""});return{data:yield eo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ni(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield eo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Dle="2.11.0",Ile={"X-Client-Info":`storage-js/${Dle}`};var Hd=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Lle{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Ile),r),this.fetch=WU(n)}listBuckets(){return Hd(this,void 0,void 0,function*(){try{return{data:yield Sb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(En(t))return{data:null,error:t};throw t}})}getBucket(t){return Hd(this,void 0,void 0,function*(){try{return{data:yield Sb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Hd(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Hd(this,void 0,void 0,function*(){try{return{data:yield fO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Hd(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Hd(this,void 0,void 0,function*(){try{return{data:yield HU(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}})}}class $le extends Lle{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new Rle(this.url,this.headers,t,this.fetch)}}const Fle="2.56.0";let _p="";typeof Deno<"u"?_p="deno":typeof document<"u"?_p="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_p="react-native":_p="node";const qle={"X-Client-Info":`supabase-js-${_p}/${Fle}`},Ble={headers:qle},zle={schema:"public"},Vle={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ule={};var Wle=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Hle=e=>{let t;return e?t=e:typeof fetch>"u"?t=IU:t=fetch,(...r)=>t(...r)},Kle=()=>typeof Headers>"u"?LU:Headers,Gle=(e,t,r)=>{const n=Hle(r),i=Kle();return(s,a)=>Wle(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var Yle=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Qle(e){return e.endsWith("/")?e:e+"/"}function Xle(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Yle(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const KU="2.71.1",cf=30*1e3,hO=3,_S=hO*cf,Zle="http://localhost:9999",Jle="supabase.auth.token",ece={"X-Client-Info":`gotrue-js/${KU}`},mO="X-Supabase-Api-Version",GU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rce=600*1e3;class w2 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nce extends w2{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ice(e){return Ft(e)&&e.name==="AuthApiError"}class YU extends w2{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fc extends w2{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class nc extends Fc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sce(e){return Ft(e)&&e.name==="AuthSessionMissingError"}class _x extends Fc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sx extends Fc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jx extends Fc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ace(e){return Ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class n4 extends Fc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pO extends Fc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function SS(e){return Ft(e)&&e.name==="AuthRetryableFetchError"}class i4 extends Fc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gO extends Fc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),s4=` 	
\r=`.split(""),oce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<s4.length;t+=1)e[s4[t].charCodeAt(0)]=-2;for(let t=0;t<jb.length;t+=1)e[jb[t].charCodeAt(0)]=t;return e})();function a4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jb[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jb[n]),t.queuedBits-=6}}function QU(e,t,r){const n=oce[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function o4(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{uce(a,n,r)};for(let a=0;a<e.length;a+=1)QU(e.charCodeAt(a),i,s);return t.join("")}function lce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cce(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}lce(n,t)}}function uce(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function dce(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)QU(e.charCodeAt(i),r,n);return new Uint8Array(t)}function fce(e){const t=[];return cce(e,r=>t.push(r)),new Uint8Array(t)}function hce(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>a4(i,r,n)),a4(null,r,n),t.join("")}function mce(e){return Math.round(Date.now()/1e3)+e}function pce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ya=()=>typeof window<"u"&&typeof document<"u",uu={tested:!1,writable:!1},XU=()=>{if(!ya())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(uu.tested)return uu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),uu.tested=!0,uu.writable=!0}catch{uu.tested=!0,uu.writable=!1}return uu.writable};function gce(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const ZU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yv(async()=>{const{default:n}=await Promise.resolve().then(()=>rm);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vce=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},du=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zl=async(e,t)=>{await e.removeItem(t)};class mw{constructor(){this.promise=new mw.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}mw.promiseConstructor=Promise;function jS(e){const t=e.split(".");if(t.length!==3)throw new gO("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!tce.test(t[n]))throw new gO("JWT not in base64url format");return{header:JSON.parse(o4(t[0])),payload:JSON.parse(o4(t[1])),signature:dce(t[2]),raw:{header:t[0],payload:t[1]}}}async function yce(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xce(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function bce(e){return("0"+e.toString(16)).substr(-2)}function wce(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,bce).join("")}async function _ce(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Sce(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await _ce(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kd(e,t,r=!1){const n=wce();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await uf(e,`${t}-code-verifier`,i);const s=await Sce(n);return[s,n===s?"plain":"s256"]}const jce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cce(e){const t=e.headers.get(mO);if(!t||!t.match(jce))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Nce(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ece(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gd(e){if(!kce.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function CS(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function l4(e){return JSON.parse(JSON.stringify(e))}var Oce=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const pu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ace=[502,503,504];async function c4(e){var t;if(!vce(e))throw new pO(pu(e),0);if(Ace.includes(e.status))throw new pO(pu(e),e.status);let r;try{r=await e.json()}catch(s){throw new YU(pu(s),s)}let n;const i=Cce(e);if(i&&i.getTime()>=GU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new i4(pu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new nc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new i4(pu(r),e.status,r.weak_password.reasons);throw new nce(pu(r),e.status||500,n)}const Tce=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Gt(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[mO]||(s[mO]=GU["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Pce(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Pce(e,t,r,n,i,s){const a=Tce(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new pO(pu(c),0)}if(l.ok||await c4(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await c4(c)}}function Ko(e){var t;let r=null;Ice(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=mce(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function u4(e){const t=Ko(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Mce(e){return{data:e,error:null}}function Rce(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=Oce(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Dce(e){return e}function Ice(e){return e.access_token&&e.refresh_token&&e.expires_in}const NS=["global","local","others"];var Lce=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class $ce{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ZU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=NS[0]){if(NS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${NS.join(", ")}`);try{return await Gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Lce(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Rce,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ft(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cc})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Dce});if(f.error)throw f.error;const d=await f.json(),m=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Ft(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Gd(t);try{return await Gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cc})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gd(t);try{return await Gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:cc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gd(t);try{return await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:cc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gd(t.userId);try{const{data:r,error:n}=await Gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gd(t.userId),Gd(t.id);try{return{data:await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}}function d4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Fce(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yd={debug:!!(globalThis&&XU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qce extends JU{}async function Bce(e,t,r){Yd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Yd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Yd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Yd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qce(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Fce();const zce={url:Zle,storageKey:Jle,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ece,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function f4(e,t,r){return await r()}const Qd={};class ig{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ig.nextInstanceID,ig.nextInstanceID+=1,this.instanceID>0&&ya()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},zce),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $ce({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ZU(i.fetch),this.lock=i.lock||f4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ya()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Bce:this.lock=f4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:XU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=d4(this.memoryStorage)),ya()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Qd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Qd[this.storageKey]=Object.assign(Object.assign({},Qd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Qd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qd[this.storageKey]=Object.assign(Object.assign({},Qd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${KU}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=gce(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ya()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ace(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ft(r)?{error:r}:{error:new YU("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ko}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ft(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:f,password:d,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Kd(this.storage,this.storageKey)),s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:Ko})}else if("phone"in t){const{phone:f,password:d,options:m}=t;s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ko})}else throw new Sx("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ft(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:u4})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:u4})}else throw new Sx("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _x}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,f,d,m,p;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:v,wallet:b,statement:w,options:j}=t;let S;if(ya())if(typeof b=="object")S=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const C=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(n=j==null?void 0:j.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=j==null?void 0:j.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((d=(f=j==null?void 0:j.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...j.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:v,error:b}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:hce(y)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ko});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new _x}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(Ft(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await du(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ko});if(await Zl(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _x}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Ft(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ko}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new _x}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Kd(this.storage,this.storageKey));const{error:d}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Sx("You must provide either an email or phone number.")}catch(l){if(Ft(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ko});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Kd(this.storage,this.storageKey)),await Gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Mce})}catch(s){if(Ft(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new nc;const{error:i}=await Gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await Gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await Gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Sx("You must provide either an email or phone number and a type")}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await du(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_S:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await du(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=CS()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cc}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nc}:await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:cc})})}catch(r){if(Ft(r))return sce(r)&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new nc;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Kd(this.storage,this.storageKey));const{data:u,error:f}=await Gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:cc});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nc;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=jS(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ft(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new nc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ya())throw new jx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new n4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jx("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new n4("No code detected.");const{data:w,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new jx("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let m=f+d;c&&(m=parseInt(c));const p=m-f;p*1e3<=cf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const x=m-d;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,f);const{data:y,error:v}=await this._getUser(s);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:m,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Ft(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await du(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(ice(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=pce(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Kd(this.storage,this.storageKey,!0));try{return await Gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ft(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,f;const{data:d,error:m}=s;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Gt(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return ya()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ft(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xce(async i=>(i>0&&await yce(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ko})),(i,s)=>{const a=200*Math.pow(2,i);return s&&SS(s)&&Date.now()+a-n<cf})}catch(n){if(this._debug(r,"error",n),Ft(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ya()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await du(this.storage,this.storageKey);if(i&&this.userStorage){let a=await du(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await uf(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:CS()}else if(i&&!i.user&&!i.user){const a=await du(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Zl(this.storage,this.storageKey+"-user"),await uf(this.storage,this.storageKey,i)):i.user=CS()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_S;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${_S}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),SS(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new nc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mw;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new nc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Ft(s)){const a={session:null,error:s};return SS(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=l4(i);await uf(this.storage,this.storageKey,s)}else{const i=l4(r);await uf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Zl(this.storage,this.storageKey),await Zl(this.storage,this.storageKey+"-code-verifier"),await Zl(this.storage,this.storageKey+"-user"),this.userStorage&&await Zl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ya()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/cf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cf}ms, refresh threshold is ${hO} ticks`),i<=hO&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof JU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ya()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Kd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Gt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=jS(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+rce>i)return n;const{data:s,error:a}=await Gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=jS(n);r!=null&&r.allowExpired||Nce(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const f=Ece(i.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,a,fce(`${l}.${c}`)))throw new gO("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}}ig.nextInstanceID=0;const Vce=ig;class Uce extends Vce{constructor(t){super(t)}}var Wce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Hce{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Qle(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:zle,realtime:Ule,auth:Object.assign(Object.assign({},Vle),{storageKey:u}),global:Ble},d=Xle(n??{},f);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Gle(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new lle(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new $le(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Zoe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Wce(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Uce({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Cle(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kce=(e,t,r)=>new Hce(e,t,r);function Gce(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Gce()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yce="https://hgzfbheisfbbtadvyecm.supabase.co",Qce="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnemZiaGVpc2ZiYnRhZHZ5ZWNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4ODM0NzksImV4cCI6MjA3MTQ1OTQ3OX0.VR5m9oVdpftKJXWzS58noAc2UbHS_vG5Sg8FojxyoSs",Ie=Kce(Yce,Qce),_2=async e=>{var n;const{data:t,error:r}=await Ie.from("profiles").select(`
      id,
      first_name,
      last_name,
      username,
      email,
      enrollment_start_date,
      enrollment_end_date,
      theme,
      created_at,
      updated_at,
      establishment_id,
      roles(name)
    `).eq("id",e).single();return r||!t?null:{id:t.id,first_name:t.first_name,last_name:t.last_name,username:t.username,email:t.email,role:((n=t.roles)==null?void 0:n.name)||"student",establishment_id:t.establishment_id||void 0,enrollment_start_date:t.enrollment_start_date||void 0,enrollment_end_date:t.enrollment_end_date||void 0,theme:t.theme||void 0,created_at:t.created_at,updated_at:t.updated_at}},S2=async e=>{const{data:t,error:r}=await Ie.from("profiles").select("id").eq("username",e).maybeSingle();return r?r.code!=="PGRST116":!!t},j2=async e=>{const{data:t,error:r}=await Ie.from("profiles").select("id").eq("email",e).maybeSingle();return r?r.code!=="PGRST116":!!t},Zf=async e=>{let t;if(e.role){const{data:i,error:s}=await Ie.from("roles").select("id").eq("name",e.role).single();if(s)throw s;t=i.id}const r={...e,role_id:t,role:void 0,enrollment_start_date:e.enrollment_start_date===""?null:e.enrollment_start_date,enrollment_end_date:e.enrollment_end_date===""?null:e.enrollment_end_date,theme:e.theme===void 0?null:e.theme,establishment_id:e.establishment_id===void 0?null:e.establishment_id},{error:n}=await Ie.from("profiles").update(r).eq("id",e.id);if(n)throw n;return _2(e.id)},ts=async()=>{const{data:e,error:t}=await Ie.from("profiles").select(`
      id,
      first_name,
      last_name,
      username,
      email,
      enrollment_start_date,
      enrollment_end_date,
      theme,
      created_at,
      updated_at,
      establishment_id,
      roles(name)
    `);return t?[]:e.map(r=>{var n;return{id:r.id,first_name:r.first_name,last_name:r.last_name,username:r.username,email:r.email,role:((n=r.roles)==null?void 0:n.name)||"student",establishment_id:r.establishment_id||void 0,enrollment_start_date:r.enrollment_start_date||void 0,enrollment_end_date:r.enrollment_end_date||void 0,theme:r.theme||void 0,created_at:r.created_at,updated_at:r.updated_at}})},Xce=async e=>{const{data:t,error:r}=await Ie.from("profiles").select(`
      id,
      first_name,
      last_name,
      username,
      email,
      enrollment_start_date,
      enrollment_end_date,
      establishment_id,
      roles(name)
    `).eq("roles.name",e);return r?[]:t.map(n=>{var i;return{id:n.id,first_name:n.first_name,last_name:n.last_name,username:n.username,email:n.email,role:((i=n.roles)==null?void 0:i.name)||"student",establishment_id:n.establishment_id||void 0,enrollment_start_date:n.enrollment_start_date||void 0,enrollment_end_date:n.enrollment_end_date||void 0}})},as=async()=>{const{data:e,error:t}=await Ie.from("student_class_enrollments").select("*, school_years(name)");if(t)throw t;return e.map(r=>{var n;return{id:r.id,student_id:r.student_id,class_id:r.class_id,school_year_id:r.school_year_id,school_year_name:(n=r.school_years)==null?void 0:n.name,establishment_id:r.establishment_id,created_at:r.created_at,updated_at:r.updated_at}})},Zce=async e=>{var n;const{data:t,error:r}=await Ie.from("student_class_enrollments").upsert(e).select("*, school_years(name)").single();if(r)throw r;return{id:t.id,student_id:t.student_id,class_id:t.class_id,school_year_id:t.school_year_id,school_year_name:(n=t.school_years)==null?void 0:n.name,establishment_id:t.establishment_id,created_at:t.created_at,updated_at:t.updated_at}},Jce=async e=>{const{error:t}=await Ie.from("student_class_enrollments").delete().eq("id",e);if(t)throw t},e9=async(e,t)=>{const{data:r,error:n}=await Ie.from("student_course_progress").select("*").eq("user_id",e).eq("course_id",t).single();return n&&n.code!=="PGRST116"?null:r},tb=async e=>{const{data:t,error:r}=await Ie.from("student_course_progress").upsert(e).select().single();if(r)throw r;return t},pw=async()=>{const{data:e,error:t}=await Ie.from("student_course_progress").select("*");return t?[]:e},eue=async e=>{const t=await _2(e);return t?`${t.first_name} ${t.last_name}`:"N/A"},tue=async()=>{const{error:e}=await Ie.from("profiles").delete()},rue=async()=>{const{error:e}=await Ie.from("student_course_progress").delete()},nue=async()=>{const{error:e}=await Ie.from("student_class_enrollments").delete()},nt=(e,t="Succès",r)=>{aV.success(e)},se=(e,t="Erreur",r)=>{aV.error(e)},iue=async(e,t=0)=>{if(!e)return[];let r=Ie.from("role_nav_configs").select(`
      id,
      nav_item_id,
      role,
      parent_nav_item_id,
      order_index,
      nav_item:nav_items!role_nav_configs_nav_item_id_fkey (
        id,
        label,
        route,
        icon_name,
        description,
        is_external,
        type
      )
    `).eq("role",e).order("order_index",{ascending:!0});const{data:n,error:i}=await r;if(i)return[];const s=new Map;n.forEach(c=>{if(c.nav_item){const u={id:c.nav_item.id,label:c.nav_item.label,route:c.nav_item.route||void 0,icon_name:c.nav_item.icon_name||void 0,description:c.nav_item.description||void 0,is_external:c.nav_item.is_external,type:c.nav_item.type,children:[],configId:c.id,parent_nav_item_id:c.parent_nav_item_id||void 0,order_index:c.order_index};s.set(u.configId,u)}});const a=[];s.forEach(c=>{var u;if(c.parent_nav_item_id){let f;for(const d of s.values())if(d.id===c.parent_nav_item_id&&d.type==="category_or_action"&&(d.route===null||d.route===void 0)){f=d;break}f?(u=f.children)==null||u.push(c):a.push(c)}else a.push(c)}),a.sort((c,u)=>c.order_index-u.order_index),s.forEach(c=>{c.children&&c.children.sort((u,f)=>u.order_index-f.order_index)});const l=c=>{c.forEach(u=>{u.route==="/messages"&&(u.badge=t),u.children&&l(u.children)})};return l(a),a},t9=async()=>{const{data:e,error:t}=await Ie.from("nav_items").select("id, label, route, icon_name, description, is_external, type");if(t)throw t;return e.map(r=>({id:r.id,label:r.label,route:r.route||void 0,icon_name:r.icon_name||void 0,description:r.description||void 0,is_external:r.is_external,type:r.type,children:[],order_index:0,parent_nav_item_id:void 0}))},jl=async()=>{const{data:{session:e},error:t}=await Ie.auth.getSession();if(t||!e)throw new Error("Non authentifié. Veuillez vous reconnecter.");return e},r9=async e=>{await jl();const{data:t,error:r}=await Ie.from("nav_items").select("id, label, route").or(`label.eq.${e.label},route.eq.${e.route}`);if(r)throw new Error("Erreur lors de la vérification des éléments de navigation existants.");if(t&&t.length>0){const s=t.some(l=>l.label===e.label),a=e.route&&t.some(l=>l.route===e.route);if(s&&a)throw new Error("Un élément avec le même libellé ET la même route existe déjà.");if(s)throw new Error("Un élément avec le même libellé existe déjà.");if(a)throw new Error("Un élément avec la même route existe déjà.")}const{data:n,error:i}=await Ie.functions.invoke("manage-nav-items",{body:{action:"create",payload:e}});if(i)throw i;return n.data},sue=async e=>{await jl();const{data:t,error:r}=await Ie.functions.invoke("manage-nav-items",{body:{action:"update",payload:e}});if(r)throw r;return t.data},aue=async e=>{await jl();const{error:t}=await Ie.functions.invoke("manage-nav-items",{body:{action:"delete",payload:{id:e}}});if(t)throw t},oue=async e=>{let t=Ie.from("role_nav_configs").select("*").eq("role",e).order("order_index",{ascending:!0});const{data:r,error:n}=await t;if(n)throw n;return r},sg=async e=>{await jl();const{data:t,error:r}=await Ie.functions.invoke("manage-nav-items",{body:{action:"create_config",payload:e}});if(r)throw r;return t.data},ag=async e=>{await jl();const{data:t,error:r}=await Ie.functions.invoke("manage-nav-items",{body:{action:"update_config",payload:e}});if(r)throw r;return t.data},lue=async e=>{await jl();const{error:t}=await Ie.functions.invoke("manage-nav-items",{body:{action:"delete_config",payload:{id:e}}});if(t)throw t},cue=async()=>{await jl();const{error:e}=await Ie.functions.invoke("manage-nav-items",{body:{action:"reset_nav_items"}});if(e)throw e},uue=async()=>{await jl();const{error:e}=await Ie.functions.invoke("manage-nav-items",{body:{action:"reset_role_nav_configs"}});if(e)throw e},due=async e=>{await jl();const{error:t}=await Ie.functions.invoke("manage-nav-items",{body:{action:"reset_role_nav_configs_for_role",payload:{role:e}}});if(t)throw t},n9=_.createContext(void 0),fue=({children:e})=>{const[t,r]=_.useState(null),[n,i]=_.useState([]),[s,a]=_.useState([]),[l,c]=_.useState(!0),u=_.useCallback(async(p,x)=>{c(!0);let y=x||null,v=null;if(!y){const{data:w,error:j}=await Ie.auth.getUser();y=w.user,v=j}if(v){v.message,r(null),i([]),a([]),c(!1);return}y&&!y.email_confirmed_at&&se("DIAGNOSTIC: Votre email n'est pas confirmé. Veuillez vérifier vos paramètres Supabase (Email Confirm).");const b=await _2(p);if(b){r(b);try{const w=await iue(b.role,0);i(w);const j=C=>{let E=[];return C.forEach(k=>{k.route&&!k.route.startsWith("#")&&!k.is_external&&E.push(k),k.children&&(E=E.concat(j(k.children)))}),E},S=j(w);a(S)}catch{se("Erreur lors du chargement des menus de navigation."),i([]),a([])}}else r(null),i([]),a([]);c(!1)},[]);_.useEffect(()=>{const{data:{subscription:p}={}}=Ie.auth.onAuthStateChange(async(x,y)=>{y?u(y.user.id,y.user):(r(null),i([]),a([]),c(!1))});return Ie.auth.getSession().then(({data:{session:x}})=>{x?u(x.user.id,x.user):c(!1)}),()=>{p&&p.unsubscribe()}},[u]);const f=async p=>{if(t)try{const x=await Zf({id:t.id,theme:p});x&&r(x)}catch{}},d=async()=>{c(!0),console.log("[RoleContext] Attempting to sign out...");const{error:p}=await Ie.auth.signOut();p?(console.error("[RoleContext] Error signing out:",p),se(`Erreur lors de la déconnexion: ${p.message}`)):(console.log("[RoleContext] Signed out successfully."),r(null),i([]),a([])),c(!1)},m=t?t.role:null;return o.jsx(n9.Provider,{value:{currentUserProfile:t,setCurrentUserProfile:r,currentRole:m,isLoadingUser:l,updateUserTheme:f,signOut:d,fetchUserProfile:u,navItems:n,dynamicRoutes:s},children:e})},Qt=()=>{const e=_.useContext(n9);if(e===void 0)throw new Error("useRole must be used within a RoleProvider");return e};function vO(e,[t,r]){return Math.min(r,Math.max(t,e))}function C2(e){const t=e+"CollectionProvider",[r,n]=Qn(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:v,children:b}=y,w=Y.useRef(null),j=Y.useRef(new Map).current;return o.jsx(i,{scope:v,itemMap:j,collectionRef:w,children:b})};a.displayName=t;const l=e+"CollectionSlot",c=kc(l),u=Y.forwardRef((y,v)=>{const{scope:b,children:w}=y,j=s(l,b),S=Dt(v,j.collectionRef);return o.jsx(c,{ref:S,children:w})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",m=kc(f),p=Y.forwardRef((y,v)=>{const{scope:b,children:w,...j}=y,S=Y.useRef(null),C=Dt(v,S),E=s(f,b);return Y.useEffect(()=>(E.itemMap.set(S,{ref:S,...j}),()=>void E.itemMap.delete(S))),o.jsx(m,{[d]:"",ref:C,children:w})});p.displayName=f;function x(y){const v=s(e+"CollectionConsumer",y);return Y.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((E,k)=>j.indexOf(E.ref.current)-j.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},x,n]}var hue=_.createContext(void 0);function bv(e){const t=_.useContext(hue);return e||t||"ltr"}var ES=0;function gw(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??h4()),document.body.insertAdjacentElement("beforeend",e[1]??h4()),ES++,()=>{ES===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ES--}},[])}function h4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kS="focusScope.autoFocusOnMount",OS="focusScope.autoFocusOnUnmount",m4={bubbles:!1,cancelable:!0},mue="FocusScope",wv=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,c]=_.useState(null),u=An(i),f=An(s),d=_.useRef(null),m=Dt(t,y=>c(y)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let y=function(j){if(p.paused||!l)return;const S=j.target;l.contains(S)?d.current=S:ic(d.current,{select:!0})},v=function(j){if(p.paused||!l)return;const S=j.relatedTarget;S!==null&&(l.contains(S)||ic(d.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const C of j)C.removedNodes.length>0&&ic(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,p.paused]),_.useEffect(()=>{if(l){g4.add(p);const y=document.activeElement;if(!l.contains(y)){const b=new CustomEvent(kS,m4);l.addEventListener(kS,u),l.dispatchEvent(b),b.defaultPrevented||(pue(bue(i9(l)),{select:!0}),document.activeElement===y&&ic(l))}return()=>{l.removeEventListener(kS,u),setTimeout(()=>{const b=new CustomEvent(OS,m4);l.addEventListener(OS,f),l.dispatchEvent(b),b.defaultPrevented||ic(y??document.body,{select:!0}),l.removeEventListener(OS,f),g4.remove(p)},0)}}},[l,u,f,p]);const x=_.useCallback(y=>{if(!r&&!n||p.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(v&&b){const w=y.currentTarget,[j,S]=gue(w);j&&S?!y.shiftKey&&b===S?(y.preventDefault(),r&&ic(j,{select:!0})):y.shiftKey&&b===j&&(y.preventDefault(),r&&ic(S,{select:!0})):b===w&&y.preventDefault()}},[r,n,p.paused]);return o.jsx(at.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});wv.displayName=mue;function pue(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ic(n,{select:t}),document.activeElement!==r)return}function gue(e){const t=i9(e),r=p4(t,e),n=p4(t.reverse(),e);return[r,n]}function i9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function p4(e,t){for(const r of e)if(!vue(r,{upTo:t}))return r}function vue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yue(e){return e instanceof HTMLInputElement&&"select"in e}function ic(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&yue(e)&&t&&e.select()}}var g4=xue();function xue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=v4(e,t),e.unshift(t)},remove(t){var r;e=v4(e,t),(r=e[0])==null||r.resume()}}}function v4(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function bue(e){return e.filter(t=>t.tagName!=="A")}function N2(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wue=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xd=new WeakMap,Cx=new WeakMap,Nx={},AS=0,s9=function(e){return e&&(e.host||s9(e.parentNode))},_ue=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=s9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Sue=function(e,t,r,n){var i=_ue(t,Array.isArray(e)?e:[e]);Nx[r]||(Nx[r]=new WeakMap);var s=Nx[r],a=[],l=new Set,c=new Set(i),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};i.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(n),x=p!==null&&p!=="false",y=(Xd.get(m)||0)+1,v=(s.get(m)||0)+1;Xd.set(m,y),s.set(m,v),a.push(m),y===1&&x&&Cx.set(m,!0),v===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return f(t),l.clear(),AS++,function(){a.forEach(function(d){var m=Xd.get(d)-1,p=s.get(d)-1;Xd.set(d,m),s.set(d,p),m||(Cx.has(d)||d.removeAttribute(n),Cx.delete(d)),p||d.removeAttribute(r)}),AS--,AS||(Xd=new WeakMap,Xd=new WeakMap,Cx=new WeakMap,Nx={})}},vw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=wue(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Sue(n,i,r,"aria-hidden")):function(){return null}},so=function(){return so=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},so.apply(this,arguments)};function a9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function jue(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var rb="right-scroll-bar-position",nb="width-before-scroll-bar",Cue="with-scroll-bars-hidden",Nue="--removed-body-scroll-bar-size";function TS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Eue(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var kue=typeof window<"u"?_.useLayoutEffect:_.useEffect,y4=new WeakMap;function Oue(e,t){var r=Eue(null,function(n){return e.forEach(function(i){return TS(i,n)})});return kue(function(){var n=y4.get(r);if(n){var i=new Set(n),s=new Set(e),a=r.current;i.forEach(function(l){s.has(l)||TS(l,null)}),s.forEach(function(l){i.has(l)||TS(l,a)})}y4.set(r,e)},[e]),r}function Aue(e){return e}function Tue(e,t){t===void 0&&(t=Aue);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var a=t(s,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(s),a=r}var c=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),r}}}};return i}function Pue(e){e===void 0&&(e={});var t=Tue(null);return t.options=so({async:!0,ssr:!1},e),t}var o9=function(e){var t=e.sideCar,r=a9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,so({},r))};o9.isSideCarExport=!0;function Mue(e,t){return e.useMedium(t),o9}var l9=Pue(),PS=function(){},yw=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:PS,onWheelCapture:PS,onTouchMoveCapture:PS}),i=n[0],s=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,y=e.inert,v=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,j=e.gapMode,S=a9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,E=Oue([r,t]),k=so(so({},S),i);return _.createElement(_.Fragment,null,f&&_.createElement(C,{sideCar:l9,removeScrollBar:u,shards:d,noRelative:p,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:j}),a?_.cloneElement(_.Children.only(l),so(so({},k),{ref:E})):_.createElement(w,so({},k,{className:c,ref:E}),l))});yw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yw.classNames={fullWidth:nb,zeroRight:rb};var Rue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Due(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Rue();return t&&e.setAttribute("nonce",t),e}function Iue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Lue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $ue=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Due())&&(Iue(t,r),Lue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Fue=function(){var e=$ue();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},c9=function(){var e=Fue(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},que={left:0,top:0,right:0,gap:0},MS=function(e){return parseInt(e||"",10)||0},Bue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[MS(r),MS(n),MS(i)]},zue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return que;var t=Bue(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Vue=c9(),Ef="data-scroll-locked",Uue=function(e,t,r,n){var i=e.left,s=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Cue,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ef,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rb,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nb,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rb," .").concat(rb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(nb," .").concat(nb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ef,`] {
    `).concat(Nue,": ").concat(l,`px;
  }
`)},x4=function(){var e=parseInt(document.body.getAttribute(Ef)||"0",10);return isFinite(e)?e:0},Wue=function(){_.useEffect(function(){return document.body.setAttribute(Ef,(x4()+1).toString()),function(){var e=x4()-1;e<=0?document.body.removeAttribute(Ef):document.body.setAttribute(Ef,e.toString())}},[])},Hue=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Wue();var s=_.useMemo(function(){return zue(i)},[i]);return _.createElement(Vue,{styles:Uue(s,!t,i,r?"":"!important")})},yO=!1;if(typeof window<"u")try{var Ex=Object.defineProperty({},"passive",{get:function(){return yO=!0,!0}});window.addEventListener("test",Ex,Ex),window.removeEventListener("test",Ex,Ex)}catch{yO=!1}var Zd=yO?{passive:!1}:!1,Kue=function(e){return e.tagName==="TEXTAREA"},u9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Kue(e)&&r[t]==="visible")},Gue=function(e){return u9(e,"overflowY")},Yue=function(e){return u9(e,"overflowX")},b4=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=d9(e,n);if(i){var s=f9(e,n),a=s[1],l=s[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Que=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Xue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},d9=function(e,t){return e==="v"?Gue(t):Yue(t)},f9=function(e,t){return e==="v"?Que(t):Xue(t)},Zue=function(e,t){return e==="h"&&t==="rtl"?-1:1},Jue=function(e,t,r,n,i){var s=Zue(e,window.getComputedStyle(t).direction),a=s*n,l=r.target,c=t.contains(l),u=!1,f=a>0,d=0,m=0;do{if(!l)break;var p=f9(e,l),x=p[0],y=p[1],v=p[2],b=y-v-s*x;(x||b)&&d9(e,l)&&(d+=b,m+=x);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(m)<1)&&(u=!0),u},kx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},w4=function(e){return[e.deltaX,e.deltaY]},_4=function(e){return e&&"current"in e?e.current:e},ede=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tde=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rde=0,Jd=[];function nde(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(rde++)[0],s=_.useState(c9)[0],a=_.useRef(e);_.useEffect(function(){a.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=jue([e.lockRef.current],(e.shards||[]).map(_4),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var b=kx(y),w=r.current,j="deltaX"in y?y.deltaX:w[0]-b[0],S="deltaY"in y?y.deltaY:w[1]-b[1],C,E=y.target,k=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in y&&k==="h"&&E.type==="range")return!1;var O=b4(k,E);if(!O)return!0;if(O?C=k:(C=k==="v"?"h":"v",O=b4(k,E)),!O)return!1;if(!n.current&&"changedTouches"in y&&(j||S)&&(n.current=C),!C)return!0;var M=n.current||C;return Jue(M,v,y,M==="h"?j:S)},[]),c=_.useCallback(function(y){var v=y;if(!(!Jd.length||Jd[Jd.length-1]!==s)){var b="deltaY"in v?w4(v):kx(v),w=t.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&ede(C.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var j=(a.current.shards||[]).map(_4).filter(Boolean).filter(function(C){return C.contains(v.target)}),S=j.length>0?l(v,j[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(y,v,b,w){var j={name:y,delta:v,target:b,should:w,shadowParent:ide(b)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(S){return S!==j})},1)},[]),f=_.useCallback(function(y){r.current=kx(y),n.current=void 0},[]),d=_.useCallback(function(y){u(y.type,w4(y),y.target,l(y,e.lockRef.current))},[]),m=_.useCallback(function(y){u(y.type,kx(y),y.target,l(y,e.lockRef.current))},[]);_.useEffect(function(){return Jd.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Zd),document.addEventListener("touchmove",c,Zd),document.addEventListener("touchstart",f,Zd),function(){Jd=Jd.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,Zd),document.removeEventListener("touchmove",c,Zd),document.removeEventListener("touchstart",f,Zd)}},[]);var p=e.removeScrollBar,x=e.inert;return _.createElement(_.Fragment,null,x?_.createElement(s,{styles:tde(i)}):null,p?_.createElement(Hue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ide(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sde=Mue(l9,nde);var _v=_.forwardRef(function(e,t){return _.createElement(yw,so({},e,{ref:t,sideCar:sde}))});_v.classNames=yw.classNames;var ade=[" ","Enter","ArrowUp","ArrowDown"],ode=[" ","Enter"],Uu="Select",[xw,bw,lde]=C2(Uu),[nm,wqe]=Qn(Uu,[lde,Ic]),ww=Ic(),[cde,qc]=nm(Uu),[ude,dde]=nm(Uu),h9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:m,required:p,form:x}=e,y=ww(t),[v,b]=_.useState(null),[w,j]=_.useState(null),[S,C]=_.useState(!1),E=bv(u),[k,O]=So({prop:n,defaultProp:i??!1,onChange:s,caller:Uu}),[M,R]=So({prop:a,defaultProp:l,onChange:c,caller:Uu}),T=_.useRef(null),P=v?x||!!v.closest("form"):!0,[I,B]=_.useState(new Set),$=Array.from(I).map(H=>H.props.value).join(";");return o.jsx(iw,{...y,children:o.jsxs(cde,{required:p,scope:t,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Wn(),value:M,onValueChange:R,open:k,onOpenChange:O,dir:E,triggerPointerDownPosRef:T,disabled:m,children:[o.jsx(xw.Provider,{scope:t,children:o.jsx(ude,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(H=>{B(V=>new Set(V).add(H))},[]),onNativeOptionRemove:_.useCallback(H=>{B(V=>{const U=new Set(V);return U.delete(H),U})},[]),children:r})}),P?o.jsxs(D9,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:M,onChange:H=>R(H.target.value),disabled:m,form:x,children:[M===void 0?o.jsx("option",{value:""}):null,Array.from(I)]},$):null]})})};h9.displayName=Uu;var m9="SelectTrigger",p9=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=ww(r),a=qc(m9,r),l=a.disabled||n,c=Dt(t,a.onTriggerChange),u=bw(r),f=_.useRef("touch"),[d,m,p]=L9(y=>{const v=u().filter(j=>!j.disabled),b=v.find(j=>j.value===a.value),w=$9(v,y,b);w!==void 0&&a.onValueChange(w.value)}),x=y=>{l||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(mv,{asChild:!0,...s,children:o.jsx(at.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":I9(a.value)?"":void 0,...i,ref:c,onClick:Ye(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&x(y)}),onPointerDown:Ye(i.onPointerDown,y=>{f.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Ye(i.onKeyDown,y=>{const v=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(v&&y.key===" ")&&ade.includes(y.key)&&(x(),y.preventDefault())})})})});p9.displayName=m9;var g9="SelectValue",v9=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...l}=e,c=qc(g9,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,d=Dt(t,c.onValueNodeChange);return pn(()=>{u(f)},[u,f]),o.jsx(at.span,{...l,ref:d,style:{pointerEvents:"none"},children:I9(c.value)?o.jsx(o.Fragment,{children:a}):s})});v9.displayName=g9;var fde="SelectIcon",y9=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return o.jsx(at.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});y9.displayName=fde;var hde="SelectPortal",x9=e=>o.jsx(pv,{asChild:!0,...e});x9.displayName=hde;var Wu="SelectContent",b9=_.forwardRef((e,t)=>{const r=qc(Wu,e.__scopeSelect),[n,i]=_.useState();if(pn(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?lo.createPortal(o.jsx(w9,{scope:e.__scopeSelect,children:o.jsx(xw.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(_9,{...e,ref:t})});b9.displayName=Wu;var xa=10,[w9,Bc]=nm(Wu),mde="SelectContentImpl",pde=kc("SelectContent.RemoveScroll"),_9=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:y,avoidCollisions:v,...b}=e,w=qc(Wu,r),[j,S]=_.useState(null),[C,E]=_.useState(null),k=Dt(t,G=>S(G)),[O,M]=_.useState(null),[R,T]=_.useState(null),P=bw(r),[I,B]=_.useState(!1),$=_.useRef(!1);_.useEffect(()=>{if(j)return vw(j)},[j]),gw();const H=_.useCallback(G=>{const[ne,...Z]=P().map(ce=>ce.ref.current),[re]=Z.slice(-1),fe=document.activeElement;for(const ce of G)if(ce===fe||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===ne&&C&&(C.scrollTop=0),ce===re&&C&&(C.scrollTop=C.scrollHeight),ce==null||ce.focus(),document.activeElement!==fe))return},[P,C]),V=_.useCallback(()=>H([O,j]),[H,O,j]);_.useEffect(()=>{I&&V()},[I,V]);const{onOpenChange:U,triggerPointerDownPosRef:W}=w;_.useEffect(()=>{if(j){let G={x:0,y:0};const ne=re=>{var fe,ce;G={x:Math.abs(Math.round(re.pageX)-(((fe=W.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(re.pageY)-(((ce=W.current)==null?void 0:ce.y)??0))}},Z=re=>{G.x<=10&&G.y<=10?re.preventDefault():j.contains(re.target)||U(!1),document.removeEventListener("pointermove",ne),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",Z,{capture:!0})}}},[j,U,W]),_.useEffect(()=>{const G=()=>U(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[U]);const[F,L]=L9(G=>{const ne=P().filter(fe=>!fe.disabled),Z=ne.find(fe=>fe.ref.current===document.activeElement),re=$9(ne,G,Z);re&&setTimeout(()=>re.ref.current.focus())}),q=_.useCallback((G,ne,Z)=>{const re=!$.current&&!Z;(w.value!==void 0&&w.value===ne||re)&&(M(G),re&&($.current=!0))},[w.value]),K=_.useCallback(()=>j==null?void 0:j.focus(),[j]),ee=_.useCallback((G,ne,Z)=>{const re=!$.current&&!Z;(w.value!==void 0&&w.value===ne||re)&&T(G)},[w.value]),te=n==="popper"?xO:S9,Q=te===xO?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:y,avoidCollisions:v}:{};return o.jsx(w9,{scope:r,content:j,viewport:C,onViewportChange:E,itemRefCallback:q,selectedItem:O,onItemLeave:K,itemTextRefCallback:ee,focusSelectedItem:V,selectedItemText:R,position:n,isPositioned:I,searchRef:F,children:o.jsx(_v,{as:pde,allowPinchZoom:!0,children:o.jsx(wv,{asChild:!0,trapped:w.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ye(i,G=>{var ne;(ne=w.trigger)==null||ne.focus({preventScroll:!0}),G.preventDefault()}),children:o.jsx(qh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:G=>G.preventDefault(),...b,...Q,onPlaced:()=>B(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ye(b.onKeyDown,G=>{const ne=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ne&&G.key.length===1&&L(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let re=P().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(G.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const fe=G.target,ce=re.indexOf(fe);re=re.slice(ce+1)}setTimeout(()=>H(re)),G.preventDefault()}})})})})})})});_9.displayName=mde;var gde="SelectItemAlignedPosition",S9=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=qc(Wu,r),a=Bc(Wu,r),[l,c]=_.useState(null),[u,f]=_.useState(null),d=Dt(t,k=>f(k)),m=bw(r),p=_.useRef(!1),x=_.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=a,j=_.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&v&&b){const k=s.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),R=b.getBoundingClientRect();if(s.dir!=="rtl"){const fe=R.left-O.left,ce=M.left-fe,xe=k.left-ce,be=k.width+xe,ke=Math.max(be,O.width),Te=window.innerWidth-xa,De=vO(ce,[xa,Math.max(xa,Te-ke)]);l.style.minWidth=be+"px",l.style.left=De+"px"}else{const fe=O.right-R.right,ce=window.innerWidth-M.right-fe,xe=window.innerWidth-k.right-ce,be=k.width+xe,ke=Math.max(be,O.width),Te=window.innerWidth-xa,De=vO(ce,[xa,Math.max(xa,Te-ke)]);l.style.minWidth=be+"px",l.style.right=De+"px"}const T=m(),P=window.innerHeight-xa*2,I=y.scrollHeight,B=window.getComputedStyle(u),$=parseInt(B.borderTopWidth,10),H=parseInt(B.paddingTop,10),V=parseInt(B.borderBottomWidth,10),U=parseInt(B.paddingBottom,10),W=$+H+I+U+V,F=Math.min(v.offsetHeight*5,W),L=window.getComputedStyle(y),q=parseInt(L.paddingTop,10),K=parseInt(L.paddingBottom,10),ee=k.top+k.height/2-xa,te=P-ee,Q=v.offsetHeight/2,G=v.offsetTop+Q,ne=$+H+G,Z=W-ne;if(ne<=ee){const fe=T.length>0&&v===T[T.length-1].ref.current;l.style.bottom="0px";const ce=u.clientHeight-y.offsetTop-y.offsetHeight,xe=Math.max(te,Q+(fe?K:0)+ce+V),be=ne+xe;l.style.height=be+"px"}else{const fe=T.length>0&&v===T[0].ref.current;l.style.top="0px";const xe=Math.max(ee,$+y.offsetTop+(fe?q:0)+Q)+Z;l.style.height=xe+"px",y.scrollTop=ne-ee+y.offsetTop}l.style.margin=`${xa}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,s.trigger,s.valueNode,l,u,y,v,b,s.dir,n]);pn(()=>j(),[j]);const[S,C]=_.useState();pn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=_.useCallback(k=>{k&&x.current===!0&&(j(),w==null||w(),x.current=!1)},[j,w]);return o.jsx(yde,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(at.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});S9.displayName=gde;var vde="SelectPopperPosition",xO=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=xa,...s}=e,a=ww(r);return o.jsx(sw,{...a,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xO.displayName=vde;var[yde,E2]=nm(Wu,{}),bO="SelectViewport",j9=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=Bc(bO,r),a=E2(bO,r),l=Dt(t,s.onViewportChange),c=_.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(xw.Slot,{scope:r,children:o.jsx(at.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ye(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const x=window.innerHeight-xa*2,y=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),b=Math.max(y,v);if(b<x){const w=b+p,j=Math.min(x,w),S=w-j;d.style.height=j+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});j9.displayName=bO;var C9="SelectGroup",[xde,bde]=nm(C9),wde=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Wn();return o.jsx(xde,{scope:r,id:i,children:o.jsx(at.div,{role:"group","aria-labelledby":i,...n,ref:t})})});wde.displayName=C9;var N9="SelectLabel",E9=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=bde(N9,r);return o.jsx(at.div,{id:i.id,...n,ref:t})});E9.displayName=N9;var Cb="SelectItem",[_de,k9]=nm(Cb),O9=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=e,l=qc(Cb,r),c=Bc(Cb,r),u=l.value===n,[f,d]=_.useState(s??""),[m,p]=_.useState(!1),x=Dt(t,w=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,w,n,i)}),y=Wn(),v=_.useRef("touch"),b=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(_de,{scope:r,value:n,disabled:i,textId:y,isSelected:u,onItemTextChange:_.useCallback(w=>{d(j=>j||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(xw.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:o.jsx(at.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:Ye(a.onFocus,()=>p(!0)),onBlur:Ye(a.onBlur,()=>p(!1)),onClick:Ye(a.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Ye(a.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Ye(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Ye(a.onPointerMove,w=>{var j;v.current=w.pointerType,i?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(a.onPointerLeave,w=>{var j;w.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Ye(a.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(ode.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});O9.displayName=Cb;var Sp="SelectItemText",A9=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,a=qc(Sp,r),l=Bc(Sp,r),c=k9(Sp,r),u=dde(Sp,r),[f,d]=_.useState(null),m=Dt(t,b=>d(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),p=f==null?void 0:f.textContent,x=_.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=u;return pn(()=>(y(x),()=>v(x)),[y,v,x]),o.jsxs(o.Fragment,{children:[o.jsx(at.span,{id:c.textId,...s,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?lo.createPortal(s.children,a.valueNode):null]})});A9.displayName=Sp;var T9="SelectItemIndicator",P9=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return k9(T9,r).isSelected?o.jsx(at.span,{"aria-hidden":!0,...n,ref:t}):null});P9.displayName=T9;var wO="SelectScrollUpButton",Sde=_.forwardRef((e,t)=>{const r=Bc(wO,e.__scopeSelect),n=E2(wO,e.__scopeSelect),[i,s]=_.useState(!1),a=Dt(t,n.onScrollButtonChange);return pn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(M9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Sde.displayName=wO;var _O="SelectScrollDownButton",jde=_.forwardRef((e,t)=>{const r=Bc(_O,e.__scopeSelect),n=E2(_O,e.__scopeSelect),[i,s]=_.useState(!1),a=Dt(t,n.onScrollButtonChange);return pn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(M9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jde.displayName=_O;var M9=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=Bc("SelectScrollButton",r),a=_.useRef(null),l=bw(r),c=_.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),pn(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(at.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ye(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Ye(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Ye(i.onPointerLeave,()=>{c()})})}),Cde="SelectSeparator",R9=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(at.div,{"aria-hidden":!0,...n,ref:t})});R9.displayName=Cde;var SO="SelectArrow",Nde=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=ww(r),s=qc(SO,r),a=Bc(SO,r);return s.open&&a.position==="popper"?o.jsx(aw,{...i,...n,ref:t}):null});Nde.displayName=SO;var Ede="SelectBubbleInput",D9=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=_.useRef(null),s=Dt(n,i),a=N2(t);return _.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[a,t]),o.jsx(at.select,{...r,style:{...RV,...r.style},ref:s,defaultValue:t})});D9.displayName=Ede;function I9(e){return e===""||e===void 0}function L9(e){const t=An(e),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(a=>{const l=r.current+a;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),s=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function $9(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=kde(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function kde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ode=h9,F9=p9,Ade=v9,Tde=y9,Pde=x9,q9=b9,Mde=j9,B9=E9,z9=O9,Rde=A9,Dde=P9,V9=R9;const Jf=Ode,og=Ade,Hu=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(F9,{ref:n,className:Ne("flex h-10 w-full items-center justify-between rounded-card-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Tde,{asChild:!0,children:o.jsx(zr,{className:"h-4 w-4 opacity-50"})})]}));Hu.displayName=F9.displayName;const Ku=_.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>o.jsx(Pde,{children:o.jsx(q9,{ref:i,className:Ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-card-lg border bg-popover text-popover-foreground shadow-card-shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:o.jsx(Mde,{className:Ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Ku.displayName=q9.displayName;const Ide=_.forwardRef(({className:e,...t},r)=>o.jsx(B9,{ref:r,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ide.displayName=B9.displayName;const si=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(z9,{ref:n,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Dde,{children:o.jsx(La,{className:"h-4 w-4"})})}),o.jsx(Rde,{children:t})]}));si.displayName=z9.displayName;const Lde=_.forwardRef(({className:e,...t},r)=>o.jsx(V9,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));Lde.displayName=V9.displayName;function _w({onInitiateThemeChange:e}){const{theme:t,setTheme:r}=g2(),{currentUserProfile:n,updateUserTheme:i}=Qt();_.useEffect(()=>{n!=null&&n.theme&&n.theme!==t&&r(n.theme)},[n==null?void 0:n.theme,t,r]);const s=a=>{e(a),n&&i(a)};return o.jsxs(Jf,{value:t,onValueChange:s,children:[o.jsxs(Hu,{className:Ne("w-fit px-3 py-2 rounded-full","border-none bg-muted/50 hover:bg-muted/80","text-muted-foreground hover:text-foreground"),children:[o.jsx(PU,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(OU,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),o.jsxs(Ku,{className:"backdrop-blur-lg bg-background/80 rounded-android-tile",children:[o.jsx(si,{value:"light",children:"Clair"}),o.jsx(si,{value:"dark",children:"Sombre"}),o.jsx(si,{value:"dark-purple",children:"Violet Sombre"})]})]})}const RS=768;function zc(){const[e,t]=_.useState(void 0);return _.useEffect(()=>{const r=window.matchMedia(`(max-width: ${RS-1}px)`),n=()=>{t(window.innerWidth<RS)};return r.addEventListener("change",n),t(window.innerWidth<RS),()=>r.removeEventListener("change",n)},[]),!!e}const U9=_.createContext(void 0),$de=({children:e})=>{const[t,r]=_.useState(null),[n,i]=_.useState(null),[s,a]=_.useState(null),[l,c]=_.useState(!1),[u,f]=_.useState(null),d=(y,v)=>{r(y),i(v),y===null&&a(null)},m=y=>{a(y)},p=y=>{f(y||null),c(!0)},x=()=>{c(!1),f(null)};return o.jsx(U9.Provider,{value:{currentCourseId:t,currentCourseTitle:n,currentModuleTitle:s,setCourseContext:d,setModuleContext:m,isChatOpen:l,openChat:p,closeChat:x,initialChatMessage:u,setInitialChatMessage:f},children:e})},Cl=()=>{const e=_.useContext(U9);if(e===void 0)throw new Error("useCourseChat must be used within a CourseChatProvider");return e},Fde={Home:wl,MessageSquareQuote:d2,SlidersHorizontal:h2,Info:Ct,LogIn:u2,Download:jU,MessageCircleMore:Loe,BotMessageSquare:Ao},qde=({setIsAdminModalOpen:e,onInitiateThemeChange:t})=>{const[r,n]=_.useState("accueil"),i={accueil:_.useRef(null),aiaBot:_.useRef(null),methodologie:_.useRef(null)},{currentUserProfile:s,currentRole:a}=Qt(),{openChat:l}=Cl(),c=on();zc();const u=_.useRef(0),f=cs(),{data:d,isLoading:m,isError:p}=gae({queryKey:["latestApkRelease"],queryFn:async()=>{const{data:w,error:j}=await Ie.functions.invoke("get-latest-apk-release");if(j)throw new Error(j.message);return w},staleTime:1e3*60*60,enabled:!1});_.useEffect(()=>{const w={root:null,rootMargin:"-50% 0px -50% 0px",threshold:0},j=C=>{C.forEach(E=>{E.isIntersecting&&n(E.target.id)})},S=new IntersectionObserver(j,w);return i.accueil.current&&S.observe(i.accueil.current),i.aiaBot.current&&S.observe(i.aiaBot.current),i.methodologie.current&&S.observe(i.methodologie.current),()=>{i.accueil.current&&S.unobserve(i.accueil.current),i.aiaBot.current&&S.unobserve(i.aiaBot.current),i.methodologie.current&&S.unobserve(i.methodologie.current)}},[]),_.useEffect(()=>{if(f.hash){const w=document.getElementById(f.hash.substring(1));if(w){const j=setTimeout(()=>{w.scrollIntoView({behavior:"smooth",block:"start"})},100);return()=>clearTimeout(j)}}else if(f.pathname==="/"&&!f.hash){const w=setTimeout(()=>{var j;(j=i.accueil.current)==null||j.scrollIntoView({behavior:"smooth",block:"start"})},100);return()=>clearTimeout(w)}},[f.hash,f.pathname]);const x=[{icon:o.jsx(MU,{className:"w-12 h-12 text-primary"}),title:"Évaluation Initiale",description:"L'IA analyse vos connaissances pour créer un parcours sur mesure."},{icon:o.jsx(h2,{className:"w-12 h-12 text-primary"}),title:"Apprentissage Adaptatif",description:"Des leçons qui s'ajustent en temps réel à votre rythme et à vos difficultés."},{icon:o.jsx(d2,{className:"w-12 h-12 text-primary"}),title:"Feedback Instantané",description:"Recevez des retours et des conseils de votre tuteur IA pour progresser plus vite."},{icon:o.jsx(TU,{className:"w-12 h-12 text-primary"}),title:"Consolidation des Acquis",description:"Des exercices ciblés pour renforcer vos points faibles et assurer une maîtrise durable."}],y=[{id:"home-anon",label:"Accueil",icon_name:"Home",route:"/",is_external:!1,order_index:0,type:"route"},{id:"aia-bot-link",label:"AiA Bot",icon_name:"BotMessageSquare",route:"#aiaBot",is_external:!1,order_index:1,type:"route"},{id:"methodology-link",label:"Méthodologie",icon_name:"SlidersHorizontal",route:"#methodologie",is_external:!1,order_index:2,type:"route"}],v=_.useCallback(w=>{(w.ctrlKey||w.metaKey)&&w.shiftKey&&w.key==="S"&&(w.preventDefault(),e(!0))},[e]);_.useEffect(()=>(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}),[v]);const b=_.useCallback(()=>{u.current+=1,u.current>=10&&(e(!0),u.current=0),setTimeout(()=>{u.current=0},1e3)},[e]);return o.jsxs("div",{className:"flex flex-col min-h-screen bg-background overflow-x-hidden",children:[o.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full bg-background bg-[linear-gradient(to_right,#8080800a_1px,transparent_1px),linear-gradient(to_bottom,#8080800a_1px,transparent_1px)] bg-[size:14px_24px]"}),o.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 px-4 py-3 flex items-center justify-between border-b backdrop-blur-lg bg-background/80 shadow-sm",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(Ia,{onLogoClick:b})}),o.jsx("nav",{className:"hidden md:flex items-center gap-4",children:y.map(w=>{var C;const j=w.route==="/"&&f.pathname==="/"&&!f.hash||((C=w.route)==null?void 0:C.startsWith("#"))&&f.pathname==="/"&&f.hash===w.route,S=Fde[w.icon_name||"Info"]||Ct;return o.jsxs(sr,{to:w.route,className:Ne("flex items-center p-2 rounded-md text-sm font-medium whitespace-nowrap",j?"text-primary font-semibold bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/20"),children:[o.jsx(S,{className:"h-5 w-5 mr-2"})," ",w.label]},w.id)})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_w,{onInitiateThemeChange:t}),o.jsxs(me,{variant:"ghost",size:"icon",onClick:()=>c("/about"),className:"hidden sm:flex",children:[" ",o.jsx(Ct,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"À propos"})]}),o.jsxs(me,{variant:"outline",onClick:()=>c("/auth"),children:[" ",o.jsx(u2,{className:"h-5 w-5 mr-2"})," Connexion"]})]})]}),o.jsxs("main",{className:Ne("flex-grow flex flex-col items-center justify-center text-center pt-24 md:pt-32"),children:[o.jsx("section",{id:"accueil",ref:i.accueil,className:"py-20 px-4 w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute -top-40 -left-40 w-96 h-96 bg-primary/10 rounded-full filter blur-3xl opacity-50 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-secondary/20 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-2000"}),o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx(Ia,{iconClassName:"w-24 h-24 sm:w-40 sm:h-40",showText:!1})}),o.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"L'Avenir de l'Apprentissage est Ici"}),o.jsx("p",{className:"text-base md:text-xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"AcademIA transforme l'éducation avec des parcours personnalisés, un suivi intelligent et un tuteur IA pour libérer le potentiel de chaque apprenant."}),o.jsx("div",{className:"flex gap-4 justify-center flex-wrap",children:o.jsxs(me,{size:"lg",onClick:()=>c("/auth"),children:[" ","Découvrir AiA"]})})]})}),o.jsx("section",{id:"aiaBot",ref:i.aiaBot,className:"py-20 w-full border-y border-border/50 px-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[o.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Votre Tuteur IA Personnel : AiA"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-12",children:"AiA, l'intelligence artificielle d'AcademIA, est là pour vous guider. Elle identifie vos points faibles, adapte les leçons et vous offre un soutien personnalisé pour une progression optimale."}),o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx(Ao,{className:"w-24 h-24 text-primary"})}),o.jsx("div",{children:o.jsxs(me,{size:"lg",onClick:()=>l(),children:[" ","Parler à AiA"]})})]})}),o.jsxs("section",{id:"methodologie",ref:i.methodologie,className:"py-20 w-full px-4",children:[o.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Notre Méthodologie Révolutionnaire"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-12 max-w-3xl mx-auto",children:"Un parcours d'apprentissage unique, guidé par l'intelligence artificielle, pour une maîtrise complète."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:x.map((w,j)=>o.jsx("div",{children:o.jsxs(Re,{className:"text-center hover:scale-[1.02] transition-transform",children:[" ",o.jsxs(Be,{children:[o.jsx("div",{className:"flex justify-center mb-4",children:w.icon}),o.jsx(Fe,{children:w.title})]}),o.jsx(qe,{children:o.jsx("p",{className:"text-muted-foreground",children:w.description})})]})},j))})]})]}),o.jsxs("footer",{className:"p-4 text-center text-sm text-muted-foreground border-t",children:["© ",new Date().getFullYear()," AcademIA. Tous droits réservés."," ",o.jsxs(me,{variant:"link",className:"p-0 h-auto text-muted-foreground hover:text-foreground",onClick:()=>c("/about"),children:[" ","À propos"]})]})]})},k2=_.createContext({});function O2(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const A2=typeof window<"u",W9=A2?_.useLayoutEffect:_.useEffect,Sw=_.createContext(null);function T2(e,t){e.indexOf(t)===-1&&e.push(t)}function P2(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const fl=(e,t,r)=>r>t?t:r<e?e:r;let M2=()=>{};const hl={},H9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function K9(e){return typeof e=="object"&&e!==null}const G9=e=>/^0[^.\s]+$/u.test(e);function R2(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zs=e=>e,Bde=(e,t)=>r=>t(e(r)),Sv=(...e)=>e.reduce(Bde),lg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class D2{constructor(){this.subscriptions=[]}add(t){return T2(this.subscriptions,t),()=>P2(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const po=e=>e*1e3,go=e=>e/1e3;function Y9(e,t){return t?e*(1e3/t):0}const Q9=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,zde=1e-7,Vde=12;function Ude(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=Q9(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>zde&&++l<Vde);return a}function jv(e,t,r,n){if(e===t&&r===n)return Zs;const i=s=>Ude(s,0,1,e,r);return s=>s===0||s===1?s:Q9(i(s),t,n)}const X9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Z9=e=>t=>1-e(1-t),J9=jv(.33,1.53,.69,.99),I2=Z9(J9),eW=X9(I2),tW=e=>(e*=2)<1?.5*I2(e):.5*(2-Math.pow(2,-10*(e-1))),L2=e=>1-Math.sin(Math.acos(e)),rW=Z9(L2),nW=X9(L2),Wde=jv(.42,0,1,1),Hde=jv(0,0,.58,1),iW=jv(.42,0,.58,1),Kde=e=>Array.isArray(e)&&typeof e[0]!="number",sW=e=>Array.isArray(e)&&typeof e[0]=="number",Gde={linear:Zs,easeIn:Wde,easeInOut:iW,easeOut:Hde,circIn:L2,circInOut:nW,circOut:rW,backIn:I2,backInOut:eW,backOut:J9,anticipate:tW},Yde=e=>typeof e=="string",S4=e=>{if(sW(e)){M2(e.length===4);const[t,r,n,i]=e;return jv(t,r,n,i)}else if(Yde(e))return Gde[e];return e},Ox=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qde(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(u.schedule(f),e()),f(l)}const u={schedule:(f,d=!1,m=!1)=>{const x=m&&i?r:n;return d&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const Xde=40;function aW(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=Ox.reduce((j,S)=>(j[S]=Qde(s),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:f,update:d,preRender:m,render:p,postRender:x}=a,y=()=>{const j=hl.useManualTiming?i.timestamp:performance.now();r=!1,hl.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(j-i.timestamp,Xde),1)),i.timestamp=j,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),f.process(i),d.process(i),m.process(i),p.process(i),x.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(y))},v=()=>{r=!0,n=!0,i.isProcessing||e(y)};return{schedule:Ox.reduce((j,S)=>{const C=a[S];return j[S]=(E,k=!1,O=!1)=>(r||v(),C.schedule(E,k,O)),j},{}),cancel:j=>{for(let S=0;S<Ox.length;S++)a[Ox[S]].cancel(j)},state:i,steps:a}}const{schedule:Vr,cancel:Tc,state:ri,steps:DS}=aW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zs,!0);let ib;function Zde(){ib=void 0}const rs={now:()=>(ib===void 0&&rs.set(ri.isProcessing||hl.useManualTiming?ri.timestamp:performance.now()),ib),set:e=>{ib=e,queueMicrotask(Zde)}},oW=e=>t=>typeof t=="string"&&t.startsWith(e),$2=oW("--"),Jde=oW("var(--"),F2=e=>Jde(e)?efe.test(e.split("/*")[0].trim()):!1,efe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,im={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},cg={...im,transform:e=>fl(0,1,e)},Ax={...im,default:1},Dp=e=>Math.round(e*1e5)/1e5,q2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tfe(e){return e==null}const rfe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,B2=(e,t)=>r=>!!(typeof r=="string"&&rfe.test(r)&&r.startsWith(e)||t&&!tfe(r)&&Object.prototype.hasOwnProperty.call(r,t)),lW=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(q2);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},nfe=e=>fl(0,255,e),IS={...im,transform:e=>Math.round(nfe(e))},wu={test:B2("rgb","red"),parse:lW("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+IS.transform(e)+", "+IS.transform(t)+", "+IS.transform(r)+", "+Dp(cg.transform(n))+")"};function ife(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const jO={test:B2("#"),parse:ife,transform:wu.transform},Cv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),sc=Cv("deg"),vo=Cv("%"),Tt=Cv("px"),sfe=Cv("vh"),afe=Cv("vw"),j4={...vo,parse:e=>vo.parse(e)/100,transform:e=>vo.transform(e*100)},mf={test:B2("hsl","hue"),parse:lW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+vo.transform(Dp(t))+", "+vo.transform(Dp(r))+", "+Dp(cg.transform(n))+")"},yn={test:e=>wu.test(e)||jO.test(e)||mf.test(e),parse:e=>wu.test(e)?wu.parse(e):mf.test(e)?mf.parse(e):jO.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wu.transform(e):mf.transform(e),getAnimatableNone:e=>{const t=yn.parse(e);return t.alpha=0,yn.transform(t)}},ofe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lfe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(q2))==null?void 0:t.length)||0)+(((r=e.match(ofe))==null?void 0:r.length)||0)>0}const cW="number",uW="color",cfe="var",ufe="var(",C4="${}",dfe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ug(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(dfe,c=>(yn.test(c)?(n.color.push(s),i.push(uW),r.push(yn.parse(c))):c.startsWith(ufe)?(n.var.push(s),i.push(cfe),r.push(c)):(n.number.push(s),i.push(cW),r.push(parseFloat(c))),++s,C4)).split(C4);return{values:r,split:l,indexes:n,types:i}}function dW(e){return ug(e).values}function fW(e){const{split:t,types:r}=ug(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===cW?s+=Dp(i[a]):l===uW?s+=yn.transform(i[a]):s+=i[a]}return s}}const ffe=e=>typeof e=="number"?0:yn.test(e)?yn.getAnimatableNone(e):e;function hfe(e){const t=dW(e);return fW(e)(t.map(ffe))}const Pc={test:lfe,parse:dW,createTransformer:fW,getAnimatableNone:hfe};function LS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function mfe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=LS(c,l,e+1/3),s=LS(c,l,e),a=LS(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Nb(e,t){return r=>r>0?t:e}const Jr=(e,t,r)=>e+(t-e)*r,$S=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},pfe=[jO,wu,mf],gfe=e=>pfe.find(t=>t.test(e));function N4(e){const t=gfe(e);if(!t)return!1;let r=t.parse(e);return t===mf&&(r=mfe(r)),r}const E4=(e,t)=>{const r=N4(e),n=N4(t);if(!r||!n)return Nb(e,t);const i={...r};return s=>(i.red=$S(r.red,n.red,s),i.green=$S(r.green,n.green,s),i.blue=$S(r.blue,n.blue,s),i.alpha=Jr(r.alpha,n.alpha,s),wu.transform(i))},CO=new Set(["none","hidden"]);function vfe(e,t){return CO.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function yfe(e,t){return r=>Jr(e,t,r)}function z2(e){return typeof e=="number"?yfe:typeof e=="string"?F2(e)?Nb:yn.test(e)?E4:wfe:Array.isArray(e)?hW:typeof e=="object"?yn.test(e)?E4:xfe:Nb}function hW(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>z2(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function xfe(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=z2(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function bfe(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const wfe=(e,t)=>{const r=Pc.createTransformer(t),n=ug(e),i=ug(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?CO.has(e)&&!i.values.length||CO.has(t)&&!n.values.length?vfe(e,t):Sv(hW(bfe(n,i),i.values),r):Nb(e,t)};function mW(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Jr(e,t,r):z2(e)(e,t)}const _fe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Vr.update(t,r),stop:()=>Tc(t),now:()=>ri.isProcessing?ri.timestamp:rs.now()}},pW=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Eb=2e4;function V2(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Eb;)t+=r,n=e.next(t);return t>=Eb?1/0:t}function Sfe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(V2(n),Eb);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:go(i)}}const jfe=5;function gW(e,t,r){const n=Math.max(t-jfe,0);return Y9(r-e(n),t-n)}const sn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FS=.001;function Cfe({duration:e=sn.duration,bounce:t=sn.bounce,velocity:r=sn.velocity,mass:n=sn.mass}){let i,s,a=1-t;a=fl(sn.minDamping,sn.maxDamping,a),e=fl(sn.minDuration,sn.maxDuration,go(e)),a<1?(i=u=>{const f=u*a,d=f*e,m=f-r,p=NO(u,a),x=Math.exp(-d);return FS-m/p*x},s=u=>{const d=u*a*e,m=d*r+r,p=Math.pow(a,2)*Math.pow(u,2)*e,x=Math.exp(-d),y=NO(Math.pow(u,2),a);return(-i(u)+FS>0?-1:1)*((m-p)*x)/y}):(i=u=>{const f=Math.exp(-u*e),d=(u-r)*e+1;return-FS+f*d},s=u=>{const f=Math.exp(-u*e),d=(r-u)*(e*e);return f*d});const l=5/e,c=Efe(i,s,l);if(e=po(e),isNaN(c))return{stiffness:sn.stiffness,damping:sn.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const Nfe=12;function Efe(e,t,r){let n=r;for(let i=1;i<Nfe;i++)n=n-e(n)/t(n);return n}function NO(e,t){return e*Math.sqrt(1-t*t)}const kfe=["duration","bounce"],Ofe=["stiffness","damping","mass"];function k4(e,t){return t.some(r=>e[r]!==void 0)}function Afe(e){let t={velocity:sn.velocity,stiffness:sn.stiffness,damping:sn.damping,mass:sn.mass,isResolvedFromDuration:!1,...e};if(!k4(e,Ofe)&&k4(e,kfe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*fl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:sn.mass,stiffness:i,damping:s}}else{const r=Cfe(e);t={...t,...r,mass:sn.mass},t.isResolvedFromDuration=!0}return t}function kb(e=sn.visualDuration,t=sn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:d,velocity:m,isResolvedFromDuration:p}=Afe({...r,velocity:-go(r.velocity||0)}),x=m||0,y=u/(2*Math.sqrt(c*f)),v=a-s,b=go(Math.sqrt(c/f)),w=Math.abs(v)<5;n||(n=w?sn.restSpeed.granular:sn.restSpeed.default),i||(i=w?sn.restDelta.granular:sn.restDelta.default);let j;if(y<1){const C=NO(b,y);j=E=>{const k=Math.exp(-y*b*E);return a-k*((x+y*b*v)/C*Math.sin(C*E)+v*Math.cos(C*E))}}else if(y===1)j=C=>a-Math.exp(-b*C)*(v+(x+b*v)*C);else{const C=b*Math.sqrt(y*y-1);j=E=>{const k=Math.exp(-y*b*E),O=Math.min(C*E,300);return a-k*((x+y*b*v)*Math.sinh(O)+C*v*Math.cosh(O))/C}}const S={calculatedDuration:p&&d||null,next:C=>{const E=j(C);if(p)l.done=C>=d;else{let k=C===0?x:0;y<1&&(k=C===0?po(x):gW(j,C,E));const O=Math.abs(k)<=n,M=Math.abs(a-E)<=i;l.done=O&&M}return l.value=l.done?a:E,l},toString:()=>{const C=Math.min(V2(S),Eb),E=pW(k=>S.next(C*k).value,C,30);return C+"ms "+E},toTransition:()=>{}};return S}kb.applyToOptions=e=>{const t=Sfe(e,100,kb);return e.ease=t.ease,e.duration=po(t.duration),e.type="keyframes",e};function EO({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:f}){const d=e[0],m={done:!1,value:d},p=O=>l!==void 0&&O<l||c!==void 0&&O>c,x=O=>l===void 0?c:c===void 0||Math.abs(l-O)<Math.abs(c-O)?l:c;let y=r*t;const v=d+y,b=a===void 0?v:a(v);b!==v&&(y=b-d);const w=O=>-y*Math.exp(-O/n),j=O=>b+w(O),S=O=>{const M=w(O),R=j(O);m.done=Math.abs(M)<=u,m.value=m.done?b:R};let C,E;const k=O=>{p(m.value)&&(C=O,E=kb({keyframes:[m.value,x(m.value)],velocity:gW(j,O,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return k(0),{calculatedDuration:null,next:O=>{let M=!1;return!E&&C===void 0&&(M=!0,S(O),k(O)),C!==void 0&&O>=C?E.next(O-C):(!M&&S(O),m)}}}function Tfe(e,t,r){const n=[],i=r||hl.mix||mW,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Zs:t;l=Sv(c,l)}n.push(l)}return n}function Pfe(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(M2(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Tfe(t,n,i),c=l.length,u=f=>{if(a&&f<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(f<e[d+1]);d++);const m=lg(e[d],e[d+1],f);return l[d](m)};return r?f=>u(fl(e[0],e[s-1],f)):u}function Mfe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=lg(0,t,n);e.push(Jr(r,1,i))}}function Rfe(e){const t=[0];return Mfe(t,e.length-1),t}function Dfe(e,t){return e.map(r=>r*t)}function Ife(e,t){return e.map(()=>t||iW).splice(0,e.length-1)}function Ip({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=Kde(n)?n.map(S4):S4(n),s={done:!1,value:t[0]},a=Dfe(r&&r.length===t.length?r:Rfe(t),e),l=Pfe(a,t,{ease:Array.isArray(i)?i:Ife(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const Lfe=e=>e!==null;function U2(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(Lfe),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const $fe={decay:EO,inertia:EO,tween:Ip,keyframes:Ip,spring:kb};function vW(e){typeof e.type=="string"&&(e.type=$fe[e.type])}class W2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Ffe=e=>e/100;class H2 extends W2{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==rs.now()&&this.tick(rs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;vW(t);const{type:r=Ip,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||Ip;c!==Ip&&typeof l[0]!="number"&&(this.mixKeyframes=Sv(Ffe,mW(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=V2(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:d,repeatType:m,repeatDelay:p,type:x,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let j=this.currentTime,S=n;if(d){const O=Math.min(this.currentTime,i)/l;let M=Math.floor(O),R=O%1;!R&&O>=1&&(R=1),R===1&&M--,M=Math.min(M,d+1),!!(M%2)&&(m==="reverse"?(R=1-R,p&&(R-=p/l)):m==="mirror"&&(S=a)),j=fl(0,1,R)*l}const C=w?{done:!1,value:f[0]}:S.next(j);s&&(C.value=s(C.value));let{done:E}=C;!w&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&x!==EO&&(C.value=U2(f,this.options,v,this.speed)),y&&y(C.value),k&&this.finish(),C}then(t,r){return this.finished.then(t,r)}get duration(){return go(this.calculatedDuration)}get time(){return go(this.currentTime)}set time(t){var r;t=po(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(rs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=go(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=_fe,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function qfe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _u=e=>e*180/Math.PI,kO=e=>{const t=_u(Math.atan2(e[1],e[0]));return OO(t)},Bfe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:kO,rotateZ:kO,skewX:e=>_u(Math.atan(e[1])),skewY:e=>_u(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},OO=e=>(e=e%360,e<0&&(e+=360),e),O4=kO,A4=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),T4=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zfe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A4,scaleY:T4,scale:e=>(A4(e)+T4(e))/2,rotateX:e=>OO(_u(Math.atan2(e[6],e[5]))),rotateY:e=>OO(_u(Math.atan2(-e[2],e[0]))),rotateZ:O4,rotate:O4,skewX:e=>_u(Math.atan(e[4])),skewY:e=>_u(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function AO(e){return e.includes("scale")?1:0}function TO(e,t){if(!e||e==="none")return AO(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=zfe,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Bfe,i=l}if(!i)return AO(t);const s=n[t],a=i[1].split(",").map(Ufe);return typeof s=="function"?s(a):a[s]}const Vfe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return TO(r,t)};function Ufe(e){return parseFloat(e.trim())}const sm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],am=new Set(sm),P4=e=>e===im||e===Tt,Wfe=new Set(["x","y","z"]),Hfe=sm.filter(e=>!Wfe.has(e));function Kfe(e){const t=[];return Hfe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Iu={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>TO(t,"x"),y:(e,{transform:t})=>TO(t,"y")};Iu.translateX=Iu.x;Iu.translateY=Iu.y;const Lu=new Set;let PO=!1,MO=!1,RO=!1;function yW(){if(MO){const e=Array.from(Lu).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Kfe(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}MO=!1,PO=!1,Lu.forEach(e=>e.complete(RO)),Lu.clear()}function xW(){Lu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(MO=!0)})}function Gfe(){RO=!0,xW(),yW(),RO=!1}class K2{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Lu.add(this),PO||(PO=!0,Vr.read(xW),Vr.resolveKeyframes(yW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}qfe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Lu.delete(this)}cancel(){this.state==="scheduled"&&(Lu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Yfe=e=>e.startsWith("--");function Qfe(e,t,r){Yfe(t)?e.style.setProperty(t,r):e.style[t]=r}const Xfe=R2(()=>window.ScrollTimeline!==void 0),Zfe={};function Jfe(e,t){const r=R2(e);return()=>Zfe[t]??r()}const bW=Jfe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,M4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jp([0,.65,.55,1]),circOut:jp([.55,0,1,.45]),backIn:jp([.31,.01,.66,-.59]),backOut:jp([.33,1.53,.69,.99])};function wW(e,t){if(e)return typeof e=="function"?bW()?pW(e,t):"ease-out":sW(e)?jp(e):Array.isArray(e)?e.map(r=>wW(r,t)||M4.easeOut):M4[e]}function ehe(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const f={[t]:r};c&&(f.offset=c);const d=wW(l,i);Array.isArray(d)&&(f.easing=d);const m={delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(f,m)}function _W(e){return typeof e=="function"&&"applyToOptions"in e}function the({type:e,...t}){return _W(e)&&bW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class rhe extends W2{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,M2(typeof t.type!="string");const u=the(t);this.animation=ehe(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=U2(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):Qfe(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return go(Number(t))}get time(){return go(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=po(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Xfe()?(this.animation.timeline=t,Zs):r(this)}}const SW={anticipate:tW,backInOut:eW,circInOut:nW};function nhe(e){return e in SW}function ihe(e){typeof e.ease=="string"&&nhe(e.ease)&&(e.ease=SW[e.ease])}const R4=10;class she extends rhe{constructor(t){ihe(t),vW(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new H2({...a,autoplay:!1}),c=po(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-R4).value,l.sample(c).value,R4),l.stop()}}const D4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pc.test(e)||e==="0")&&!e.startsWith("url("));function ahe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function ohe(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=D4(i,t),l=D4(s,t);return!a||!l?!1:ahe(e)||(r==="spring"||_W(r))&&n}function DO(e){e.duration=0,e.type}const lhe=new Set(["opacity","clipPath","filter","transform"]),che=R2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uhe(e){var f;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return che()&&r&&lhe.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const dhe=40;class fhe extends W2{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:f,...d}){var x;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=rs.now();const m={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:f,...d},p=(f==null?void 0:f.KeyframeResolver)||K2;this.keyframeResolver=new p(l,(y,v,b)=>this.onKeyframesResolved(y,v,m,!b),c,u,f),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:f}=n;this.resolvedAt=rs.now(),ohe(t,s,a,l)||((hl.instantAnimations||!c)&&(f==null||f(U2(t,n,r))),t[0]=t[t.length-1],DO(n),n.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>dhe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!u&&uhe(m)?new she({...m,element:m.motionValue.owner.current}):new H2(m);p.finished.then(()=>this.notifyFinished()).catch(Zs),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Gfe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const hhe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mhe(e){const t=hhe.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function jW(e,t,r=1){const[n,i]=mhe(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return H9(a)?parseFloat(a):a}return F2(i)?jW(i,t,r+1):i}function G2(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const CW=new Set(["width","height","top","left","right","bottom",...sm]),phe={test:e=>e==="auto",parse:e=>e},NW=e=>t=>t.test(e),EW=[im,Tt,vo,sc,afe,sfe,phe],I4=e=>EW.find(NW(e));function ghe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||G9(e):!0}const vhe=new Set(["brightness","contrast","saturate","opacity"]);function yhe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(q2)||[];if(!n)return e;const i=r.replace(n,"");let s=vhe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const xhe=/\b([a-z-]*)\(.*?\)/gu,IO={...Pc,getAnimatableNone:e=>{const t=e.match(xhe);return t?t.map(yhe).join(" "):e}},L4={...im,transform:Math.round},bhe={rotate:sc,rotateX:sc,rotateY:sc,rotateZ:sc,scale:Ax,scaleX:Ax,scaleY:Ax,scaleZ:Ax,skew:sc,skewX:sc,skewY:sc,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:cg,originX:j4,originY:j4,originZ:Tt},Y2={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...bhe,zIndex:L4,fillOpacity:cg,strokeOpacity:cg,numOctaves:L4},whe={...Y2,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:IO,WebkitFilter:IO},kW=e=>whe[e];function OW(e,t){let r=kW(e);return r!==IO&&(r=Pc),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const _he=new Set(["auto","none","0"]);function She(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!_he.has(s)&&ug(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=OW(r,i)}class jhe extends K2{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),F2(u))){const f=jW(u,r.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!CW.has(n)||t.length!==2)return;const[i,s]=t,a=I4(i),l=I4(s);if(a!==l)if(P4(a)&&P4(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Iu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||ghe(t[i]))&&n.push(i);n.length&&She(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Iu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Iu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Che(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(r==null?void 0:r[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const AW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function TW(e){return K9(e)&&"offsetHeight"in e}const $4=30,Nhe=e=>!isNaN(parseFloat(e));class Ehe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=rs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=rs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Nhe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new D2);const n=this.events[t].add(r);return t==="change"?()=>{n(),Vr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=rs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>$4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,$4);return Y9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eh(e,t){return new Ehe(e,t)}const{schedule:Q2}=aW(queueMicrotask,!1),ba={x:!1,y:!1};function PW(){return ba.x||ba.y}function khe(e){return e==="x"||e==="y"?ba[e]?null:(ba[e]=!0,()=>{ba[e]=!1}):ba.x||ba.y?null:(ba.x=ba.y=!0,()=>{ba.x=ba.y=!1})}function MW(e,t){const r=Che(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function F4(e){return!(e.pointerType==="touch"||PW())}function Ohe(e,t,r={}){const[n,i,s]=MW(e,r),a=l=>{if(!F4(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const f=d=>{F4(d)&&(u(d),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const RW=(e,t)=>t?e===t?!0:RW(e,t.parentElement):!1,X2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ahe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function The(e){return Ahe.has(e.tagName)||e.tabIndex!==-1}const sb=new WeakSet;function q4(e){return t=>{t.key==="Enter"&&e(t)}}function qS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Phe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=q4(()=>{if(sb.has(r))return;qS(r,"down");const i=q4(()=>{qS(r,"up")}),s=()=>qS(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function B4(e){return X2(e)&&!PW()}function Mhe(e,t,r={}){const[n,i,s]=MW(e,r),a=l=>{const c=l.currentTarget;if(!B4(l))return;sb.add(c);const u=t(c,l),f=(p,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),sb.has(c)&&sb.delete(c),B4(p)&&typeof u=="function"&&u(p,{success:x})},d=p=>{f(p,c===window||c===document||r.useGlobalTarget||RW(c,p.target))},m=p=>{f(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",m,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),TW(l)&&(l.addEventListener("focus",u=>Phe(u,i)),!The(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function DW(e){return K9(e)&&"ownerSVGElement"in e}function Rhe(e){return DW(e)&&e.tagName==="svg"}const Si=e=>!!(e&&e.getVelocity),Dhe=[...EW,yn,Pc],Ihe=e=>Dhe.find(NW(e)),Z2=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Lhe extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=TW(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $he({children:e,isPresent:t,anchorX:r,root:n}){const i=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(Z2);return _.useInsertionEffect(()=>{const{width:c,height:u,top:f,left:d,right:m}=a.current;if(t||!s.current||!c||!u)return;const p=r==="left"?`left: ${d}`:`right: ${m}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const y=n??document.head;return y.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{y.contains(x)&&y.removeChild(x)}},[t]),o.jsx(Lhe,{isPresent:t,childRef:s,sizeRef:a,children:_.cloneElement(e,{ref:s})})}const Fhe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=O2(qhe),f=_.useId();let d=!0,m=_.useMemo(()=>(d=!1,{id:f,initial:t,isPresent:r,custom:i,onExitComplete:p=>{u.set(p,!0);for(const x of u.values())if(!x)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return s&&d&&(m={...m}),_.useMemo(()=>{u.forEach((p,x)=>u.set(x,!1))},[r]),_.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx($he,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Sw.Provider,{value:m,children:e})};function qhe(){return new Map}function IW(e=!0){const t=_.useContext(Sw);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=_.useId();_.useEffect(()=>{if(e)return i(s)},[e]);const a=_.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const Tx=e=>e.key||"";function z4(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const Nv=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,f]=IW(a),d=_.useMemo(()=>z4(e),[e]),m=a&&!u?[]:d.map(Tx),p=_.useRef(!0),x=_.useRef(d),y=O2(()=>new Map),[v,b]=_.useState(d),[w,j]=_.useState(d);W9(()=>{p.current=!1,x.current=d;for(let E=0;E<w.length;E++){const k=Tx(w[E]);m.includes(k)?y.delete(k):y.get(k)!==!0&&y.set(k,!1)}},[w,m.length,m.join("-")]);const S=[];if(d!==v){let E=[...d];for(let k=0;k<w.length;k++){const O=w[k],M=Tx(O);m.includes(M)||(E.splice(k,0,O),S.push(O))}return s==="wait"&&S.length&&(E=S),j(z4(E)),b(d),null}const{forceRender:C}=_.useContext(k2);return o.jsx(o.Fragment,{children:w.map(E=>{const k=Tx(E),O=a&&!u?!1:d===w||m.includes(k),M=()=>{if(y.has(k))y.set(k,!0);else return;let R=!0;y.forEach(T=>{T||(R=!1)}),R&&(C==null||C(),j(x.current),a&&(f==null||f()),n&&n())};return o.jsx(Fhe,{isPresent:O,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:O?void 0:M,anchorX:l,children:E},k)})})},LW=_.createContext({strict:!1}),V4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},th={};for(const e in V4)th[e]={isEnabled:t=>V4[e].some(r=>!!t[r])};function Bhe(e){for(const t in e)th[t]={...th[t],...e[t]}}const zhe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ob(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zhe.has(e)}let $W=e=>!Ob(e);function Vhe(e){typeof e=="function"&&($W=t=>t.startsWith("on")?!Ob(t):e(t))}try{Vhe(require("@emotion/is-prop-valid").default)}catch{}function Uhe(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||($W(i)||r===!0&&Ob(i)||!t&&!Ob(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const jw=_.createContext({});function Cw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function dg(e){return typeof e=="string"||Array.isArray(e)}const J2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eP=["initial",...J2];function Nw(e){return Cw(e.animate)||eP.some(t=>dg(e[t]))}function FW(e){return!!(Nw(e)||e.variants)}function Whe(e,t){if(Nw(e)){const{initial:r,animate:n}=e;return{initial:r===!1||dg(r)?r:void 0,animate:dg(n)?n:void 0}}return e.inherit!==!1?t:{}}function Hhe(e){const{initial:t,animate:r}=Whe(e,_.useContext(jw));return _.useMemo(()=>({initial:t,animate:r}),[U4(t),U4(r)])}function U4(e){return Array.isArray(e)?e.join(" "):e}const fg={};function Khe(e){for(const t in e)fg[t]=e[t],$2(t)&&(fg[t].isCSSVariable=!0)}function qW(e,{layout:t,layoutId:r}){return am.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!fg[e]||e==="opacity")}const Ghe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yhe=sm.length;function Qhe(e,t,r){let n="",i=!0;for(let s=0;s<Yhe;s++){const a=sm[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=AW(l,Y2[a]);if(!c){i=!1;const f=Ghe[a]||a;n+=`${f}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function tP(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(am.has(c)){a=!0;continue}else if($2(c)){i[c]=u;continue}else{const f=AW(u,Y2[c]);c.startsWith("origin")?(l=!0,s[c]=f):n[c]=f}}if(t.transform||(a||r?n.transform=Qhe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${u} ${f}`}}const rP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BW(e,t,r){for(const n in t)!Si(t[n])&&!qW(n,r)&&(e[n]=t[n])}function Xhe({transformTemplate:e},t){return _.useMemo(()=>{const r=rP();return tP(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Zhe(e,t){const r=e.style||{},n={};return BW(n,r,e),Object.assign(n,Xhe(e,t)),n}function Jhe(e,t){const r={},n=Zhe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const eme={offset:"stroke-dashoffset",array:"stroke-dasharray"},tme={offset:"strokeDashoffset",array:"strokeDasharray"};function rme(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?eme:tme;e[s.offset]=Tt.transform(-n);const a=Tt.transform(t),l=Tt.transform(r);e[s.array]=`${a} ${l}`}function zW(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,f){if(tP(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m}=e;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),i!==void 0&&rme(d,i,s,a,!1)}const VW=()=>({...rP(),attrs:{}}),UW=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nme(e,t,r,n){const i=_.useMemo(()=>{const s=VW();return zW(s,t,UW(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};BW(s,e.style,e),i.style={...s,...i.style}}return i}const ime=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nP(e){return typeof e!="string"||e.includes("-")?!1:!!(ime.indexOf(e)>-1||/[A-Z]/u.test(e))}function sme(e,t,r,{latestValues:n},i,s=!1){const l=(nP(e)?nme:Jhe)(t,n,i,e),c=Uhe(t,typeof e=="string",s),u=e!==_.Fragment?{...c,...l,ref:r}:{},{children:f}=t,d=_.useMemo(()=>Si(f)?f.get():f,[f]);return _.createElement(e,{...u,children:d})}function W4(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function iP(e,t,r,n){if(typeof t=="function"){const[i,s]=W4(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=W4(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function ab(e){return Si(e)?e.get():e}function ame({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:ome(r,n,i,e),renderState:t()}}function ome(e,t,r,n){const i={},s=n(e,{});for(const m in s)i[m]=ab(s[m]);let{initial:a,animate:l}=e;const c=Nw(e),u=FW(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||a===!1;const d=f?l:a;if(d&&typeof d!="boolean"&&!Cw(d)){const m=Array.isArray(d)?d:[d];for(let p=0;p<m.length;p++){const x=iP(e,m[p]);if(x){const{transitionEnd:y,transition:v,...b}=x;for(const w in b){let j=b[w];if(Array.isArray(j)){const S=f?j.length-1:0;j=j[S]}j!==null&&(i[w]=j)}for(const w in y)i[w]=y[w]}}}return i}const WW=e=>(t,r)=>{const n=_.useContext(jw),i=_.useContext(Sw),s=()=>ame(e,t,n,i);return r?s():O2(s)};function sP(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(Si(n[a])||t.style&&Si(t.style[a])||qW(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const lme=WW({scrapeMotionValuesFromProps:sP,createRenderState:rP});function HW(e,t,r){const n=sP(e,t,r);for(const i in e)if(Si(e[i])||Si(t[i])){const s=sm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const cme=WW({scrapeMotionValuesFromProps:HW,createRenderState:VW}),ume=Symbol.for("motionComponentSymbol");function pf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dme(e,t,r){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):pf(r)&&(r.current=n))},[t])}const aP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fme="framerAppearId",KW="data-"+aP(fme),GW=_.createContext({});function hme(e,t,r,n,i){var y,v;const{visualElement:s}=_.useContext(jw),a=_.useContext(LW),l=_.useContext(Sw),c=_.useContext(Z2).reducedMotion,u=_.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,d=_.useContext(GW);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&mme(u.current,r,i,d);const m=_.useRef(!1);_.useInsertionEffect(()=>{f&&m.current&&f.update(r,l)});const p=r[KW],x=_.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return W9(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),x.current=!1),f.enteringChildren=void 0)}),f}function mme(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:YW(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&pf(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:u})}function YW(e){if(e)return e.options.allowProjection!==!1?e.projection:YW(e.parent)}function BS(e,{forwardMotionProps:t=!1}={},r,n){r&&Bhe(r);const i=nP(e)?cme:lme;function s(l,c){let u;const f={..._.useContext(Z2),...l,layoutId:pme(l)},{isStatic:d}=f,m=Hhe(l),p=i(l,d);if(!d&&A2){gme();const x=vme(f);u=x.MeasureLayout,m.visualElement=hme(e,p,f,n,x.ProjectionNode)}return o.jsxs(jw.Provider,{value:m,children:[u&&m.visualElement?o.jsx(u,{visualElement:m.visualElement,...f}):null,sme(e,l,dme(p,m.visualElement,c),p,d,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=_.forwardRef(s);return a[ume]=e,a}function pme({layoutId:e}){const t=_.useContext(k2).id;return t&&e!==void 0?t+"-"+e:e}function gme(e,t){_.useContext(LW).strict}function vme(e){const{drag:t,layout:r}=th;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function yme(e,t){if(typeof Proxy>"u")return BS;const r=new Map,n=(s,a)=>BS(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,BS(a,void 0,e,t)),r.get(a))})}function QW({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function xme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bme(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function zS(e){return e===void 0||e===1}function LO({scale:e,scaleX:t,scaleY:r}){return!zS(e)||!zS(t)||!zS(r)}function gu(e){return LO(e)||XW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function XW(e){return H4(e.x)||H4(e.y)}function H4(e){return e&&e!=="0%"}function Ab(e,t,r){const n=e-r,i=t*n;return r+i}function K4(e,t,r,n,i){return i!==void 0&&(e=Ab(e,i,n)),Ab(e,r,n)+t}function $O(e,t=0,r=1,n,i){e.min=K4(e.min,t,r,n,i),e.max=K4(e.max,t,r,n,i)}function ZW(e,{x:t,y:r}){$O(e.x,t.translate,t.scale,t.originPoint),$O(e.y,r.translate,r.scale,r.originPoint)}const G4=.999999999999,Y4=1.0000000000001;function wme(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vf(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ZW(e,a)),n&&gu(s.latestValues)&&vf(e,s.latestValues))}t.x<Y4&&t.x>G4&&(t.x=1),t.y<Y4&&t.y>G4&&(t.y=1)}function gf(e,t){e.min=e.min+t,e.max=e.max+t}function Q4(e,t,r,n,i=.5){const s=Jr(e.min,e.max,i);$O(e,t,r,s,n)}function vf(e,t){Q4(e.x,t.x,t.scaleX,t.scale,t.originX),Q4(e.y,t.y,t.scaleY,t.scale,t.originY)}function JW(e,t){return QW(bme(e.getBoundingClientRect(),t))}function _me(e,t,r){const n=JW(e,r),{scroll:i}=t;return i&&(gf(n.x,i.offset.x),gf(n.y,i.offset.y)),n}const X4=()=>({translate:0,scale:1,origin:0,originPoint:0}),yf=()=>({x:X4(),y:X4()}),Z4=()=>({min:0,max:0}),dn=()=>({x:Z4(),y:Z4()}),FO={current:null},e7={current:!1};function Sme(){if(e7.current=!0,!!A2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>FO.current=e.matches;e.addEventListener("change",t),t()}else FO.current=!1}const jme=new WeakMap;function Cme(e,t,r){for(const n in t){const i=t[n],s=r[n];if(Si(i))e.addValue(n,i);else if(Si(s))e.addValue(n,eh(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,eh(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const J4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nme{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=rs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Vr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Nw(r),this.isVariantNode=FW(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in d){const p=d[m];c[m]!==void 0&&Si(p)&&p.set(c[m])}}mount(t){var r;this.current=t,jme.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),e7.current||Sme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:FO.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Tc(this.notifyUpdate),Tc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=am.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Vr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in th){const r=th[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<J4.length;n++){const i=J4[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Cme(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=eh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(H9(n)||G9(n))?n=parseFloat(n):!Ihe(n)&&Pc.test(r)&&(n=OW(t,r)),this.setBaseTarget(t,Si(n)?n.get():n)),Si(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=iP(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Si(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new D2),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Q2.render(this.render)}}class t7 extends Nme{constructor(){super(...arguments),this.KeyframeResolver=jhe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Si(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function r7(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function Eme(e){return window.getComputedStyle(e)}class kme extends t7{constructor(){super(...arguments),this.type="html",this.renderInstance=r7}readValueFromInstance(t,r){var n;if(am.has(r))return(n=this.projection)!=null&&n.isProjecting?AO(r):Vfe(t,r);{const i=Eme(t),s=($2(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return JW(t,r)}build(t,r,n){tP(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return sP(t,r,n)}}const n7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ome(e,t,r,n){r7(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(n7.has(i)?i:aP(i),t.attrs[i])}class Ame extends t7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(am.has(r)){const n=kW(r);return n&&n.default||0}return r=n7.has(r)?r:aP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return HW(t,r,n)}build(t,r,n){zW(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){Ome(t,r,n,i)}mount(t){this.isSVGTag=UW(t.tagName),super.mount(t)}}const Tme=(e,t)=>nP(e)?new Ame(t):new kme(t,{allowProjection:e!==_.Fragment});function kf(e,t,r){const n=e.getProps();return iP(n,t,r!==void 0?r:n.custom,e)}const qO=e=>Array.isArray(e);function Pme(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,eh(r))}function Mme(e){return qO(e)?e[e.length-1]||0:e}function Rme(e,t){const r=kf(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=Mme(s[a]);Pme(e,a,l)}}function Dme(e){return!!(Si(e)&&e.add)}function BO(e,t){const r=e.getValue("willChange");if(Dme(r))return r.add(t);if(!r&&hl.WillChange){const n=new hl.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function i7(e){return e.props[KW]}const Ime=e=>e!==null;function Lme(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(Ime),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[s]}const $me={type:"spring",stiffness:500,damping:25,restSpeed:10},Fme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),qme={type:"keyframes",duration:.8},Bme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zme=(e,{keyframes:t})=>t.length>2?qme:am.has(e)?e.startsWith("scale")?Fme(t[1]):$me:Bme;function Vme({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const oP=(e,t,r,n={},i,s)=>a=>{const l=G2(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-po(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};Vme(l)||Object.assign(f,zme(e,f)),f.duration&&(f.duration=po(f.duration)),f.repeatDelay&&(f.repeatDelay=po(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(DO(f),f.delay===0&&(d=!0)),(hl.instantAnimations||hl.skipAnimations)&&(d=!0,DO(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,d&&!s&&t.get()!==void 0){const m=Lme(f.keyframes,l);if(m!==void 0){Vr.update(()=>{f.onUpdate(m),f.onComplete()});return}}return l.isSync?new H2(f):new fhe(f)};function Ume({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function s7(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const d=e.getValue(f,e.latestValues[f]??null),m=l[f];if(m===void 0||u&&Ume(u,f))continue;const p={delay:r,...G2(s||{},f)},x=d.get();if(x!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===x&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const b=i7(e);if(b){const w=window.MotionHandoffAnimation(b,f,Vr);w!==null&&(p.startTime=w,y=!0)}}BO(e,f),d.start(oP(f,d,m,e.shouldReduceMotion&&CW.has(f)?{type:!1}:p,e,y));const v=d.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{Vr.update(()=>{a&&Rme(e,a)})}),c}function a7(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,f)=>u.sortNodePosition(f)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function zO(e,t,r={}){var c;const n=kf(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(s7(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:m}=i;return Wme(e,t,u,f,d,m,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(r.delay)])}function Wme(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(zO(c,t,{...a,delay:r+(typeof n=="function"?0:n)+a7(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Hme(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>zO(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=zO(e,t,r);else{const i=typeof t=="function"?kf(e,t,r.custom):t;n=Promise.all(s7(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function o7(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Kme=eP.length;function l7(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?l7(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Kme;r++){const n=eP[r],i=e.props[n];(dg(i)||i===!1)&&(t[n]=i)}return t}const Gme=[...J2].reverse(),Yme=J2.length;function Qme(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Hme(e,r,n)))}function Xme(e){let t=Qme(e),r=e$(),n=!0;const i=c=>(u,f)=>{var m;const d=kf(e,f,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:p,transitionEnd:x,...y}=d;u={...u,...y,...x}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,f=l7(e.parent)||{},d=[],m=new Set;let p={},x=1/0;for(let v=0;v<Yme;v++){const b=Gme[v],w=r[b],j=u[b]!==void 0?u[b]:f[b],S=dg(j),C=b===c?w.isActive:null;C===!1&&(x=v);let E=j===f[b]&&j!==u[b]&&S;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...p},!w.isActive&&C===null||!j&&!w.prevProp||Cw(j)||typeof j=="boolean")continue;const k=Zme(w.prevProp,j);let O=k||b===c&&w.isActive&&!E&&S||v>x&&S,M=!1;const R=Array.isArray(j)?j:[j];let T=R.reduce(i(b),{});C===!1&&(T={});const{prevResolvedValues:P={}}=w,I={...P,...T},B=V=>{O=!0,m.has(V)&&(M=!0,m.delete(V)),w.needsAnimating[V]=!0;const U=e.getValue(V);U&&(U.liveStyle=!1)};for(const V in I){const U=T[V],W=P[V];if(p.hasOwnProperty(V))continue;let F=!1;qO(U)&&qO(W)?F=!o7(U,W):F=U!==W,F?U!=null?B(V):m.add(V):U!==void 0&&m.has(V)?B(V):w.protectedKeys[V]=!0}w.prevProp=j,w.prevResolvedValues=T,w.isActive&&(p={...p,...T}),n&&e.blockInitialAnimation&&(O=!1);const $=E&&k;O&&(!$||M)&&d.push(...R.map(V=>{const U={type:b};if(typeof V=="string"&&n&&!$&&e.manuallyAnimateOnMount&&e.parent){const{parent:W}=e,F=kf(W,V);if(W.enteringChildren&&F){const{delayChildren:L}=F.transition||{};U.delay=a7(W.enteringChildren,e,L)}}return{animation:V,options:U}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const b=kf(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(v.transition=b.transition)}m.forEach(b=>{const w=e.getBaseTarget(b),j=e.getValue(b);j&&(j.liveStyle=!0),v[b]=w??null}),d.push({animation:v})}let y=!!d.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(d):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=a(c);for(const m in r)r[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=e$(),n=!0}}}function Zme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!o7(t,e):!1}function fu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e$(){return{animate:fu(!0),whileInView:fu(),whileHover:fu(),whileTap:fu(),whileDrag:fu(),whileFocus:fu(),exit:fu()}}class Vc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Jme extends Vc{constructor(t){super(t),t.animationState||(t.animationState=Xme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let epe=0;class tpe extends Vc{constructor(){super(...arguments),this.id=epe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rpe={animation:{Feature:Jme},exit:{Feature:tpe}};function hg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ev(e){return{point:{x:e.pageX,y:e.pageY}}}const npe=e=>t=>X2(t)&&e(t,Ev(t));function Lp(e,t,r,n){return hg(e,t,npe(r),n)}const c7=1e-4,ipe=1-c7,spe=1+c7,u7=.01,ape=0-u7,ope=0+u7;function Ri(e){return e.max-e.min}function lpe(e,t,r){return Math.abs(e-t)<=r}function t$(e,t,r,n=.5){e.origin=n,e.originPoint=Jr(t.min,t.max,e.origin),e.scale=Ri(r)/Ri(t),e.translate=Jr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=ipe&&e.scale<=spe||isNaN(e.scale))&&(e.scale=1),(e.translate>=ape&&e.translate<=ope||isNaN(e.translate))&&(e.translate=0)}function $p(e,t,r,n){t$(e.x,t.x,r.x,n?n.originX:void 0),t$(e.y,t.y,r.y,n?n.originY:void 0)}function r$(e,t,r){e.min=r.min+t.min,e.max=e.min+Ri(t)}function cpe(e,t,r){r$(e.x,t.x,r.x),r$(e.y,t.y,r.y)}function n$(e,t,r){e.min=t.min-r.min,e.max=e.min+Ri(t)}function Fp(e,t,r){n$(e.x,t.x,r.x),n$(e.y,t.y,r.y)}function Ws(e){return[e("x"),e("y")]}const d7=({current:e})=>e?e.ownerDocument.defaultView:null,i$=(e,t)=>Math.abs(e-t);function upe(e,t){const r=i$(e.x,t.x),n=i$(e.y,t.y);return Math.sqrt(r**2+n**2)}class f7{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=US(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=upe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:y}=m,{timestamp:v}=ri;this.history.push({...y,timestamp:v});const{onStart:b,onMove:w}=this.handlers;p||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=VS(p,this.transformPagePoint),Vr.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=US(m.type==="pointercancel"?this.lastMoveEventInfo:VS(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,b),y&&y(m,b)},!X2(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=Ev(t),c=VS(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=ri;this.history=[{...u,timestamp:f}];const{onSessionStart:d}=r;d&&d(t,US(c,this.history)),this.removeListeners=Sv(Lp(this.contextWindow,"pointermove",this.handlePointerMove),Lp(this.contextWindow,"pointerup",this.handlePointerUp),Lp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Tc(this.updatePoint)}}function VS(e,t){return t?{point:t(e.point)}:e}function s$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function US({point:e},t){return{point:e,delta:s$(e,h7(t)),offset:s$(e,dpe(t)),velocity:fpe(t,.1)}}function dpe(e){return e[0]}function h7(e){return e[e.length-1]}function fpe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=h7(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>po(t)));)r--;if(!n)return{x:0,y:0};const s=go(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function hpe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Jr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Jr(r,e,n.max):Math.min(e,r)),e}function a$(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function mpe(e,{top:t,left:r,bottom:n,right:i}){return{x:a$(e.x,r,i),y:a$(e.y,t,n)}}function o$(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function ppe(e,t){return{x:o$(e.x,t.x),y:o$(e.y,t.y)}}function gpe(e,t){let r=.5;const n=Ri(e),i=Ri(t);return i>n?r=lg(t.min,t.max-n,e.min):n>i&&(r=lg(e.min,e.max-i,t.min)),fl(0,1,r)}function vpe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const VO=.35;function ype(e=VO){return e===!1?e=0:e===!0&&(e=VO),{x:l$(e,"left","right"),y:l$(e,"top","bottom")}}function l$(e,t,r){return{min:c$(e,t),max:c$(e,r)}}function c$(e,t){return typeof e=="number"?e:e[t]||0}const xpe=new WeakMap;class bpe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ev(d).point)},a=(d,m)=>{const{drag:p,dragPropagation:x,onDragStart:y}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=khe(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ws(b=>{let w=this.getAxisMotionValue(b).get()||0;if(vo.test(w)){const{projection:j}=this.visualElement;if(j&&j.layout){const S=j.layout.layoutBox[b];S&&(w=Ri(S)*(parseFloat(w)/100))}}this.originPoint[b]=w}),y&&Vr.postRender(()=>y(d,m)),BO(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=m;if(x&&this.currentDirection===null){this.currentDirection=wpe(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),v&&v(d,m)},c=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ws(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new f7(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:d7(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Vr.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Px(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=hpe(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&pf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=mpe(n.layoutBox,t):this.constraints=!1,this.elastic=ype(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ws(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vpe(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!pf(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_me(n,i.root,this.visualElement.getTransformPagePoint());let a=ppe(i.layout.layoutBox,s);if(r){const l=r(xme(a));this.hasMutatedConstraints=!!l,l&&(a=QW(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ws(f=>{if(!Px(f,r,this.currentDirection))return;let d=c&&c[f]||{};a&&(d={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:n?t[f]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return BO(this.visualElement,t),n.start(oP(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ws(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ws(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ws(r=>{const{drag:n}=this.getProps();if(!Px(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-Jr(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!pf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ws(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=gpe({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ws(a=>{if(!Px(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Jr(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;xpe.set(this.visualElement,this);const t=this.visualElement.current,r=Lp(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();pf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Vr.read(n);const a=hg(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ws(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=c[f].translate,d.set(d.get()+c[f].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=VO,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Px(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function wpe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class _pe extends Vc{constructor(t){super(t),this.removeGroupControls=Zs,this.removeListeners=Zs,this.controls=new bpe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zs}unmount(){this.removeGroupControls(),this.removeListeners()}}const u$=e=>(t,r)=>{e&&Vr.postRender(()=>e(t,r))};class Spe extends Vc{constructor(){super(...arguments),this.removePointerDownListener=Zs}onPointerDown(t){this.session=new f7(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d7(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:u$(t),onStart:u$(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Vr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Lp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ob={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d$(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ip={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const r=d$(e,t.target.x),n=d$(e,t.target.y);return`${r}% ${n}%`}},jpe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Pc.parse(e);if(i.length>5)return n;const s=Pc.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=Jr(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let WS=!1;class Cpe extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;Khe(Npe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),WS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ob.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,WS=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||Vr.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Q2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;WS=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function m7(e){const[t,r]=IW(),n=_.useContext(k2);return o.jsx(Cpe,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(GW),isPresent:t,safeToRemove:r})}const Npe={borderRadius:{...ip,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ip,borderTopRightRadius:ip,borderBottomLeftRadius:ip,borderBottomRightRadius:ip,boxShadow:jpe};function Epe(e,t,r){const n=Si(e)?e:eh(e);return n.start(oP("",n,t,r)),n.animation}const kpe=(e,t)=>e.depth-t.depth;class Ope{constructor(){this.children=[],this.isDirty=!1}add(t){T2(this.children,t),this.isDirty=!0}remove(t){P2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kpe),this.isDirty=!1,this.children.forEach(t)}}function Ape(e,t){const r=rs.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(Tc(n),e(s-t))};return Vr.setup(n,!0),()=>Tc(n)}const p7=["TopLeft","TopRight","BottomLeft","BottomRight"],Tpe=p7.length,f$=e=>typeof e=="string"?parseFloat(e):e,h$=e=>typeof e=="number"||Tt.test(e);function Ppe(e,t,r,n,i,s){i?(e.opacity=Jr(0,r.opacity??1,Mpe(n)),e.opacityExit=Jr(t.opacity??1,0,Rpe(n))):s&&(e.opacity=Jr(t.opacity??1,r.opacity??1,n));for(let a=0;a<Tpe;a++){const l=`border${p7[a]}Radius`;let c=m$(t,l),u=m$(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||h$(c)===h$(u)?(e[l]=Math.max(Jr(f$(c),f$(u),n),0),(vo.test(u)||vo.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Jr(t.rotate||0,r.rotate||0,n))}function m$(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mpe=g7(0,.5,rW),Rpe=g7(.5,.95,Zs);function g7(e,t,r){return n=>n<e?0:n>t?1:r(lg(e,t,n))}function p$(e,t){e.min=t.min,e.max=t.max}function Bs(e,t){p$(e.x,t.x),p$(e.y,t.y)}function g$(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function v$(e,t,r,n,i){return e-=t,e=Ab(e,1/r,n),i!==void 0&&(e=Ab(e,1/i,n)),e}function Dpe(e,t=0,r=1,n=.5,i,s=e,a=e){if(vo.test(t)&&(t=parseFloat(t),t=Jr(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Jr(s.min,s.max,n);e===s&&(l-=t),e.min=v$(e.min,t,r,l,i),e.max=v$(e.max,t,r,l,i)}function y$(e,t,[r,n,i],s,a){Dpe(e,t[r],t[n],t[i],t.scale,s,a)}const Ipe=["x","scaleX","originX"],Lpe=["y","scaleY","originY"];function x$(e,t,r,n){y$(e.x,t,Ipe,r?r.x:void 0,n?n.x:void 0),y$(e.y,t,Lpe,r?r.y:void 0,n?n.y:void 0)}function b$(e){return e.translate===0&&e.scale===1}function v7(e){return b$(e.x)&&b$(e.y)}function w$(e,t){return e.min===t.min&&e.max===t.max}function $pe(e,t){return w$(e.x,t.x)&&w$(e.y,t.y)}function _$(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function y7(e,t){return _$(e.x,t.x)&&_$(e.y,t.y)}function S$(e){return Ri(e.x)/Ri(e.y)}function j$(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Fpe{constructor(){this.members=[]}add(t){T2(this.members,t),t.scheduleRender()}remove(t){if(P2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qpe(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:d,rotateY:m,skewX:p,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),d&&(n+=`rotateX(${d}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const HS=["","X","Y","Z"],Bpe=1e3;let zpe=0;function KS(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function x7(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=i7(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Vr,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&x7(n)}function b7({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=zpe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Wpe),this.nodes.forEach(Ype),this.nodes.forEach(Qpe),this.nodes.forEach(Hpe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ope)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new D2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=DW(a)&&!Rhe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let f,d=0;const m=()=>this.root.updateBlockedByResize=!1;Vr.read(()=>{d=window.innerWidth}),e(a,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,f&&f(),f=Ape(m,250),ob.hasAnimatedSinceResize&&(ob.hasAnimatedSinceResize=!1,this.nodes.forEach(E$)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||tge,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!y7(this.targetLayout,p),w=!d&&m;if(this.options.layoutRoot||this.resumeFrom||w||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...G2(x,"layout"),onPlay:y,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(f,w)}else d||E$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xpe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&x7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C$);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(N$);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Gpe),this.nodes.forEach(Vpe),this.nodes.forEach(Upe)):this.nodes.forEach(N$),this.clearAllSnapshots();const l=rs.now();ri.delta=fl(0,1e3/60,l-ri.timestamp),ri.timestamp=l,ri.isProcessing=!0,DS.update.process(ri),DS.preRender.process(ri),DS.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Q2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kpe),this.sharedNodes.forEach(Zpe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ri(this.snapshot.measuredBox.x)&&!Ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!v7(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||gu(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),rge(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return dn();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(nge))){const{scroll:f}=this.root;f&&(gf(l.x,f.offset.x),gf(l.y,f.offset.y))}return l}removeElementScroll(a){var c;const l=dn();if(Bs(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:m}=f;f!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Bs(l,a),gf(l.x,d.offset.x),gf(l.y,d.offset.y))}return l}applyTransform(a,l=!1){const c=dn();Bs(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&vf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),gu(f.latestValues)&&vf(c,f.latestValues)}return gu(this.latestValues)&&vf(c,this.latestValues),c}removeTransform(a){const l=dn();Bs(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!gu(u.latestValues))continue;LO(u.latestValues)&&u.updateSnapshot();const f=dn(),d=u.measurePageBox();Bs(f,d),x$(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return gu(this.latestValues)&&x$(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Fp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cpe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bs(this.target,this.layout.layoutBox),ZW(this.target,this.targetDelta)):Bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Fp(this.relativeTargetOrigin,this.target,p.target),Bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||LO(this.parent.latestValues)||XW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Bs(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;wme(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=dn());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(g$(this.prevProjectionDelta.x,this.projectionDelta.x),g$(this.prevProjectionDelta.y,this.projectionDelta.y)),$p(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!j$(this.projectionDelta.x,this.prevProjectionDelta.x)||!j$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yf(),this.projectionDelta=yf(),this.projectionDeltaWithTransform=yf()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},d=yf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=dn(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=p!==x,v=this.getStack(),b=!v||v.members.length<=1,w=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(ege));this.animationProgress=0;let j;this.mixTargetDelta=S=>{const C=S/1e3;k$(d.x,a.x,C),k$(d.y,a.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jpe(this.relativeTarget,this.relativeTargetOrigin,m,C),j&&$pe(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=dn()),Bs(j,this.relativeTarget)),y&&(this.animationValues=f,Ppe(f,u,this.latestValues,C,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Tc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vr.update(()=>{ob.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eh(0)),this.currentAnimation=Epe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bpe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&w7(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||dn();const d=Ri(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+d;const m=Ri(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Bs(l,c),vf(l,f),$p(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Fpe),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&KS("z",a,u,this.animationValues);for(let f=0;f<HS.length;f++)KS(`rotate${HS[f]}`,a,u,this.animationValues),KS(`skew${HS[f]}`,a,u,this.animationValues);a.render();for(const f in u)a.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=ab(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=ab(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!gu(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=qpe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(d=c(f,d)),a.transform=d;const{x:m,y:p}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,u.animationValues?a.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in fg){if(f[x]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:b}=fg[x],w=d==="none"?f[x]:y(f[x],u);if(v){const j=v.length;for(let S=0;S<j;S++)a[v[S]]=w}else b?this.options.visualElement.renderState.vars[x]=w:a[x]=w}this.options.layoutId&&(a.pointerEvents=u===this?ab(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(C$),this.root.sharedNodes.clear()}}}function Vpe(e){e.updateLayout()}function Upe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Ws(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],p=Ri(m);m.min=n[d].min,m.max=m.min+p}):w7(s,t.layoutBox,n)&&Ws(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],p=Ri(n[d]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const l=yf();$p(l,n,t.layoutBox);const c=yf();a?$p(c,e.applyTransform(i,!0),t.measuredBox):$p(c,n,t.layoutBox);const u=!v7(l);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:p}=d;if(m&&p){const x=dn();Fp(x,t.layoutBox,m.layoutBox);const y=dn();Fp(y,n,p.layoutBox),y7(x,y)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Wpe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Hpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Kpe(e){e.clearSnapshot()}function C$(e){e.clearMeasurements()}function N$(e){e.isLayoutDirty=!1}function Gpe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function E$(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ype(e){e.resolveTargetDelta()}function Qpe(e){e.calcProjection()}function Xpe(e){e.resetSkewAndRotation()}function Zpe(e){e.removeLeadSnapshot()}function k$(e,t,r){e.translate=Jr(t.translate,0,r),e.scale=Jr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function O$(e,t,r,n){e.min=Jr(t.min,r.min,n),e.max=Jr(t.max,r.max,n)}function Jpe(e,t,r,n){O$(e.x,t.x,r.x,n),O$(e.y,t.y,r.y,n)}function ege(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tge={duration:.45,ease:[.4,0,.1,1]},A$=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),T$=A$("applewebkit/")&&!A$("chrome/")?Math.round:Zs;function P$(e){e.min=T$(e.min),e.max=T$(e.max)}function rge(e){P$(e.x),P$(e.y)}function w7(e,t,r){return e==="position"||e==="preserve-aspect"&&!lpe(S$(t),S$(r),.2)}function nge(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ige=b7({attachResizeListener:(e,t)=>hg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),GS={current:void 0},_7=b7({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!GS.current){const e=new ige({});e.mount(window),e.setOptions({layoutScroll:!0}),GS.current=e}return GS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sge={pan:{Feature:Spe},drag:{Feature:_pe,ProjectionNode:_7,MeasureLayout:m7}};function M$(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Vr.postRender(()=>s(t,Ev(t)))}class age extends Vc{mount(){const{current:t}=this.node;t&&(this.unmount=Ohe(t,(r,n)=>(M$(this.node,n,"Start"),i=>M$(this.node,i,"End"))))}unmount(){}}class oge extends Vc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sv(hg(this.node.current,"focus",()=>this.onFocus()),hg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R$(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Vr.postRender(()=>s(t,Ev(t)))}class lge extends Vc{mount(){const{current:t}=this.node;t&&(this.unmount=Mhe(t,(r,n)=>(R$(this.node,n,"Start"),(i,{success:s})=>R$(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const UO=new WeakMap,YS=new WeakMap,cge=e=>{const t=UO.get(e.target);t&&t(e)},uge=e=>{e.forEach(cge)};function dge({root:e,...t}){const r=e||document;YS.has(r)||YS.set(r,{});const n=YS.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(uge,{root:e,...t})),n[i]}function fge(e,t,r){const n=dge(t);return UO.set(e,r),n.observe(e),()=>{UO.delete(e),n.unobserve(e)}}const hge={some:0,all:1};class mge extends Vc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:hge[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),m=u?f:d;m&&m(c)};return fge(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(pge(t,r))&&this.startObserver()}unmount(){}}function pge({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const gge={inView:{Feature:mge},tap:{Feature:lge},focus:{Feature:oge},hover:{Feature:age}},vge={layout:{ProjectionNode:_7,MeasureLayout:m7}},yge={...rpe,...gge,...sge,...vge},kt=yme(yge,Tme),xge=()=>{const e=cs(),t=on();_.useEffect(()=>{},[e.pathname]);const r={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{delayChildren:.3,staggerChildren:.2}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return o.jsxs(kt.div,{className:"min-h-screen flex flex-col items-center justify-center bg-background text-foreground p-4 relative overflow-hidden",variants:r,initial:"hidden",animate:"visible",children:[o.jsx("div",{className:"absolute -top-40 -left-40 w-96 h-96 bg-primary/10 rounded-full filter blur-3xl opacity-50 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-secondary/20 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-2000"}),o.jsx(kt.div,{variants:n,className:"mb-8",children:o.jsx(Ia,{iconClassName:"w-24 h-24",showText:!1})}),o.jsx(kt.h1,{variants:n,className:"text-6xl md:text-8xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan mb-4",children:"404"}),o.jsxs(kt.p,{variants:n,className:"text-2xl md:text-3xl font-semibold text-muted-foreground mb-6 flex items-center gap-2",children:[o.jsx(Aoe,{className:"h-8 w-8"})," Oops! Page non trouvée"]}),o.jsx(kt.p,{variants:n,className:"text-lg text-center text-muted-foreground max-w-md mb-8",children:"Il semblerait que la page que vous recherchez n'existe pas ou a été déplacée. Ne vous inquiétez pas, nous vous aidons à retrouver votre chemin."}),o.jsxs(kt.div,{variants:n,className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs(me,{onClick:()=>t("/dashboard"),className:"flex items-center gap-2",children:[o.jsx(wl,{className:"h-5 w-5"})," Retour au Tableau de bord"]}),o.jsxs(me,{variant:"outline",onClick:()=>t(-1),className:"flex items-center gap-2",children:[o.jsx(ci,{className:"h-5 w-5"})," Revenir en arrière"]})]})]})};var QS="rovingFocusGroup.onEntryFocus",bge={bubbles:!1,cancelable:!0},kv="RovingFocusGroup",[WO,S7,wge]=C2(kv),[_ge,Ew]=Qn(kv,[wge]),[Sge,jge]=_ge(kv),j7=_.forwardRef((e,t)=>o.jsx(WO.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(WO.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Cge,{...e,ref:t})})}));j7.displayName=kv;var Cge=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,m=_.useRef(null),p=Dt(t,m),x=bv(s),[y,v]=So({prop:a,defaultProp:l??null,onChange:c,caller:kv}),[b,w]=_.useState(!1),j=An(u),S=S7(r),C=_.useRef(!1),[E,k]=_.useState(0);return _.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(QS,j),()=>O.removeEventListener(QS,j)},[j]),o.jsx(Sge,{scope:r,orientation:n,dir:x,loop:i,currentTabStopId:y,onItemFocus:_.useCallback(O=>v(O),[v]),onItemShiftTab:_.useCallback(()=>w(!0),[]),onFocusableItemAdd:_.useCallback(()=>k(O=>O+1),[]),onFocusableItemRemove:_.useCallback(()=>k(O=>O-1),[]),children:o.jsx(at.div,{tabIndex:b||E===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:Ye(e.onMouseDown,()=>{C.current=!0}),onFocus:Ye(e.onFocus,O=>{const M=!C.current;if(O.target===O.currentTarget&&M&&!b){const R=new CustomEvent(QS,bge);if(O.currentTarget.dispatchEvent(R),!R.defaultPrevented){const T=S().filter(H=>H.focusable),P=T.find(H=>H.active),I=T.find(H=>H.id===y),$=[P,I,...T].filter(Boolean).map(H=>H.ref.current);E7($,f)}}C.current=!1}),onBlur:Ye(e.onBlur,()=>w(!1))})})}),C7="RovingFocusGroupItem",N7=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...l}=e,c=Wn(),u=s||c,f=jge(C7,r),d=f.currentTabStopId===u,m=S7(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:y}=f;return _.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),o.jsx(WO.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:o.jsx(at.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ye(e.onMouseDown,v=>{n?f.onItemFocus(u):v.preventDefault()}),onFocus:Ye(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ye(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){f.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=kge(v,f.orientation,f.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=m().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")j.reverse();else if(b==="prev"||b==="next"){b==="prev"&&j.reverse();const S=j.indexOf(v.currentTarget);j=f.loop?Oge(j,S+1):j.slice(S+1)}setTimeout(()=>E7(j))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:y!=null}):a})})});N7.displayName=C7;var Nge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ege(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kge(e,t,r){const n=Ege(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Nge[n]}function E7(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Oge(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var k7=j7,O7=N7,HO=["Enter"," "],Age=["ArrowDown","PageUp","Home"],A7=["ArrowUp","PageDown","End"],Tge=[...Age,...A7],Pge={ltr:[...HO,"ArrowRight"],rtl:[...HO,"ArrowLeft"]},Mge={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ov="Menu",[mg,Rge,Dge]=C2(Ov),[dd,kw]=Qn(Ov,[Dge,Ic,Ew]),Ow=Ic(),T7=Ew(),[Ige,fd]=dd(Ov),[Lge,Av]=dd(Ov),P7=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=e,l=Ow(t),[c,u]=_.useState(null),f=_.useRef(!1),d=An(s),m=bv(i);return _.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),o.jsx(iw,{...l,children:o.jsx(Ige,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:o.jsx(Lge,{scope:t,onClose:_.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:m,modal:a,children:n})})})};P7.displayName=Ov;var $ge="MenuAnchor",lP=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Ow(r);return o.jsx(mv,{...i,...n,ref:t})});lP.displayName=$ge;var cP="MenuPortal",[Fge,M7]=dd(cP,{forceMount:void 0}),R7=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,s=fd(cP,t);return o.jsx(Fge,{scope:t,forceMount:r,children:o.jsx(di,{present:r||s.open,children:o.jsx(pv,{asChild:!0,container:i,children:n})})})};R7.displayName=cP;var Js="MenuContent",[qge,uP]=dd(Js),D7=_.forwardRef((e,t)=>{const r=M7(Js,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=fd(Js,e.__scopeMenu),a=Av(Js,e.__scopeMenu);return o.jsx(mg.Provider,{scope:e.__scopeMenu,children:o.jsx(di,{present:n||s.open,children:o.jsx(mg.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(Bge,{...i,ref:t}):o.jsx(zge,{...i,ref:t})})})})}),Bge=_.forwardRef((e,t)=>{const r=fd(Js,e.__scopeMenu),n=_.useRef(null),i=Dt(t,n);return _.useEffect(()=>{const s=n.current;if(s)return vw(s)},[]),o.jsx(dP,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ye(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),zge=_.forwardRef((e,t)=>{const r=fd(Js,e.__scopeMenu);return o.jsx(dP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Vge=kc("MenuContent.ScrollLock"),dP=_.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...y}=e,v=fd(Js,r),b=Av(Js,r),w=Ow(r),j=T7(r),S=Rge(r),[C,E]=_.useState(null),k=_.useRef(null),O=Dt(t,k,v.onContentChange),M=_.useRef(0),R=_.useRef(""),T=_.useRef(0),P=_.useRef(null),I=_.useRef("right"),B=_.useRef(0),$=x?_v:_.Fragment,H=x?{as:Vge,allowPinchZoom:!0}:void 0,V=W=>{var G,ne;const F=R.current+W,L=S().filter(Z=>!Z.disabled),q=document.activeElement,K=(G=L.find(Z=>Z.ref.current===q))==null?void 0:G.textValue,ee=L.map(Z=>Z.textValue),te=tve(ee,F,K),Q=(ne=L.find(Z=>Z.textValue===te))==null?void 0:ne.ref.current;(function Z(re){R.current=re,window.clearTimeout(M.current),re!==""&&(M.current=window.setTimeout(()=>Z(""),1e3))})(F),Q&&setTimeout(()=>Q.focus())};_.useEffect(()=>()=>window.clearTimeout(M.current),[]),gw();const U=_.useCallback(W=>{var L,q;return I.current===((L=P.current)==null?void 0:L.side)&&nve(W,(q=P.current)==null?void 0:q.area)},[]);return o.jsx(qge,{scope:r,searchRef:R,onItemEnter:_.useCallback(W=>{U(W)&&W.preventDefault()},[U]),onItemLeave:_.useCallback(W=>{var F;U(W)||((F=k.current)==null||F.focus(),E(null))},[U]),onTriggerLeave:_.useCallback(W=>{U(W)&&W.preventDefault()},[U]),pointerGraceTimerRef:T,onPointerGraceIntentChange:_.useCallback(W=>{P.current=W},[]),children:o.jsx($,{...H,children:o.jsx(wv,{asChild:!0,trapped:i,onMountAutoFocus:Ye(s,W=>{var F;W.preventDefault(),(F=k.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(qh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:m,onDismiss:p,children:o.jsx(k7,{asChild:!0,...j,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:E,onEntryFocus:Ye(c,W=>{b.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(sw,{role:"menu","aria-orientation":"vertical","data-state":X7(v.open),"data-radix-menu-content":"",dir:b.dir,...w,...y,ref:O,style:{outline:"none",...y.style},onKeyDown:Ye(y.onKeyDown,W=>{const L=W.target.closest("[data-radix-menu-content]")===W.currentTarget,q=W.ctrlKey||W.altKey||W.metaKey,K=W.key.length===1;L&&(W.key==="Tab"&&W.preventDefault(),!q&&K&&V(W.key));const ee=k.current;if(W.target!==ee||!Tge.includes(W.key))return;W.preventDefault();const Q=S().filter(G=>!G.disabled).map(G=>G.ref.current);A7.includes(W.key)&&Q.reverse(),Jge(Q)}),onBlur:Ye(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(M.current),R.current="")}),onPointerMove:Ye(e.onPointerMove,pg(W=>{const F=W.target,L=B.current!==W.clientX;if(W.currentTarget.contains(F)&&L){const q=W.clientX>B.current?"right":"left";I.current=q,B.current=W.clientX}}))})})})})})})});D7.displayName=Js;var Uge="MenuGroup",fP=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(at.div,{role:"group",...n,ref:t})});fP.displayName=Uge;var Wge="MenuLabel",I7=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(at.div,{...n,ref:t})});I7.displayName=Wge;var Tb="MenuItem",D$="menu.itemSelect",Aw=_.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,s=_.useRef(null),a=Av(Tb,e.__scopeMenu),l=uP(Tb,e.__scopeMenu),c=Dt(t,s),u=_.useRef(!1),f=()=>{const d=s.current;if(!r&&d){const m=new CustomEvent(D$,{bubbles:!0,cancelable:!0});d.addEventListener(D$,p=>n==null?void 0:n(p),{once:!0}),uV(d,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(L7,{...i,ref:c,disabled:r,onClick:Ye(e.onClick,f),onPointerDown:d=>{var m;(m=e.onPointerDown)==null||m.call(e,d),u.current=!0},onPointerUp:Ye(e.onPointerUp,d=>{var m;u.current||(m=d.currentTarget)==null||m.click()}),onKeyDown:Ye(e.onKeyDown,d=>{const m=l.searchRef.current!=="";r||m&&d.key===" "||HO.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Aw.displayName=Tb;var L7=_.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=e,a=uP(Tb,r),l=T7(r),c=_.useRef(null),u=Dt(t,c),[f,d]=_.useState(!1),[m,p]=_.useState("");return _.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[s.children]),o.jsx(mg.ItemSlot,{scope:r,disabled:n,textValue:i??m,children:o.jsx(O7,{asChild:!0,...l,focusable:!n,children:o.jsx(at.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ye(e.onPointerMove,pg(x=>{n?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(e.onPointerLeave,pg(x=>a.onItemLeave(x))),onFocus:Ye(e.onFocus,()=>d(!0)),onBlur:Ye(e.onBlur,()=>d(!1))})})})}),Hge="MenuCheckboxItem",$7=_.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return o.jsx(V7,{scope:e.__scopeMenu,checked:r,children:o.jsx(Aw,{role:"menuitemcheckbox","aria-checked":Pb(r)?"mixed":r,...i,ref:t,"data-state":mP(r),onSelect:Ye(i.onSelect,()=>n==null?void 0:n(Pb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$7.displayName=Hge;var F7="MenuRadioGroup",[Kge,Gge]=dd(F7,{value:void 0,onValueChange:()=>{}}),q7=_.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,s=An(n);return o.jsx(Kge,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(fP,{...i,ref:t})})});q7.displayName=F7;var B7="MenuRadioItem",z7=_.forwardRef((e,t)=>{const{value:r,...n}=e,i=Gge(B7,e.__scopeMenu),s=r===i.value;return o.jsx(V7,{scope:e.__scopeMenu,checked:s,children:o.jsx(Aw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":mP(s),onSelect:Ye(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});z7.displayName=B7;var hP="MenuItemIndicator",[V7,Yge]=dd(hP,{checked:!1}),U7=_.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,s=Yge(hP,r);return o.jsx(di,{present:n||Pb(s.checked)||s.checked===!0,children:o.jsx(at.span,{...i,ref:t,"data-state":mP(s.checked)})})});U7.displayName=hP;var Qge="MenuSeparator",W7=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(at.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});W7.displayName=Qge;var Xge="MenuArrow",H7=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Ow(r);return o.jsx(aw,{...i,...n,ref:t})});H7.displayName=Xge;var Zge="MenuSub",[Sqe,K7]=dd(Zge),Cp="MenuSubTrigger",G7=_.forwardRef((e,t)=>{const r=fd(Cp,e.__scopeMenu),n=Av(Cp,e.__scopeMenu),i=K7(Cp,e.__scopeMenu),s=uP(Cp,e.__scopeMenu),a=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=_.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return _.useEffect(()=>f,[f]),_.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),o.jsx(lP,{asChild:!0,...u,children:o.jsx(L7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":X7(r.open),...e,ref:cl(t,i.onTriggerChange),onClick:d=>{var m;(m=e.onClick)==null||m.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ye(e.onPointerMove,pg(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ye(e.onPointerLeave,pg(d=>{var p,x;f();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const y=(x=r.content)==null?void 0:x.dataset.side,v=y==="right",b=v?-5:5,w=m[v?"left":"right"],j=m[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+b,y:d.clientY},{x:w,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:w,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(e.onKeyDown,d=>{var p;const m=s.searchRef.current!=="";e.disabled||m&&d.key===" "||Pge[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});G7.displayName=Cp;var Y7="MenuSubContent",Q7=_.forwardRef((e,t)=>{const r=M7(Js,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=fd(Js,e.__scopeMenu),a=Av(Js,e.__scopeMenu),l=K7(Y7,e.__scopeMenu),c=_.useRef(null),u=Dt(t,c);return o.jsx(mg.Provider,{scope:e.__scopeMenu,children:o.jsx(di,{present:n||s.open,children:o.jsx(mg.Slot,{scope:e.__scopeMenu,children:o.jsx(dP,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;a.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ye(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ye(e.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:Ye(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),m=Mge[a.dir].includes(f.key);d&&m&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});Q7.displayName=Y7;function X7(e){return e?"open":"closed"}function Pb(e){return e==="indeterminate"}function mP(e){return Pb(e)?"indeterminate":e?"checked":"unchecked"}function Jge(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function eve(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function tve(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=eve(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function rve(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,f=l.y,d=c.x,m=c.y;f>n!=m>n&&r<(d-u)*(n-f)/(m-f)+u&&(i=!i)}return i}function nve(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return rve(r,t)}function pg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Z7=P7,J7=lP,eH=R7,tH=D7,rH=fP,nH=I7,iH=Aw,sH=$7,aH=q7,oH=z7,lH=U7,cH=W7,uH=H7,dH=G7,fH=Q7,Tw="DropdownMenu",[ive,jqe]=Qn(Tw,[kw]),Fi=kw(),[sve,hH]=ive(Tw),mH=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,c=Fi(t),u=_.useRef(null),[f,d]=So({prop:i,defaultProp:s??!1,onChange:a,caller:Tw});return o.jsx(sve,{scope:t,triggerId:Wn(),triggerRef:u,contentId:Wn(),open:f,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(m=>!m),[d]),modal:l,children:o.jsx(Z7,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};mH.displayName=Tw;var pH="DropdownMenuTrigger",gH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,s=hH(pH,r),a=Fi(r);return o.jsx(J7,{asChild:!0,...a,children:o.jsx(at.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:cl(t,s.triggerRef),onPointerDown:Ye(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ye(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});gH.displayName=pH;var ave="DropdownMenuPortal",vH=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Fi(t);return o.jsx(eH,{...n,...r})};vH.displayName=ave;var yH="DropdownMenuContent",xH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=hH(yH,r),s=Fi(r),a=_.useRef(!1);return o.jsx(tH,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ye(e.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:Ye(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xH.displayName=yH;var ove="DropdownMenuGroup",lve=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(rH,{...i,...n,ref:t})});lve.displayName=ove;var cve="DropdownMenuLabel",bH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(nH,{...i,...n,ref:t})});bH.displayName=cve;var uve="DropdownMenuItem",wH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(iH,{...i,...n,ref:t})});wH.displayName=uve;var dve="DropdownMenuCheckboxItem",_H=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(sH,{...i,...n,ref:t})});_H.displayName=dve;var fve="DropdownMenuRadioGroup",hve=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(aH,{...i,...n,ref:t})});hve.displayName=fve;var mve="DropdownMenuRadioItem",SH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(oH,{...i,...n,ref:t})});SH.displayName=mve;var pve="DropdownMenuItemIndicator",jH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(lH,{...i,...n,ref:t})});jH.displayName=pve;var gve="DropdownMenuSeparator",CH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(cH,{...i,...n,ref:t})});CH.displayName=gve;var vve="DropdownMenuArrow",yve=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(uH,{...i,...n,ref:t})});yve.displayName=vve;var xve="DropdownMenuSubTrigger",NH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(dH,{...i,...n,ref:t})});NH.displayName=xve;var bve="DropdownMenuSubContent",EH=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Fi(r);return o.jsx(fH,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EH.displayName=bve;var wve=mH,_ve=gH,Sve=vH,kH=xH,OH=bH,AH=wH,TH=_H,PH=SH,MH=jH,RH=CH,DH=NH,IH=EH;const jve=wve,Cve=_ve,Nve=_.forwardRef(({className:e,inset:t,children:r,...n},i)=>o.jsxs(DH,{ref:i,className:Ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(a2,{className:"ml-auto h-4 w-4"})]}));Nve.displayName=DH.displayName;const Eve=_.forwardRef(({className:e,...t},r)=>o.jsx(IH,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-card-lg border bg-popover p-1 text-popover-foreground shadow-card-shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Eve.displayName=IH.displayName;const LH=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Sve,{children:o.jsx(kH,{ref:n,sideOffset:t,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-card-lg border bg-popover p-1 text-popover-foreground shadow-card-shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));LH.displayName=kH.displayName;const lb=_.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(AH,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));lb.displayName=AH.displayName;const kve=_.forwardRef(({className:e,children:t,checked:r,...n},i)=>o.jsxs(TH,{ref:i,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(MH,{children:o.jsx(La,{className:"h-4 w-4"})})}),t]}));kve.displayName=TH.displayName;const Ove=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(PH,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(MH,{children:o.jsx(SU,{className:"h-4 w-4 fill-current"})})}),t]}));Ove.displayName=PH.displayName;const $H=_.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(OH,{ref:n,className:Ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));$H.displayName=OH.displayName;const KO=_.forwardRef(({className:e,...t},r)=>o.jsx(RH,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));KO.displayName=RH.displayName;var Pw="Dialog",[FH,qH]=Qn(Pw),[Ave,Wa]=FH(Pw),BH=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=_.useRef(null),c=_.useRef(null),[u,f]=So({prop:n,defaultProp:i??!1,onChange:s,caller:Pw});return o.jsx(Ave,{scope:t,triggerRef:l,contentRef:c,contentId:Wn(),titleId:Wn(),descriptionId:Wn(),open:u,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(d=>!d),[f]),modal:a,children:r})};BH.displayName=Pw;var zH="DialogTrigger",VH=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Wa(zH,r),s=Dt(t,i.triggerRef);return o.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vP(i.open),...n,ref:s,onClick:Ye(e.onClick,i.onOpenToggle)})});VH.displayName=zH;var pP="DialogPortal",[Tve,UH]=FH(pP,{forceMount:void 0}),WH=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Wa(pP,t);return o.jsx(Tve,{scope:t,forceMount:r,children:_.Children.map(n,a=>o.jsx(di,{present:r||s.open,children:o.jsx(pv,{asChild:!0,container:i,children:a})}))})};WH.displayName=pP;var Mb="DialogOverlay",HH=_.forwardRef((e,t)=>{const r=UH(Mb,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Wa(Mb,e.__scopeDialog);return s.modal?o.jsx(di,{present:n||s.open,children:o.jsx(Mve,{...i,ref:t})}):null});HH.displayName=Mb;var Pve=kc("DialogOverlay.RemoveScroll"),Mve=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Wa(Mb,r);return o.jsx(_v,{as:Pve,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(at.div,{"data-state":vP(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Gu="DialogContent",KH=_.forwardRef((e,t)=>{const r=UH(Gu,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Wa(Gu,e.__scopeDialog);return o.jsx(di,{present:n||s.open,children:s.modal?o.jsx(Rve,{...i,ref:t}):o.jsx(Dve,{...i,ref:t})})});KH.displayName=Gu;var Rve=_.forwardRef((e,t)=>{const r=Wa(Gu,e.__scopeDialog),n=_.useRef(null),i=Dt(t,r.contentRef,n);return _.useEffect(()=>{const s=n.current;if(s)return vw(s)},[]),o.jsx(GH,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:Ye(e.onFocusOutside,s=>s.preventDefault())})}),Dve=_.forwardRef((e,t)=>{const r=Wa(Gu,e.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return o.jsx(GH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),GH=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=Wa(Gu,r),c=_.useRef(null),u=Dt(t,c);return gw(),o.jsxs(o.Fragment,{children:[o.jsx(wv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(qh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vP(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Lve,{titleId:l.titleId}),o.jsx(Fve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gP="DialogTitle",YH=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Wa(gP,r);return o.jsx(at.h2,{id:i.titleId,...n,ref:t})});YH.displayName=gP;var QH="DialogDescription",XH=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Wa(QH,r);return o.jsx(at.p,{id:i.descriptionId,...n,ref:t})});XH.displayName=QH;var ZH="DialogClose",JH=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Wa(ZH,r);return o.jsx(at.button,{type:"button",...n,ref:t,onClick:Ye(e.onClick,()=>i.onOpenChange(!1))})});JH.displayName=ZH;function vP(e){return e?"open":"closed"}var eK="DialogTitleWarning",[Ive,tK]=Gre(eK,{contentName:Gu,titleName:gP,docsSlug:"dialog"}),Lve=({titleId:e})=>{const t=tK(eK),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$ve="DialogDescriptionWarning",Fve=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tK($ve).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Tv=BH,qve=VH,Pv=WH,hd=HH,md=KH,om=YH,lm=XH,Mw=JH;const rK=Tv,Bve=Pv,nK=_.forwardRef(({className:e,...t},r)=>o.jsx(hd,{className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));nK.displayName=hd.displayName;const zve=dw("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),yP=_.forwardRef(({side:e="right",className:t,children:r,...n},i)=>o.jsxs(Bve,{children:[o.jsx(nK,{}),o.jsx(md,{ref:i,className:Ne(zve({side:e}),t),...n,children:r})]}));yP.displayName=md.displayName;const iK=({className:e,...t})=>o.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});iK.displayName="SheetHeader";const sK=_.forwardRef(({className:e,...t},r)=>o.jsx(om,{ref:r,className:Ne("text-lg font-semibold text-foreground",e),...t}));sK.displayName=om.displayName;const aK=_.forwardRef(({className:e,...t},r)=>o.jsx(lm,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));aK.displayName=lm.displayName;const rt=_.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Ne("flex h-10 w-full rounded-card-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));rt.displayName="Input";const Vve=({isOpen:e,onClose:t})=>{const{currentUserProfile:r}=Qt(),[n,i]=_.useState(""),[s,a]=_.useState({profiles:[],courses:[],messages:[],events:[],documents:[]}),[l,c]=_.useState(!1);zc();const u=on(),f=_.useRef(null);_.useEffect(()=>{e?setTimeout(()=>{var p;(p=f.current)==null||p.focus()},100):(i(""),a({profiles:[],courses:[],messages:[],events:[],documents:[]}))},[e]),_.useEffect(()=>{const p=async()=>{if(n.length<2){a({profiles:[],courses:[],messages:[],events:[],documents:[]});return}c(!0);try{const{data:y,error:v}=await Ie.rpc("global_search",{search_term:n});if(v){a({profiles:[],courses:[],messages:[],events:[],documents:[]});return}const b=[],w=[],j=[],S=[],C=[];y.forEach(E=>{E.type==="profile"?b.push(E.data):E.type==="course"?w.push(E.data):E.type==="message"?j.push(E.data):E.type==="event"?S.push(E.data):E.type==="document"&&C.push(E.data)}),a({profiles:b,courses:w,messages:j,events:S,documents:C})}catch{}finally{c(!1)}},x=setTimeout(()=>{p()},300);return()=>{clearTimeout(x)}},[n]);const d=p=>{t(),u(p)},m=(p,x,y,v,b)=>x.length===0?null:o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2 text-primary",children:[o.jsx(y,{className:"h-5 w-5"})," ",p]}),o.jsx("div",{className:"space-y-2",children:x.map(w=>o.jsx(me,{variant:"ghost",className:"w-full justify-start h-auto py-2 px-3 text-left rounded-android-tile hover:scale-[1.02] transition-transform",onClick:()=>d(v(w)),children:b(w)},w.id))})]});return o.jsx(rK,{open:e,onOpenChange:t,children:o.jsxs(yP,{side:"top",className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center space-x-2 py-4 border-b",children:[o.jsx(rt,{ref:f,placeholder:"Rechercher...",value:n,onChange:p=>i(p.target.value),className:"flex-grow"}),o.jsx(me,{variant:"ghost",size:"icon",onClick:t,children:o.jsx(cd,{className:"h-5 w-5","aria-label":"Fermer la recherche"})})]}),o.jsx("div",{className:"flex-grow overflow-y-auto py-4",children:l&&n.length>=2?o.jsx("p",{className:"text-center text-muted-foreground",children:"Recherche en cours..."}):n.length<2&&e?o.jsx("p",{className:"text-center text-muted-foreground",children:"Commencez à taper pour rechercher..."}):o.jsx(o.Fragment,{children:s.profiles.length===0&&s.courses.length===0&&s.messages.length===0&&s.events.length===0&&s.documents.length===0&&n.length>=2?o.jsxs("p",{className:"text-center text-muted-foreground",children:['Aucun résultat trouvé pour "',n,'".']}):o.jsxs(o.Fragment,{children:[m("Profils",s.profiles,Rn,p=>`/profile/${p.id}`,p=>`${p.first_name} ${p.last_name} (@${p.username})`),m("Cours",s.courses,ia,p=>`/courses/${p.id}`,p=>p.title),m("Messages",s.messages,As,p=>`/messages?contactId=${p.sender_id===(r==null?void 0:r.id)?p.receiver_id:p.sender_id}`,p=>`Conversation avec ${p.sender_id===(r==null?void 0:r.id)?p.receiver_name:p.sender_name}: ${p.content.substring(0,50)}...`),m("Événements",s.events,Noe,p=>`/calendar?eventId=${p.id}`,p=>`${p.title} (${new Date(p.start_time).toLocaleDateString()})`),m("Documents",s.documents,l2,p=>`/documents?documentId=${p.id}`,p=>p.title)]})})})]})})},GO="message_attachments",Uve=async(e,t,r,n,i)=>{let s,a;await qp(e,t);const{data:l,error:c}=await Ie.from("messages").insert({sender_id:e,receiver_id:t,course_id:n,content:r,is_read:!1,is_archived:!1}).select().single();if(c)throw c;if(a=l.id,i&&a){const u=`${e}/${a}/${i.name}`,{data:f,error:d}=await Ie.storage.from(GO).upload(u,i,{cacheControl:"3600",upsert:!1});if(d)throw await Ie.from("messages").delete().eq("id",a),d;const{data:m}=Ie.storage.from(GO).getPublicUrl(u);s=m==null?void 0:m.publicUrl;const{data:p,error:x}=await Ie.from("messages").update({file_url:s}).eq("id",a).select().single();if(x)throw x;return p}return l},I$=async(e,t)=>{await qp(e,t);const{data:r,error:n}=await Ie.from("messages").select("*").or(`and(sender_id.eq.${e},receiver_id.eq.${t}),and(sender_id.eq.${t},receiver_id.eq.${e})`).order("created_at",{ascending:!0});if(n)throw n;return r},Wve=async e=>{const{data:t,error:r}=await Ie.from("messages").select("*").or(`sender_id.eq.${e},receiver_id.eq.${e}`).eq("is_archived",!1).order("created_at",{ascending:!1});if(r)return[];const n=new Map;for(const i of t){const s=i.sender_id===e?i.receiver_id:i.sender_id;n.has(s)||n.set(s,i)}return Array.from(n.values()).sort((i,s)=>new Date(s.created_at).getTime()-new Date(i.created_at).getTime())},Hve=async e=>{const{data:t,error:r}=await Ie.from("messages").select("*").or(`sender_id.eq.${e},receiver_id.eq.${e}`).eq("is_archived",!0).order("created_at",{ascending:!1});if(r)return[];const n=new Map;for(const i of t){const s=i.sender_id===e?i.receiver_id:i.sender_id;n.has(s)||n.set(s,i)}return Array.from(n.values()).sort((i,s)=>new Date(s.created_at).getTime()-new Date(i.created_at).getTime())},Kve=async(e,t)=>{const{error:r}=await Ie.from("messages").update({is_archived:!0}).or(`and(sender_id.eq.${e},receiver_id.eq.${t}),and(sender_id.eq.${t},receiver_id.eq.${e})`);if(r)throw r},qp=async(e,t)=>{const{error:r}=await Ie.from("messages").update({is_archived:!1}).or(`and(sender_id.eq.${e},receiver_id.eq.${t}),and(sender_id.eq.${t},receiver_id.eq.${e})`);if(r)throw r},L$=async(e,t)=>{const{error:r}=await Ie.from("messages").update({is_read:!0}).in("id",e).eq("receiver_id",t);if(r)throw r},cb=async e=>{const{count:t,error:r}=await Ie.from("messages").select("*",{count:"exact"}).eq("receiver_id",e).eq("is_read",!1).eq("is_archived",!1);return r?0:t||0},Gve=e=>{const{data:t}=Ie.storage.from(GO).getPublicUrl(e);return t.publicUrl};function Yve(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var xP="ScrollArea",[oK,Cqe]=Qn(xP),[Qve,sa]=oK(xP),lK=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=e,[l,c]=_.useState(null),[u,f]=_.useState(null),[d,m]=_.useState(null),[p,x]=_.useState(null),[y,v]=_.useState(null),[b,w]=_.useState(0),[j,S]=_.useState(0),[C,E]=_.useState(!1),[k,O]=_.useState(!1),M=Dt(t,T=>c(T)),R=bv(i);return o.jsx(Qve,{scope:r,type:n,dir:R,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:m,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:y,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:w,onCornerHeightChange:S,children:o.jsx(at.div,{dir:R,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});lK.displayName=xP;var cK="ScrollAreaViewport",uK=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=e,a=sa(cK,r),l=_.useRef(null),c=Dt(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(at.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});uK.displayName=cK;var To="ScrollAreaScrollbar",bP=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=sa(To,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=e.orientation==="horizontal";return _.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?o.jsx(Xve,{...n,ref:t,forceMount:r}):i.type==="scroll"?o.jsx(Zve,{...n,ref:t,forceMount:r}):i.type==="auto"?o.jsx(dK,{...n,ref:t,forceMount:r}):i.type==="always"?o.jsx(wP,{...n,ref:t}):null});bP.displayName=To;var Xve=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=sa(To,e.__scopeScrollArea),[s,a]=_.useState(!1);return _.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},f=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(di,{present:r||s,children:o.jsx(dK,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Zve=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=sa(To,e.__scopeScrollArea),s=e.orientation==="horizontal",a=Dw(()=>c("SCROLL_END"),100),[l,c]=Yve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),_.useEffect(()=>{const u=i.viewport,f=s?"scrollLeft":"scrollTop";if(u){let d=u[f];const m=()=>{const p=u[f];d!==p&&(c("SCROLL"),a()),d=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,c,a]),o.jsx(di,{present:r||l!=="hidden",children:o.jsx(wP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ye(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ye(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),dK=_.forwardRef((e,t)=>{const r=sa(To,e.__scopeScrollArea),{forceMount:n,...i}=e,[s,a]=_.useState(!1),l=e.orientation==="horizontal",c=Dw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:f)}},10);return rh(r.viewport,c),rh(r.content,c),o.jsx(di,{present:n||s,children:o.jsx(wP,{"data-state":s?"visible":"hidden",...i,ref:t})})}),wP=_.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=sa(To,e.__scopeScrollArea),s=_.useRef(null),a=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=gK(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function d(m,p){return iye(m,a.current,l,p)}return r==="horizontal"?o.jsx(Jve,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,p=$$(m,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=d(m,i.dir))}}):r==="vertical"?o.jsx(eye,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,p=$$(m,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=d(m))}}):null}),Jve=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=sa(To,e.__scopeScrollArea),[a,l]=_.useState(),c=_.useRef(null),u=Dt(t,c,s.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(hK,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rw(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(s.viewport){const m=s.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),yK(m,d)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Db(a.paddingLeft),paddingEnd:Db(a.paddingRight)}})}})}),eye=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=sa(To,e.__scopeScrollArea),[a,l]=_.useState(),c=_.useRef(null),u=Dt(t,c,s.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(hK,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rw(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(s.viewport){const m=s.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),yK(m,d)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Db(a.paddingTop),paddingEnd:Db(a.paddingBottom)}})}})}),[tye,fK]=oK(To),hK=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...m}=e,p=sa(To,r),[x,y]=_.useState(null),v=Dt(t,M=>y(M)),b=_.useRef(null),w=_.useRef(""),j=p.viewport,S=n.content-n.viewport,C=An(f),E=An(c),k=Dw(d,10);function O(M){if(b.current){const R=M.clientX-b.current.left,T=M.clientY-b.current.top;u({x:R,y:T})}}return _.useEffect(()=>{const M=R=>{const T=R.target;(x==null?void 0:x.contains(T))&&C(R,S)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[j,x,S,C]),_.useEffect(E,[n,E]),rh(x,k),rh(p.content,k),o.jsx(tye,{scope:r,scrollbar:x,hasThumb:i,onThumbChange:An(s),onThumbPointerUp:An(a),onThumbPositionChange:E,onThumbPointerDown:An(l),children:o.jsx(at.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:Ye(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),b.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),O(M))}),onPointerMove:Ye(e.onPointerMove,O),onPointerUp:Ye(e.onPointerUp,M=>{const R=M.target;R.hasPointerCapture(M.pointerId)&&R.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),Rb="ScrollAreaThumb",mK=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=fK(Rb,e.__scopeScrollArea);return o.jsx(di,{present:r||i.hasThumb,children:o.jsx(rye,{ref:t,...n})})}),rye=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,s=sa(Rb,r),a=fK(Rb,r),{onThumbPositionChange:l}=a,c=Dt(t,d=>a.onThumbChange(d)),u=_.useRef(void 0),f=Dw(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const d=s.viewport;if(d){const m=()=>{if(f(),!u.current){const p=sye(d,l);u.current=p,l()}};return l(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,f,l]),o.jsx(at.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ye(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),x=d.clientX-p.left,y=d.clientY-p.top;a.onThumbPointerDown({x,y})}),onPointerUp:Ye(e.onPointerUp,a.onThumbPointerUp)})});mK.displayName=Rb;var _P="ScrollAreaCorner",pK=_.forwardRef((e,t)=>{const r=sa(_P,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(nye,{...e,ref:t}):null});pK.displayName=_P;var nye=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=sa(_P,r),[s,a]=_.useState(0),[l,c]=_.useState(0),u=!!(s&&l);return rh(i.scrollbarX,()=>{var d;const f=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),rh(i.scrollbarY,()=>{var d;const f=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(f),a(f)}),u?o.jsx(at.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Db(e){return e?parseInt(e,10):0}function gK(e,t){const r=e/t;return isNaN(r)?0:r}function Rw(e){const t=gK(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function iye(e,t,r,n="ltr"){const i=Rw(r),s=i/2,a=t||s,l=i-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,d=n==="ltr"?[0,f]:[f*-1,0];return vK([c,u],d)(e)}function $$(e,t,r="ltr"){const n=Rw(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,a=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,a]:[a*-1,0],u=vO(e,c);return vK([0,a],[0,l])(u)}function vK(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function yK(e,t){return e>0&&e<t}var sye=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=r.left!==s.left,l=r.top!==s.top;(a||l)&&t(),r=s,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function Dw(e,t){const r=An(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function rh(e,t){const r=An(t);pn(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var xK=lK,aye=uK,oye=pK;const ml=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(xK,{ref:n,className:Ne("relative overflow-hidden rounded-card-lg",e),...r,children:[o.jsx(aye,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(bK,{}),o.jsx(oye,{})]}));ml.displayName=xK.displayName;const bK=_.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(bP,{ref:n,orientation:t,className:Ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(mK,{className:"relative flex-1 rounded-full bg-border"})}));bK.displayName=bP.displayName;const lye="Left",cye="Right",uye="Up",dye="Down",xf={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},YO={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},F$="mousemove",q$="mouseup",fye="touchend",hye="touchmove",mye="touchstart";function pye(e,t,r,n){return e>t?r>0?cye:lye:n>0?dye:uye}function B$(e,t){if(t===0)return e;const r=Math.PI/180*t,n=e[0]*Math.cos(r)+e[1]*Math.sin(r),i=e[1]*Math.cos(r)-e[0]*Math.sin(r);return[n,i]}function gye(e,t){const r=f=>{const d="touches"in f;d&&f.touches.length>1||e((m,p)=>{p.trackMouse&&!d&&(document.addEventListener(F$,n),document.addEventListener(q$,a));const{clientX:x,clientY:y}=d?f.touches[0]:f,v=B$([x,y],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:f}),Object.assign(Object.assign(Object.assign({},m),YO),{initial:v.slice(),xy:v,start:f.timeStamp||0})})},n=f=>{e((d,m)=>{const p="touches"in f;if(p&&f.touches.length>1)return d;if(f.timeStamp-d.start>m.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:x,clientY:y}=p?f.touches[0]:f,[v,b]=B$([x,y],m.rotationAngle),w=v-d.xy[0],j=b-d.xy[1],S=Math.abs(w),C=Math.abs(j),E=(f.timeStamp||0)-d.start,k=Math.sqrt(S*S+C*C)/(E||1),O=[w/(E||1),j/(E||1)],M=pye(S,C,w,j),R=typeof m.delta=="number"?m.delta:m.delta[M.toLowerCase()]||xf.delta;if(S<R&&C<R&&!d.swiping)return d;const T={absX:S,absY:C,deltaX:w,deltaY:j,dir:M,event:f,first:d.first,initial:d.initial,velocity:k,vxvy:O};T.first&&m.onSwipeStart&&m.onSwipeStart(T),m.onSwiping&&m.onSwiping(T);let P=!1;return(m.onSwiping||m.onSwiped||m[`onSwiped${M}`])&&(P=!0),P&&m.preventScrollOnSwipe&&m.trackTouch&&f.cancelable&&f.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:T,swiping:!0})})},i=f=>{e((d,m)=>{let p;if(d.swiping&&d.eventData){if(f.timeStamp-d.start<m.swipeDuration){p=Object.assign(Object.assign({},d.eventData),{event:f}),m.onSwiped&&m.onSwiped(p);const x=m[`onSwiped${p.dir}`];x&&x(p)}}else m.onTap&&m.onTap({event:f});return m.onTouchEndOrOnMouseUp&&m.onTouchEndOrOnMouseUp({event:f}),Object.assign(Object.assign(Object.assign({},d),YO),{eventData:p})})},s=()=>{document.removeEventListener(F$,n),document.removeEventListener(q$,a)},a=f=>{s(),i(f)},l=(f,d)=>{let m=()=>{};if(f&&f.addEventListener){const p=Object.assign(Object.assign({},xf.touchEventOptions),d.touchEventOptions),x=[[mye,r,p],[hye,n,Object.assign(Object.assign({},p),d.preventScrollOnSwipe?{passive:!1}:{})],[fye,i,p]];x.forEach(([y,v,b])=>f.addEventListener(y,v,b)),m=()=>x.forEach(([y,v])=>f.removeEventListener(y,v))}return m},u={ref:f=>{f!==null&&e((d,m)=>{if(d.el===f)return d;const p={};return d.el&&d.el!==f&&d.cleanUpTouch&&(d.cleanUpTouch(),p.cleanUpTouch=void 0),m.trackTouch&&f&&(p.cleanUpTouch=l(f,m)),Object.assign(Object.assign(Object.assign({},d),{el:f}),p)})}};return t.trackMouse&&(u.onMouseDown=r),[u,l]}function vye(e,t,r,n){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==r.preventScrollOnSwipe||t.touchEventOptions.passive!==r.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})}function yye(e){const{trackMouse:t}=e,r=_.useRef(Object.assign({},YO)),n=_.useRef(Object.assign({},xf)),i=_.useRef(Object.assign({},n.current));i.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},xf),e);let s;for(s in xf)n.current[s]===void 0&&(n.current[s]=xf[s]);const[a,l]=_.useMemo(()=>gye(c=>r.current=c(r.current,n.current),{trackMouse:t}),[t]);return r.current=vye(r.current,n.current,i.current,l),a}var XS={exports:{}},ZS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z$;function xye(){if(z$)return ZS;z$=1;var e=fv();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function l(d,m){var p=m(),x=n({inst:{value:p,getSnapshot:m}}),y=x[0].inst,v=x[1];return s(function(){y.value=p,y.getSnapshot=m,c(y)&&v({inst:y})},[d,p,m]),i(function(){return c(y)&&v({inst:y}),d(function(){c(y)&&v({inst:y})})},[d]),a(p),p}function c(d){var m=d.getSnapshot;d=d.value;try{var p=m();return!r(d,p)}catch{return!0}}function u(d,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return ZS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,ZS}var V$;function bye(){return V$||(V$=1,XS.exports=xye()),XS.exports}var wye=bye();function _ye(){return wye.useSyncExternalStore(Sye,()=>!0,()=>!1)}function Sye(){return()=>{}}var SP="Avatar",[jye,Nqe]=Qn(SP),[Cye,wK]=jye(SP),_K=_.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,s]=_.useState("idle");return o.jsx(Cye,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:o.jsx(at.span,{...n,ref:t})})});_K.displayName=SP;var SK="AvatarImage",jK=_.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=e,a=wK(SK,r),l=Nye(n,s),c=An(u=>{i(u),a.onImageLoadingStatusChange(u)});return pn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(at.img,{...s,ref:t,src:n}):null});jK.displayName=SK;var CK="AvatarFallback",NK=_.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,s=wK(CK,r),[a,l]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&s.imageLoadingStatus!=="loaded"?o.jsx(at.span,{...i,ref:t}):null});NK.displayName=CK;function U$(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Nye(e,{referrerPolicy:t,crossOrigin:r}){const n=_ye(),i=_.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,l]=_.useState(()=>U$(s,e));return pn(()=>{l(U$(s,e))},[s,e]),pn(()=>{const c=d=>()=>{l(d)};if(!s)return;const u=c("loaded"),f=c("error");return s.addEventListener("load",u),s.addEventListener("error",f),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",f)}},[s,r,t]),a}var EK=_K,kK=jK,OK=NK;const jP=_.forwardRef(({className:e,...t},r)=>o.jsx(EK,{ref:r,className:Ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));jP.displayName=EK.displayName;const CP=_.forwardRef(({className:e,...t},r)=>o.jsx(kK,{ref:r,className:Ne("aspect-square h-full w-full",e),...t}));CP.displayName=kK.displayName;const NP=_.forwardRef(({className:e,...t},r)=>o.jsx(OK,{ref:r,className:Ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));NP.displayName=OK.displayName;const W$={Home:wl,MessageSquare:As,Search:Hr,User:Rn,LogOut:_l,Settings:$c,Info:Ct,BookOpen:ia,Sun:PU,Moon:OU,ChevronUp:Ua,ExternalLink:$a,Menu:Ioe,BotMessageSquare:Ao,SlidersHorizontal:h2,MessageSquareQuote:d2,ShieldCheck:TU,Target:MU,BellRing:ad,ChevronDown:zr},Eye=({isOpen:e,onClose:t,navItems:r,onOpenGlobalSearch:n,onOpenAiAChat:i,onOpenAuthModal:s,unreadMessagesCount:a,onInitiateThemeChange:l,isMobile:c,isDesktopImmersiveOpen:u,onCloseDesktopImmersive:f,desktopImmersiveParent:d})=>{const{currentUserProfile:m,signOut:p}=Qt(),x=on(),y=cs(),{theme:v,setTheme:b}=g2(),{openChat:w}=Cl(),[j,S]=_.useState([]),[C,E]=_.useState(""),k=c?e:u,O=c?t:f,M=yye({onSwipedRight:()=>{c&&e&&t()},preventScrollOnSwipe:!0,trackMouse:!0});_.useEffect(()=>{k?u&&d?(S([d]),E("")):u&&!d&&f():(S([]),E(""))},[k,u,d,f]);const R=_.useCallback(U=>{U.type==="category_or_action"&&(U.route===null||U.route===void 0)?(S(F=>[...F,U]),E("")):U.route?(U.is_external?window.open(U.route,"_blank"):U.route.startsWith("#")?x(`/${U.route}`):x(U.route),O()):U.onClick&&(U.id==="nav-global-search"?n():U.id==="nav-aia-chat"?i():U.onClick(),O())},[x,O,n,i]),T=_.useCallback(()=>{u&&j.length===1?f():(S(U=>{const W=[...U];return W.pop(),W}),E(""))},[u,j.length,f]),P=_.useCallback(async()=>{await p(),O(),x("/")},[p,O,x]),I=[{id:"profile-view",label:"Mon profil",icon_name:"User",is_external:!1,type:"route",route:"/profile",order_index:0},{id:"profile-settings",label:"Paramètres",icon_name:"Settings",is_external:!1,type:"route",route:"/settings",order_index:1},{id:"profile-logout",label:"Déconnexion",icon_name:"LogOut",is_external:!1,type:"category_or_action",onClick:P,order_index:2}],B=Y.useMemo(()=>{let U=[];if(u){if(!d)return console.error("CRITICAL ERROR: isDesktopImmersiveOpen is true but desktopImmersiveParent is null/undefined."),O(),[];const F=j[j.length-1];j.length===0||j.length===1&&(F==null?void 0:F.id)===d.id?U=Array.isArray(d.children)?d.children:[]:U=F&&Array.isArray(F.children)?F.children:[]}else if(j.length===0)U=r.filter(F=>F.parent_nav_item_id===null||F.parent_nav_item_id===void 0),m&&U.push({id:"profile-category",label:"Mon Compte",icon_name:"User",is_external:!1,type:"category_or_action",children:I,order_index:999});else{const F=j[j.length-1];(F==null?void 0:F.id)==="profile-category"?U=I:U=F&&Array.isArray(F.children)?F.children:[]}const W=C.toLowerCase();return U.filter(F=>F.label.toLowerCase().includes(W)||F.description&&F.description.toLowerCase().includes(W)).sort((F,L)=>F.order_index-L.order_index)},[r,j,m,I,C,u,d,O]),$=j.length>0?j[j.length-1].label:"Menu",H=j.length>0?j[j.length-1].icon_name:"Menu",V=W$[H||"Info"]||Ct;return o.jsx(rK,{open:k,onOpenChange:O,children:o.jsxs(yP,{side:"top",className:Ne("w-full flex flex-col p-0 backdrop-blur-lg bg-background/80 rounded-b-lg",c?"h-full":"h-[calc(100vh-68px)] top-[68px]"),...M,children:[o.jsxs(iK,{className:"p-4 flex-shrink-0 border-b border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[j.length>0?o.jsxs(me,{variant:"ghost",size:"icon",onClick:T,className:"rounded-full h-10 w-10 bg-muted/20 hover:bg-muted/40",children:[o.jsx(ci,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Retour"})]}):o.jsx("div",{className:"w-10 h-10"}),o.jsx(Ia,{iconClassName:"h-8 w-8",textClassName:"text-xl"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[m&&o.jsxs(o.Fragment,{children:[o.jsxs(me,{variant:"ghost",size:"icon",onClick:()=>R({id:"static-messages",label:"Messagerie",icon_name:"MessageSquare",is_external:!1,type:"route",route:"/messages",order_index:100,badge:a}),className:"relative rounded-full h-10 w-10 bg-muted/20 hover:bg-muted/40",children:[o.jsx(As,{className:"h-5 w-5"}),a>0&&o.jsx("span",{className:"absolute top-0 right-0 -mt-1 -mr-1 bg-destructive text-destructive-foreground rounded-full px-1.5 py-0.5 text-xs leading-none",children:a}),o.jsx("span",{className:"sr-only",children:"Messagerie"})]}),o.jsxs(me,{variant:"ghost",size:"icon",onClick:()=>R({id:"profile-category",label:"Mon Compte",icon_name:"User",is_external:!1,type:"category_or_action",children:I,order_index:999}),className:"relative rounded-full h-10 w-10 bg-muted/20 hover:bg-muted/40",children:[o.jsxs(jP,{className:"h-8 w-8",children:[o.jsx(CP,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${m.first_name} ${m.last_name}`}),o.jsxs(NP,{children:[m.first_name[0],m.last_name[0]]})]}),o.jsx("span",{className:"sr-only",children:"Mon Compte"})]})]}),o.jsx(_w,{onInitiateThemeChange:l}),o.jsxs(me,{variant:"ghost",size:"icon",onClick:O,className:"rounded-full h-10 w-10 bg-muted/20 hover:bg-muted/40",children:[o.jsx(cd,{className:"h-5 w-5","aria-label":"Fermer le menu"}),o.jsx("span",{className:"sr-only",children:"Fermer"})]})]})]}),o.jsx(sK,{className:"sr-only",children:"Menu de navigation"}),o.jsx(aK,{className:"sr-only",children:"Accédez aux différentes sections de l'application."})]}),o.jsxs(ml,{className:"flex-grow p-4",children:[j.length>0&&o.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-4 flex items-center gap-2",children:[o.jsx(V,{className:"h-6 w-6 text-primary"}),$]}),o.jsx(kt.div,{initial:{opacity:0,x:j.length>0?50:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:j.length>0?-50:50},transition:{duration:.2,ease:"easeOut"},className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:B.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4 col-span-full",children:"Aucun élément de menu configuré pour ce rôle."}):B.map(U=>{const W=W$[U.icon_name||"Info"]||Ct,F=U.route&&(y.pathname+y.search).startsWith(U.route),L=U.type==="category_or_action"&&(U.route===null||U.route===void 0);return o.jsxs(me,{variant:"ghost",className:Ne("android-tile flex-row items-center justify-start h-auto min-h-[60px] text-left w-full","rounded-android-tile hover:scale-[1.02] transition-transform",F?"active":"","transition-all duration-200 ease-in-out"),onClick:()=>R(U),children:[o.jsx("div",{className:"icon-container rounded-lg mr-3",children:o.jsx(W,{className:"h-6 w-6"})}),o.jsx("span",{className:"title text-base font-medium line-clamp-2 flex-grow",children:U.label}),U.badge!==void 0&&U.badge>0&&o.jsx("span",{className:"absolute top-2 right-2 bg-destructive text-destructive-foreground rounded-full px-2 py-0.5 text-xs leading-none",children:U.badge}),U.is_external&&o.jsx($a,{className:"h-4 w-4 ml-auto text-muted-foreground"}),L&&o.jsx(zr,{className:"h-4 w-4 ml-auto text-muted-foreground rotate-90"})]},U.id)})},j.length)]}),o.jsxs("div",{className:"p-4 border-t border-border flex-shrink-0 space-y-2",children:[o.jsxs("div",{className:"flex justify-end gap-2",children:[m?o.jsxs(me,{variant:"destructive",className:"shadow-lg bg-destructive/80 hover:bg-destructive rounded-android-tile",onClick:P,children:[o.jsx(_l,{className:"h-5 w-5 mr-2"})," Déconnexion"]}):o.jsxs(me,{variant:"default",className:"shadow-lg rounded-android-tile",onClick:s,children:[o.jsx(Rn,{className:"h-5 w-5 mr-2"})," Se connecter"]}),o.jsxs(me,{variant:"outline",className:"shadow-lg bg-background/80 backdrop-blur-lg rounded-android-tile",onClick:()=>x("/about"),children:[o.jsx(Ct,{className:"h-5 w-5 mr-2"})," À propos"]})]}),c&&o.jsx("div",{className:"flex justify-center pt-2",children:o.jsx("div",{className:"w-1/4 h-1 bg-muted-foreground rounded-full"})})]})]})})},kye=()=>{const{currentCourseTitle:e,currentModuleTitle:t,isChatOpen:r,openChat:n,closeChat:i,initialChatMessage:s,setInitialChatMessage:a}=Cl(),{currentUserProfile:l}=Qt(),[c,u]=_.useState([]),[f,d]=_.useState(""),m=_.useRef(null),p=_.useRef(0),x=_.useRef(null),[y,v]=_.useState(!0);_.useEffect(()=>{r&&c.length===0&&(p.current+=1,u([{id:p.current,sender:"aia",text:"Bonjour ! Je suis AiA, votre tuteur personnel. Comment puis-je vous aider aujourd'hui ?"}]),v(!1))},[r,c.length]),_.useEffect(()=>{r&&s&&(d(s),a(null),v(!1))},[r,s,a]),_.useEffect(()=>{if(r&&!y){const C=setTimeout(()=>{var E;(E=m.current)==null||E.scrollIntoView({behavior:"smooth"})},100);return()=>clearTimeout(C)}},[c,r,y]);const b=()=>{if(f.trim()){const C=[];e&&C.push(`Cours "${e}"`),t&&C.push(`Module "${t}"`);const E=C.length>0?`(Contexte: ${C.join(", ")}) `:"";p.current+=1;const O={id:p.current,sender:"user",text:E+f.trim()};u(M=>[...M,O]),d(""),setTimeout(()=>{p.current+=1;const M={id:p.current,sender:"aia",text:`Je comprends que vous avez dit : "${O.text}". Je suis en train de traiter votre demande.`};u(R=>[...R,M])},1e3)}},w=C=>{C.key==="Enter"&&b()},j=()=>{i(),u([]),v(!0)},S=()=>{v(C=>!C)};return l?o.jsx(Nv,{children:r&&o.jsxs(kt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:Ne("fixed top-[68px] right-4 z-50 w-80 bg-card border border-border rounded-lg shadow-xl flex flex-col overflow-hidden rounded-android-tile backdrop-blur-lg bg-background/80",y?"h-14":"h-[calc(100vh-120px)] max-h-[500px]"),children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ng,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"AiA Chat"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs(me,{variant:"ghost",size:"icon",onClick:S,className:"h-8 w-8",children:[y?o.jsx(zr,{className:"h-4 w-4"}):o.jsx(Ua,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:y?"Déplier":"Replier"})]}),o.jsxs(me,{variant:"ghost",size:"icon",onClick:j,className:"h-8 w-8",children:[o.jsx(cd,{className:"h-4 w-4","aria-label":"Fermer le chat AiA"}),o.jsx("span",{className:"sr-only",children:"Fermer"})]})]})]}),!y&&o.jsxs(kt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex-grow flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden p-3",children:[(e||t)&&o.jsxs("div",{className:"flex gap-2 flex-wrap pb-3 shrink-0",children:[e&&o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>d(C=>C+` @${e}`),className:"whitespace-nowrap text-xs rounded-android-tile",children:["@",e.length>10?e.substring(0,10)+"...":e]}),t&&o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>d(C=>C+` @${t}`),className:"whitespace-nowrap text-xs rounded-android-tile",children:["@",t.length>10?t.substring(0,10)+"...":t]})]}),o.jsx(ml,{className:"flex-grow border rounded-md p-3 bg-muted/20 rounded-android-tile",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[c.map(C=>o.jsxs("div",{className:Ne("flex items-start gap-2",C.sender==="user"?"justify-end":"justify-start"),children:[C.sender==="aia"&&o.jsx("div",{className:"flex-shrink-0 p-1.5 rounded-full bg-primary text-primary-foreground",children:o.jsx(ng,{className:"h-4 w-4"})}),o.jsx("div",{className:Ne("max-w-[80%] p-2 rounded-lg text-sm",C.sender==="user"?"bg-primary text-primary-foreground rounded-br-none":"bg-muted text-muted-foreground rounded-bl-none"),children:C.text}),C.sender==="user"&&o.jsx("div",{className:"flex-shrink-0 p-1.5 rounded-full bg-secondary text-secondary-foreground",children:o.jsx(Rn,{className:"h-4 w-4"})})]},C.id)),o.jsx("div",{ref:m})]})})]}),o.jsx("div",{className:"flex flex-col gap-2 p-3 border-t border-border shrink-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(rt,{ref:x,placeholder:"Écrivez votre message à AiA...",value:f,onChange:C=>d(C.target.value),onKeyPress:w,className:"flex-grow rounded-android-tile"}),o.jsxs(me,{onClick:b,disabled:!f.trim(),className:"rounded-android-tile",children:[o.jsx(f2,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Envoyer"})]})]})})]})]})}):null},H$={Home:wl,MessageSquare:As,Search:Hr,User:Rn,LogOut:_l,Settings:$c,Info:Ct,BookOpen:ia,PlusSquare:vv,Users:Wr,GraduationCap:Os,PenTool:ra,NotebookText:Fa,School:od,LayoutList:Mn,BriefcaseBusiness:Ii,UserRoundCog:Ts,ClipboardCheck:Gh,BotMessageSquare:Ao,LayoutDashboard:Xh,LineChart:Zh,UsersRound:tm,UserRoundSearch:em,BellRing:ad,Building2:xr,BookText:bl,UserCog:ld,TrendingUp:Jh,BookMarked:Hh,CalendarDays:kr,UserCheck:Sl,ExternalLink:$a,ArrowLeft:ci,ChevronDown:zr},Oye=({parentItem:e,onClose:t,onItemClick:r})=>{const n=cs(),[i,s]=_.useState([]);_.useEffect(()=>{s(e?[e]:[])},[e]);const a=_.useCallback(m=>{m.type==="category_or_action"&&(m.route===null||m.route===void 0)&&m.children&&m.children.length>0?s(x=>[...x,m]):r(m)},[r]),l=_.useCallback(()=>{s(m=>m.slice(0,m.length-1))},[]);if(!e||i.length===0)return null;const c=i[i.length-1],u=c.children||[],f=i.length>1,d=c.icon_name&&H$[c.icon_name]||Ct;return o.jsx(Nv,{children:e&&o.jsxs(kt.nav,{initial:{y:"-100%"},animate:{y:"0%"},exit:{y:"-100%"},transition:{duration:.3,ease:"easeOut"},className:"fixed top-[64px] left-0 right-0 z-40 hidden md:flex flex-col h-56 px-4 py-3 backdrop-blur-lg bg-background/80 shadow-lg overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between pb-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[f&&o.jsxs(me,{variant:"ghost",size:"icon",onClick:l,className:"rounded-full h-10 w-10 bg-muted/20 hover:bg-muted/40",children:[o.jsx(ci,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Retour"})]}),o.jsx(d,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:c.label})]}),o.jsxs(me,{variant:"ghost",size:"icon",onClick:t,children:[o.jsx(cd,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Fermer le sous-menu"})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 overflow-hidden",children:u.map(m=>{const p=m.icon_name&&H$[m.icon_name]||Ct,x=m.route&&(n.pathname+n.search).startsWith(m.route),y=m.type==="category_or_action"&&(m.route===null||m.route===void 0);return o.jsx(me,{variant:"ghost",onClick:()=>a(m),className:Ne("android-tile flex-col items-start justify-start h-auto min-h-[80px] text-left w-full","rounded-android-tile hover:scale-[1.02] transition-transform",x?"active":"","transition-all duration-200 ease-in-out"),target:m.is_external?"_blank":void 0,children:o.jsxs("div",{children:[o.jsx("div",{className:"icon-container rounded-lg mb-2",children:o.jsx(p,{className:"h-6 w-6"})}),o.jsx("span",{className:"title text-base font-medium line-clamp-2",children:m.label}),m.description&&o.jsx("span",{className:"subtitle text-xs line-clamp-2",children:m.description}),m.badge!==void 0&&m.badge>0&&o.jsx("span",{className:"absolute top-2 right-2 bg-destructive text-destructive-foreground rounded-full px-2 py-0.5 text-xs leading-none",children:m.badge}),y&&o.jsx(zr,{className:"absolute bottom-2 right-2 h-4 w-4 text-muted-foreground"}),m.is_external&&!y&&o.jsx($a,{className:"absolute bottom-2 right-2 h-4 w-4 text-muted-foreground"})]})},m.id)})})]})})},Aye={Home:wl,MessageSquare:As,Search:Hr,User:Rn,LogOut:_l,Settings:$c,Info:Ct,BookOpen:ia,PlusSquare:vv,Users:Wr,GraduationCap:Os,PenTool:ra,NotebookText:Fa,School:od,LayoutList:Mn,BriefcaseBusiness:Ii,UserRoundCog:Ts,ClipboardCheck:Gh,BotMessageSquare:Ao,LayoutDashboard:Xh,LineChart:Zh,UsersRound:tm,UserRoundSearch:em,BellRing:ad,Building2:xr,BookText:bl,UserCog:ld,TrendingUp:Jh,BookMarked:Hh,CalendarDays:kr,UserCheck:Sl,ExternalLink:$a},Tye=({setIsAdminModalOpen:e,onInitiateThemeChange:t})=>{const r=zc(),{currentUserProfile:n,isLoadingUser:i,currentRole:s,signOut:a,navItems:l}=Qt(),{isChatOpen:c,openChat:u,closeChat:f}=Cl(),[d,m]=_.useState(!1),[p,x]=_.useState(0),[y,v]=_.useState(!1),b=on(),w=cs(),[j,S]=_.useState(null),C=_.useRef(null),E=_.useRef(null),k=_.useCallback($=>$.map(H=>{let V={...H};return V.id==="nav-global-search"?V.onClick=()=>m(!0):V.id==="nav-aia-chat"&&(V.onClick=()=>u()),V.children&&V.children.length>0&&(V.children=k(V.children)),V}),[m,u]),O=Y.useMemo(()=>{const $=l.map(H=>H.route==="/messages"?{...H,badge:p}:H);return k($)},[l,k,p]);_.useEffect(()=>{n&&l.length>0||n&&l.length},[n,l]);const M=async()=>{await a(),b("/")},R=_.useCallback($=>{const H=$.ctrlKey||$.metaKey;H&&$.shiftKey&&$.key==="S"?($.preventDefault(),e(!0)):n&&H&&$.key==="f"&&($.preventDefault(),m(!0))},[n,e,m]);_.useEffect(()=>(window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)}),[R]),_.useEffect(()=>{let $;return(async()=>{if(n!=null&&n.id){const V=await cb(n.id);x(V),$=Ie.channel(`unread_messages_${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${n.id}`},async U=>{const W=await cb(n.id);x(W)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`receiver_id=eq.${n.id}`},async U=>{const W=await cb(n.id);x(W)}).subscribe()}})(),()=>{$&&Ie.removeChannel($)}},[n==null?void 0:n.id]),_.useEffect(()=>{const $=H=>{j&&C.current&&!C.current.contains(H.target)&&E.current&&!E.current.contains(H.target)&&S(null)};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[j]);const T=Y.useMemo(()=>({setIsAdminModalOpen:e,onInitiateThemeChange:t}),[e,t]),P=_.useRef({lastTap:0}),I=_.useCallback(()=>{if(r&&n){const $=Date.now();$-P.current.lastTap<300?(v(!0),P.current.lastTap=0):P.current.lastTap=$}},[r,n]),B=_.useCallback($=>{$.route?$.is_external?window.open($.route,"_blank"):$.route.startsWith("#")?b(`/${$.route}`):b($.route):$.onClick&&$.onClick(),S(null)},[b]);return o.jsxs("div",{className:"flex flex-col min-h-screen bg-muted/40",children:[o.jsxs("header",{ref:C,onClick:I,className:Ne("fixed top-0 left-0 right-0 z-50 px-4 py-3 flex items-center justify-between shadow-sm backdrop-blur-lg bg-background/80",!r&&n&&"opacity-100 pointer-events-auto"),children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(Ia,{})}),!r&&n&&o.jsxs("nav",{className:"hidden md:flex items-center gap-4 mx-auto",children:[" ",O.filter($=>!$.parent_nav_item_id).map($=>{const H=$.icon_name&&Aye[$.icon_name]||Ct,V=$.route&&(w.pathname+w.search).startsWith($.route),U=$.type==="category_or_action"&&($.route===null||$.route===void 0);return o.jsxs(me,{variant:"ghost",onClick:()=>{U?S((j==null?void 0:j.id)===$.id?null:$):B($)},className:Ne("group inline-flex h-9 items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50",V||(j==null?void 0:j.id)===$.id?"text-primary font-semibold":"text-muted-foreground"),children:[o.jsx(H,{className:"mr-2 h-4 w-4"}),$.label,U&&o.jsx(zr,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"}),$.route==="/messages"&&$.badge!==void 0&&$.badge>0&&o.jsx("span",{className:"ml-1 bg-destructive text-destructive-foreground rounded-full px-1.5 py-0.5 text-xs leading-none",children:$.badge})]},$.id)})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 ml-auto",children:[n&&o.jsxs(yL,{children:[o.jsx(xL,{asChild:!0,children:o.jsxs(me,{variant:"outline",size:"icon",onClick:()=>m(!0),children:[o.jsx(Hr,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Recherche globale"})]})}),o.jsx(qk,{className:"backdrop-blur-lg bg-background/80 z-50",children:o.jsx("p",{children:"Recherche (Ctrl + F)"})})]}),n&&o.jsxs(yL,{children:[o.jsx(xL,{asChild:!0,children:o.jsxs(me,{variant:"outline",size:"icon",onClick:()=>u(),children:[o.jsx(Ao,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"AiA Chat"})]})}),o.jsx(qk,{className:"backdrop-blur-lg bg-background/80 z-50",children:o.jsx("p",{children:"AiA Chat"})})]}),n&&o.jsxs(jve,{children:[o.jsx(Cve,{asChild:!0,children:o.jsxs(me,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",children:[o.jsx(Rn,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Menu utilisateur"})]})}),o.jsxs(LH,{align:"end",className:"backdrop-blur-lg bg-background/80",children:[o.jsxs($H,{children:[n.first_name," ",n.last_name]}),o.jsx(KO,{}),o.jsxs(lb,{onClick:()=>b("/profile"),children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"})," Mon Profil"]}),o.jsxs(lb,{onClick:()=>b("/settings"),children:[o.jsx($c,{className:"mr-2 h-4 w-4"})," Paramètres"]}),o.jsx(KO,{}),o.jsxs(lb,{onClick:M,children:[o.jsx(_l,{className:"mr-2 h-4 w-4"})," Déconnexion"]})]})]}),!n&&o.jsxs(me,{variant:"outline",onClick:()=>b("/auth"),children:[o.jsx(u2,{className:"h-5 w-5 mr-2"})," Connexion"]}),o.jsx(_w,{onInitiateThemeChange:t}),o.jsxs(me,{variant:"ghost",size:"icon",onClick:()=>b("/about"),className:"hidden sm:flex",children:[o.jsx(Ct,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"À propos"})]})]})]}),!r&&n&&o.jsx(Oye,{parentItem:j,onClose:()=>S(null),onItemClick:B}),o.jsx("main",{className:Ne("flex-grow p-4 sm:p-6 md:p-8 overflow-y-auto",!r&&n&&j?"pt-[288px]":"pt-20 md:pt-24"),children:o.jsx(Nv,{mode:"wait",children:o.jsx(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full w-full",children:o.jsx(xU,{context:T})},w.pathname)})}),o.jsxs("footer",{className:"p-4 text-center text-sm text-muted-foreground border-t",children:["© ",new Date().getFullYear()," AcademIA. Tous droits réservés."," ",o.jsx(me,{variant:"link",className:"p-0 h-auto text-muted-foreground hover:text-foreground",onClick:()=>b("/about"),children:"À propos"})]}),n&&o.jsx(Eye,{isOpen:y,onClose:()=>v(!1),navItems:O,onOpenGlobalSearch:()=>m(!0),onOpenAiAChat:()=>u(),onOpenAuthModal:()=>b("/auth"),unreadMessagesCount:p,onInitiateThemeChange:t,isMobile:r,isDesktopImmersiveOpen:!1,onCloseDesktopImmersive:()=>{},desktopImmersiveParent:null}),n&&o.jsx(kye,{}),n&&o.jsx(Vve,{isOpen:d,onClose:()=>m(!1)})]})},AK=async e=>{const t=await Gye();if(!t)return[];const{data:r,error:n}=await Ie.from("student_class_enrollments").select("class_id").eq("student_id",e).eq("school_year_id",t.id);if(n||!r||r.length===0)return[];const i=r.map(d=>d.class_id),{data:s,error:a}=await Ie.from("classes").select("curriculum_id").in("id",i);if(a||!s||s.length===0)return[];const l=s.map(d=>d.curriculum_id),{data:c,error:u}=await Ie.from("curricula").select("course_ids").in("id",l);if(u||!c||c.length===0)return[];const f=new Set;return c.forEach(d=>{d.course_ids.forEach(m=>f.add(m))}),Array.from(f)},Nl=async(e,t)=>{let r=Ie.from("courses").select("*, subjects(name)");if(t==="student"&&e){const s=await AK(e);if(s.length===0)return[];r=r.in("id",s)}t==="professeur"&&e&&(r=r.eq("creator_id",e));const{data:n,error:i}=await r;return i?[]:n.map(s=>({id:s.id,title:s.title,description:s.description||"",modules:s.modules,skills_to_acquire:s.skills_to_acquire||[],image_url:s.image_url||void 0,subject_id:s.subject_id||void 0,difficulty:s.difficulty||void 0,created_at:s.created_at||void 0,creator_id:s.creator_id||void 0}))},Pye=async e=>{const{data:t,error:r}=await Ie.from("courses").insert({title:e.title,description:e.description,modules:e.modules,skills_to_acquire:e.skills_to_acquire,image_url:e.image_url,subject_id:e.subject_id,difficulty:e.difficulty,creator_id:e.creator_id}).select().single();if(r)throw r;return{id:t.id,title:t.title,description:t.description||"",modules:t.modules,skills_to_acquire:t.skills_to_acquire||[],image_url:t.image_url||void 0,subject_id:t.subject_id||void 0,difficulty:t.difficulty||void 0,created_at:t.created_at||void 0,creator_id:t.creator_id||void 0}},Mye=async e=>{const{data:t,error:r}=await Ie.from("courses").update({title:e.title,description:e.description,modules:e.modules,skills_to_acquire:e.skills_to_acquire,image_url:e.image_url,subject_id:e.subject_id,difficulty:e.difficulty,updated_at:new Date().toISOString(),creator_id:e.creator_id}).eq("id",e.id).select().single();if(r)throw r;return{id:t.id,title:t.title,description:t.description||"",modules:t.modules,skills_to_acquire:t.skills_to_acquire||[],image_url:t.image_url||void 0,subject_id:t.subject_id||void 0,difficulty:t.difficulty||void 0,created_at:t.created_at||void 0,creator_id:t.creator_id||void 0}},Ys=async e=>{let t=Ie.from("curricula").select("*");e&&(t=t.eq("establishment_id",e));const{data:r,error:n}=await t;return n?[]:r.map(i=>({id:i.id,name:i.name,description:i.description||void 0,establishment_id:i.establishment_id,course_ids:i.course_ids||[],created_at:i.created_at||void 0}))},Rye=async e=>{const{data:t,error:r}=await Ie.from("curricula").insert({name:e.name,description:e.description,establishment_id:e.establishment_id,course_ids:e.course_ids}).select().single();if(r)throw r;return{id:t.id,name:t.name,description:t.description||void 0,establishment_id:t.establishment_id,course_ids:t.course_ids||[],created_at:t.created_at||void 0}},TK=async e=>{const{data:t,error:r}=await Ie.from("curricula").update({name:e.name,description:e.description,establishment_id:e.establishment_id,course_ids:e.course_ids,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(r)throw r;return{id:t.id,name:t.name,description:t.description||void 0,establishment_id:t.establishment_id,course_ids:t.course_ids||[],created_at:t.created_at||void 0}},Dye=async e=>{const{error:t}=await Ie.from("curricula").delete().eq("id",e);if(t)throw t},qi=async()=>{const{data:e,error:t}=await Ie.from("establishments").select("*").order("name",{ascending:!0});return t?[]:e},Iye=async e=>{const{data:t,error:r}=await Ie.from("establishments").insert(e).select().single();if(r)throw r;return t},Lye=async e=>{const{data:t,error:r}=await Ie.from("establishments").update({name:e.name,address:e.address,contact_email:e.contact_email,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(r)throw r;return t},$ye=async e=>{const{error:t}=await Ie.from("establishments").delete().eq("id",e);if(t)throw t},bf=async e=>{let t=Ie.from("subjects").select("*");e&&(t=t.eq("establishment_id",e));const{data:r,error:n}=await t;return n?[]:r},Fye=async e=>{const{data:t,error:r}=await Ie.from("subjects").insert(e).select().single();if(r)throw r;return t},qye=async e=>{const{data:t,error:r}=await Ie.from("subjects").update({name:e.name,establishment_id:e.establishment_id,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(r)throw r;return t},Bye=async e=>{const{error:t}=await Ie.from("subjects").delete().eq("id",e);if(t)throw t},Pa=async e=>{let t=Ie.from("classes").select("*, school_years(name)");e&&(t=t.eq("establishment_id",e));const{data:r,error:n}=await t;if(n)throw n;return r.map(i=>{var s;return{id:i.id,name:i.name,curriculum_id:i.curriculum_id,creator_ids:i.creator_ids||[],establishment_id:i.establishment_id,school_year_id:i.school_year_id,school_year_name:(s=i.school_years)==null?void 0:s.name,created_at:i.created_at||void 0}})},zye=async e=>{var n;const{data:t,error:r}=await Ie.from("classes").insert({name:e.name,curriculum_id:e.curriculum_id,creator_ids:e.creator_ids,establishment_id:e.establishment_id,school_year_id:e.school_year_id}).select("*, school_years(name)").single();if(r)throw r;return{id:t.id,name:t.name,curriculum_id:t.curriculum_id,creator_ids:t.creator_ids||[],establishment_id:t.establishment_id,school_year_id:t.school_year_id,school_year_name:(n=t.school_years)==null?void 0:n.name,created_at:t.created_at||void 0}},Vye=async e=>{var n;const{data:t,error:r}=await Ie.from("classes").update({name:e.name,curriculum_id:e.curriculum_id,creator_ids:e.creator_ids,establishment_id:e.establishment_id,school_year_id:e.school_year_id,updated_at:new Date().toISOString()}).eq("id",e.id).select("*, school_years(name)").single();if(r)throw r;return{id:t.id,name:t.name,curriculum_id:t.curriculum_id,creator_ids:t.creator_ids||[],establishment_id:t.establishment_id,school_year_id:t.school_year_id,school_year_name:(n=t.school_years)==null?void 0:n.name,created_at:t.created_at||void 0}},Uye=async e=>{const{error:t}=await Ie.from("classes").delete().eq("id",e);if(t)throw t},Mx=async(e,t,r,n)=>{let i=Ie.from("professor_subject_assignments").select("*, subjects(name), classes(name), school_years(name)");const{data:s,error:a}=await i;return a?[]:s.map(l=>{var c,u,f;return{id:l.id,professor_id:l.professor_id,subject_id:l.subject_id,subject_name:(c=l.subjects)==null?void 0:c.name,class_id:l.class_id,class_name:(u=l.classes)==null?void 0:u.name,school_year_id:l.school_year_id,school_year_name:(f=l.school_years)==null?void 0:f.name,establishment_id:l.establishment_id,created_at:l.created_at}})},Wye=async e=>{const{data:t,error:r}=await Ie.from("professor_subject_assignments").insert(e).select().single();if(r)throw r;return t},Hye=async e=>{const{data:t,error:r}=await Ie.from("professor_subject_assignments").update({professor_id:e.professor_id,subject_id:e.subject_id,class_id:e.class_id,school_year_id:e.school_year_id,establishment_id:e.establishment_id,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(r)throw r;return t},Kye=async e=>{const{error:t}=await Ie.from("professor_subject_assignments").delete().eq("id",e);if(t)throw t},xc=async()=>{const{data:e,error:t}=await Ie.from("school_years").select("*").order("start_date",{ascending:!1});return t?[]:e},Gye=async()=>{const{data:e,error:t}=await Ie.from("school_years").select("*").eq("is_active",!0).single();return t&&t.code!=="PGRST116"?null:e},Yye=async e=>{if(e.is_active){const{error:n}=await Ie.from("school_years").update({is_active:!1,updated_at:new Date().toISOString()}).neq("id",e.id).eq("is_active",!0);if(n)throw n}const{data:t,error:r}=await Ie.from("school_years").insert(e).select().single();if(r)throw r;return t},Qye=async e=>{if(e.is_active){const{error:n}=await Ie.from("school_years").update({is_active:!1,updated_at:new Date().toISOString()}).neq("id",e.id).eq("is_active",!0);if(n)throw n}const{data:t,error:r}=await Ie.from("school_years").update({name:e.name,start_date:e.start_date,end_date:e.end_date,is_active:e.is_active,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(r)throw r;return t},Xye=async e=>{const{error:t}=await Ie.from("school_years").delete().eq("id",e);if(t)throw t},Zye=async()=>{const{error:e}=await Ie.from("courses").delete()},Jye=async()=>{const{error:e}=await Ie.from("curricula").delete()},exe=async()=>{const{error:e}=await Ie.from("classes").delete()},txe=async()=>{const{error:e}=await Ie.from("subjects").delete()},rxe=async()=>{const{error:e}=await Ie.from("class_subjects").delete()},nxe=async()=>{const{error:e}=await Ie.from("professor_subject_assignments").delete()},ixe=async()=>{const{error:e}=await Ie.from("school_years").delete()},Tn=(e,t)=>{var r;return((r=t.find(n=>n.id===e))==null?void 0:r.name)||"N/A"},$u=(e,t)=>{var r;return((r=t.find(n=>n.id===e))==null?void 0:r.name)||"N/A"},Ib=(e,t)=>{var r;return((r=t.find(n=>n.id===e))==null?void 0:r.name)||"N/A"},bc=(e,t)=>{var r;return((r=t.find(n=>n.id===e))==null?void 0:r.name)||"N/A"},K$=(e,t)=>{var r;return((r=t.find(n=>n.id===e))==null?void 0:r.name)||"N/A"};var EP="Progress",kP=100,[sxe,Eqe]=Qn(EP),[axe,oxe]=sxe(EP),PK=_.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=lxe,...a}=e;(i||i===0)&&!G$(i)&&console.error(cxe(`${i}`,"Progress"));const l=G$(i)?i:kP;n!==null&&!Y$(n,l)&&console.error(uxe(`${n}`,"Progress"));const c=Y$(n,l)?n:null,u=Lb(c)?s(c,l):void 0;return o.jsx(axe,{scope:r,value:c,max:l,children:o.jsx(at.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Lb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":DK(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});PK.displayName=EP;var MK="ProgressIndicator",RK=_.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=oxe(MK,r);return o.jsx(at.div,{"data-state":DK(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});RK.displayName=MK;function lxe(e,t){return`${Math.round(e/t*100)}%`}function DK(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lb(e){return typeof e=="number"}function G$(e){return Lb(e)&&!isNaN(e)&&e>0}function Y$(e,t){return Lb(e)&&!isNaN(e)&&e<=t&&e>=0}function cxe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kP}\`.`}function uxe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IK=PK,dxe=RK;const Mv=_.forwardRef(({className:e,value:t,...r},n)=>o.jsx(IK,{ref:n,className:Ne("relative h-2 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(dxe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Mv.displayName=IK.displayName;const Q$=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),[n,i]=_.useState([]),[s,a]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,x]=_.useState([]),[y,v]=_.useState([]);if(_.useEffect(()=>{(async()=>{try{const C=await Nl();i(C);const E=await pw();a(E);const k=await ts();c(k);const O=await Pa();f(O);const M=await Ys();m(M),x(await qi()),v(await as())}catch(C){console.error("Error fetching data for Dashboard:",C),se(`Erreur lors du chargement des données du tableau de bord: ${C.message}`)}})()},[e]),r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement du tableau de bord..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});const b={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:"easeOut"}}},w="text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",j=()=>{if(!e)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez vous connecter pour accéder au tableau de bord."})]});if(t==="student"){const S=s.filter(T=>T.user_id===e.id),C=n.filter(T=>S.some(P=>P.course_id===T.id)),E=C.filter(T=>{const P=S.find(I=>I.course_id===T.id);return P&&P.modules_progress.every(I=>I.is_completed)}).length,k=S.reduce((T,P)=>T+P.modules_progress.filter(I=>I.is_completed).length,0),O=n.reduce((T,P)=>T+P.modules.length,0),M=O>0?Math.round(k/O*100):0,R=C.filter(T=>{const P=S.find(I=>I.course_id===T.id);return P&&!P.modules_progress.every(I=>I.is_completed)});return o.jsxs(kt.div,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 w-full max-w-5xl mx-auto",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Mes Cours Actuels"}),o.jsx(Le,{children:"Continuez votre apprentissage."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:R.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"cours en cours."}),R.length>0&&o.jsx(sr,{to:`/courses/${R[0].id}`,className:"mt-4 block",children:o.jsx(me,{className:"w-full",children:"Reprendre le dernier cours"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Cours Terminés"}),o.jsx(Le,{children:"Votre succès jusqu'à présent."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:E}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["cours terminés sur ",C.length," inscrits."]}),E>0&&o.jsx(sr,{to:"/courses",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Voir tous les cours terminées"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Progression Globale"}),o.jsx(Le,{children:"Votre avancement général."})]}),o.jsxs(qe,{children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[M,"%"]}),o.jsx(Mv,{value:M,className:"w-full mt-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Modules terminés : ",k," / ",O]}),o.jsx(sr,{to:"/analytics?view=personal",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Voir mes statistiques"})})]})]})})]})}else if(t==="professeur"){const S=n.filter(k=>k.creator_id===e.id),C=S.filter(k=>k.modules.some(O=>O.sections.length>0)).length,E=new Set(s.filter(k=>S.some(O=>O.id===k.course_id)).map(k=>k.user_id)).size;return o.jsxs(kt.div,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 w-full max-w-5xl mx-auto",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Mes Cours Créés"}),o.jsx(Le,{children:"Gérez vos contenus d'apprentissage."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:S.length}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[C," sont publiés."]}),o.jsx(sr,{to:"/courses",className:"mt-4 block",children:o.jsx(me,{className:"w-full",children:"Gérer mes cours"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Impact sur les Élèves"}),o.jsx(Le,{children:"Nombre total d'élèves inscrits à vos cours."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:E}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"élèves uniques."}),o.jsx(sr,{to:"/analytics?view=overview",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Voir les analytiques"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Gestion des Classes"}),o.jsx(Le,{children:"Organisez vos élèves en classes."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:u.filter(k=>k.creator_ids.includes(e.id)).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"classes gérées."}),o.jsx(sr,{to:"/classes",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Gérer les classes"})})]})]})})]})}else if(t==="tutor"){const S=u.filter(O=>O.creator_ids.includes(e.id)).map(O=>O.id),C=l.filter(O=>O.role==="student"&&y.some(M=>M.student_id===O.id&&S.includes(M.class_id))),E=C.filter(O=>s.some(M=>M.user_id===O.id&&M.modules_progress.some(R=>R.sections_progress.some(T=>T.quiz_result&&!T.quiz_result.passed)))).length,k=C.length;return o.jsxs(kt.div,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 w-full max-w-5xl mx-auto",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Élèves Supervisés"}),o.jsx(Le,{children:"Nombre d'élèves sous votre tutelle."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:k}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"élèves au total."}),o.jsx(sr,{to:"/pedagogical-management",className:"mt-4 block",children:o.jsx(me,{className:"w-full",children:"Voir tous les élèves"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Élèves en Difficulté"}),o.jsx(Le,{children:"Élèves nécessitant une attention particulière."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-destructive",children:E}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"élèves avec des difficultés récentes."}),o.jsx(sr,{to:"/analytics?view=alerts",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Voir les alertes"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Performance des Classes"}),o.jsx(Le,{children:"Vue d'overview de la progression par classe."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:u.filter(O=>O.creator_ids.includes(e.id)).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"classes supervisées."}),o.jsx(sr,{to:"/analytics?view=class-performance",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Voir les performances"})})]})]})})]})}else if(t==="administrator"){const S=l.filter(k=>k.role==="director").length,C=l.filter(k=>k.role==="deputy_director").length,E=p.length;return o.jsxs(kt.div,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 w-full max-w-5xl mx-auto",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Utilisateurs Administrateurs"}),o.jsx(Le,{children:"Nombre total d'administrateurs sur la plateforme."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:l.filter(k=>k.role==="administrator").length}),o.jsx(sr,{to:"/admin-users",className:"mt-4 block",children:o.jsx(me,{className:"w-full",children:"Gérer les administrateurs"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Directeurs"}),o.jsx(Le,{children:"Nombre total de directeurs sur la plateforme."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:S}),o.jsx(sr,{to:"/admin-users",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Gérer les directeurs"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Directeurs Adjoints"}),o.jsx(Le,{children:"Nombre total de directeurs adjoints sur la plateforme."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:C}),o.jsx(sr,{to:"/admin-users",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Gérer les directeurs adjoints"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Établissements"}),o.jsx(Le,{children:"Nombre total d'établissements gérés."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:E}),o.jsx(sr,{to:"/establishments",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Gérer les établissements"})})]})]})})]})}else if(t==="director"||t==="deputy_director"){const S=l.filter(O=>O.role==="student"&&O.establishment_id===e.establishment_id).length,C=l.filter(O=>O.role==="professeur"&&O.establishment_id===e.establishment_id).length,E=u.filter(O=>O.establishment_id===e.establishment_id).length,k=d.filter(O=>O.establishment_id===e.establishment_id).length;return o.jsxs(kt.div,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 w-full max-w-5xl mx-auto",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Mon Rôle"}),o.jsx(Le,{children:"Vue d'overview de votre rôle."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:t==="director"?"Directeur":"Directeur Adjoint"}),o.jsx(sr,{to:"/profile",className:"mt-4 block",children:o.jsx(me,{className:"w-full",children:"Voir mon profil"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Personnel & Élèves"}),o.jsx(Le,{children:"Nombre de professeurs et d'élèves."})]}),o.jsxs(qe,{children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[C," Professeurs, ",S," Élèves"]}),o.jsx(sr,{to:"/admin-users",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Gérer les utilisateurs"})})]})]})}),o.jsx(kt.div,{variants:b,children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Structure Pédagogique"}),o.jsx(Le,{children:"Cursus et classes."})]}),o.jsxs(qe,{children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[k," Cursus, ",E," Classes"]}),o.jsx(sr,{to:"/curricula",className:"mt-4 block",children:o.jsx(me,{variant:"outline",className:"w-full",children:"Gérer les cursus et classes"})})]})]})}),o.jsx(kt.div,{variants:b,className:"lg:col-span-3",children:o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform bg-card/80 backdrop-blur-lg",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:w,children:"Analytiques"}),o.jsx(Le,{children:"Accédez aux statistiques détaillées."})]}),o.jsx(qe,{children:o.jsx(sr,{to:"/analytics?view=overview",className:"mt-4 block",children:o.jsx(me,{className:"w-full",children:"Voir les analytiques"})})})]})})]})}return null};return o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[" ",o.jsx("div",{className:"absolute -top-40 -left-40 w-96 h-96 bg-primary/10 rounded-full filter blur-3xl opacity-50 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-secondary/20 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full bg-background bg-[linear-gradient(to_right,#8080800a_1px,transparent_1px),linear-gradient(to_bottom,#8080800a_1px,transparent_1px)] bg-[size:14px_24px]"}),o.jsxs(kt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"w-full max-w-7xl mx-auto",children:[o.jsxs("h1",{className:"text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan text-center",children:["Tableau de bord ",e==null?void 0:e.first_name," ",e==null?void 0:e.last_name," (",t==="student"?"Élève":t==="professeur"?"Professeur":t==="tutor"?"Tuteur":t==="director"?"Directeur":t==="deputy_director"?"Directeur Adjoint":"Administrateur",")"]}),j()]})]})};var fxe="Label",LK=_.forwardRef((e,t)=>o.jsx(at.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));LK.displayName=fxe;var $K=LK;const hxe=dw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=_.forwardRef(({className:e,...t},r)=>o.jsx($K,{ref:r,className:Ne(hxe(),"font-sans",e),...t}));Pe.displayName=$K.displayName;const mxe=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),[n,i]=_.useState([]),[s,a]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState(""),[d,m]=_.useState("all");_.useEffect(()=>{(async()=>{c(await qi());const b=await Nl(e==null?void 0:e.id,t);i(b);const w=await pw();a(w)})()},[e,t]),_.useEffect(()=>{t==="administrator"?m("all"):e!=null&&e.establishment_id?m(e.establishment_id):m("all")},[t,e==null?void 0:e.establishment_id]);const x=_.useMemo(()=>{const v=u.toLowerCase();let b=n.filter(w=>w.title.toLowerCase().includes(v)||w.description.toLowerCase().includes(v));if(d!=="all"&&t==="administrator")return b;if(t!=="administrator"&&(e!=null&&e.establishment_id)&&(b=b.filter(w=>!0)),t==="student"){const w=s.filter(j=>j.user_id===(e==null?void 0:e.id));return b.map(j=>{const S=w.find(M=>M.course_id===j.id),C=S?S.modules_progress.filter(M=>M.is_completed).length:0,E=j.modules.length,k=E>0?Math.round(C/E*100):0,O=S?S.modules_progress.every(M=>M.is_completed):!1;return{...j,progress:k,isCompleted:O}})}else{if(t==="professeur")return b.map(w=>({...w,status:Math.random()>.5?"Publié":"Brouillon",students:Math.floor(Math.random()*200)}));if(t==="tutor")return b.map(w=>({courseTitle:w.title,studentName:"Élève fictif",progress:Math.floor(Math.random()*100),alerts:"Aucune alerte"}))}return[]},[n,t,u,e,s,d,l]);if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement des cours..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});const y=()=>t==="student"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Voici les cours disponibles. Cliquez sur un cours pour voir sa progression par modules."}),x.length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun cours trouvé pour votre recherche."}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map(v=>o.jsxs(Re,{className:Ne("flex flex-col shadow-lg transition-all duration-300 ease-in-out rounded-android-tile hover:scale-[1.02] transition-transform",v.isCompleted&&"border-green-500 ring-2 ring-green-500/50"),children:[v.image_url&&o.jsx("img",{src:v.image_url,alt:`Image pour le cours ${v.title}`,className:"w-full h-40 object-cover rounded-t-lg"}),o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center justify-between",children:[o.jsx("span",{children:v.title}),v.isCompleted?o.jsx(Ta,{className:"h-5 w-5 text-green-500"}):o.jsx(ia,{className:"h-5 w-5 text-primary"})]}),o.jsxs(Le,{className:"mb-2 text-sm",children:[v.description.substring(0,100),"..."]})]}),o.jsxs(qe,{className:"flex-grow flex flex-col justify-between",children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Progression: ",v.progress,"% (",v.modules.filter(b=>{var j;const w=s.find(S=>S.course_id===v.id&&S.user_id===(e==null?void 0:e.id));return(j=w==null?void 0:w.modules_progress.find(S=>S.module_index===v.modules.indexOf(b)))==null?void 0:j.is_completed}).length,"/",v.modules.length," modules)"]}),o.jsx(sr,{to:`/courses/${v.id}`,children:o.jsx(me,{className:"w-full",children:v.isCompleted?"Revoir le cours":"Commencer le cours"})})]})]},v.id))})]}):t==="professeur"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Gérez les cours que vous avez créés."}),x.length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun cours trouvé pour votre recherche."}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map(v=>o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:v.title}),o.jsx(Le,{children:v.description})]}),o.jsxs(qe,{children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Statut: ",v.status]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Élèves inscrits: ",v.students]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(sr,{to:`/create-course/${v.id}`,children:o.jsx(me,{variant:"outline",children:"Modifier"})}),o.jsx(sr,{to:`/analytics?view=course-performance&courseId=${v.id}`,children:o.jsx(me,{variant:"secondary",children:"Voir les statistiques"})})]})]})]},v.id))}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(sr,{to:"/create-course",children:o.jsx(me,{size:"lg",children:"Créer un nouveau cours"})})})]}):t==="tutor"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Suivez les cours de vos élèves."}),x.length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun cours trouvé pour votre recherche."}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map((v,b)=>o.jsxs(Re,{className:"rounded-android-tile hover:scale-[1.02] transition-transform",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:v.courseTitle}),o.jsxs(Le,{children:["Élève: ",v.studentName]})]}),o.jsxs(qe,{children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Progression: ",v.progress,"%"]}),o.jsx(me,{variant:"outline",className:"mt-4 w-full",children:"Voir le détail"})]})]},b))})]}):null;return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",o.jsx("h1",{className:"text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:t==="student"?"Mes Cours":t==="professeur"?"Gestion des Cours":"Cours des Élèves"}),(t==="administrator"||(e==null?void 0:e.establishment_id)&&["director","deputy_director","professeur","tutor"].includes(t||""))&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(Input,{placeholder:"Rechercher un cours...",className:"pl-10 rounded-android-tile",value:u,onChange:v=>f(v.target.value)})]}),o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"establishment-filter",children:"Filtrer par Établissement"}),o.jsxs(Jf,{value:d,onValueChange:v=>m(v),children:[o.jsx(Hu,{id:"establishment-filter",className:"rounded-android-tile",children:o.jsx(og,{placeholder:"Tous les établissements"})}),o.jsxs(Ku,{className:"backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:[o.jsx(si,{value:"all",children:"Tous les établissements"}),l.filter(v=>t==="administrator"||v.id===(e==null?void 0:e.establishment_id)).map(v=>o.jsx(si,{value:v.id,children:v.name},v.id))]})]})]})]}),y()]})},Yu=_.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-card-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Yu.displayName="Textarea";var Rv=e=>e.type==="checkbox",Su=e=>e instanceof Date,Pi=e=>e==null;const FK=e=>typeof e=="object";var mn=e=>!Pi(e)&&!Array.isArray(e)&&FK(e)&&!Su(e),qK=e=>mn(e)&&e.target?Rv(e.target)?e.target.checked:e.target.value:e,pxe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,BK=(e,t)=>e.has(pxe(t)),gxe=e=>{const t=e.constructor&&e.constructor.prototype;return mn(t)&&t.hasOwnProperty("isPrototypeOf")},OP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(OP&&(e instanceof Blob||n))&&(r||mn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!gxe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Lr(e[i]));else return e;return t}var Iw=e=>/^\w*$/.test(e),Fr=e=>e===void 0,Lw=e=>Array.isArray(e)?e.filter(Boolean):[],AP=e=>Lw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(e,t,r)=>{if(!t||!mn(e))return r;const n=(Iw(t)?[t]:AP(t)).reduce((i,s)=>Pi(i)?i:i[s],e);return Fr(n)||n===e?Fr(e[t])?r:e[t]:n},ws=e=>typeof e=="boolean",pr=(e,t,r)=>{let n=-1;const i=Iw(t)?[t]:AP(t),s=i.length,a=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==a){const u=e[l];c=mn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const $b={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},TP=Y.createContext(null);TP.displayName="HookFormContext";const Dv=()=>Y.useContext(TP),vxe=e=>{const{children:t,...r}=e;return Y.createElement(TP.Provider,{value:r},t)};var zK=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const a=s;return t._proxyFormState[a]!==Qs.all&&(t._proxyFormState[a]=!n||Qs.all),r&&(r[a]=!0),e[a]}});return i};const $w=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function yxe(e){const t=Dv(),{control:r=t.control,disabled:n,name:i,exact:s}=e||{},[a,l]=Y.useState(r._formState),c=Y.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $w(()=>r._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[i,n,s]),Y.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Y.useMemo(()=>zK(a,r,c.current,!1),[a,r])}var uo=e=>typeof e=="string",VK=(e,t,r,n,i)=>uo(e)?(n&&t.watch.add(e),Qe(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Qe(r,s))):(n&&(t.watchAll=!0),r),QO=e=>Pi(e)||!FK(e);function Xo(e,t,r=new WeakSet){if(QO(e)||QO(t))return e===t;if(Su(e)&&Su(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const a=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Su(a)&&Su(l)||mn(a)&&mn(l)||Array.isArray(a)&&Array.isArray(l)?!Xo(a,l,r):a!==l)return!1}}return!0}function xxe(e){const t=Dv(),{control:r=t.control,name:n,defaultValue:i,disabled:s,exact:a,compute:l}=e||{},c=Y.useRef(i),u=Y.useRef(l),f=Y.useRef(void 0);u.current=l;const d=Y.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=Y.useState(u.current?u.current(d):d);return $w(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:x=>{if(!s){const y=VK(n,r._names,x.values||r._formValues,!1,c.current);if(u.current){const v=u.current(y);Xo(v,f.current)||(p(v),f.current=v)}else p(y)}}}),[r,s,n,a]),Y.useEffect(()=>r._removeUnmounted()),m}function bxe(e){const t=Dv(),{name:r,disabled:n,control:i=t.control,shouldUnregister:s,defaultValue:a}=e,l=BK(i._names.array,r),c=Y.useMemo(()=>Qe(i._formValues,r,Qe(i._defaultValues,r,a)),[i,r,a]),u=xxe({control:i,name:r,defaultValue:c,exact:!0}),f=yxe({control:i,name:r,exact:!0}),d=Y.useRef(e),m=Y.useRef(i.register(r,{...e.rules,value:u,...ws(e.disabled)?{disabled:e.disabled}:{}}));d.current=e;const p=Y.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Qe(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Qe(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Qe(f.validatingFields,r)},error:{enumerable:!0,get:()=>Qe(f.errors,r)}}),[f,r]),x=Y.useCallback(w=>m.current.onChange({target:{value:qK(w),name:r},type:$b.CHANGE}),[r]),y=Y.useCallback(()=>m.current.onBlur({target:{value:Qe(i._formValues,r),name:r},type:$b.BLUR}),[r,i._formValues]),v=Y.useCallback(w=>{const j=Qe(i._fields,r);j&&w&&(j._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[i._fields,r]),b=Y.useMemo(()=>({name:r,value:u,...ws(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:x,onBlur:y,ref:v}),[r,n,f.disabled,x,y,v,u]);return Y.useEffect(()=>{const w=i._options.shouldUnregister||s;i.register(r,{...d.current.rules,...ws(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=(S,C)=>{const E=Qe(i._fields,S);E&&E._f&&(E._f.mount=C)};if(j(r,!0),w){const S=Lr(Qe(i._options.defaultValues,r));pr(i._defaultValues,r,S),Fr(Qe(i._formValues,r))&&pr(i._formValues,r,S)}return!l&&i.register(r),()=>{(l?w&&!i._state.action:w)?i.unregister(r):j(r,!1)}},[r,i,l,s]),Y.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Y.useMemo(()=>({field:b,formState:f,fieldState:p}),[b,f,p])}const wxe=e=>e.render(bxe(e));var UK=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},ns=e=>Array.isArray(e)?e:[e],X$=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Ai=e=>mn(e)&&!Object.keys(e).length,PP=e=>e.type==="file",ka=e=>typeof e=="function",Fb=e=>{if(!OP)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},WK=e=>e.type==="select-multiple",MP=e=>e.type==="radio",_xe=e=>MP(e)||Rv(e),JS=e=>Fb(e)&&e.isConnected;function Sxe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Fr(e)?n++:e[t[n++]];return e}function jxe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Fr(e[t]))return!1;return!0}function un(e,t){const r=Array.isArray(t)?t:Iw(t)?[t]:AP(t),n=r.length===1?e:Sxe(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(mn(n)&&Ai(n)||Array.isArray(n)&&jxe(n))&&un(e,r.slice(0,-1)),e}var HK=e=>{for(const t in e)if(ka(e[t]))return!0;return!1};function qb(e,t={}){const r=Array.isArray(e);if(mn(e)||r)for(const n in e)Array.isArray(e[n])||mn(e[n])&&!HK(e[n])?(t[n]=Array.isArray(e[n])?[]:{},qb(e[n],t[n])):Pi(e[n])||(t[n]=!0);return t}function KK(e,t,r){const n=Array.isArray(e);if(mn(e)||n)for(const i in e)Array.isArray(e[i])||mn(e[i])&&!HK(e[i])?Fr(t)||QO(r[i])?r[i]=Array.isArray(e[i])?qb(e[i],[]):{...qb(e[i])}:KK(e[i],Pi(t)?{}:t[i],r[i]):r[i]=!Xo(e[i],t[i]);return r}var sp=(e,t)=>KK(e,t,qb(t));const Z$={value:!1,isValid:!1},J$={value:!0,isValid:!0};var GK=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fr(e[0].attributes.value)?Fr(e[0].value)||e[0].value===""?J$:{value:e[0].value,isValid:!0}:J$:Z$}return Z$},YK=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Fr(e)?e:t?e===""?NaN:e&&+e:r&&uo(e)?new Date(e):n?n(e):e;const e5={isValid:!1,value:null};var QK=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,e5):e5;function t5(e){const t=e.ref;return PP(t)?t.files:MP(t)?QK(e.refs).value:WK(t)?[...t.selectedOptions].map(({value:r})=>r):Rv(t)?GK(e.refs).value:YK(Fr(t.value)?e.ref.value:t.value,e)}var Cxe=(e,t,r,n)=>{const i={};for(const s of e){const a=Qe(t,s);a&&pr(i,s,a._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Bb=e=>e instanceof RegExp,ap=e=>Fr(e)?e:Bb(e)?e.source:mn(e)?Bb(e.value)?e.value.source:e.value:e,wf=e=>({isOnSubmit:!e||e===Qs.onSubmit,isOnBlur:e===Qs.onBlur,isOnChange:e===Qs.onChange,isOnAll:e===Qs.all,isOnTouch:e===Qs.onTouched});const r5="AsyncFunction";var Nxe=e=>!!e&&!!e.validate&&!!(ka(e.validate)&&e.validate.constructor.name===r5||mn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===r5)),Exe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),XO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Of=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=Qe(e,i);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Of(l,t))break}else if(mn(l)&&Of(l,t))break}}};function n5(e,t,r){const n=Qe(e,r);if(n||Iw(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=Qe(t,s),l=Qe(e,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:r}}var kxe=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Ai(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(a=>t[a]===(!n||Qs.all))},Oxe=(e,t,r)=>!e||!t||e===t||ns(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Axe=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Txe=(e,t)=>!Lw(Qe(e,t)).length&&un(e,t),XK=(e,t,r)=>{const n=ns(Qe(e,r));return pr(n,"root",t[r]),pr(e,r,n),e},ub=e=>uo(e);function i5(e,t,r="validate"){if(ub(e)||Array.isArray(e)&&e.every(ub)||ws(e)&&!e)return{type:r,message:ub(e)?e:"",ref:t}}var ef=e=>mn(e)&&!Bb(e)?e:{value:e,message:""},ZO=async(e,t,r,n,i,s)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:f,min:d,max:m,pattern:p,validate:x,name:y,valueAsNumber:v,mount:b}=e._f,w=Qe(r,y);if(!b||t.has(y))return{};const j=l?l[0]:a,S=P=>{i&&j.reportValidity&&(j.setCustomValidity(ws(P)?"":P||""),j.reportValidity())},C={},E=MP(a),k=Rv(a),O=E||k,M=(v||PP(a))&&Fr(a.value)&&Fr(w)||Fb(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,R=UK.bind(null,y,n,C),T=(P,I,B,$=zo.maxLength,H=zo.minLength)=>{const V=P?I:B;C[y]={type:P?$:H,message:V,ref:a,...R(P?$:H,V)}};if(s?!Array.isArray(w)||!w.length:c&&(!O&&(M||Pi(w))||ws(w)&&!w||k&&!GK(l).isValid||E&&!QK(l).isValid)){const{value:P,message:I}=ub(c)?{value:!!c,message:c}:ef(c);if(P&&(C[y]={type:zo.required,message:I,ref:j,...R(zo.required,I)},!n))return S(I),C}if(!M&&(!Pi(d)||!Pi(m))){let P,I;const B=ef(m),$=ef(d);if(!Pi(w)&&!isNaN(w)){const H=a.valueAsNumber||w&&+w;Pi(B.value)||(P=H>B.value),Pi($.value)||(I=H<$.value)}else{const H=a.valueAsDate||new Date(w),V=F=>new Date(new Date().toDateString()+" "+F),U=a.type=="time",W=a.type=="week";uo(B.value)&&w&&(P=U?V(w)>V(B.value):W?w>B.value:H>new Date(B.value)),uo($.value)&&w&&(I=U?V(w)<V($.value):W?w<$.value:H<new Date($.value))}if((P||I)&&(T(!!P,B.message,$.message,zo.max,zo.min),!n))return S(C[y].message),C}if((u||f)&&!M&&(uo(w)||s&&Array.isArray(w))){const P=ef(u),I=ef(f),B=!Pi(P.value)&&w.length>+P.value,$=!Pi(I.value)&&w.length<+I.value;if((B||$)&&(T(B,P.message,I.message),!n))return S(C[y].message),C}if(p&&!M&&uo(w)){const{value:P,message:I}=ef(p);if(Bb(P)&&!w.match(P)&&(C[y]={type:zo.pattern,message:I,ref:a,...R(zo.pattern,I)},!n))return S(I),C}if(x){if(ka(x)){const P=await x(w,r),I=i5(P,j);if(I&&(C[y]={...I,...R(zo.validate,I.message)},!n))return S(I.message),C}else if(mn(x)){let P={};for(const I in x){if(!Ai(P)&&!n)break;const B=i5(await x[I](w,r),j,I);B&&(P={...B,...R(I,B.message)},S(B.message),n&&(C[y]=P))}if(!Ai(P)&&(C[y]={ref:j,...P},!n))return C}}return S(!0),C};const Pxe={mode:Qs.onSubmit,reValidateMode:Qs.onChange,shouldFocusError:!0};function Mxe(e={}){let t={...Pxe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ka(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=mn(t.defaultValues)||mn(t.values)?Lr(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Lr(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const m={array:X$(),state:X$()},p=t.criteriaMode===Qs.all,x=X=>ie=>{clearTimeout(u),u=setTimeout(X,ie)},y=async X=>{if(!t.disabled&&(f.isValid||d.isValid||X)){const ie=t.resolver?Ai((await k()).errors):await M(n,!0);ie!==r.isValid&&m.state.next({isValid:ie})}},v=(X,ie)=>{!t.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((X||Array.from(l.mount)).forEach(oe=>{oe&&(ie?pr(r.validatingFields,oe,ie):un(r.validatingFields,oe))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ai(r.validatingFields)}))},b=(X,ie=[],oe,je,le=!0,he=!0)=>{if(je&&oe&&!t.disabled){if(a.action=!0,he&&Array.isArray(Qe(n,X))){const we=oe(Qe(n,X),je.argA,je.argB);le&&pr(n,X,we)}if(he&&Array.isArray(Qe(r.errors,X))){const we=oe(Qe(r.errors,X),je.argA,je.argB);le&&pr(r.errors,X,we),Txe(r.errors,X)}if((f.touchedFields||d.touchedFields)&&he&&Array.isArray(Qe(r.touchedFields,X))){const we=oe(Qe(r.touchedFields,X),je.argA,je.argB);le&&pr(r.touchedFields,X,we)}(f.dirtyFields||d.dirtyFields)&&(r.dirtyFields=sp(i,s)),m.state.next({name:X,isDirty:T(X,ie),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pr(s,X,ie)},w=(X,ie)=>{pr(r.errors,X,ie),m.state.next({errors:r.errors})},j=X=>{r.errors=X,m.state.next({errors:r.errors,isValid:!1})},S=(X,ie,oe,je)=>{const le=Qe(n,X);if(le){const he=Qe(s,X,Fr(oe)?Qe(i,X):oe);Fr(he)||je&&je.defaultChecked||ie?pr(s,X,ie?he:t5(le._f)):B(X,he),a.mount&&y()}},C=(X,ie,oe,je,le)=>{let he=!1,we=!1;const ue={name:X};if(!t.disabled){if(!oe||je){(f.isDirty||d.isDirty)&&(we=r.isDirty,r.isDirty=ue.isDirty=T(),he=we!==ue.isDirty);const Oe=Xo(Qe(i,X),ie);we=!!Qe(r.dirtyFields,X),Oe?un(r.dirtyFields,X):pr(r.dirtyFields,X,!0),ue.dirtyFields=r.dirtyFields,he=he||(f.dirtyFields||d.dirtyFields)&&we!==!Oe}if(oe){const Oe=Qe(r.touchedFields,X);Oe||(pr(r.touchedFields,X,oe),ue.touchedFields=r.touchedFields,he=he||(f.touchedFields||d.touchedFields)&&Oe!==oe)}he&&le&&m.state.next(ue)}return he?ue:{}},E=(X,ie,oe,je)=>{const le=Qe(r.errors,X),he=(f.isValid||d.isValid)&&ws(ie)&&r.isValid!==ie;if(t.delayError&&oe?(c=x(()=>w(X,oe)),c(t.delayError)):(clearTimeout(u),c=null,oe?pr(r.errors,X,oe):un(r.errors,X)),(oe?!Xo(le,oe):le)||!Ai(je)||he){const we={...je,...he&&ws(ie)?{isValid:ie}:{},errors:r.errors,name:X};r={...r,...we},m.state.next(we)}},k=async X=>{v(X,!0);const ie=await t.resolver(s,t.context,Cxe(X||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(X),ie},O=async X=>{const{errors:ie}=await k(X);if(X)for(const oe of X){const je=Qe(ie,oe);je?pr(r.errors,oe,je):un(r.errors,oe)}else r.errors=ie;return ie},M=async(X,ie,oe={valid:!0})=>{for(const je in X){const le=X[je];if(le){const{_f:he,...we}=le;if(he){const ue=l.array.has(he.name),Oe=le._f&&Nxe(le._f);Oe&&f.validatingFields&&v([je],!0);const gt=await ZO(le,l.disabled,s,p,t.shouldUseNativeValidation&&!ie,ue);if(Oe&&f.validatingFields&&v([je]),gt[he.name]&&(oe.valid=!1,ie))break;!ie&&(Qe(gt,he.name)?ue?XK(r.errors,gt,he.name):pr(r.errors,he.name,gt[he.name]):un(r.errors,he.name))}!Ai(we)&&await M(we,ie,oe)}}return oe.valid},R=()=>{for(const X of l.unMount){const ie=Qe(n,X);ie&&(ie._f.refs?ie._f.refs.every(oe=>!JS(oe)):!JS(ie._f.ref))&&G(X)}l.unMount=new Set},T=(X,ie)=>!t.disabled&&(X&&ie&&pr(s,X,ie),!Xo(F(),i)),P=(X,ie,oe)=>VK(X,l,{...a.mount?s:Fr(ie)?i:uo(X)?{[X]:ie}:ie},oe,ie),I=X=>Lw(Qe(a.mount?s:i,X,t.shouldUnregister?Qe(i,X,[]):[])),B=(X,ie,oe={})=>{const je=Qe(n,X);let le=ie;if(je){const he=je._f;he&&(!he.disabled&&pr(s,X,YK(ie,he)),le=Fb(he.ref)&&Pi(ie)?"":ie,WK(he.ref)?[...he.ref.options].forEach(we=>we.selected=le.includes(we.value)):he.refs?Rv(he.ref)?he.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(le)?we.checked=!!le.find(ue=>ue===we.value):we.checked=le===we.value||!!le)}):he.refs.forEach(we=>we.checked=we.value===le):PP(he.ref)?he.ref.value="":(he.ref.value=le,he.ref.type||m.state.next({name:X,values:Lr(s)})))}(oe.shouldDirty||oe.shouldTouch)&&C(X,le,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&W(X)},$=(X,ie,oe)=>{for(const je in ie){if(!ie.hasOwnProperty(je))return;const le=ie[je],he=X+"."+je,we=Qe(n,he);(l.array.has(X)||mn(le)||we&&!we._f)&&!Su(le)?$(he,le,oe):B(he,le,oe)}},H=(X,ie,oe={})=>{const je=Qe(n,X),le=l.array.has(X),he=Lr(ie);pr(s,X,he),le?(m.array.next({name:X,values:Lr(s)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&oe.shouldDirty&&m.state.next({name:X,dirtyFields:sp(i,s),isDirty:T(X,he)})):je&&!je._f&&!Pi(he)?$(X,he,oe):B(X,he,oe),XO(X,l)&&m.state.next({...r,name:X}),m.state.next({name:a.mount?X:void 0,values:Lr(s)})},V=async X=>{a.mount=!0;const ie=X.target;let oe=ie.name,je=!0;const le=Qe(n,oe),he=Oe=>{je=Number.isNaN(Oe)||Su(Oe)&&isNaN(Oe.getTime())||Xo(Oe,Qe(s,oe,Oe))},we=wf(t.mode),ue=wf(t.reValidateMode);if(le){let Oe,gt;const Se=ie.type?t5(le._f):qK(X),Ge=X.type===$b.BLUR||X.type===$b.FOCUS_OUT,Nt=!Exe(le._f)&&!t.resolver&&!Qe(r.errors,oe)&&!le._f.deps||Axe(Ge,Qe(r.touchedFields,oe),r.isSubmitted,ue,we),vt=XO(oe,l,Ge);pr(s,oe,Se),Ge?(!ie||!ie.readOnly)&&(le._f.onBlur&&le._f.onBlur(X),c&&c(0)):le._f.onChange&&le._f.onChange(X);const mr=C(oe,Se,Ge),tn=!Ai(mr)||vt;if(!Ge&&m.state.next({name:oe,type:X.type,values:Lr(s)}),Nt)return(f.isValid||d.isValid)&&(t.mode==="onBlur"?Ge&&y():Ge||y()),tn&&m.state.next({name:oe,...vt?{}:mr});if(!Ge&&vt&&m.state.next({...r}),t.resolver){const{errors:jr}=await k([oe]);if(he(Se),je){const Ot=n5(r.errors,n,oe),Ze=n5(jr,n,Ot.name||oe);Oe=Ze.error,oe=Ze.name,gt=Ai(jr)}}else v([oe],!0),Oe=(await ZO(le,l.disabled,s,p,t.shouldUseNativeValidation))[oe],v([oe]),he(Se),je&&(Oe?gt=!1:(f.isValid||d.isValid)&&(gt=await M(n,!0)));je&&(le._f.deps&&W(le._f.deps),E(oe,gt,Oe,mr))}},U=(X,ie)=>{if(Qe(r.errors,ie)&&X.focus)return X.focus(),1},W=async(X,ie={})=>{let oe,je;const le=ns(X);if(t.resolver){const he=await O(Fr(X)?X:le);oe=Ai(he),je=X?!le.some(we=>Qe(he,we)):oe}else X?(je=(await Promise.all(le.map(async he=>{const we=Qe(n,he);return await M(we&&we._f?{[he]:we}:we)}))).every(Boolean),!(!je&&!r.isValid)&&y()):je=oe=await M(n);return m.state.next({...!uo(X)||(f.isValid||d.isValid)&&oe!==r.isValid?{}:{name:X},...t.resolver||!X?{isValid:oe}:{},errors:r.errors}),ie.shouldFocus&&!je&&Of(n,U,X?le:l.mount),je},F=X=>{const ie={...a.mount?s:i};return Fr(X)?ie:uo(X)?Qe(ie,X):X.map(oe=>Qe(ie,oe))},L=(X,ie)=>({invalid:!!Qe((ie||r).errors,X),isDirty:!!Qe((ie||r).dirtyFields,X),error:Qe((ie||r).errors,X),isValidating:!!Qe(r.validatingFields,X),isTouched:!!Qe((ie||r).touchedFields,X)}),q=X=>{X&&ns(X).forEach(ie=>un(r.errors,ie)),m.state.next({errors:X?r.errors:{}})},K=(X,ie,oe)=>{const je=(Qe(n,X,{_f:{}})._f||{}).ref,le=Qe(r.errors,X)||{},{ref:he,message:we,type:ue,...Oe}=le;pr(r.errors,X,{...Oe,...ie,ref:je}),m.state.next({name:X,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&je&&je.focus&&je.focus()},ee=(X,ie)=>ka(X)?m.state.subscribe({next:oe=>"values"in oe&&X(P(void 0,ie),oe)}):P(X,ie,!0),te=X=>m.state.subscribe({next:ie=>{Oxe(X.name,ie.name,X.exact)&&kxe(ie,X.formState||f,De,X.reRenderRoot)&&X.callback({values:{...s},...r,...ie,defaultValues:i})}}).unsubscribe,Q=X=>(a.mount=!0,d={...d,...X.formState},te({...X,formState:d})),G=(X,ie={})=>{for(const oe of X?ns(X):l.mount)l.mount.delete(oe),l.array.delete(oe),ie.keepValue||(un(n,oe),un(s,oe)),!ie.keepError&&un(r.errors,oe),!ie.keepDirty&&un(r.dirtyFields,oe),!ie.keepTouched&&un(r.touchedFields,oe),!ie.keepIsValidating&&un(r.validatingFields,oe),!t.shouldUnregister&&!ie.keepDefaultValue&&un(i,oe);m.state.next({values:Lr(s)}),m.state.next({...r,...ie.keepDirty?{isDirty:T()}:{}}),!ie.keepIsValid&&y()},ne=({disabled:X,name:ie})=>{(ws(X)&&a.mount||X||l.disabled.has(ie))&&(X?l.disabled.add(ie):l.disabled.delete(ie))},Z=(X,ie={})=>{let oe=Qe(n,X);const je=ws(ie.disabled)||ws(t.disabled);return pr(n,X,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:X}},name:X,mount:!0,...ie}}),l.mount.add(X),oe?ne({disabled:ws(ie.disabled)?ie.disabled:t.disabled,name:X}):S(X,!0,ie.value),{...je?{disabled:ie.disabled||t.disabled}:{},...t.progressive?{required:!!ie.required,min:ap(ie.min),max:ap(ie.max),minLength:ap(ie.minLength),maxLength:ap(ie.maxLength),pattern:ap(ie.pattern)}:{},name:X,onChange:V,onBlur:V,ref:le=>{if(le){Z(X,ie),oe=Qe(n,X);const he=Fr(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,we=_xe(he),ue=oe._f.refs||[];if(we?ue.find(Oe=>Oe===he):he===oe._f.ref)return;pr(n,X,{_f:{...oe._f,...we?{refs:[...ue.filter(JS),he,...Array.isArray(Qe(i,X))?[{}]:[]],ref:{type:he.type,name:X}}:{ref:he}}}),S(X,!1,void 0,he)}else oe=Qe(n,X,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||ie.shouldUnregister)&&!(BK(l.array,X)&&a.action)&&l.unMount.add(X)}}},re=()=>t.shouldFocusError&&Of(n,U,l.mount),fe=X=>{ws(X)&&(m.state.next({disabled:X}),Of(n,(ie,oe)=>{const je=Qe(n,oe);je&&(ie.disabled=je._f.disabled||X,Array.isArray(je._f.refs)&&je._f.refs.forEach(le=>{le.disabled=je._f.disabled||X}))},0,!1))},ce=(X,ie)=>async oe=>{let je;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let le=Lr(s);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:he,values:we}=await k();r.errors=he,le=Lr(we)}else await M(n);if(l.disabled.size)for(const he of l.disabled)un(le,he);if(un(r.errors,"root"),Ai(r.errors)){m.state.next({errors:{}});try{await X(le,oe)}catch(he){je=he}}else ie&&await ie({...r.errors},oe),re(),setTimeout(re);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ai(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},xe=(X,ie={})=>{Qe(n,X)&&(Fr(ie.defaultValue)?H(X,Lr(Qe(i,X))):(H(X,ie.defaultValue),pr(i,X,Lr(ie.defaultValue))),ie.keepTouched||un(r.touchedFields,X),ie.keepDirty||(un(r.dirtyFields,X),r.isDirty=ie.defaultValue?T(X,Lr(Qe(i,X))):T()),ie.keepError||(un(r.errors,X),f.isValid&&y()),m.state.next({...r}))},be=(X,ie={})=>{const oe=X?Lr(X):i,je=Lr(oe),le=Ai(X),he=le?i:je;if(ie.keepDefaultValues||(i=oe),!ie.keepValues){if(ie.keepDirtyValues){const we=new Set([...l.mount,...Object.keys(sp(i,s))]);for(const ue of Array.from(we))Qe(r.dirtyFields,ue)?pr(he,ue,Qe(s,ue)):H(ue,Qe(he,ue))}else{if(OP&&Fr(X))for(const we of l.mount){const ue=Qe(n,we);if(ue&&ue._f){const Oe=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(Fb(Oe)){const gt=Oe.closest("form");if(gt){gt.reset();break}}}}if(ie.keepFieldsRef)for(const we of l.mount)H(we,Qe(he,we));else n={}}s=t.shouldUnregister?ie.keepDefaultValues?Lr(i):{}:Lr(he),m.array.next({values:{...he}}),m.state.next({values:{...he}})}l={mount:ie.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues,a.watch=!!t.shouldUnregister,m.state.next({submitCount:ie.keepSubmitCount?r.submitCount:0,isDirty:le?!1:ie.keepDirty?r.isDirty:!!(ie.keepDefaultValues&&!Xo(X,i)),isSubmitted:ie.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:ie.keepDirtyValues?ie.keepDefaultValues&&s?sp(i,s):r.dirtyFields:ie.keepDefaultValues&&X?sp(i,X):ie.keepDirty?r.dirtyFields:{},touchedFields:ie.keepTouched?r.touchedFields:{},errors:ie.keepErrors?r.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ke=(X,ie)=>be(ka(X)?X(s):X,ie),Te=(X,ie={})=>{const oe=Qe(n,X),je=oe&&oe._f;if(je){const le=je.refs?je.refs[0]:je.ref;le.focus&&(le.focus(),ie.shouldSelect&&ka(le.select)&&le.select())}},De=X=>{r={...r,...X}},ge={control:{register:Z,unregister:G,getFieldState:L,handleSubmit:ce,setError:K,_subscribe:te,_runSchema:k,_focusError:re,_getWatch:P,_getDirty:T,_setValid:y,_setFieldArray:b,_setDisabledField:ne,_setErrors:j,_getFieldArray:I,_reset:be,_resetDefaultValues:()=>ka(t.defaultValues)&&t.defaultValues().then(X=>{ke(X,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:fe,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(X){a=X},get _defaultValues(){return i},get _names(){return l},set _names(X){l=X},get _formState(){return r},get _options(){return t},set _options(X){t={...t,...X}}},subscribe:Q,trigger:W,register:Z,handleSubmit:ce,watch:ee,setValue:H,getValues:F,reset:ke,resetField:xe,clearErrors:q,unregister:G,setError:K,setFocus:Te,getFieldState:L};return{...ge,formControl:ge}}var Jl=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},ej=(e,t,r={})=>r.shouldFocus||Fr(r.shouldFocus)?r.focusName||`${e}.${Fr(r.focusIndex)?t:r.focusIndex}.`:"",tj=(e,t)=>[...e,...ns(t)],rj=e=>Array.isArray(e)?e.map(()=>{}):void 0;function nj(e,t,r){return[...e.slice(0,t),...ns(r),...e.slice(t)]}var ij=(e,t,r)=>Array.isArray(e)?(Fr(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],sj=(e,t)=>[...ns(t),...ns(e)];function Rxe(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return Lw(n).length?n:[]}var aj=(e,t)=>Fr(t)?[]:Rxe(e,ns(t).sort((r,n)=>r-n)),oj=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},s5=(e,t,r)=>(e[t]=r,e);function ZK(e){const t=Dv(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:s,rules:a}=e,[l,c]=Y.useState(r._getFieldArray(n)),u=Y.useRef(r._getFieldArray(n).map(Jl)),f=Y.useRef(l),d=Y.useRef(!1);f.current=l,r._names.array.add(n),Y.useMemo(()=>a&&r.register(n,a),[r,a,n]),$w(()=>r._subjects.array.subscribe({next:({values:C,name:E})=>{if(E===n||!E){const k=Qe(C,n);Array.isArray(k)&&(c(k),u.current=k.map(Jl))}}}).unsubscribe,[r,n]);const m=Y.useCallback(C=>{d.current=!0,r._setFieldArray(n,C)},[r,n]),p=(C,E)=>{const k=ns(Lr(C)),O=tj(r._getFieldArray(n),k);r._names.focus=ej(n,O.length-1,E),u.current=tj(u.current,k.map(Jl)),m(O),c(O),r._setFieldArray(n,O,tj,{argA:rj(C)})},x=(C,E)=>{const k=ns(Lr(C)),O=sj(r._getFieldArray(n),k);r._names.focus=ej(n,0,E),u.current=sj(u.current,k.map(Jl)),m(O),c(O),r._setFieldArray(n,O,sj,{argA:rj(C)})},y=C=>{const E=aj(r._getFieldArray(n),C);u.current=aj(u.current,C),m(E),c(E),!Array.isArray(Qe(r._fields,n))&&pr(r._fields,n,void 0),r._setFieldArray(n,E,aj,{argA:C})},v=(C,E,k)=>{const O=ns(Lr(E)),M=nj(r._getFieldArray(n),C,O);r._names.focus=ej(n,C,k),u.current=nj(u.current,C,O.map(Jl)),m(M),c(M),r._setFieldArray(n,M,nj,{argA:C,argB:rj(E)})},b=(C,E)=>{const k=r._getFieldArray(n);oj(k,C,E),oj(u.current,C,E),m(k),c(k),r._setFieldArray(n,k,oj,{argA:C,argB:E},!1)},w=(C,E)=>{const k=r._getFieldArray(n);ij(k,C,E),ij(u.current,C,E),m(k),c(k),r._setFieldArray(n,k,ij,{argA:C,argB:E},!1)},j=(C,E)=>{const k=Lr(E),O=s5(r._getFieldArray(n),C,k);u.current=[...O].map((M,R)=>!M||R===C?Jl():u.current[R]),m(O),c([...O]),r._setFieldArray(n,O,s5,{argA:C,argB:k},!0,!1)},S=C=>{const E=ns(Lr(C));u.current=E.map(Jl),m([...E]),c([...E]),r._setFieldArray(n,[...E],k=>k,{},!0,!1)};return Y.useEffect(()=>{if(r._state.action=!1,XO(n,r._names)&&r._subjects.state.next({...r._formState}),d.current&&(!wf(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!wf(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(C=>{const E=Qe(C.errors,n),k=Qe(r._formState.errors,n);(k?!E&&k.type||E&&(k.type!==E.type||k.message!==E.message):E&&E.type)&&(E?pr(r._formState.errors,n,E):un(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const C=Qe(r._fields,n);C&&C._f&&!(wf(r._options.reValidateMode).isOnSubmit&&wf(r._options.mode).isOnSubmit)&&ZO(C,r._names.disabled,r._formValues,r._options.criteriaMode===Qs.all,r._options.shouldUseNativeValidation,!0).then(E=>!Ai(E)&&r._subjects.state.next({errors:XK(r._formState.errors,E,n)}))}r._subjects.state.next({name:n,values:Lr(r._formValues)}),r._names.focus&&Of(r._fields,(C,E)=>{if(r._names.focus&&E.startsWith(r._names.focus)&&C.focus)return C.focus(),1}),r._names.focus="",r._setValid(),d.current=!1},[l,n,r]),Y.useEffect(()=>(!Qe(r._formValues,n)&&r._setFieldArray(n),()=>{const C=(E,k)=>{const O=Qe(r._fields,E);O&&O._f&&(O._f.mount=k)};r._options.shouldUnregister||s?r.unregister(n):C(n,!1)}),[n,r,i,s]),{swap:Y.useCallback(b,[m,n,r]),move:Y.useCallback(w,[m,n,r]),prepend:Y.useCallback(x,[m,n,r]),append:Y.useCallback(p,[m,n,r]),remove:Y.useCallback(y,[m,n,r]),insert:Y.useCallback(v,[m,n,r]),update:Y.useCallback(j,[m,n,r]),replace:Y.useCallback(S,[m,n,r]),fields:Y.useMemo(()=>l.map((C,E)=>({...C,[i]:u.current[E]||Jl()})),[l,i])}}function Dxe(e={}){const t=Y.useRef(void 0),r=Y.useRef(void 0),[n,i]=Y.useState({isDirty:!1,isValidating:!1,isLoading:ka(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ka(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ka(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...l}=Mxe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,$w(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),Y.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Y.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Y.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Y.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Y.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Y.useEffect(()=>{e.values&&!Xo(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,i(a=>({...a}))):s._resetDefaultValues()},[s,e.values]),Y.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=zK(n,s),t.current}const a5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Qe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},JK=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?a5(n.ref,r,e):n.refs&&n.refs.forEach(i=>a5(i,r,e))}},Ixe=(e,t)=>{t.shouldUseNativeValidation&&JK(e,t);const r={};for(const n in e){const i=Qe(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(Lxe(t.names||Object.keys(e),n)){const a=Object.assign({},Qe(r,n));pr(a,"root",s),pr(r,n,a)}else pr(r,n,s)}return r},Lxe=(e,t)=>e.some(r=>r.startsWith(t+"."));var $xe=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(d){return e.push(d)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=UK(a,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},Fxe=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve((function(a,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&JK({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(a){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(a))return{values:{},errors:Ixe($xe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},dr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(dr||(dr={}));var o5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(o5||(o5={}));const dt=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ac=e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return Number.isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},He=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class pl extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof pl))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}pl.create=e=>new pl(e);const JO=(e,t)=>{let r;switch(e.code){case He.invalid_type:e.received===dt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case He.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dr.jsonStringifyReplacer)}`;break;case He.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(e.keys,", ")}`;break;case He.invalid_union:r="Invalid input";break;case He.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(e.options)}`;break;case He.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(e.options)}, received '${e.received}'`;break;case He.invalid_arguments:r="Invalid function arguments";break;case He.invalid_return_type:r="Invalid function return type";break;case He.invalid_date:r="Invalid date";break;case He.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case He.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case He.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case He.custom:r="Invalid input";break;case He.invalid_intersection_types:r="Intersection results could not be merged";break;case He.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case He.not_finite:r="Number must be finite";break;default:r=t.defaultError,dr.assertNever(e)}return{message:r}};let qxe=JO;function Bxe(){return qxe}const zxe=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...i,path:s,message:l}};function tt(e,t){const r=Bxe(),n=zxe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===JO?void 0:JO].filter(i=>!!i)});e.common.issues.push(n)}class Ps{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return It;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return Ps.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return It;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:t.value,value:n}}}const It=Object.freeze({status:"aborted"}),Np=e=>({status:"dirty",value:e}),aa=e=>({status:"valid",value:e}),l5=e=>e.status==="aborted",c5=e=>e.status==="dirty",nh=e=>e.status==="valid",zb=e=>typeof Promise<"u"&&e instanceof Promise;var pt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(pt||(pt={}));class Mc{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const u5=(e,t)=>{if(nh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new pl(e.common.issues);return this._error=r,this._error}}};function Kt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,l)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class lr{get description(){return this._def.description}_getType(t){return ac(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ac(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ps,ctx:{common:t.parent.common,data:t.data,parsedType:ac(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(zb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ac(t)},i=this._parseSync({data:t,path:n.path,parent:n});return u5(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ac(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return nh(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>nh(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ac(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(zb(i)?i:Promise.resolve(i));return u5(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=t(i),l=()=>s.addIssue({code:He.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new ah({schema:this,typeName:Lt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Cc.create(this,this._def)}nullable(){return oh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yo.create(this)}promise(){return Hb.create(this,this._def)}or(t){return Ub.create([this,t],this._def)}and(t){return Wb.create(this,t,this._def)}transform(t){return new ah({...Kt(this._def),schema:this,typeName:Lt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new nA({...Kt(this._def),innerType:this,defaultValue:r,typeName:Lt.ZodDefault})}brand(){return new dbe({typeName:Lt.ZodBranded,type:this,...Kt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new iA({...Kt(this._def),innerType:this,catchValue:r,typeName:Lt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return RP.create(this,t)}readonly(){return sA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Vxe=/^c[^\s-]{8,}$/i,Uxe=/^[0-9a-z]+$/,Wxe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Hxe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kxe=/^[a-z0-9_-]{21}$/i,Gxe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Yxe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qxe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Xxe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lj;const Zxe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Jxe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ebe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tbe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rbe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nbe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ibe=new RegExp(`^${eG}$`);function tG(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function sbe(e){return new RegExp(`^${tG(e)}$`)}function abe(e){let t=`${eG}T${tG(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function obe(e,t){return!!((t==="v4"||!t)&&Zxe.test(e)||(t==="v6"||!t)&&ebe.test(e))}function lbe(e,t){if(!Gxe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function cbe(e,t){return!!((t==="v4"||!t)&&Jxe.test(e)||(t==="v6"||!t)&&tbe.test(e))}class wc extends lr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){const s=this._getOrReturnCtx(t);return tt(s,{code:He.invalid_type,expected:dt.string,received:s.parsedType}),It}const n=new Ps;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:He.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:He.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,l=t.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(t,i),a?tt(i,{code:He.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&tt(i,{code:He.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Qxe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"email",code:He.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")lj||(lj=new RegExp(Xxe,"u")),lj.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"emoji",code:He.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Hxe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"uuid",code:He.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Kxe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"nanoid",code:He.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Vxe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cuid",code:He.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Uxe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cuid2",code:He.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Wxe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"ulid",code:He.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),tt(i,{validation:"url",code:He.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"regex",code:He.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),tt(i,{code:He.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),tt(i,{code:He.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),tt(i,{code:He.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?abe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:He.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?ibe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:He.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?sbe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:He.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Yxe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"duration",code:He.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?obe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"ip",code:He.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?lbe(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"jwt",code:He.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?cbe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cidr",code:He.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?rbe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"base64",code:He.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?nbe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"base64url",code:He.invalid_string,message:s.message}),n.dirty()):dr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:He.invalid_string,...pt.errToObj(n)})}_addCheck(t){return new wc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...pt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...pt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...pt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...pt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...pt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...pt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...pt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...pt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...pt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...pt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...pt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...pt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...pt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...pt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...pt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...pt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...pt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...pt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...pt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...pt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...pt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...pt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...pt.errToObj(r)})}nonempty(t){return this.min(1,pt.errToObj(t))}trim(){return new wc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wc.create=e=>new wc({checks:[],typeName:Lt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Kt(e)});function ube(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return s%a/10**i}class ih extends lr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){const s=this._getOrReturnCtx(t);return tt(s,{code:He.invalid_type,expected:dt.number,received:s.parsedType}),It}let n;const i=new Ps;for(const s of this._def.checks)s.kind==="int"?dr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),tt(n,{code:He.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:He.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:He.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ube(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),tt(n,{code:He.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),tt(n,{code:He.not_finite,message:s.message}),i.dirty()):dr.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,pt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pt.toString(r))}setLimit(t,r,n,i){return new ih({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:pt.toString(i)}]})}_addCheck(t){return new ih({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:pt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:pt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ih.create=e=>new ih({checks:[],typeName:Lt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Kt(e)});class gg extends lr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==dt.bigint)return this._getInvalidInput(t);let n;const i=new Ps;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:He.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:He.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:He.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):dr.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return tt(r,{code:He.invalid_type,expected:dt.bigint,received:r.parsedType}),It}gte(t,r){return this.setLimit("min",t,!0,pt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pt.toString(r))}setLimit(t,r,n,i){return new gg({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:pt.toString(i)}]})}_addCheck(t){return new gg({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gg.create=e=>new gg({checks:[],typeName:Lt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Kt(e)});class eA extends lr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){const n=this._getOrReturnCtx(t);return tt(n,{code:He.invalid_type,expected:dt.boolean,received:n.parsedType}),It}return aa(t.data)}}eA.create=e=>new eA({typeName:Lt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Kt(e)});class Vb extends lr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){const s=this._getOrReturnCtx(t);return tt(s,{code:He.invalid_type,expected:dt.date,received:s.parsedType}),It}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return tt(s,{code:He.invalid_date}),It}const n=new Ps;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:He.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:He.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):dr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vb({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:pt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:pt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Vb.create=e=>new Vb({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Lt.ZodDate,...Kt(e)});class d5 extends lr{_parse(t){if(this._getType(t)!==dt.symbol){const n=this._getOrReturnCtx(t);return tt(n,{code:He.invalid_type,expected:dt.symbol,received:n.parsedType}),It}return aa(t.data)}}d5.create=e=>new d5({typeName:Lt.ZodSymbol,...Kt(e)});class f5 extends lr{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return tt(n,{code:He.invalid_type,expected:dt.undefined,received:n.parsedType}),It}return aa(t.data)}}f5.create=e=>new f5({typeName:Lt.ZodUndefined,...Kt(e)});class h5 extends lr{_parse(t){if(this._getType(t)!==dt.null){const n=this._getOrReturnCtx(t);return tt(n,{code:He.invalid_type,expected:dt.null,received:n.parsedType}),It}return aa(t.data)}}h5.create=e=>new h5({typeName:Lt.ZodNull,...Kt(e)});class m5 extends lr{constructor(){super(...arguments),this._any=!0}_parse(t){return aa(t.data)}}m5.create=e=>new m5({typeName:Lt.ZodAny,...Kt(e)});class p5 extends lr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return aa(t.data)}}p5.create=e=>new p5({typeName:Lt.ZodUnknown,...Kt(e)});class Rc extends lr{_parse(t){const r=this._getOrReturnCtx(t);return tt(r,{code:He.invalid_type,expected:dt.never,received:r.parsedType}),It}}Rc.create=e=>new Rc({typeName:Lt.ZodNever,...Kt(e)});class g5 extends lr{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return tt(n,{code:He.invalid_type,expected:dt.void,received:n.parsedType}),It}return aa(t.data)}}g5.create=e=>new g5({typeName:Lt.ZodVoid,...Kt(e)});class yo extends lr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==dt.array)return tt(r,{code:He.invalid_type,expected:dt.array,received:r.parsedType}),It;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(a||l)&&(tt(r,{code:a?He.too_big:He.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(tt(r,{code:He.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(tt(r,{code:He.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>i.type._parseAsync(new Mc(r,a,r.path,l)))).then(a=>Ps.mergeArray(n,a));const s=[...r.data].map((a,l)=>i.type._parseSync(new Mc(r,a,r.path,l)));return Ps.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new yo({...this._def,minLength:{value:t,message:pt.toString(r)}})}max(t,r){return new yo({...this._def,maxLength:{value:t,message:pt.toString(r)}})}length(t,r){return new yo({...this._def,exactLength:{value:t,message:pt.toString(r)}})}nonempty(t){return this.min(1,t)}}yo.create=(e,t)=>new yo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Lt.ZodArray,...Kt(t)});function df(e){if(e instanceof xn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Cc.create(df(n))}return new xn({...e._def,shape:()=>t})}else return e instanceof yo?new yo({...e._def,type:df(e.element)}):e instanceof Cc?Cc.create(df(e.unwrap())):e instanceof oh?oh.create(df(e.unwrap())):e instanceof Qu?Qu.create(e.items.map(t=>df(t))):e}class xn extends lr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=dr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==dt.object){const u=this._getOrReturnCtx(t);return tt(u,{code:He.invalid_type,expected:dt.object,received:u.parsedType}),It}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Rc&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const f=s[u],d=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Mc(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Rc){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(tt(i,{code:He.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Mc(i,d,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,m=await f.value;u.push({key:d,value:m,alwaysSet:f.alwaysSet})}return u}).then(u=>Ps.mergeObjectSync(n,u)):Ps.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return pt.errToObj,new xn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:pt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(t){return new xn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new xn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Lt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new xn({...this._def,catchall:t})}pick(t){const r={};for(const n of dr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new xn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of dr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new xn({...this._def,shape:()=>r})}deepPartial(){return df(this)}partial(t){const r={};for(const n of dr.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new xn({...this._def,shape:()=>r})}required(t){const r={};for(const n of dr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Cc;)s=s._def.innerType;r[n]=s}return new xn({...this._def,shape:()=>r})}keyof(){return rG(dr.objectKeys(this.shape))}}xn.create=(e,t)=>new xn({shape:()=>e,unknownKeys:"strip",catchall:Rc.create(),typeName:Lt.ZodObject,...Kt(t)});xn.strictCreate=(e,t)=>new xn({shape:()=>e,unknownKeys:"strict",catchall:Rc.create(),typeName:Lt.ZodObject,...Kt(t)});xn.lazycreate=(e,t)=>new xn({shape:e,unknownKeys:"strip",catchall:Rc.create(),typeName:Lt.ZodObject,...Kt(t)});class Ub extends lr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new pl(l.ctx.common.issues));return tt(r,{code:He.invalid_union,unionErrors:a}),It}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(c=>new pl(c));return tt(r,{code:He.invalid_union,unionErrors:l}),It}}get options(){return this._def.options}}Ub.create=(e,t)=>new Ub({options:e,typeName:Lt.ZodUnion,...Kt(t)});function tA(e,t){const r=ac(e),n=ac(t);if(e===t)return{valid:!0,data:e};if(r===dt.object&&n===dt.object){const i=dr.objectKeys(t),s=dr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),a={...e,...t};for(const l of s){const c=tA(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===dt.array&&n===dt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const a=e[s],l=t[s],c=tA(a,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===dt.date&&n===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Wb extends lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,a)=>{if(l5(s)||l5(a))return It;const l=tA(s.value,a.value);return l.valid?((c5(s)||c5(a))&&r.dirty(),{status:r.value,value:l.data}):(tt(n,{code:He.invalid_intersection_types}),It)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Wb.create=(e,t,r)=>new Wb({left:e,right:t,typeName:Lt.ZodIntersection,...Kt(r)});class Qu extends lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.array)return tt(n,{code:He.invalid_type,expected:dt.array,received:n.parsedType}),It;if(n.data.length<this._def.items.length)return tt(n,{code:He.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),It;!this._def.rest&&n.data.length>this._def.items.length&&(tt(n,{code:He.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Mc(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Ps.mergeArray(r,a)):Ps.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Qu({...this._def,rest:t})}}Qu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qu({items:e,typeName:Lt.ZodTuple,rest:null,...Kt(t)})};class v5 extends lr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.map)return tt(n,{code:He.invalid_type,expected:dt.map,received:n.parsedType}),It;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Mc(n,l,n.path,[u,"key"])),value:s._parse(new Mc(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return It;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return It;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}v5.create=(e,t,r)=>new v5({valueType:t,keyType:e,typeName:Lt.ZodMap,...Kt(r)});class vg extends lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.set)return tt(n,{code:He.invalid_type,expected:dt.set,received:n.parsedType}),It;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(tt(n,{code:He.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(tt(n,{code:He.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const f of c){if(f.status==="aborted")return It;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Mc(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new vg({...this._def,minSize:{value:t,message:pt.toString(r)}})}max(t,r){return new vg({...this._def,maxSize:{value:t,message:pt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}vg.create=(e,t)=>new vg({valueType:e,minSize:null,maxSize:null,typeName:Lt.ZodSet,...Kt(t)});class y5 extends lr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}y5.create=(e,t)=>new y5({getter:e,typeName:Lt.ZodLazy,...Kt(t)});class rA extends lr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return tt(r,{received:r.data,code:He.invalid_literal,expected:this._def.value}),It}return{status:"valid",value:t.data}}get value(){return this._def.value}}rA.create=(e,t)=>new rA({value:e,typeName:Lt.ZodLiteral,...Kt(t)});function rG(e,t){return new sh({values:e,typeName:Lt.ZodEnum,...Kt(t)})}class sh extends lr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return tt(r,{expected:dr.joinValues(n),received:r.parsedType,code:He.invalid_type}),It}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return tt(r,{received:r.data,code:He.invalid_enum_value,options:n}),It}return aa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return sh.create(t,{...this._def,...r})}exclude(t,r=this._def){return sh.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}sh.create=rG;class x5 extends lr{_parse(t){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==dt.string&&n.parsedType!==dt.number){const i=dr.objectValues(r);return tt(n,{expected:dr.joinValues(i),received:n.parsedType,code:He.invalid_type}),It}if(this._cache||(this._cache=new Set(dr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=dr.objectValues(r);return tt(n,{received:n.data,code:He.invalid_enum_value,options:i}),It}return aa(t.data)}get enum(){return this._def.values}}x5.create=(e,t)=>new x5({values:e,typeName:Lt.ZodNativeEnum,...Kt(t)});class Hb extends lr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.promise&&r.common.async===!1)return tt(r,{code:He.invalid_type,expected:dt.promise,received:r.parsedType}),It;const n=r.parsedType===dt.promise?r.data:Promise.resolve(r.data);return aa(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Hb.create=(e,t)=>new Hb({type:e,typeName:Lt.ZodPromise,...Kt(t)});class ah extends lr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a=>{tt(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return It;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?It:c.status==="dirty"||r.value==="dirty"?Np(c.value):c});{if(r.value==="aborted")return It;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?It:l.status==="dirty"||r.value==="dirty"?Np(l.value):l}}if(i.type==="refinement"){const a=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?It:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?It:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!nh(a))return It;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>nh(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:r.value,value:l})):It);dr.assertNever(i)}}ah.create=(e,t,r)=>new ah({schema:e,typeName:Lt.ZodEffects,effect:t,...Kt(r)});ah.createWithPreprocess=(e,t,r)=>new ah({schema:t,effect:{type:"preprocess",transform:e},typeName:Lt.ZodEffects,...Kt(r)});class Cc extends lr{_parse(t){return this._getType(t)===dt.undefined?aa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cc.create=(e,t)=>new Cc({innerType:e,typeName:Lt.ZodOptional,...Kt(t)});class oh extends lr{_parse(t){return this._getType(t)===dt.null?aa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}oh.create=(e,t)=>new oh({innerType:e,typeName:Lt.ZodNullable,...Kt(t)});class nA extends lr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===dt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}nA.create=(e,t)=>new nA({innerType:e,typeName:Lt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Kt(t)});class iA extends lr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return zb(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pl(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}iA.create=(e,t)=>new iA({innerType:e,typeName:Lt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Kt(t)});class b5 extends lr{_parse(t){if(this._getType(t)!==dt.nan){const n=this._getOrReturnCtx(t);return tt(n,{code:He.invalid_type,expected:dt.nan,received:n.parsedType}),It}return{status:"valid",value:t.data}}}b5.create=e=>new b5({typeName:Lt.ZodNaN,...Kt(e)});class dbe extends lr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class RP extends lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?It:s.status==="dirty"?(r.dirty(),Np(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?It:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new RP({in:t,out:r,typeName:Lt.ZodPipeline})}}class sA extends lr{_parse(t){const r=this._def.innerType._parse(t),n=i=>(nh(i)&&(i.value=Object.freeze(i.value)),i);return zb(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}sA.create=(e,t)=>new sA({innerType:e,typeName:Lt.ZodReadonly,...Kt(t)});var Lt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Lt||(Lt={}));const Oa=wc.create,nG=ih.create,DP=eA.create;Rc.create;const Fw=yo.create,Iv=xn.create;Ub.create;Wb.create;Qu.create;const iG=rA.create,sG=sh.create;Hb.create;Cc.create;oh.create;const fbe=vxe,aG=_.createContext({}),Ti=({...e})=>o.jsx(aG.Provider,{value:{name:e.name},children:o.jsx(wxe,{...e})}),qw=()=>{const e=_.useContext(aG),t=_.useContext(oG),{getFieldState:r,formState:n}=Dv(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},oG=_.createContext({}),yi=_.forwardRef(({className:e,...t},r)=>{const n=_.useId();return o.jsx(oG.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Ne("space-y-2",e),...t})})});yi.displayName="FormItem";const Mi=_.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=qw();return o.jsx(Pe,{ref:r,className:Ne(n&&"text-destructive",e),htmlFor:i,...t})});Mi.displayName="FormLabel";const xi=_.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=qw();return o.jsx(oV,{ref:t,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...e})});xi.displayName="FormControl";const hbe=_.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=qw();return o.jsx("p",{ref:r,id:n,className:Ne("text-sm text-muted-foreground",e),...t})});hbe.displayName="FormDescription";const bi=_.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:s}=qw(),a=i?String(i==null?void 0:i.message):t;return a?o.jsx("p",{ref:n,id:s,className:Ne("text-sm font-medium text-destructive",e),...r,children:a}):null});bi.displayName="FormMessage";function mbe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const Bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cm(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function IP(e){return"nodeType"in e}function Bi(e){var t,r;return e?cm(e)?e:IP(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function LP(e){const{Document:t}=Bi(e);return e instanceof t}function Lv(e){return cm(e)?!1:e instanceof Bi(e).HTMLElement}function lG(e){return e instanceof Bi(e).SVGElement}function um(e){return e?cm(e)?e.document:IP(e)?LP(e)?e:Lv(e)||lG(e)?e.ownerDocument:document:document:document}const qa=Bw?_.useLayoutEffect:_.useEffect;function zw(e){const t=_.useRef(e);return qa(()=>{t.current=e}),_.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function pbe(){const e=_.useRef(null),t=_.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function yg(e,t){t===void 0&&(t=[e]);const r=_.useRef(e);return qa(()=>{r.current!==e&&(r.current=e)},t),r}function $v(e,t){const r=_.useRef();return _.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Kb(e){const t=zw(e),r=_.useRef(null),n=_.useCallback(i=>{i!==r.current&&(t==null||t(i,r.current)),r.current=i},[]);return[r,n]}function Gb(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let cj={};function Fv(e,t){return _.useMemo(()=>{if(t)return t;const r=cj[e]==null?0:cj[e]+1;return cj[e]=r,e+"-"+r},[e,t])}function cG(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((s,a)=>{const l=Object.entries(a);for(const[c,u]of l){const f=s[c];f!=null&&(s[c]=f+e*u)}return s},{...t})}}const Af=cG(1),xg=cG(-1);function gbe(e){return"clientX"in e&&"clientY"in e}function Vw(e){if(!e)return!1;const{KeyboardEvent:t}=Bi(e.target);return t&&e instanceof t}function vbe(e){if(!e)return!1;const{TouchEvent:t}=Bi(e.target);return t&&e instanceof t}function Yb(e){if(vbe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return gbe(e)?{x:e.clientX,y:e.clientY}:null}const jo=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[jo.Translate.toString(e),jo.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),w5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ybe(e){return e.matches(w5)?e:e.querySelector(w5)}const xbe={display:"none"};function bbe(e){let{id:t,value:r}=e;return Y.createElement("div",{id:t,style:xbe},r)}function wbe(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Y.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function _be(){const[e,t]=_.useState("");return{announce:_.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const uG=_.createContext(null);function Sbe(e){const t=_.useContext(uG);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function jbe(){const[e]=_.useState(()=>new Set),t=_.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[_.useCallback(n=>{let{type:i,event:s}=n;e.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[e]),t]}const Cbe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Nbe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ebe(e){let{announcements:t=Nbe,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=Cbe}=e;const{announce:s,announcement:a}=_be(),l=Fv("DndLiveRegion"),[c,u]=_.useState(!1);if(_.useEffect(()=>{u(!0)},[]),Sbe(_.useMemo(()=>({onDragStart(d){let{active:m}=d;s(t.onDragStart({active:m}))},onDragMove(d){let{active:m,over:p}=d;t.onDragMove&&s(t.onDragMove({active:m,over:p}))},onDragOver(d){let{active:m,over:p}=d;s(t.onDragOver({active:m,over:p}))},onDragEnd(d){let{active:m,over:p}=d;s(t.onDragEnd({active:m,over:p}))},onDragCancel(d){let{active:m,over:p}=d;s(t.onDragCancel({active:m,over:p}))}}),[s,t])),!c)return null;const f=Y.createElement(Y.Fragment,null,Y.createElement(bbe,{id:n,value:i.draggable}),Y.createElement(wbe,{id:l,announcement:a}));return r?lo.createPortal(f,r):f}var On;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function Qb(){}function lh(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function $P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Ba=Object.freeze({x:0,y:0});function dG(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function kbe(e,t){const r=Yb(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function fG(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function Obe(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function _5(e){let{left:t,top:r,height:n,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+n},{x:t+i,y:r+n}]}function hG(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function S5(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const FP=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=S5(t,t.left,t.top),s=[];for(const a of n){const{id:l}=a,c=r.get(l);if(c){const u=dG(S5(c),i);s.push({id:l,data:{droppableContainer:a,value:u}})}}return s.sort(fG)},Abe=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=_5(t),s=[];for(const a of n){const{id:l}=a,c=r.get(l);if(c){const u=_5(c),f=i.reduce((m,p,x)=>m+dG(u[x],p),0),d=Number((f/4).toFixed(4));s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(fG)};function Tbe(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=i-n,l=s-r;if(n<i&&r<s){const c=t.width*t.height,u=e.width*e.height,f=a*l,d=f/(c+u-f);return Number(d.toFixed(4))}return 0}const Pbe=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const s of n){const{id:a}=s,l=r.get(a);if(l){const c=Tbe(l,t);c>0&&i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(Obe)};function Mbe(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function mG(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ba}function Rbe(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+e*l.y,bottom:a.bottom+e*l.y,left:a.left+e*l.x,right:a.right+e*l.x}),{...r})}}const Dbe=Rbe(1);function pG(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ibe(e,t,r){const n=pG(t);if(!n)return e;const{scaleX:i,scaleY:s,x:a,y:l}=n,c=e.left-a-(1-i)*parseFloat(r),u=e.top-l-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),f=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c}}const Lbe={ignoreTransform:!1};function dm(e,t){t===void 0&&(t=Lbe);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=Bi(e).getComputedStyle(e);u&&(r=Ibe(r,u,f))}const{top:n,left:i,width:s,height:a,bottom:l,right:c}=r;return{top:n,left:i,width:s,height:a,bottom:l,right:c}}function j5(e){return dm(e,{ignoreTransform:!0})}function $be(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Fbe(e,t){return t===void 0&&(t=Bi(e).getComputedStyle(e)),t.position==="fixed"}function qbe(e,t){t===void 0&&(t=Bi(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?r.test(s):!1})}function Uw(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(LP(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Lv(i)||lG(i)||r.includes(i))return r;const s=Bi(e).getComputedStyle(i);return i!==e&&qbe(i,s)&&r.push(i),Fbe(i,s)?r:n(i.parentNode)}return e?n(e):r}function gG(e){const[t]=Uw(e,1);return t??null}function uj(e){return!Bw||!e?null:cm(e)?e:IP(e)?LP(e)||e===um(e).scrollingElement?window:Lv(e)?e:null:null}function vG(e){return cm(e)?e.scrollX:e.scrollLeft}function yG(e){return cm(e)?e.scrollY:e.scrollTop}function aA(e){return{x:vG(e),y:yG(e)}}var zn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(zn||(zn={}));function xG(e){return!Bw||!e?!1:e===document.scrollingElement}function bG(e){const t={x:0,y:0},r=xG(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:n,minScroll:t}}const Bbe={x:.2,y:.2};function zbe(e,t,r,n,i){let{top:s,left:a,right:l,bottom:c}=r;n===void 0&&(n=10),i===void 0&&(i=Bbe);const{isTop:u,isBottom:f,isLeft:d,isRight:m}=bG(e),p={x:0,y:0},x={x:0,y:0},y={height:t.height*i.y,width:t.width*i.x};return!u&&s<=t.top+y.height?(p.y=zn.Backward,x.y=n*Math.abs((t.top+y.height-s)/y.height)):!f&&c>=t.bottom-y.height&&(p.y=zn.Forward,x.y=n*Math.abs((t.bottom-y.height-c)/y.height)),!m&&l>=t.right-y.width?(p.x=zn.Forward,x.x=n*Math.abs((t.right-y.width-l)/y.width)):!d&&a<=t.left+y.width&&(p.x=zn.Backward,x.x=n*Math.abs((t.left+y.width-a)/y.width)),{direction:p,speed:x}}function Vbe(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function wG(e){return e.reduce((t,r)=>Af(t,aA(r)),Ba)}function Ube(e){return e.reduce((t,r)=>t+vG(r),0)}function Wbe(e){return e.reduce((t,r)=>t+yG(r),0)}function _G(e,t){if(t===void 0&&(t=dm),!e)return;const{top:r,left:n,bottom:i,right:s}=t(e);gG(e)&&(i<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Hbe=[["x",["left","right"],Ube],["y",["top","bottom"],Wbe]];class qP{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Uw(r),i=wG(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,l]of Hbe)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=l(n),f=i[s]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Bp{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function Kbe(e){const{EventTarget:t}=Bi(e);return e instanceof t?e:um(e)}function dj(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Gs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Gs||(Gs={}));function C5(e){e.preventDefault()}function Gbe(e){e.stopPropagation()}var tr;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(tr||(tr={}));const SG={start:[tr.Space,tr.Enter],cancel:[tr.Esc],end:[tr.Space,tr.Enter,tr.Tab]},Ybe=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case tr.Right:return{...r,x:r.x+25};case tr.Left:return{...r,x:r.x-25};case tr.Down:return{...r,y:r.y+25};case tr.Up:return{...r,y:r.y-25}}};class qv{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Bp(um(r)),this.windowListeners=new Bp(Bi(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Gs.Resize,this.handleCancel),this.windowListeners.add(Gs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Gs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&_G(n),r(Ba)}handleKeyDown(t){if(Vw(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:s=SG,coordinateGetter:a=Ybe,scrollBehavior:l="smooth"}=i,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,f=u?{x:u.left,y:u.top}:Ba;this.referenceCoordinates||(this.referenceCoordinates=f);const d=a(t,{active:r,context:n.current,currentCoordinates:f});if(d){const m=xg(d,f),p={x:0,y:0},{scrollableAncestors:x}=n.current;for(const y of x){const v=t.code,{isTop:b,isRight:w,isLeft:j,isBottom:S,maxScroll:C,minScroll:E}=bG(y),k=Vbe(y),O={x:Math.min(v===tr.Right?k.right-k.width/2:k.right,Math.max(v===tr.Right?k.left:k.left+k.width/2,d.x)),y:Math.min(v===tr.Down?k.bottom-k.height/2:k.bottom,Math.max(v===tr.Down?k.top:k.top+k.height/2,d.y))},M=v===tr.Right&&!w||v===tr.Left&&!j,R=v===tr.Down&&!S||v===tr.Up&&!b;if(M&&O.x!==d.x){const T=y.scrollLeft+m.x,P=v===tr.Right&&T<=C.x||v===tr.Left&&T>=E.x;if(P&&!m.y){y.scrollTo({left:T,behavior:l});return}P?p.x=y.scrollLeft-T:p.x=v===tr.Right?y.scrollLeft-C.x:y.scrollLeft-E.x,p.x&&y.scrollBy({left:-p.x,behavior:l});break}else if(R&&O.y!==d.y){const T=y.scrollTop+m.y,P=v===tr.Down&&T<=C.y||v===tr.Up&&T>=E.y;if(P&&!m.x){y.scrollTo({top:T,behavior:l});return}P?p.y=y.scrollTop-T:p.y=v===tr.Down?y.scrollTop-C.y:y.scrollTop-E.y,p.y&&y.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Af(xg(d,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qv.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=SG,onActivation:i}=t,{active:s}=r;const{code:a}=e.nativeEvent;if(n.start.includes(a)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function N5(e){return!!(e&&"distance"in e)}function E5(e){return!!(e&&"delay"in e)}class BP{constructor(t,r,n){var i;n===void 0&&(n=Kbe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:s}=t,{target:a}=s;this.props=t,this.events=r,this.document=um(a),this.documentListeners=new Bp(this.document),this.listeners=new Bp(n),this.windowListeners=new Bp(Bi(a)),this.initialCoordinates=(i=Yb(s))!=null?i:Ba,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Gs.Resize,this.handleCancel),this.windowListeners.add(Gs.DragStart,C5),this.windowListeners.add(Gs.VisibilityChange,this.handleCancel),this.windowListeners.add(Gs.ContextMenu,C5),this.documentListeners.add(Gs.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(E5(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(N5(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Gs.Click,Gbe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Gs.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const c=(r=Yb(t))!=null?r:Ba,u=xg(i,c);if(!n&&l){if(N5(l)){if(l.tolerance!=null&&dj(u,l.tolerance))return this.handleCancel();if(dj(u,l.distance))return this.handleStart()}if(E5(l)&&dj(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===tr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Qbe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Bv extends BP{constructor(t){const{event:r}=t,n=um(r.target);super(t,Qbe,n)}}Bv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const Xbe={move:{name:"mousemove"},end:{name:"mouseup"}};var oA;(function(e){e[e.RightClick=2]="RightClick"})(oA||(oA={}));class Zbe extends BP{constructor(t){super(t,Xbe,um(t.event.target))}}Zbe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===oA.RightClick?!1:(n==null||n({event:r}),!0)}}];const fj={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Jbe extends BP{constructor(t){super(t,fj)}static setup(){return window.addEventListener(fj.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(fj.move.name,t)};function t(){}}}Jbe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n==null||n({event:r}),!0)}}];var zp;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(zp||(zp={}));var Xb;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xb||(Xb={}));function e0e(e){let{acceleration:t,activator:r=zp.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:a=5,order:l=Xb.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:d,threshold:m}=e;const p=r0e({delta:d,disabled:!s}),[x,y]=pbe(),v=_.useRef({x:0,y:0}),b=_.useRef({x:0,y:0}),w=_.useMemo(()=>{switch(r){case zp.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case zp.DraggableRect:return i}},[r,i,c]),j=_.useRef(null),S=_.useCallback(()=>{const E=j.current;if(!E)return;const k=v.current.x*b.current.x,O=v.current.y*b.current.y;E.scrollBy(k,O)},[]),C=_.useMemo(()=>l===Xb.TreeOrder?[...u].reverse():u,[l,u]);_.useEffect(()=>{if(!s||!u.length||!w){y();return}for(const E of C){if((n==null?void 0:n(E))===!1)continue;const k=u.indexOf(E),O=f[k];if(!O)continue;const{direction:M,speed:R}=zbe(E,O,w,t,m);for(const T of["x","y"])p[T][M[T]]||(R[T]=0,M[T]=0);if(R.x>0||R.y>0){y(),j.current=E,x(S,a),v.current=R,b.current=M;return}}v.current={x:0,y:0},b.current={x:0,y:0},y()},[t,S,n,y,s,a,JSON.stringify(w),JSON.stringify(p),x,u,C,f,JSON.stringify(m)])}const t0e={x:{[zn.Backward]:!1,[zn.Forward]:!1},y:{[zn.Backward]:!1,[zn.Forward]:!1}};function r0e(e){let{delta:t,disabled:r}=e;const n=Gb(t);return $v(i=>{if(r||!n||!i)return t0e;const s={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[zn.Backward]:i.x[zn.Backward]||s.x===-1,[zn.Forward]:i.x[zn.Forward]||s.x===1},y:{[zn.Backward]:i.y[zn.Backward]||s.y===-1,[zn.Forward]:i.y[zn.Forward]||s.y===1}}},[r,t,n])}function n0e(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return $v(i=>{var s;return t==null?null:(s=n??i)!=null?s:null},[n,t])}function i0e(e,t){return _.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,s=i.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,n)}));return[...r,...s]},[]),[e,t])}var bg;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(bg||(bg={}));var lA;(function(e){e.Optimized="optimized"})(lA||(lA={}));const k5=new Map;function s0e(e,t){let{dragging:r,dependencies:n,config:i}=t;const[s,a]=_.useState(null),{frequency:l,measure:c,strategy:u}=i,f=_.useRef(e),d=v(),m=yg(d),p=_.useCallback(function(b){b===void 0&&(b=[]),!m.current&&a(w=>w===null?b:w.concat(b.filter(j=>!w.includes(j))))},[m]),x=_.useRef(null),y=$v(b=>{if(d&&!r)return k5;if(!b||b===k5||f.current!==e||s!=null){const w=new Map;for(let j of e){if(!j)continue;if(s&&s.length>0&&!s.includes(j.id)&&j.rect.current){w.set(j.id,j.rect.current);continue}const S=j.node.current,C=S?new qP(c(S),S):null;j.rect.current=C,C&&w.set(j.id,C)}return w}return b},[e,s,r,d,c]);return _.useEffect(()=>{f.current=e},[e]),_.useEffect(()=>{d||p()},[r,d]),_.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),_.useEffect(()=>{d||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{p(),x.current=null},l))},[l,d,p,...n]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:s!=null};function v(){switch(u){case bg.Always:return!1;case bg.BeforeDragging:return r;default:return!r}}}function zP(e,t){return $v(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function a0e(e,t){return zP(e,t)}function o0e(e){let{callback:t,disabled:r}=e;const n=zw(t),i=_.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ww(e){let{callback:t,disabled:r}=e;const n=zw(t),i=_.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function l0e(e){return new qP(dm(e),e)}function O5(e,t,r){t===void 0&&(t=l0e);const[n,i]=_.useState(null);function s(){i(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const a=o0e({callback(c){if(e)for(const u of c){const{type:f,target:d}=u;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),l=Ww({callback:s});return qa(()=>{s(),e?(l==null||l.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[e]),n}function c0e(e){const t=zP(e);return mG(e,t)}const A5=[];function u0e(e){const t=_.useRef(e),r=$v(n=>e?n&&n!==A5&&e&&t.current&&e.parentNode===t.current.parentNode?n:Uw(e):A5,[e]);return _.useEffect(()=>{t.current=e},[e]),r}function d0e(e){const[t,r]=_.useState(null),n=_.useRef(e),i=_.useCallback(s=>{const a=uj(s.target);a&&r(l=>l?(l.set(a,aA(a)),new Map(l)):null)},[]);return _.useEffect(()=>{const s=n.current;if(e!==s){a(s);const l=e.map(c=>{const u=uj(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,aA(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{a(e),a(s)};function a(l){l.forEach(c=>{const u=uj(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>Af(s,a),Ba):wG(e):Ba,[e,t])}function T5(e,t){t===void 0&&(t=[]);const r=_.useRef(null);return _.useEffect(()=>{r.current=null},t),_.useEffect(()=>{const n=e!==Ba;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?xg(e,r.current):Ba}function f0e(e){_.useEffect(()=>{if(!Bw)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function h0e(e,t){return _.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:s}=n;return r[i]=a=>{s(a,t)},r},{}),[e,t])}function jG(e){return _.useMemo(()=>e?$be(e):null,[e])}const P5=[];function m0e(e,t){t===void 0&&(t=dm);const[r]=e,n=jG(r?Bi(r):null),[i,s]=_.useState(P5);function a(){s(()=>e.length?e.map(c=>xG(c)?n:new qP(t(c),c)):P5)}const l=Ww({callback:a});return qa(()=>{l==null||l.disconnect(),a(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function CG(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Lv(t)?t:e}function p0e(e){let{measure:t}=e;const[r,n]=_.useState(null),i=_.useCallback(u=>{for(const{target:f}of u)if(Lv(f)){n(d=>{const m=t(f);return d?{...d,width:m.width,height:m.height}:m});break}},[t]),s=Ww({callback:i}),a=_.useCallback(u=>{const f=CG(u);s==null||s.disconnect(),f&&(s==null||s.observe(f)),n(f?t(f):null)},[t,s]),[l,c]=Kb(a);return _.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const g0e=[{sensor:Bv,options:{}},{sensor:qv,options:{}}],v0e={current:{}},db={draggable:{measure:j5},droppable:{measure:j5,strategy:bg.WhileDragging,frequency:lA.Optimized},dragOverlay:{measure:dm}};class Vp extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const y0e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vp,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:db,measureDroppableContainers:Qb,windowRect:null,measuringScheduled:!1},NG={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qb,draggableNodes:new Map,over:null,measureDroppableContainers:Qb},zv=_.createContext(NG),EG=_.createContext(y0e);function x0e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vp}}}function b0e(e,t){switch(t.type){case On.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case On.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new Vp(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case On.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const a=new Vp(e.droppable.containers);return a.set(r,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case On.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const s=new Vp(e.droppable.containers);return s.delete(r),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function w0e(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=_.useContext(zv),s=Gb(n),a=Gb(r==null?void 0:r.id);return _.useEffect(()=>{if(!t&&!n&&s&&a!=null){if(!Vw(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const d=ybe(f);if(d){d.focus();break}}})}},[n,t,i,a,s]),null}function kG(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...n}),r):r}function _0e(e){return _.useMemo(()=>({draggable:{...db.draggable,...e==null?void 0:e.draggable},droppable:{...db.droppable,...e==null?void 0:e.droppable},dragOverlay:{...db.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function S0e(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const s=_.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;qa(()=>{if(!a&&!l||!t){s.current=!1;return}if(s.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=r(u),d=mG(f,n);if(a||(d.x=0),l||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const m=gG(u);m&&m.scrollBy({top:d.y,left:d.x})}},[t,a,l,n,r])}const Hw=_.createContext({...Ba,scaleX:1,scaleY:1});var oc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(oc||(oc={}));const VP=_.memo(function(t){var r,n,i,s;let{id:a,accessibility:l,autoScroll:c=!0,children:u,sensors:f=g0e,collisionDetection:d=Pbe,measuring:m,modifiers:p,...x}=t;const y=_.useReducer(b0e,void 0,x0e),[v,b]=y,[w,j]=jbe(),[S,C]=_.useState(oc.Uninitialized),E=S===oc.Initialized,{draggable:{active:k,nodes:O,translate:M},droppable:{containers:R}}=v,T=k!=null?O.get(k):null,P=_.useRef({initial:null,translated:null}),I=_.useMemo(()=>{var ct;return k!=null?{id:k,data:(ct=T==null?void 0:T.data)!=null?ct:v0e,rect:P}:null},[k,T]),B=_.useRef(null),[$,H]=_.useState(null),[V,U]=_.useState(null),W=yg(x,Object.values(x)),F=Fv("DndDescribedBy",a),L=_.useMemo(()=>R.getEnabled(),[R]),q=_0e(m),{droppableRects:K,measureDroppableContainers:ee,measuringScheduled:te}=s0e(L,{dragging:E,dependencies:[M.x,M.y],config:q.droppable}),Q=n0e(O,k),G=_.useMemo(()=>V?Yb(V):null,[V]),ne=bt(),Z=a0e(Q,q.draggable.measure);S0e({activeNode:k!=null?O.get(k):null,config:ne.layoutShiftCompensation,initialRect:Z,measure:q.draggable.measure});const re=O5(Q,q.draggable.measure,Z),fe=O5(Q?Q.parentElement:null),ce=_.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xe=R.getNodeFor((r=ce.current.over)==null?void 0:r.id),be=p0e({measure:q.dragOverlay.measure}),ke=(n=be.nodeRef.current)!=null?n:Q,Te=E?(i=be.rect)!=null?i:re:null,De=!!(be.nodeRef.current&&be.rect),ae=c0e(De?null:re),ge=jG(ke?Bi(ke):null),X=u0e(E?xe??Q:null),ie=m0e(X),oe=kG(p,{transform:{x:M.x-ae.x,y:M.y-ae.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:re,containerNodeRect:fe,draggingNodeRect:Te,over:ce.current.over,overlayNodeRect:be.rect,scrollableAncestors:X,scrollableAncestorRects:ie,windowRect:ge}),je=G?Af(G,M):null,le=d0e(X),he=T5(le),we=T5(le,[re]),ue=Af(oe,he),Oe=Te?Dbe(Te,oe):null,gt=I&&Oe?d({active:I,collisionRect:Oe,droppableRects:K,droppableContainers:L,pointerCoordinates:je}):null,Se=hG(gt,"id"),[Ge,Nt]=_.useState(null),vt=De?oe:Af(oe,we),mr=Mbe(vt,(s=Ge==null?void 0:Ge.rect)!=null?s:null,re),tn=_.useRef(null),jr=_.useCallback((ct,$t)=>{let{sensor:Ut,options:Je}=$t;if(B.current==null)return;const ht=O.get(B.current);if(!ht)return;const yt=ct.nativeEvent,zt=new Ut({active:B.current,activeNode:ht,event:yt,options:Je,context:ce,onAbort(qt){if(!O.get(qt))return;const{onDragAbort:cr}=W.current,qr={id:qt};cr==null||cr(qr),w({type:"onDragAbort",event:qr})},onPending(qt,Cr,cr,qr){if(!O.get(qt))return;const{onDragPending:Vi}=W.current,Zn={id:qt,constraint:Cr,initialCoordinates:cr,offset:qr};Vi==null||Vi(Zn),w({type:"onDragPending",event:Zn})},onStart(qt){const Cr=B.current;if(Cr==null)return;const cr=O.get(Cr);if(!cr)return;const{onDragStart:qr}=W.current,fi={activatorEvent:yt,active:{id:Cr,data:cr.data,rect:P}};lo.unstable_batchedUpdates(()=>{qr==null||qr(fi),C(oc.Initializing),b({type:On.DragStart,initialCoordinates:qt,active:Cr}),w({type:"onDragStart",event:fi}),H(tn.current),U(yt)})},onMove(qt){b({type:On.DragMove,coordinates:qt})},onEnd:Xt(On.DragEnd),onCancel:Xt(On.DragCancel)});tn.current=zt;function Xt(qt){return async function(){const{active:cr,collisions:qr,over:fi,scrollAdjustedTranslate:Vi}=ce.current;let Zn=null;if(cr&&Vi){const{cancelDrop:fs}=W.current;Zn={activatorEvent:yt,active:cr,collisions:qr,delta:Vi,over:fi},qt===On.DragEnd&&typeof fs=="function"&&await Promise.resolve(fs(Zn))&&(qt=On.DragCancel)}B.current=null,lo.unstable_batchedUpdates(()=>{b({type:qt}),C(oc.Uninitialized),Nt(null),H(null),U(null),tn.current=null;const fs=qt===On.DragEnd?"onDragEnd":"onDragCancel";if(Zn){const Ga=W.current[fs];Ga==null||Ga(Zn),w({type:fs,event:Zn})}})}}},[O]),Ot=_.useCallback((ct,$t)=>(Ut,Je)=>{const ht=Ut.nativeEvent,yt=O.get(Je);if(B.current!==null||!yt||ht.dndKit||ht.defaultPrevented)return;const zt={active:yt};ct(Ut,$t.options,zt)===!0&&(ht.dndKit={capturedBy:$t.sensor},B.current=Je,jr(Ut,$t))},[O,jr]),Ze=i0e(f,Ot);f0e(f),qa(()=>{re&&S===oc.Initializing&&C(oc.Initialized)},[re,S]),_.useEffect(()=>{const{onDragMove:ct}=W.current,{active:$t,activatorEvent:Ut,collisions:Je,over:ht}=ce.current;if(!$t||!Ut)return;const yt={active:$t,activatorEvent:Ut,collisions:Je,delta:{x:ue.x,y:ue.y},over:ht};lo.unstable_batchedUpdates(()=>{ct==null||ct(yt),w({type:"onDragMove",event:yt})})},[ue.x,ue.y]),_.useEffect(()=>{const{active:ct,activatorEvent:$t,collisions:Ut,droppableContainers:Je,scrollAdjustedTranslate:ht}=ce.current;if(!ct||B.current==null||!$t||!ht)return;const{onDragOver:yt}=W.current,zt=Je.get(Se),Xt=zt&&zt.rect.current?{id:zt.id,rect:zt.rect.current,data:zt.data,disabled:zt.disabled}:null,qt={active:ct,activatorEvent:$t,collisions:Ut,delta:{x:ht.x,y:ht.y},over:Xt};lo.unstable_batchedUpdates(()=>{Nt(Xt),yt==null||yt(qt),w({type:"onDragOver",event:qt})})},[Se]),qa(()=>{ce.current={activatorEvent:V,active:I,activeNode:Q,collisionRect:Oe,collisions:gt,droppableRects:K,draggableNodes:O,draggingNode:ke,draggingNodeRect:Te,droppableContainers:R,over:Ge,scrollableAncestors:X,scrollAdjustedTranslate:ue},P.current={initial:Te,translated:Oe}},[I,Q,gt,Oe,O,ke,Te,K,R,Ge,X,ue]),e0e({...ne,delta:M,draggingRect:Oe,pointerCoordinates:je,scrollableAncestors:X,scrollableAncestorRects:ie});const ft=_.useMemo(()=>({active:I,activeNode:Q,activeNodeRect:re,activatorEvent:V,collisions:gt,containerNodeRect:fe,dragOverlay:be,draggableNodes:O,droppableContainers:R,droppableRects:K,over:Ge,measureDroppableContainers:ee,scrollableAncestors:X,scrollableAncestorRects:ie,measuringConfiguration:q,measuringScheduled:te,windowRect:ge}),[I,Q,re,V,gt,fe,be,O,R,K,Ge,ee,X,ie,q,te,ge]),xt=_.useMemo(()=>({activatorEvent:V,activators:Ze,active:I,activeNodeRect:re,ariaDescribedById:{draggable:F},dispatch:b,draggableNodes:O,over:Ge,measureDroppableContainers:ee}),[V,Ze,I,re,b,F,O,Ge,ee]);return Y.createElement(uG.Provider,{value:j},Y.createElement(zv.Provider,{value:xt},Y.createElement(EG.Provider,{value:ft},Y.createElement(Hw.Provider,{value:mr},u)),Y.createElement(w0e,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Y.createElement(Ebe,{...l,hiddenTextDescribedById:F}));function bt(){const ct=($==null?void 0:$.autoScrollEnabled)===!1,$t=typeof c=="object"?c.enabled===!1:c===!1,Ut=E&&!ct&&!$t;return typeof c=="object"?{...c,enabled:Ut}:{enabled:Ut}}}),j0e=_.createContext(null),M5="button",C0e="Draggable";function N0e(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const s=Fv(C0e),{activators:a,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:d,over:m}=_.useContext(zv),{role:p=M5,roleDescription:x="draggable",tabIndex:y=0}=i??{},v=(c==null?void 0:c.id)===t,b=_.useContext(v?Hw:j0e),[w,j]=Kb(),[S,C]=Kb(),E=h0e(a,t),k=yg(r);qa(()=>(d.set(t,{id:t,key:s,node:w,activatorNode:S,data:k}),()=>{const M=d.get(t);M&&M.key===s&&d.delete(t)}),[d,t]);const O=_.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":n,"aria-pressed":v&&p===M5?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[n,p,y,v,x,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:O,isDragging:v,listeners:n?void 0:E,node:w,over:m,setNodeRef:j,setActivatorNodeRef:C,transform:b}}function OG(){return _.useContext(EG)}const E0e="Droppable",k0e={timeout:25};function O0e(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const s=Fv(E0e),{active:a,dispatch:l,over:c,measureDroppableContainers:u}=_.useContext(zv),f=_.useRef({disabled:r}),d=_.useRef(!1),m=_.useRef(null),p=_.useRef(null),{disabled:x,updateMeasurementsFor:y,timeout:v}={...k0e,...i},b=yg(y??n),w=_.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),p.current=null},v)},[v]),j=Ww({callback:w,disabled:x||!a}),S=_.useCallback((O,M)=>{j&&(M&&(j.unobserve(M),d.current=!1),O&&j.observe(O))},[j]),[C,E]=Kb(S),k=yg(t);return _.useEffect(()=>{!j||!C.current||(j.disconnect(),d.current=!1,j.observe(C.current))},[C,j]),_.useEffect(()=>(l({type:On.RegisterDroppable,element:{id:n,key:s,disabled:r,node:C,rect:m,data:k}}),()=>l({type:On.UnregisterDroppable,key:s,id:n})),[n]),_.useEffect(()=>{r!==f.current.disabled&&(l({type:On.SetDroppableDisabled,id:n,key:s,disabled:r}),f.current.disabled=r)},[n,s,r,l]),{active:a,rect:m,isOver:(c==null?void 0:c.id)===n,node:C,over:c,setNodeRef:E}}function A0e(e){let{animation:t,children:r}=e;const[n,i]=_.useState(null),[s,a]=_.useState(null),l=Gb(r);return!r&&!n&&l&&i(l),qa(()=>{if(!s)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){i(null);return}Promise.resolve(t(u,s)).then(()=>{i(null)})},[t,n,s]),Y.createElement(Y.Fragment,null,r,n?_.cloneElement(n,{ref:a}):null)}const T0e={x:0,y:0,scaleX:1,scaleY:1};function P0e(e){let{children:t}=e;return Y.createElement(zv.Provider,{value:NG},Y.createElement(Hw.Provider,{value:T0e},t))}const M0e={position:"fixed",touchAction:"none"},R0e=e=>Vw(e)?"transform 250ms ease":void 0,D0e=_.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:i,children:s,className:a,rect:l,style:c,transform:u,transition:f=R0e}=e;if(!l)return null;const d=i?u:{...u,scaleX:1,scaleY:1},m={...M0e,width:l.width,height:l.height,top:l.top,left:l.left,transform:jo.Transform.toString(d),transformOrigin:i&&n?kbe(n,l):void 0,transition:typeof f=="function"?f(n):f,...c};return Y.createElement(r,{className:a,style:m,ref:t},s)}),I0e=e=>t=>{let{active:r,dragOverlay:n}=t;const i={},{styles:s,className:a}=e;if(s!=null&&s.active)for(const[l,c]of Object.entries(s.active))c!==void 0&&(i[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(s!=null&&s.dragOverlay)for(const[l,c]of Object.entries(s.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return a!=null&&a.active&&r.node.classList.add(a.active),a!=null&&a.dragOverlay&&n.node.classList.add(a.dragOverlay),function(){for(const[c,u]of Object.entries(i))r.node.style.setProperty(c,u);a!=null&&a.active&&r.node.classList.remove(a.active)}},L0e=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:jo.Transform.toString(t)},{transform:jo.Transform.toString(r)}]},$0e={duration:250,easing:"ease",keyframes:L0e,sideEffects:I0e({styles:{active:{opacity:"0"}}})};function F0e(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=e;return zw((s,a)=>{if(t===null)return;const l=r.get(s);if(!l)return;const c=l.node.current;if(!c)return;const u=CG(a);if(!u)return;const{transform:f}=Bi(a).getComputedStyle(a),d=pG(f);if(!d)return;const m=typeof t=="function"?t:q0e(t);return _G(c,i.draggable.measure),m({active:{id:s,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:a,rect:i.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:i,transform:d})})}function q0e(e){const{duration:t,easing:r,sideEffects:n,keyframes:i}={...$0e,...e};return s=>{let{active:a,dragOverlay:l,transform:c,...u}=s;if(!t)return;const f={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},d={scaleX:c.scaleX!==1?a.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?a.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-f.x,y:c.y-f.y,...d},p=i({...u,active:a,dragOverlay:l,transform:{initial:c,final:m}}),[x]=p,y=p[p.length-1];if(JSON.stringify(x)===JSON.stringify(y))return;const v=n==null?void 0:n({active:a,dragOverlay:l,...u}),b=l.node.animate(p,{duration:t,easing:r,fill:"forwards"});return new Promise(w=>{b.onfinish=()=>{v==null||v(),w()}})}}let R5=0;function B0e(e){return _.useMemo(()=>{if(e!=null)return R5++,R5},[e])}const AG=Y.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:i,transition:s,modifiers:a,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:f,active:d,activeNodeRect:m,containerNodeRect:p,draggableNodes:x,droppableContainers:y,dragOverlay:v,over:b,measuringConfiguration:w,scrollableAncestors:j,scrollableAncestorRects:S,windowRect:C}=OG(),E=_.useContext(Hw),k=B0e(d==null?void 0:d.id),O=kG(a,{activatorEvent:f,active:d,activeNodeRect:m,containerNodeRect:p,draggingNodeRect:v.rect,over:b,overlayNodeRect:v.rect,scrollableAncestors:j,scrollableAncestorRects:S,transform:E,windowRect:C}),M=zP(m),R=F0e({config:n,draggableNodes:x,droppableContainers:y,measuringConfiguration:w}),T=M?v.setRef:void 0;return Y.createElement(P0e,null,Y.createElement(A0e,{animation:R},d&&k?Y.createElement(D0e,{key:k,id:d.id,ref:T,as:l,activatorEvent:f,adjustScale:t,className:c,transition:s,rect:M,style:{zIndex:u,...i},transform:O},r):null))});function UP(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function z0e(e,t){return e.reduce((r,n,i)=>{const s=t.get(n);return s&&(r[i]=s),r},Array(e.length))}function Rx(e){return e!==null&&e>=0}function V0e(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function U0e(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const TG=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const s=UP(t,n,r),a=t[i],l=s[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},Dx={scaleX:1,scaleY:1},PG=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:s,overIndex:a}=e;const l=(t=s[r])!=null?t:n;if(!l)return null;if(i===r){const u=s[a];return u?{x:0,y:r<a?u.top+u.height-(l.top+l.height):u.top-l.top,...Dx}:null}const c=W0e(s,i,r);return i>r&&i<=a?{x:0,y:-l.height-c,...Dx}:i<r&&i>=a?{x:0,y:l.height+c,...Dx}:{x:0,y:0,...Dx}};function W0e(e,t,r){const n=e[t],i=e[t-1],s=e[t+1];return n?r<t?i?n.top-(i.top+i.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const MG="Sortable",RG=Y.createContext({activeIndex:-1,containerId:MG,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:TG,disabled:{draggable:!1,droppable:!1}});function DG(e){let{children:t,id:r,items:n,strategy:i=TG,disabled:s=!1}=e;const{active:a,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:f}=OG(),d=Fv(MG,r),m=l.rect!==null,p=_.useMemo(()=>n.map(E=>typeof E=="object"&&"id"in E?E.id:E),[n]),x=a!=null,y=a?p.indexOf(a.id):-1,v=u?p.indexOf(u.id):-1,b=_.useRef(p),w=!V0e(p,b.current),j=v!==-1&&y===-1||w,S=U0e(s);qa(()=>{w&&x&&f(p)},[w,p,x,f]),_.useEffect(()=>{b.current=p},[p]);const C=_.useMemo(()=>({activeIndex:y,containerId:d,disabled:S,disableTransforms:j,items:p,overIndex:v,useDragOverlay:m,sortedRects:z0e(p,c),strategy:i}),[y,d,S.draggable,S.droppable,j,p,v,c,m,i]);return Y.createElement(RG.Provider,{value:C},t)}const H0e=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return UP(r,n,i).indexOf(t)},K0e=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:s,newIndex:a,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==s&&i===a?!1:r?!0:a!==i&&t===c},G0e={duration:200,easing:"ease"},IG="transform",Y0e=jo.Transition.toString({property:IG,duration:0,easing:"linear"}),Q0e={roleDescription:"sortable"};function X0e(e){let{disabled:t,index:r,node:n,rect:i}=e;const[s,a]=_.useState(null),l=_.useRef(r);return qa(()=>{if(!t&&r!==l.current&&n.current){const c=i.current;if(c){const u=dm(n.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&a(f)}}r!==l.current&&(l.current=r)},[t,r,n,i]),_.useEffect(()=>{s&&a(null)},[s]),s}function WP(e){let{animateLayoutChanges:t=K0e,attributes:r,disabled:n,data:i,getNewIndex:s=H0e,id:a,strategy:l,resizeObserverConfig:c,transition:u=G0e}=e;const{items:f,containerId:d,activeIndex:m,disabled:p,disableTransforms:x,sortedRects:y,overIndex:v,useDragOverlay:b,strategy:w}=_.useContext(RG),j=Z0e(n,p),S=f.indexOf(a),C=_.useMemo(()=>({sortable:{containerId:d,index:S,items:f},...i}),[d,i,S,f]),E=_.useMemo(()=>f.slice(f.indexOf(a)),[f,a]),{rect:k,node:O,isOver:M,setNodeRef:R}=O0e({id:a,data:C,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:T,activatorEvent:P,activeNodeRect:I,attributes:B,setNodeRef:$,listeners:H,isDragging:V,over:U,setActivatorNodeRef:W,transform:F}=N0e({id:a,data:C,attributes:{...Q0e,...r},disabled:j.draggable}),L=mbe(R,$),q=!!T,K=q&&!x&&Rx(m)&&Rx(v),ee=!b&&V,te=ee&&K?F:null,G=K?te??(l??w)({rects:y,activeNodeRect:I,activeIndex:m,overIndex:v,index:S}):null,ne=Rx(m)&&Rx(v)?s({id:a,items:f,activeIndex:m,overIndex:v}):S,Z=T==null?void 0:T.id,re=_.useRef({activeId:Z,items:f,newIndex:ne,containerId:d}),fe=f!==re.current.items,ce=t({active:T,containerId:d,isDragging:V,isSorting:q,id:a,index:S,items:f,newIndex:re.current.newIndex,previousItems:re.current.items,previousContainerId:re.current.containerId,transition:u,wasDragging:re.current.activeId!=null}),xe=X0e({disabled:!ce,index:S,node:O,rect:k});return _.useEffect(()=>{q&&re.current.newIndex!==ne&&(re.current.newIndex=ne),d!==re.current.containerId&&(re.current.containerId=d),f!==re.current.items&&(re.current.items=f)},[q,ne,d,f]),_.useEffect(()=>{if(Z===re.current.activeId)return;if(Z!=null&&re.current.activeId==null){re.current.activeId=Z;return}const ke=setTimeout(()=>{re.current.activeId=Z},50);return()=>clearTimeout(ke)},[Z]),{active:T,activeIndex:m,attributes:B,data:C,rect:k,index:S,newIndex:ne,items:f,isOver:M,isSorting:q,isDragging:V,listeners:H,node:O,overIndex:v,over:U,setNodeRef:L,setActivatorNodeRef:W,setDroppableNodeRef:R,setDraggableNodeRef:$,transform:xe??G,transition:be()};function be(){if(xe||fe&&re.current.newIndex===S)return Y0e;if(!(ee&&!Vw(P)||!u)&&(q||ce))return jo.Transition.toString({...u,property:IG})}}function Z0e(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function Zb(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const J0e=[tr.Down,tr.Right,tr.Up,tr.Left],HP=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:l}}=t;if(J0e.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const m=i.get(d.id);if(m)switch(e.code){case tr.Down:n.top<m.top&&c.push(d);break;case tr.Up:n.top>m.top&&c.push(d);break;case tr.Left:n.left>m.left&&c.push(d);break;case tr.Right:n.left<m.left&&c.push(d);break}});const u=Abe({collisionRect:n,droppableRects:i,droppableContainers:c});let f=hG(u,"id");if(f===(a==null?void 0:a.id)&&u.length>1&&(f=u[1].id),f!=null){const d=s.get(r.id),m=s.get(f),p=m?i.get(m.id):null,x=m==null?void 0:m.node.current;if(x&&p&&d&&m){const v=Uw(x).some((E,k)=>l[k]!==E),b=LG(d,m),w=ewe(d,m),j=v||!b?{x:0,y:0}:{x:w?n.width-p.width:0,y:w?n.height-p.height:0},S={x:p.left,y:p.top};return j.x&&j.y?S:xg(S,j)}}}};function LG(e,t){return!Zb(e)||!Zb(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ewe(e,t){return!Zb(e)||!Zb(t)||!LG(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const en=({className:e,iconClassName:t,textClassName:r,showText:n=!1})=>o.jsx(kt.div,{className:Ne("flex items-center justify-center",e),animate:{rotate:360},transition:{duration:1.5,ease:"linear",repeat:1/0},children:o.jsx(Ia,{iconClassName:Ne("w-6 h-6",t),showText:n,textClassName:r})}),twe=Iv({text:Oa().min(1,"Le texte de l'option est requis."),isCorrect:DP()}),rwe=Iv({question:Oa().min(1,"La question est requise."),options:Fw(twe).min(2,"Une question doit avoir au moins deux options.")}),nwe=Iv({title:Oa().min(1,"Le titre de la section est requis."),content:Oa().min(1,"Le contenu de la section est requis."),type:sG(["text","quiz","video","image"]),url:Oa().url("L'URL doit être valide.").optional().or(iG("")),questions:Fw(rwe).optional(),isCompleted:DP().default(!1),passingScore:nG().min(0).max(100).optional()}).superRefine((e,t)=>{e.type==="quiz"&&((!e.questions||e.questions.length===0)&&t.addIssue({code:He.custom,message:"Une section de type 'quiz' doit avoir au moins une question.",path:["questions"]}),(e.passingScore===void 0||e.passingScore===null)&&t.addIssue({code:He.custom,message:"Le pourcentage de réussite est requis pour un quiz.",path:["passingScore"]})),e.type==="video"&&!e.url&&t.addIssue({code:He.custom,message:"Une section de type 'vidéo' doit avoir une URL.",path:["url"]}),e.type==="image"&&!e.url&&t.addIssue({code:He.custom,message:"Une section de type 'image' doit avoir une URL.",path:["url"]})}),iwe=Iv({title:Oa().min(1,"Le titre du module est requis."),sections:Fw(nwe).min(1,"Un module doit avoir au moins une section."),isCompleted:DP().default(!1),level:nG().default(0)}),swe=Iv({title:Oa().min(1,"Le titre du cours est requis."),description:Oa().min(1,"La description du cours est requise."),subject_id:Oa().min(1,"La matière est requise."),difficulty:sG(["Débutant","Intermédiaire","Avancé"]),image_url:Oa().url("L'URL de l'image du cours doit être valide.").optional().or(iG("")),skills_to_acquire:Oa().min(1,"Les compétences à acquérir sont requises (séparées par des virgules)."),modules:Fw(iwe).min(1,"Un cours doit avoir au moins un module.")}),awe=({id:e,moduleIndex:t,form:r,removeModule:n,moduleFieldsLength:i})=>{const{attributes:s,listeners:a,setNodeRef:l,transform:c,transition:u,isDragging:f}=WP({id:e}),d={transform:jo.Transform.toString(c),transition:u,zIndex:f?100:"auto",opacity:f?.8:1},{fields:m,append:p,remove:x}=ZK({control:r.control,name:`modules.${t}.sections`});return o.jsxs(Re,{ref:l,style:d,className:Ne("p-4 border-l-4 border-primary/50 space-y-4 relative rounded-android-tile",f?"ring-2 ring-primary/50 shadow-xl":""),children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Module ",t+1]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(me,{type:"button",variant:"ghost",size:"icon",...a,...s,className:"cursor-grab",children:[o.jsx(c2,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Déplacer le module"})]}),o.jsxs(me,{type:"button",variant:"destructive",size:"sm",onClick:()=>n(t),disabled:i===1,children:[o.jsx(xx,{className:"h-4 w-4 mr-2"})," Supprimer le module"]})]})]}),o.jsx(Ti,{control:r.control,name:`modules.${t}.title`,render:({field:y})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Titre du module"}),o.jsx(xi,{children:o.jsx(rt,{placeholder:"Ex: Introduction à l'IA",...y})}),o.jsx(bi,{})]})}),o.jsxs("div",{className:"space-y-4 pl-4 border-l border-muted-foreground/50",children:[o.jsx("h4",{className:"text-md font-semibold",children:"Sections du module"}),m.map((y,v)=>{var b;return o.jsxs(Re,{className:"p-3 bg-muted/20 space-y-3 rounded-android-tile",children:[" ",o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h5",{className:"text-base font-medium",children:["Section ",v+1]}),o.jsx(me,{type:"button",variant:"destructive",size:"sm",onClick:()=>{const w=r.getValues(`modules.${t}.sections.${v}.questions`);w&&w[v]&&(w[v].options.splice(v,1),r.setValue(`modules.${t}.sections.${v}.questions`,w)),x(v)},disabled:m.length===1,children:o.jsx(xx,{className:"h-4 w-4"})})]}),o.jsx(Ti,{control:r.control,name:`modules.${t}.sections.${v}.title`,render:({field:w})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Titre de la section"}),o.jsx(xi,{children:o.jsx(rt,{placeholder:"Ex: Définition et Histoire",...w})}),o.jsx(bi,{})]})}),o.jsx(Ti,{control:r.control,name:`modules.${t}.sections.${v}.type`,render:({field:w})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Type de section"}),o.jsxs(Jf,{onValueChange:j=>{w.onChange(j),r.setValue(`modules.${t}.sections.${v}.url`,""),r.setValue(`modules.${t}.sections.${v}.questions`,[]),r.setValue(`modules.${t}.sections.${v}.passingScore`,void 0)},defaultValue:w.value,children:[o.jsx(xi,{children:o.jsx(Hu,{children:o.jsx(og,{placeholder:"Sélectionnez un type"})})}),o.jsxs(Ku,{className:"backdrop-blur-lg bg-background/80",children:[o.jsxs(si,{value:"text",children:[o.jsx(l2,{className:"inline-block h-4 w-4 mr-2"})," Texte"]}),o.jsxs(si,{value:"video",children:[o.jsx(DU,{className:"inline-block h-4 w-4 mr-2"})," Vidéo"]}),o.jsxs(si,{value:"image",children:[o.jsx(NU,{className:"inline-block h-4 w-4 mr-2"})," Image"]}),o.jsxs(si,{value:"quiz",children:[o.jsx(o2,{className:"inline-block h-4 w-4 mr-2"})," Quiz"]})]})]}),o.jsx(bi,{})]})}),["video","image"].includes(r.watch(`modules.${t}.sections.${v}.type`))&&o.jsx(Ti,{control:r.control,name:`modules.${t}.sections.${v}.url`,render:({field:w})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"URL (Vidéo/Image)"}),o.jsx(xi,{children:o.jsx(rt,{placeholder:"Ex: https://youtube.com/...",...w})}),o.jsx(bi,{})]})}),r.watch(`modules.${t}.sections.${v}.type`)==="quiz"&&o.jsxs(o.Fragment,{children:[o.jsx(Ti,{control:r.control,name:`modules.${t}.sections.${v}.passingScore`,render:({field:w})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Pourcentage de réussite requis (%)"}),o.jsx(xi,{children:o.jsx(rt,{type:"number",placeholder:"Ex: 70",...w,onChange:j=>w.onChange(parseInt(j.target.value))})}),o.jsx(bi,{})]})}),o.jsxs("div",{className:"space-y-3 mt-4 p-3 border rounded-md bg-background rounded-android-tile",children:[" ",o.jsx("h6",{className:"text-sm font-semibold",children:"Questions du Quiz"}),(b=r.watch(`modules.${t}.sections.${v}.questions`))==null?void 0:b.map((w,j)=>{var S;return o.jsxs(Re,{className:"p-3 bg-muted/10 space-y-2 rounded-android-tile",children:[" ",o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h6",{className:"text-sm font-medium",children:["Question ",j+1]}),o.jsx(me,{type:"button",variant:"destructive",size:"sm",onClick:()=>{const C=r.getValues(`modules.${t}.sections.${v}.questions`);C&&(C.splice(j,1),r.setValue(`modules.${t}.sections.${v}.questions`,C))},children:o.jsx(xx,{className:"h-3 w-3"})})]}),o.jsx(Ti,{control:r.control,name:`modules.${t}.sections.${v}.questions.${j}.question`,render:({field:C})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Texte de la question"}),o.jsx(xi,{children:o.jsx(rt,{placeholder:"Quelle est la capitale de la France ?",...C})}),o.jsx(bi,{})]})}),o.jsxs("div",{className:"space-y-2 pl-2 border-l border-muted-foreground/30",children:[o.jsx("h6",{className:"text-xs font-semibold",children:"Options"}),(S=r.watch(`modules.${t}.sections.${v}.questions.${j}.options`))==null?void 0:S.map((C,E)=>{var k;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ti,{control:r.control,name:`modules.${t}.sections.${v}.questions.${j}.options.${E}.text`,render:({field:O})=>o.jsxs(yi,{className:"flex-grow",children:[o.jsx(xi,{children:o.jsx(rt,{placeholder:"Option de réponse",...O})}),o.jsx(bi,{})]})}),o.jsx(Ti,{control:r.control,name:`modules.${t}.sections.${v}.questions.${j}.options.${E}.isCorrect`,render:({field:O})=>o.jsxs(yi,{className:"flex items-center space-x-2",children:[o.jsx(xi,{children:o.jsx("input",{type:"checkbox",checked:O.value,onChange:O.onChange,className:"h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary"})}),o.jsx(Mi,{className:"text-xs font-normal",children:"Correct"}),o.jsx(bi,{})]})}),o.jsx(me,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const O=r.getValues(`modules.${t}.sections.${v}.questions`);O&&O[j]&&(O[j].options.splice(E,1),r.setValue(`modules.${t}.sections.${v}.questions`,O))},disabled:((k=r.watch(`modules.${t}.sections.${v}.questions.${j}.options`))==null?void 0:k.length)===2,children:o.jsx(xx,{className:"h-3 w-3"})})]},E)}),o.jsxs(me,{type:"button",variant:"outline",size:"sm",onClick:()=>{var E;const C=r.getValues(`modules.${t}.sections.${v}.questions`);C&&C[j]&&(C[j].options=C[j].options||[],(E=C[j].options)==null||E.push({text:"",isCorrect:!1},{text:"",isCorrect:!1}),r.setValue(`modules.${t}.sections.${v}.questions`,C))},children:[o.jsx(gr,{className:"h-3 w-3 mr-1"})," Ajouter une option"]})]})]},j)}),o.jsxs(me,{type:"button",variant:"outline",size:"sm",onClick:()=>{var j;const w=r.getValues(`modules.${t}.sections`);w&&w[v]&&(w[v].questions=w[v].questions||[],(j=w[v].questions)==null||j.push({question:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}),r.setValue(`modules.${t}.sections`,w))},children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter une question"]})]})]}),r.watch(`modules.${t}.sections.${v}.type`)!=="quiz"&&o.jsx(Ti,{control:r.control,name:`modules.${t}.sections.${v}.content`,render:({field:w})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Contenu de la section"}),o.jsx(xi,{children:o.jsx(Yu,{placeholder:"Contenu de la section...",...w})}),o.jsx(bi,{})]})})]},y.id)}),o.jsxs(me,{type:"button",variant:"outline",size:"sm",onClick:()=>p({title:"",content:"Contenu de la nouvelle section.",type:"text",url:"",isCompleted:!1}),children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter une section"]})]})]})},D5=()=>{const{currentRole:e,isLoadingUser:t,currentUserProfile:r}=Qt(),{courseId:n}=i2(),i=on(),[s,a]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState(!1),d=Dxe({resolver:Fxe(swe),defaultValues:{title:"",description:"",subject_id:"",difficulty:"Débutant",image_url:"",skills_to_acquire:"",modules:[{title:"Introduction",sections:[{title:"Bienvenue",content:"Contenu de la section de bienvenue.",type:"text",url:"",isCompleted:!1}],isCompleted:!1,level:0}]}}),{fields:m,append:p,remove:x,move:y}=ZK({control:d.control,name:"modules"}),v=$P(lh(Bv),lh(qv,{coordinateGetter:HP}));function b(S){const{active:C,over:E}=S;if(C.id!==(E==null?void 0:E.id)){const k=m.findIndex(M=>M.id===C.id),O=m.findIndex(M=>M.id===(E==null?void 0:E.id));y(k,O)}}_.useEffect(()=>{(async()=>{if(c(await qi()),a(await bf(r==null?void 0:r.establishment_id)),n){const E=(await Nl()).find(k=>k.id===n);if(E){const k={...E,skills_to_acquire:E.skills_to_acquire.join(", "),subject_id:E.subject_id||""};d.reset(k)}else se("Cours non trouvé pour la modification."),i("/create-course")}else d.reset({title:"",description:"",subject_id:"",difficulty:"Débutant",image_url:"",skills_to_acquire:"",modules:[{title:"Introduction",sections:[{title:"Bienvenue",content:"Contenu de la section de bienvenue.",type:"text",url:"",isCompleted:!1}],isCompleted:!1,level:0}]})})()},[n,d,i,r==null?void 0:r.establishment_id]);const w=async S=>{if(!(r!=null&&r.id)){se("Impossible de créer ou modifier le cours : ID utilisateur non disponible.");return}const C={id:n||`course${Date.now()}`,title:S.title,description:S.description,subject_id:S.subject_id,difficulty:S.difficulty,image_url:S.image_url||void 0,skills_to_acquire:S.skills_to_acquire.split(",").map(E=>E.trim()),modules:S.modules,creator_id:r.id};f(!0);try{n?(await Mye(C),nt("Cours modifié avec succès !")):(await Pye(C),nt("Cours créé avec succès !")),i("/courses")}catch(E){console.error("Error saving course:",E),se(`Erreur lors de la sauvegarde du cours: ${E.message}`)}finally{f(!1)}};if(t)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(e!=="professeur")return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les professeurs peuvent accéder à cette page pour créer des cours."})]});const j=s.filter(S=>e==="administrator"||S.establishment_id===(r==null?void 0:r.establishment_id));return o.jsx(fbe,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(w),className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[" ",o.jsx("h1",{className:"text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:n?"Modifier le cours":"Créer un nouveau cours"}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Informations Générales du Cours"}),o.jsx(Le,{children:"Remplissez les détails de base de votre cours."})]}),o.jsxs(qe,{className:"grid gap-4",children:[o.jsx(Ti,{control:d.control,name:"title",render:({field:S})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Titre du cours"}),o.jsx(xi,{children:o.jsx(rt,{placeholder:"Ex: Introduction à la programmation",...S})}),o.jsx(bi,{})]})}),o.jsx(Ti,{control:d.control,name:"description",render:({field:S})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Description"}),o.jsx(xi,{children:o.jsx(Yu,{placeholder:"Décrivez votre cours en quelques mots.",...S})}),o.jsx(bi,{})]})}),o.jsx(Ti,{control:d.control,name:"subject_id",render:({field:S})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Matière"})," ",o.jsxs(Jf,{onValueChange:S.onChange,value:S.value,children:[o.jsx(xi,{children:o.jsx(Hu,{className:"rounded-android-tile",children:o.jsx(og,{placeholder:"Sélectionnez une matière"})})}),o.jsx(Ku,{className:"backdrop-blur-lg bg-background/80 rounded-android-tile",children:j.length===0?o.jsx(si,{value:"no-subjects",disabled:!0,children:"Aucune matière disponible"}):j.map(C=>o.jsx(si,{value:C.id,children:C.name},C.id))})]}),o.jsx(bi,{})]})}),o.jsx(Ti,{control:d.control,name:"difficulty",render:({field:S})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Niveau de difficulté"}),o.jsxs(Jf,{onValueChange:S.onChange,defaultValue:S.value,children:[o.jsx(xi,{children:o.jsx(Hu,{className:"rounded-android-tile",children:o.jsx(og,{placeholder:"Sélectionnez un niveau"})})}),o.jsxs(Ku,{className:"backdrop-blur-lg bg-background/80 rounded-android-tile",children:[o.jsx(si,{value:"Débutant",children:"Débutant"}),o.jsx(si,{value:"Intermédiaire",children:"Intermédiaire"}),o.jsx(si,{value:"Avancé",children:"Avancé"})]})]}),o.jsx(bi,{})]})}),o.jsx(Ti,{control:d.control,name:"image_url",render:({field:S})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"URL de l'image du cours (optionnel)"}),o.jsx(xi,{children:o.jsx(rt,{placeholder:"Ex: https://example.com/image.jpg",...S})}),o.jsx(bi,{})]})}),o.jsx(Ti,{control:d.control,name:"skills_to_acquire",render:({field:S})=>o.jsxs(yi,{children:[o.jsx(Mi,{children:"Compétences à acquérir (séparées par des virgules)"}),o.jsx(xi,{children:o.jsx(rt,{placeholder:"Ex: Programmation, Analyse de données, Design",...S})}),o.jsx(bi,{})]})})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Modules du Cours"}),o.jsx(Le,{children:"Définissez la structure de vos modules et sections. Utilisez la poignée pour réorganiser les modules."})]}),o.jsxs(qe,{className:"space-y-6",children:[o.jsx(VP,{sensors:v,collisionDetection:FP,onDragEnd:b,children:o.jsx(DG,{items:m.map(S=>S.id),strategy:PG,children:m.map((S,C)=>o.jsx(awe,{id:S.id,moduleIndex:C,form:d,removeModule:x,moduleFieldsLength:m.length},S.id))})}),o.jsxs(me,{type:"button",variant:"outline",onClick:()=>p({title:"",sections:[{title:"",content:"Contenu de la nouvelle section.",type:"text",url:"",isCompleted:!1}],isCompleted:!1,level:0}),children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter un module"]})]})]}),o.jsx(me,{type:"submit",className:"w-full",disabled:u,children:u?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):n?"Sauvegarder les modifications":"Créer le cours"})]})})};var hj,I5;function us(){if(I5)return hj;I5=1;var e=Array.isArray;return hj=e,hj}var mj,L5;function $G(){if(L5)return mj;L5=1;var e=typeof hx=="object"&&hx&&hx.Object===Object&&hx;return mj=e,mj}var pj,$5;function Po(){if($5)return pj;$5=1;var e=$G(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return pj=r,pj}var gj,F5;function Vv(){if(F5)return gj;F5=1;var e=Po(),t=e.Symbol;return gj=t,gj}var vj,q5;function owe(){if(q5)return vj;q5=1;var e=Vv(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(a){var l=r.call(a,i),c=a[i];try{a[i]=void 0;var u=!0}catch{}var f=n.call(a);return u&&(l?a[i]=c:delete a[i]),f}return vj=s,vj}var yj,B5;function lwe(){if(B5)return yj;B5=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return yj=r,yj}var xj,z5;function El(){if(z5)return xj;z5=1;var e=Vv(),t=owe(),r=lwe(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function a(l){return l==null?l===void 0?i:n:s&&s in Object(l)?t(l):r(l)}return xj=a,xj}var bj,V5;function kl(){if(V5)return bj;V5=1;function e(t){return t!=null&&typeof t=="object"}return bj=e,bj}var wj,U5;function fm(){if(U5)return wj;U5=1;var e=El(),t=kl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return wj=n,wj}var _j,W5;function KP(){if(W5)return _j;W5=1;var e=us(),t=fm(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||a!=null&&s in Object(a)}return _j=i,_j}var Sj,H5;function Uc(){if(H5)return Sj;H5=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Sj=e,Sj}var jj,K5;function GP(){if(K5)return jj;K5=1;var e=El(),t=Uc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(l){if(!t(l))return!1;var c=e(l);return c==n||c==i||c==r||c==s}return jj=a,jj}var Cj,G5;function cwe(){if(G5)return Cj;G5=1;var e=Po(),t=e["__core-js_shared__"];return Cj=t,Cj}var Nj,Y5;function uwe(){if(Y5)return Nj;Y5=1;var e=cwe(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Nj=r,Nj}var Ej,Q5;function FG(){if(Q5)return Ej;Q5=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Ej=r,Ej}var kj,X5;function dwe(){if(X5)return kj;X5=1;var e=GP(),t=uwe(),r=Uc(),n=FG(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,c=a.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(m){if(!r(m)||t(m))return!1;var p=e(m)?f:s;return p.test(n(m))}return kj=d,kj}var Oj,Z5;function fwe(){if(Z5)return Oj;Z5=1;function e(t,r){return t==null?void 0:t[r]}return Oj=e,Oj}var Aj,J5;function pd(){if(J5)return Aj;J5=1;var e=dwe(),t=fwe();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return Aj=r,Aj}var Tj,e3;function Kw(){if(e3)return Tj;e3=1;var e=pd(),t=e(Object,"create");return Tj=t,Tj}var Pj,t3;function hwe(){if(t3)return Pj;t3=1;var e=Kw();function t(){this.__data__=e?e(null):{},this.size=0}return Pj=t,Pj}var Mj,r3;function mwe(){if(r3)return Mj;r3=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Mj=e,Mj}var Rj,n3;function pwe(){if(n3)return Rj;n3=1;var e=Kw(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var a=this.__data__;if(e){var l=a[s];return l===t?void 0:l}return n.call(a,s)?a[s]:void 0}return Rj=i,Rj}var Dj,i3;function gwe(){if(i3)return Dj;i3=1;var e=Kw(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return Dj=n,Dj}var Ij,s3;function vwe(){if(s3)return Ij;s3=1;var e=Kw(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return Ij=r,Ij}var Lj,a3;function ywe(){if(a3)return Lj;a3=1;var e=hwe(),t=mwe(),r=pwe(),n=gwe(),i=vwe();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Lj=s,Lj}var $j,o3;function xwe(){if(o3)return $j;o3=1;function e(){this.__data__=[],this.size=0}return $j=e,$j}var Fj,l3;function YP(){if(l3)return Fj;l3=1;function e(t,r){return t===r||t!==t&&r!==r}return Fj=e,Fj}var qj,c3;function Gw(){if(c3)return qj;c3=1;var e=YP();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return qj=t,qj}var Bj,u3;function bwe(){if(u3)return Bj;u3=1;var e=Gw(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,a=e(s,i);if(a<0)return!1;var l=s.length-1;return a==l?s.pop():r.call(s,a,1),--this.size,!0}return Bj=n,Bj}var zj,d3;function wwe(){if(d3)return zj;d3=1;var e=Gw();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return zj=t,zj}var Vj,f3;function _we(){if(f3)return Vj;f3=1;var e=Gw();function t(r){return e(this.__data__,r)>-1}return Vj=t,Vj}var Uj,h3;function Swe(){if(h3)return Uj;h3=1;var e=Gw();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return Uj=t,Uj}var Wj,m3;function Yw(){if(m3)return Wj;m3=1;var e=xwe(),t=bwe(),r=wwe(),n=_we(),i=Swe();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Wj=s,Wj}var Hj,p3;function QP(){if(p3)return Hj;p3=1;var e=pd(),t=Po(),r=e(t,"Map");return Hj=r,Hj}var Kj,g3;function jwe(){if(g3)return Kj;g3=1;var e=ywe(),t=Yw(),r=QP();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Kj=n,Kj}var Gj,v3;function Cwe(){if(v3)return Gj;v3=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Gj=e,Gj}var Yj,y3;function Qw(){if(y3)return Yj;y3=1;var e=Cwe();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Yj=t,Yj}var Qj,x3;function Nwe(){if(x3)return Qj;x3=1;var e=Qw();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Qj=t,Qj}var Xj,b3;function Ewe(){if(b3)return Xj;b3=1;var e=Qw();function t(r){return e(this,r).get(r)}return Xj=t,Xj}var Zj,w3;function kwe(){if(w3)return Zj;w3=1;var e=Qw();function t(r){return e(this,r).has(r)}return Zj=t,Zj}var Jj,_3;function Owe(){if(_3)return Jj;_3=1;var e=Qw();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return Jj=t,Jj}var eC,S3;function XP(){if(S3)return eC;S3=1;var e=jwe(),t=Nwe(),r=Ewe(),n=kwe(),i=Owe();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,eC=s,eC}var tC,j3;function qG(){if(j3)return tC;j3=1;var e=XP(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var a=arguments,l=i?i.apply(this,a):a[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,a);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||e),s}return r.Cache=e,tC=r,tC}var rC,C3;function Awe(){if(C3)return rC;C3=1;var e=qG(),t=500;function r(n){var i=e(n,function(a){return s.size===t&&s.clear(),a}),s=i.cache;return i}return rC=r,rC}var nC,N3;function Twe(){if(N3)return nC;N3=1;var e=Awe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(a,l,c,u){s.push(c?u.replace(r,"$1"):l||a)}),s});return nC=n,nC}var iC,E3;function ZP(){if(E3)return iC;E3=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return iC=e,iC}var sC,k3;function Pwe(){if(k3)return sC;k3=1;var e=Vv(),t=ZP(),r=us(),n=fm(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function a(l){if(typeof l=="string")return l;if(r(l))return t(l,a)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return sC=a,sC}var aC,O3;function BG(){if(O3)return aC;O3=1;var e=Pwe();function t(r){return r==null?"":e(r)}return aC=t,aC}var oC,A3;function zG(){if(A3)return oC;A3=1;var e=us(),t=KP(),r=Twe(),n=BG();function i(s,a){return e(s)?s:t(s,a)?[s]:r(n(s))}return oC=i,oC}var lC,T3;function Xw(){if(T3)return lC;T3=1;var e=fm();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return lC=t,lC}var cC,P3;function JP(){if(P3)return cC;P3=1;var e=zG(),t=Xw();function r(n,i){i=e(i,n);for(var s=0,a=i.length;n!=null&&s<a;)n=n[t(i[s++])];return s&&s==a?n:void 0}return cC=r,cC}var uC,M3;function VG(){if(M3)return uC;M3=1;var e=JP();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return uC=t,uC}var Mwe=VG();const ea=wr(Mwe);var dC,R3;function Rwe(){if(R3)return dC;R3=1;function e(t){return t==null}return dC=e,dC}var Dwe=Rwe();const Yt=wr(Dwe);var fC,D3;function Iwe(){if(D3)return fC;D3=1;var e=El(),t=us(),r=kl(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return fC=i,fC}var Lwe=Iwe();const Xu=wr(Lwe);var $we=GP();const Vt=wr($we);var Fwe=Uc();const hm=wr(Fwe);var hC={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3;function qwe(){if(I3)return vr;I3=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case e:switch(v=v.type,v){case r:case i:case n:case u:case f:return v;default:switch(v=v&&v.$$typeof,v){case l:case a:case c:case m:case d:case s:return v;default:return b}}case t:return b}}}return vr.ContextConsumer=a,vr.ContextProvider=s,vr.Element=e,vr.ForwardRef=c,vr.Fragment=r,vr.Lazy=m,vr.Memo=d,vr.Portal=t,vr.Profiler=i,vr.StrictMode=n,vr.Suspense=u,vr.SuspenseList=f,vr.isAsyncMode=function(){return!1},vr.isConcurrentMode=function(){return!1},vr.isContextConsumer=function(v){return y(v)===a},vr.isContextProvider=function(v){return y(v)===s},vr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},vr.isForwardRef=function(v){return y(v)===c},vr.isFragment=function(v){return y(v)===r},vr.isLazy=function(v){return y(v)===m},vr.isMemo=function(v){return y(v)===d},vr.isPortal=function(v){return y(v)===t},vr.isProfiler=function(v){return y(v)===i},vr.isStrictMode=function(v){return y(v)===n},vr.isSuspense=function(v){return y(v)===u},vr.isSuspenseList=function(v){return y(v)===f},vr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===u||v===f||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===d||v.$$typeof===s||v.$$typeof===a||v.$$typeof===c||v.$$typeof===x||v.getModuleId!==void 0)},vr.typeOf=y,vr}var L3;function Bwe(){return L3||(L3=1,hC.exports=qwe()),hC.exports}var zwe=Bwe(),mC,$3;function UG(){if($3)return mC;$3=1;var e=El(),t=kl(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return mC=n,mC}var pC,F3;function Vwe(){if(F3)return pC;F3=1;var e=UG();function t(r){return e(r)&&r!=+r}return pC=t,pC}var Uwe=Vwe();const Uv=wr(Uwe);var Wwe=UG();const Hwe=wr(Wwe);var Ma=function(t){return t===0?0:t>0?1:-1},ju=function(t){return Xu(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return Hwe(t)&&!Uv(t)},Kwe=function(t){return Yt(t)},Pn=function(t){return Xe(t)||Xu(t)},Gwe=0,Wv=function(t){var r=++Gwe;return"".concat(t||"").concat(r)},Zu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!Xu(t))return n;var s;if(ju(t)){var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return Uv(s)&&(s=n),i&&s>r&&(s=r),s},uc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Ywe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Na=function(t,r){return Xe(t)&&Xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Jb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ea(n,t))===r})}var Qwe=function(t,r){return Xe(t)&&Xe(r)?t-r:Xu(t)&&Xu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Tf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function cA(e){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cA(e)}var Xwe=["viewBox","children"],Zwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],q3=["points","pathLength"],gC={svg:Xwe,polygon:q3,polyline:q3},eM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],e0=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!hm(n))return null;var i={};return Object.keys(n).forEach(function(s){eM.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},Jwe=function(t,r,n){return function(i){return t(r,n,i),null}},t0=function(t,r,n){if(!hm(t)||cA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var a=t[s];eM.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Jwe(a,r,n))}),i},e_e=["children"],t_e=["children"];function B3(e,t){if(e==null)return{};var r=r_e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uA(e){"@babel/helpers - typeof";return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uA(e)}var z3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},rl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},V3=null,vC=null,tM=function e(t){if(t===V3&&Array.isArray(vC))return vC;var r=[];return _.Children.forEach(t,function(n){Yt(n)||(zwe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),vC=r,V3=t,r};function ta(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return rl(i)}):n=[rl(t)],tM(e).forEach(function(i){var s=ea(i,"type.displayName")||ea(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function bs(e,t){var r=ta(e,t);return r&&r[0]}var U3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Xe(n)||n<=0||!Xe(i)||i<=0)},n_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],i_e=function(t){return t&&t.type&&Xu(t.type)&&n_e.indexOf(t.type)>=0},s_e=function(t){return t&&uA(t)==="object"&&"clipDot"in t},a_e=function(t,r,n,i){var s,a=(s=gC==null?void 0:gC[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Vt(t)&&(i&&a.includes(r)||Zwe.includes(r))||n&&eM.includes(r)},nr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(_.isValidElement(t)&&(i=t.props),!hm(i))return null;var s={};return Object.keys(i).forEach(function(a){var l;a_e((l=i)===null||l===void 0?void 0:l[a],a,r,n)&&(s[a]=i[a])}),s},dA=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return W3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!e(s,a))return!1}else if(!W3(s,a))return!1}return!0},W3=function(t,r){if(Yt(t)&&Yt(r))return!0;if(!Yt(t)&&!Yt(r)){var n=t.props||{},i=n.children,s=B3(n,e_e),a=r.props||{},l=a.children,c=B3(a,t_e);return i&&l?Tf(s,c)&&dA(i,l):!i&&!l?Tf(s,c):!1}return!1},H3=function(t,r){var n=[],i={};return tM(t).forEach(function(s,a){if(i_e(s))n.push(s);else if(s){var l=rl(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var d=u(s,l,a);n.push(d),i[l]=!0}}}),n},o_e=function(t){var r=t&&t.type;return r&&z3[r]?z3[r]:null},l_e=function(t,r){return tM(r).indexOf(t)},c_e=["children","width","height","viewBox","className","style","title","desc"];function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fA.apply(this,arguments)}function u_e(e,t){if(e==null)return{};var r=d_e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hA(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,a=e.style,l=e.title,c=e.desc,u=u_e(e,c_e),f=i||{width:r,height:n,x:0,y:0},d=ir("recharts-surface",s);return Y.createElement("svg",fA({},nr(u,!0,"svg"),{className:d,width:r,height:n,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Y.createElement("title",null,l),Y.createElement("desc",null,c),t)}var f_e=["children","className"];function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mA.apply(this,arguments)}function h_e(e,t){if(e==null)return{};var r=m_e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fn=Y.forwardRef(function(e,t){var r=e.children,n=e.className,i=h_e(e,f_e),s=ir("recharts-layer",n);return Y.createElement("g",mA({className:s},nr(i,!0),{ref:t}),r)}),nl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},yC,K3;function p_e(){if(K3)return yC;K3=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(s);++i<s;)a[i]=t[i+r];return a}return yC=e,yC}var xC,G3;function g_e(){if(G3)return xC;G3=1;var e=p_e();function t(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:e(r,n,i)}return xC=t,xC}var bC,Y3;function WG(){if(Y3)return bC;Y3=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+e+i+s+"]");function c(u){return l.test(u)}return bC=c,bC}var wC,Q3;function v_e(){if(Q3)return wC;Q3=1;function e(t){return t.split("")}return wC=e,wC}var _C,X3;function y_e(){if(X3)return _C;X3=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",a="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",x=u+"?",y="["+s+"]?",v="(?:"+p+"(?:"+[f,d,m].join("|")+")"+y+x+")*",b=y+x+v,w="(?:"+[f+l+"?",l,d,m,a].join("|")+")",j=RegExp(c+"(?="+c+")|"+w+b,"g");function S(C){return C.match(j)||[]}return _C=S,_C}var SC,Z3;function x_e(){if(Z3)return SC;Z3=1;var e=v_e(),t=WG(),r=y_e();function n(i){return t(i)?r(i):e(i)}return SC=n,SC}var jC,J3;function b_e(){if(J3)return jC;J3=1;var e=g_e(),t=WG(),r=x_e(),n=BG();function i(s){return function(a){a=n(a);var l=t(a)?r(a):void 0,c=l?l[0]:a.charAt(0),u=l?e(l,1).join(""):a.slice(1);return c[s]()+u}}return jC=i,jC}var CC,eF;function w_e(){if(eF)return CC;eF=1;var e=b_e(),t=e("toUpperCase");return CC=t,CC}var __e=w_e();const Zw=wr(__e);function Pr(e){return function(){return e}}const HG=Math.cos,r0=Math.sin,Ha=Math.sqrt,n0=Math.PI,Jw=2*n0,pA=Math.PI,gA=2*pA,vu=1e-6,S_e=gA-vu;function KG(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function j_e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KG;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class C_e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KG:j_e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,f=a-t,d=l-r,m=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>vu)if(!(Math.abs(d*c-u*f)>vu)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-a,x=i-l,y=c*c+u*u,v=p*p+x*x,b=Math.sqrt(y),w=Math.sqrt(m),j=s*Math.tan((pA-Math.acos((y+m-v)/(2*b*w)))/2),S=j/w,C=j/b;Math.abs(S-1)>vu&&this._append`L${t+S*f},${r+S*d}`,this._append`A${s},${s},0,0,${+(d*p>f*x)},${this._x1=t+C*c},${this._y1=r+C*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,f=r+c,d=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>vu||Math.abs(this._y1-f)>vu)&&this._append`L${u},${f}`,n&&(m<0&&(m=m%gA+gA),m>S_e?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:m>vu&&this._append`A${n},${n},0,${+(m>=pA)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function rM(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new C_e(t)}function nM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GG(e){this._context=e}GG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function e_(e){return new GG(e)}function YG(e){return e[0]}function QG(e){return e[1]}function XG(e,t){var r=Pr(!0),n=null,i=e_,s=null,a=rM(l);e=typeof e=="function"?e:e===void 0?YG:Pr(e),t=typeof t=="function"?t:t===void 0?QG:Pr(t);function l(c){var u,f=(c=nM(c)).length,d,m=!1,p;for(n==null&&(s=i(p=a())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(d,u,c),+t(d,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Pr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Pr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Pr(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Ix(e,t,r){var n=null,i=Pr(!0),s=null,a=e_,l=null,c=rM(u);e=typeof e=="function"?e:e===void 0?YG:Pr(+e),t=typeof t=="function"?t:Pr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?QG:Pr(+r);function u(d){var m,p,x,y=(d=nM(d)).length,v,b=!1,w,j=new Array(y),S=new Array(y);for(s==null&&(l=a(w=c())),m=0;m<=y;++m){if(!(m<y&&i(v=d[m],m,d))===b)if(b=!b)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=p;--x)l.point(j[x],S[x]);l.lineEnd(),l.areaEnd()}b&&(j[m]=+e(v,m,d),S[m]=+t(v,m,d),l.point(n?+n(v,m,d):j[m],r?+r(v,m,d):S[m]))}if(w)return l=null,w+""||null}function f(){return XG().defined(i).curve(a).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Pr(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Pr(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Pr(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Pr(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Pr(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Pr(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Pr(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,s!=null&&(l=a(s)),u):a},u.context=function(d){return arguments.length?(d==null?s=l=null:l=a(s=d),u):s},u}class ZG{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function N_e(e){return new ZG(e,!0)}function E_e(e){return new ZG(e,!1)}const iM={draw(e,t){const r=Ha(t/n0);e.moveTo(r,0),e.arc(0,0,r,0,Jw)}},k_e={draw(e,t){const r=Ha(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},JG=Ha(1/3),O_e=JG*2,A_e={draw(e,t){const r=Ha(t/O_e),n=r*JG;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},T_e={draw(e,t){const r=Ha(t),n=-r/2;e.rect(n,n,r,r)}},P_e=.8908130915292852,eY=r0(n0/10)/r0(7*n0/10),M_e=r0(Jw/10)*eY,R_e=-HG(Jw/10)*eY,D_e={draw(e,t){const r=Ha(t*P_e),n=M_e*r,i=R_e*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=Jw*s/5,l=HG(a),c=r0(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},NC=Ha(3),I_e={draw(e,t){const r=-Ha(t/(NC*3));e.moveTo(0,r*2),e.lineTo(-NC*r,-r),e.lineTo(NC*r,-r),e.closePath()}},zs=-.5,Vs=Ha(3)/2,vA=1/Ha(12),L_e=(vA/2+1)*3,$_e={draw(e,t){const r=Ha(t/L_e),n=r/2,i=r*vA,s=n,a=r*vA+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(zs*n-Vs*i,Vs*n+zs*i),e.lineTo(zs*s-Vs*a,Vs*s+zs*a),e.lineTo(zs*l-Vs*c,Vs*l+zs*c),e.lineTo(zs*n+Vs*i,zs*i-Vs*n),e.lineTo(zs*s+Vs*a,zs*a-Vs*s),e.lineTo(zs*l+Vs*c,zs*c-Vs*l),e.closePath()}};function F_e(e,t){let r=null,n=rM(i);e=typeof e=="function"?e:Pr(e||iM),t=typeof t=="function"?t:Pr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Pr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Pr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function i0(){}function s0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function tY(e){this._context=e}tY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:s0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q_e(e){return new tY(e)}function rY(e){this._context=e}rY.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B_e(e){return new rY(e)}function nY(e){this._context=e}nY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z_e(e){return new nY(e)}function iY(e){this._context=e}iY.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V_e(e){return new iY(e)}function tF(e){return e<0?-1:1}function rF(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(tF(s)+tF(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function nF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function EC(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function a0(e){this._context=e}a0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:EC(this,this._t0,nF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,EC(this,nF(this,r=rF(this,e,t)),r);break;default:EC(this,this._t0,r=rF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function sY(e){this._context=new aY(e)}(sY.prototype=Object.create(a0.prototype)).point=function(e,t){a0.prototype.point.call(this,t,e)};function aY(e){this._context=e}aY.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function U_e(e){return new a0(e)}function W_e(e){return new sY(e)}function oY(e){this._context=e}oY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=iF(e),i=iF(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iF(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function H_e(e){return new oY(e)}function t_(e,t){this._context=e,this._t=t}t_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function K_e(e){return new t_(e,.5)}function G_e(e){return new t_(e,0)}function Y_e(e){return new t_(e,1)}function ch(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function yA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Q_e(e,t){return e[t]}function X_e(e){const t=[];return t.key=e,t}function Z_e(){var e=Pr([]),t=yA,r=ch,n=Q_e;function i(s){var a=Array.from(e.apply(this,arguments),X_e),l,c=a.length,u=-1,f;for(const d of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(d,a[l].key,u,s)]).data=d;for(l=0,f=nM(t(a));l<c;++l)a[f[l]].index=l;return r(a,f),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Pr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?yA:typeof s=="function"?s:Pr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??ch,i):r},i}function J_e(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}ch(e,t)}}function e1e(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}ch(e,t)}}function t1e(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var f=e[t[l]],d=f[n][1]||0,m=f[n-1][1]||0,p=(d-m)/2,x=0;x<l;++x){var y=e[t[x]],v=y[n][1]||0,b=y[n-1][1]||0;p+=v-b}c+=d,u+=p*d}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,ch(e,t)}}function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}var r1e=["type","size","sizeType"];function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xA.apply(this,arguments)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){n1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n1e(e,t,r){return t=i1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i1e(e){var t=s1e(e,"string");return wg(t)=="symbol"?t:t+""}function s1e(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a1e(e,t){if(e==null)return{};var r=o1e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lY={symbolCircle:iM,symbolCross:k_e,symbolDiamond:A_e,symbolSquare:T_e,symbolStar:D_e,symbolTriangle:I_e,symbolWye:$_e},l1e=Math.PI/180,c1e=function(t){var r="symbol".concat(Zw(t));return lY[r]||iM},u1e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*l1e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},d1e=function(t,r){lY["symbol".concat(Zw(t))]=r},sM=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,a=t.sizeType,l=a===void 0?"area":a,c=a1e(t,r1e),u=aF(aF({},c),{},{type:n,size:s,sizeType:l}),f=function(){var v=c1e(n),b=F_e().type(v).size(u1e(s,l,n));return b()},d=u.className,m=u.cx,p=u.cy,x=nr(u,!0);return m===+m&&p===+p&&s===+s?Y.createElement("path",xA({},x,{className:ir("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(p,")"),d:f()})):null};sM.registerSymbol=d1e;function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bA.apply(this,arguments)}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){_g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uY(n.key),n)}}function p1e(e,t,r){return t&&m1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g1e(e,t,r){return t=o0(t),v1e(e,cY()?Reflect.construct(t,r||[],o0(e).constructor):t.apply(e,r))}function v1e(e,t){if(t&&(uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1e(e)}function y1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cY=function(){return!!e})()}function o0(e){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o0(e)}function x1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wA(e,t)}function wA(e,t){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wA(e,t)}function _g(e,t,r){return t=uY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=b1e(e,"string");return uh(t)=="symbol"?t:t+""}function b1e(e,t){if(uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Us=32,aM=(function(e){function t(){return h1e(this,t),g1e(this,t,arguments)}return x1e(t,e),p1e(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Us/2,a=Us/6,l=Us/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Us,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Us,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Us/8,"h").concat(Us,"v").concat(Us*3/4,"h").concat(-Us,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var u=f1e({},n);return delete u.legendIcon,Y.cloneElement(n.legendIcon,u)}return Y.createElement(sM,{fill:c,cx:s,cy:s,size:Us,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Us,height:Us},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,x){var y=p.formatter||c,v=ir(_g(_g({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Vt(p.value)?null:p.value;nl(!Vt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return Y.createElement("li",bA({className:v,style:d,key:"legend-item-".concat(x)},t0(n.props,p,x)),Y.createElement(hA,{width:a,height:a,viewBox:f,style:m},n.renderIcon(p)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(b,p,x):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(_.PureComponent);_g(aM,"displayName","Legend");_g(aM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kC,lF;function w1e(){if(lF)return kC;lF=1;var e=Yw();function t(){this.__data__=new e,this.size=0}return kC=t,kC}var OC,cF;function _1e(){if(cF)return OC;cF=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return OC=e,OC}var AC,uF;function S1e(){if(uF)return AC;uF=1;function e(t){return this.__data__.get(t)}return AC=e,AC}var TC,dF;function j1e(){if(dF)return TC;dF=1;function e(t){return this.__data__.has(t)}return TC=e,TC}var PC,fF;function C1e(){if(fF)return PC;fF=1;var e=Yw(),t=QP(),r=XP(),n=200;function i(s,a){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([s,a]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,a),this.size=l.size,this}return PC=i,PC}var MC,hF;function dY(){if(hF)return MC;hF=1;var e=Yw(),t=w1e(),r=_1e(),n=S1e(),i=j1e(),s=C1e();function a(l){var c=this.__data__=new e(l);this.size=c.size}return a.prototype.clear=t,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,MC=a,MC}var RC,mF;function N1e(){if(mF)return RC;mF=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return RC=t,RC}var DC,pF;function E1e(){if(pF)return DC;pF=1;function e(t){return this.__data__.has(t)}return DC=e,DC}var IC,gF;function fY(){if(gF)return IC;gF=1;var e=XP(),t=N1e(),r=E1e();function n(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new e;++s<a;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,IC=n,IC}var LC,vF;function hY(){if(vF)return LC;vF=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return LC=e,LC}var $C,yF;function mY(){if(yF)return $C;yF=1;function e(t,r){return t.has(r)}return $C=e,$C}var FC,xF;function pY(){if(xF)return FC;xF=1;var e=fY(),t=hY(),r=mY(),n=1,i=2;function s(a,l,c,u,f,d){var m=c&n,p=a.length,x=l.length;if(p!=x&&!(m&&x>p))return!1;var y=d.get(a),v=d.get(l);if(y&&v)return y==l&&v==a;var b=-1,w=!0,j=c&i?new e:void 0;for(d.set(a,l),d.set(l,a);++b<p;){var S=a[b],C=l[b];if(u)var E=m?u(C,S,b,l,a,d):u(S,C,b,a,l,d);if(E!==void 0){if(E)continue;w=!1;break}if(j){if(!t(l,function(k,O){if(!r(j,O)&&(S===k||f(S,k,c,u,d)))return j.push(O)})){w=!1;break}}else if(!(S===C||f(S,C,c,u,d))){w=!1;break}}return d.delete(a),d.delete(l),w}return FC=s,FC}var qC,bF;function k1e(){if(bF)return qC;bF=1;var e=Po(),t=e.Uint8Array;return qC=t,qC}var BC,wF;function O1e(){if(wF)return BC;wF=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return BC=e,BC}var zC,_F;function oM(){if(_F)return zC;_F=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return zC=e,zC}var VC,SF;function A1e(){if(SF)return VC;SF=1;var e=Vv(),t=k1e(),r=YP(),n=pY(),i=O1e(),s=oM(),a=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",d="[object Map]",m="[object Number]",p="[object RegExp]",x="[object Set]",y="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",j=e?e.prototype:void 0,S=j?j.valueOf:void 0;function C(E,k,O,M,R,T,P){switch(O){case w:if(E.byteLength!=k.byteLength||E.byteOffset!=k.byteOffset)return!1;E=E.buffer,k=k.buffer;case b:return!(E.byteLength!=k.byteLength||!T(new t(E),new t(k)));case c:case u:case m:return r(+E,+k);case f:return E.name==k.name&&E.message==k.message;case p:case y:return E==k+"";case d:var I=i;case x:var B=M&a;if(I||(I=s),E.size!=k.size&&!B)return!1;var $=P.get(E);if($)return $==k;M|=l,P.set(E,k);var H=n(I(E),I(k),M,R,T,P);return P.delete(E),H;case v:if(S)return S.call(E)==S.call(k)}return!1}return VC=C,VC}var UC,jF;function gY(){if(jF)return UC;jF=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return UC=e,UC}var WC,CF;function T1e(){if(CF)return WC;CF=1;var e=gY(),t=us();function r(n,i,s){var a=i(n);return t(n)?a:e(a,s(n))}return WC=r,WC}var HC,NF;function P1e(){if(NF)return HC;NF=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,a=[];++n<i;){var l=t[n];r(l,n,t)&&(a[s++]=l)}return a}return HC=e,HC}var KC,EF;function M1e(){if(EF)return KC;EF=1;function e(){return[]}return KC=e,KC}var GC,kF;function R1e(){if(kF)return GC;kF=1;var e=P1e(),t=M1e(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(l){return n.call(a,l)}))}:t;return GC=s,GC}var YC,OF;function D1e(){if(OF)return YC;OF=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return YC=e,YC}var QC,AF;function I1e(){if(AF)return QC;AF=1;var e=El(),t=kl(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return QC=n,QC}var XC,TF;function lM(){if(TF)return XC;TF=1;var e=I1e(),t=kl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(a){return t(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return XC=s,XC}var Ep={exports:{}},ZC,PF;function L1e(){if(PF)return ZC;PF=1;function e(){return!1}return ZC=e,ZC}Ep.exports;var MF;function vY(){return MF||(MF=1,(function(e,t){var r=Po(),n=L1e(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,l=a?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Ep,Ep.exports)),Ep.exports}var JC,RF;function cM(){if(RF)return JC;RF=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return JC=r,JC}var eN,DF;function uM(){if(DF)return eN;DF=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return eN=t,eN}var tN,IF;function $1e(){if(IF)return tN;IF=1;var e=El(),t=uM(),r=kl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",d="[object Object]",m="[object RegExp]",p="[object Set]",x="[object String]",y="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",T={};T[w]=T[j]=T[S]=T[C]=T[E]=T[k]=T[O]=T[M]=T[R]=!0,T[n]=T[i]=T[v]=T[s]=T[b]=T[a]=T[l]=T[c]=T[u]=T[f]=T[d]=T[m]=T[p]=T[x]=T[y]=!1;function P(I){return r(I)&&t(I.length)&&!!T[e(I)]}return tN=P,tN}var rN,LF;function yY(){if(LF)return rN;LF=1;function e(t){return function(r){return t(r)}}return rN=e,rN}var kp={exports:{}};kp.exports;var $F;function F1e(){return $F||($F=1,(function(e,t){var r=$G(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,a=s&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}})();e.exports=l})(kp,kp.exports)),kp.exports}var nN,FF;function xY(){if(FF)return nN;FF=1;var e=$1e(),t=yY(),r=F1e(),n=r&&r.isTypedArray,i=n?t(n):e;return nN=i,nN}var iN,qF;function q1e(){if(qF)return iN;qF=1;var e=D1e(),t=lM(),r=us(),n=vY(),i=cM(),s=xY(),a=Object.prototype,l=a.hasOwnProperty;function c(u,f){var d=r(u),m=!d&&t(u),p=!d&&!m&&n(u),x=!d&&!m&&!p&&s(u),y=d||m||p||x,v=y?e(u.length,String):[],b=v.length;for(var w in u)(f||l.call(u,w))&&!(y&&(w=="length"||p&&(w=="offset"||w=="parent")||x&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||i(w,b)))&&v.push(w);return v}return iN=c,iN}var sN,BF;function B1e(){if(BF)return sN;BF=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return sN=t,sN}var aN,zF;function bY(){if(zF)return aN;zF=1;function e(t,r){return function(n){return t(r(n))}}return aN=e,aN}var oN,VF;function z1e(){if(VF)return oN;VF=1;var e=bY(),t=e(Object.keys,Object);return oN=t,oN}var lN,UF;function V1e(){if(UF)return lN;UF=1;var e=B1e(),t=z1e(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var a=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&a.push(l);return a}return lN=i,lN}var cN,WF;function Hv(){if(WF)return cN;WF=1;var e=GP(),t=uM();function r(n){return n!=null&&t(n.length)&&!e(n)}return cN=r,cN}var uN,HF;function r_(){if(HF)return uN;HF=1;var e=q1e(),t=V1e(),r=Hv();function n(i){return r(i)?e(i):t(i)}return uN=n,uN}var dN,KF;function U1e(){if(KF)return dN;KF=1;var e=T1e(),t=R1e(),r=r_();function n(i){return e(i,r,t)}return dN=n,dN}var fN,GF;function W1e(){if(GF)return fN;GF=1;var e=U1e(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,a,l,c,u,f){var d=l&t,m=e(s),p=m.length,x=e(a),y=x.length;if(p!=y&&!d)return!1;for(var v=p;v--;){var b=m[v];if(!(d?b in a:n.call(a,b)))return!1}var w=f.get(s),j=f.get(a);if(w&&j)return w==a&&j==s;var S=!0;f.set(s,a),f.set(a,s);for(var C=d;++v<p;){b=m[v];var E=s[b],k=a[b];if(c)var O=d?c(k,E,b,a,s,f):c(E,k,b,s,a,f);if(!(O===void 0?E===k||u(E,k,l,c,f):O)){S=!1;break}C||(C=b=="constructor")}if(S&&!C){var M=s.constructor,R=a.constructor;M!=R&&"constructor"in s&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof R=="function"&&R instanceof R)&&(S=!1)}return f.delete(s),f.delete(a),S}return fN=i,fN}var hN,YF;function H1e(){if(YF)return hN;YF=1;var e=pd(),t=Po(),r=e(t,"DataView");return hN=r,hN}var mN,QF;function K1e(){if(QF)return mN;QF=1;var e=pd(),t=Po(),r=e(t,"Promise");return mN=r,mN}var pN,XF;function wY(){if(XF)return pN;XF=1;var e=pd(),t=Po(),r=e(t,"Set");return pN=r,pN}var gN,ZF;function G1e(){if(ZF)return gN;ZF=1;var e=pd(),t=Po(),r=e(t,"WeakMap");return gN=r,gN}var vN,JF;function Y1e(){if(JF)return vN;JF=1;var e=H1e(),t=QP(),r=K1e(),n=wY(),i=G1e(),s=El(),a=FG(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",d="[object WeakMap]",m="[object DataView]",p=a(e),x=a(t),y=a(r),v=a(n),b=a(i),w=s;return(e&&w(new e(new ArrayBuffer(1)))!=m||t&&w(new t)!=l||r&&w(r.resolve())!=u||n&&w(new n)!=f||i&&w(new i)!=d)&&(w=function(j){var S=s(j),C=S==c?j.constructor:void 0,E=C?a(C):"";if(E)switch(E){case p:return m;case x:return l;case y:return u;case v:return f;case b:return d}return S}),vN=w,vN}var yN,eq;function Q1e(){if(eq)return yN;eq=1;var e=dY(),t=pY(),r=A1e(),n=W1e(),i=Y1e(),s=us(),a=vY(),l=xY(),c=1,u="[object Arguments]",f="[object Array]",d="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function x(y,v,b,w,j,S){var C=s(y),E=s(v),k=C?f:i(y),O=E?f:i(v);k=k==u?d:k,O=O==u?d:O;var M=k==d,R=O==d,T=k==O;if(T&&a(y)){if(!a(v))return!1;C=!0,M=!1}if(T&&!M)return S||(S=new e),C||l(y)?t(y,v,b,w,j,S):r(y,v,k,b,w,j,S);if(!(b&c)){var P=M&&p.call(y,"__wrapped__"),I=R&&p.call(v,"__wrapped__");if(P||I){var B=P?y.value():y,$=I?v.value():v;return S||(S=new e),j(B,$,b,w,S)}}return T?(S||(S=new e),n(y,v,b,w,j,S)):!1}return yN=x,yN}var xN,tq;function dM(){if(tq)return xN;tq=1;var e=Q1e(),t=kl();function r(n,i,s,a,l){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,a,r,l)}return xN=r,xN}var bN,rq;function X1e(){if(rq)return bN;rq=1;var e=dY(),t=dM(),r=1,n=2;function i(s,a,l,c){var u=l.length,f=u,d=!c;if(s==null)return!f;for(s=Object(s);u--;){var m=l[u];if(d&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<f;){m=l[u];var p=m[0],x=s[p],y=m[1];if(d&&m[2]){if(x===void 0&&!(p in s))return!1}else{var v=new e;if(c)var b=c(x,y,p,s,a,v);if(!(b===void 0?t(y,x,r|n,c,v):b))return!1}}return!0}return bN=i,bN}var wN,nq;function _Y(){if(nq)return wN;nq=1;var e=Uc();function t(r){return r===r&&!e(r)}return wN=t,wN}var _N,iq;function Z1e(){if(iq)return _N;iq=1;var e=_Y(),t=r_();function r(n){for(var i=t(n),s=i.length;s--;){var a=i[s],l=n[a];i[s]=[a,l,e(l)]}return i}return _N=r,_N}var SN,sq;function SY(){if(sq)return SN;sq=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return SN=e,SN}var jN,aq;function J1e(){if(aq)return jN;aq=1;var e=X1e(),t=Z1e(),r=SY();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(a){return a===i||e(a,i,s)}}return jN=n,jN}var CN,oq;function eSe(){if(oq)return CN;oq=1;function e(t,r){return t!=null&&r in Object(t)}return CN=e,CN}var NN,lq;function tSe(){if(lq)return NN;lq=1;var e=zG(),t=lM(),r=us(),n=cM(),i=uM(),s=Xw();function a(l,c,u){c=e(c,l);for(var f=-1,d=c.length,m=!1;++f<d;){var p=s(c[f]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++f!=d?m:(d=l==null?0:l.length,!!d&&i(d)&&n(p,d)&&(r(l)||t(l)))}return NN=a,NN}var EN,cq;function rSe(){if(cq)return EN;cq=1;var e=eSe(),t=tSe();function r(n,i){return n!=null&&t(n,i,e)}return EN=r,EN}var kN,uq;function nSe(){if(uq)return kN;uq=1;var e=dM(),t=VG(),r=rSe(),n=KP(),i=_Y(),s=SY(),a=Xw(),l=1,c=2;function u(f,d){return n(f)&&i(d)?s(a(f),d):function(m){var p=t(m,f);return p===void 0&&p===d?r(m,f):e(d,p,l|c)}}return kN=u,kN}var ON,dq;function mm(){if(dq)return ON;dq=1;function e(t){return t}return ON=e,ON}var AN,fq;function iSe(){if(fq)return AN;fq=1;function e(t){return function(r){return r==null?void 0:r[t]}}return AN=e,AN}var TN,hq;function sSe(){if(hq)return TN;hq=1;var e=JP();function t(r){return function(n){return e(n,r)}}return TN=t,TN}var PN,mq;function aSe(){if(mq)return PN;mq=1;var e=iSe(),t=sSe(),r=KP(),n=Xw();function i(s){return r(s)?e(n(s)):t(s)}return PN=i,PN}var MN,pq;function Wc(){if(pq)return MN;pq=1;var e=J1e(),t=nSe(),r=mm(),n=us(),i=aSe();function s(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?t(a[0],a[1]):e(a):i(a)}return MN=s,MN}var RN,gq;function jY(){if(gq)return RN;gq=1;function e(t,r,n,i){for(var s=t.length,a=n+(i?1:-1);i?a--:++a<s;)if(r(t[a],a,t))return a;return-1}return RN=e,RN}var DN,vq;function oSe(){if(vq)return DN;vq=1;function e(t){return t!==t}return DN=e,DN}var IN,yq;function lSe(){if(yq)return IN;yq=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return IN=e,IN}var LN,xq;function cSe(){if(xq)return LN;xq=1;var e=jY(),t=oSe(),r=lSe();function n(i,s,a){return s===s?r(i,s,a):e(i,t,a)}return LN=n,LN}var $N,bq;function uSe(){if(bq)return $N;bq=1;var e=cSe();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return $N=t,$N}var FN,wq;function dSe(){if(wq)return FN;wq=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return FN=e,FN}var qN,_q;function fSe(){if(_q)return qN;_q=1;function e(){}return qN=e,qN}var BN,Sq;function hSe(){if(Sq)return BN;Sq=1;var e=wY(),t=fSe(),r=oM(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return BN=i,BN}var zN,jq;function mSe(){if(jq)return zN;jq=1;var e=fY(),t=uSe(),r=dSe(),n=mY(),i=hSe(),s=oM(),a=200;function l(c,u,f){var d=-1,m=t,p=c.length,x=!0,y=[],v=y;if(f)x=!1,m=r;else if(p>=a){var b=u?null:i(c);if(b)return s(b);x=!1,m=n,v=new e}else v=u?[]:y;e:for(;++d<p;){var w=c[d],j=u?u(w):w;if(w=f||w!==0?w:0,x&&j===j){for(var S=v.length;S--;)if(v[S]===j)continue e;u&&v.push(j),y.push(w)}else m(v,j,f)||(v!==y&&v.push(j),y.push(w))}return y}return zN=l,zN}var VN,Cq;function pSe(){if(Cq)return VN;Cq=1;var e=Wc(),t=mSe();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return VN=r,VN}var gSe=pSe();const Nq=wr(gSe);function CY(e,t,r){return t===!0?Nq(e,r):Vt(t)?Nq(e,t):e}function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}var vSe=["ref"];function Eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eq(Object(r),!0).forEach(function(n){n_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ySe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EY(n.key),n)}}function xSe(e,t,r){return t&&kq(e.prototype,t),r&&kq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bSe(e,t,r){return t=l0(t),wSe(e,NY()?Reflect.construct(t,r||[],l0(e).constructor):t.apply(e,r))}function wSe(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Se(e)}function _Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NY=function(){return!!e})()}function l0(e){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l0(e)}function SSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_A(e,t)}function n_(e,t,r){return t=EY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=jSe(e,"string");return dh(t)=="symbol"?t:t+""}function jSe(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CSe(e,t){if(e==null)return{};var r=NSe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ESe(e){return e.value}function kSe(e,t){if(Y.isValidElement(e))return Y.cloneElement(e,t);if(typeof e=="function")return Y.createElement(e,t);t.ref;var r=CSe(t,vSe);return Y.createElement(aM,r)}var Oq=1,os=(function(e){function t(){var r;ySe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=bSe(this,t,[].concat(i)),n_(r,"lastBoundingBox",{width:-1,height:-1}),r}return SSe(t,e),xSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Oq||Math.abs(i.height-this.lastBoundingBox.height)>Oq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,d,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((f||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Vo(Vo({},d),m)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=Vo(Vo({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},kSe(s,Vo(Vo({},this.props),{},{payload:CY(f,u,ESe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Vo(Vo({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&Xe(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(_.PureComponent);n_(os,"displayName","Legend");n_(os,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var UN,Aq;function OSe(){if(Aq)return UN;Aq=1;var e=Vv(),t=lM(),r=us(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return UN=i,UN}var WN,Tq;function kY(){if(Tq)return WN;Tq=1;var e=gY(),t=OSe();function r(n,i,s,a,l){var c=-1,u=n.length;for(s||(s=t),l||(l=[]);++c<u;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,a,l):e(l,f):a||(l[l.length]=f)}return l}return WN=r,WN}var HN,Pq;function ASe(){if(Pq)return HN;Pq=1;function e(t){return function(r,n,i){for(var s=-1,a=Object(r),l=i(r),c=l.length;c--;){var u=l[t?c:++s];if(n(a[u],u,a)===!1)break}return r}}return HN=e,HN}var KN,Mq;function TSe(){if(Mq)return KN;Mq=1;var e=ASe(),t=e();return KN=t,KN}var GN,Rq;function OY(){if(Rq)return GN;Rq=1;var e=TSe(),t=r_();function r(n,i){return n&&e(n,i,t)}return GN=r,GN}var YN,Dq;function PSe(){if(Dq)return YN;Dq=1;var e=Hv();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var a=i.length,l=n?a:-1,c=Object(i);(n?l--:++l<a)&&s(c[l],l,c)!==!1;);return i}}return YN=t,YN}var QN,Iq;function fM(){if(Iq)return QN;Iq=1;var e=OY(),t=PSe(),r=t(e);return QN=r,QN}var XN,Lq;function AY(){if(Lq)return XN;Lq=1;var e=fM(),t=Hv();function r(n,i){var s=-1,a=t(n)?Array(n.length):[];return e(n,function(l,c,u){a[++s]=i(l,c,u)}),a}return XN=r,XN}var ZN,$q;function MSe(){if($q)return ZN;$q=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return ZN=e,ZN}var JN,Fq;function RSe(){if(Fq)return JN;Fq=1;var e=fm();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,a=r===r,l=e(r),c=n!==void 0,u=n===null,f=n===n,d=e(n);if(!u&&!d&&!l&&r>n||l&&c&&f&&!u&&!d||s&&c&&f||!i&&f||!a)return 1;if(!s&&!l&&!d&&r<n||d&&i&&a&&!s&&!l||u&&i&&a||!c&&a||!f)return-1}return 0}return JN=t,JN}var eE,qq;function DSe(){if(qq)return eE;qq=1;var e=RSe();function t(r,n,i){for(var s=-1,a=r.criteria,l=n.criteria,c=a.length,u=i.length;++s<c;){var f=e(a[s],l[s]);if(f){if(s>=u)return f;var d=i[s];return f*(d=="desc"?-1:1)}}return r.index-n.index}return eE=t,eE}var tE,Bq;function ISe(){if(Bq)return tE;Bq=1;var e=ZP(),t=JP(),r=Wc(),n=AY(),i=MSe(),s=yY(),a=DSe(),l=mm(),c=us();function u(f,d,m){d.length?d=e(d,function(y){return c(y)?function(v){return t(v,y.length===1?y[0]:y)}:y}):d=[l];var p=-1;d=e(d,s(r));var x=n(f,function(y,v,b){var w=e(d,function(j){return j(y)});return{criteria:w,index:++p,value:y}});return i(x,function(y,v){return a(y,v,m)})}return tE=u,tE}var rE,zq;function LSe(){if(zq)return rE;zq=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return rE=e,rE}var nE,Vq;function $Se(){if(Vq)return nE;Vq=1;var e=LSe(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var a=arguments,l=-1,c=t(a.length-i,0),u=Array(c);++l<c;)u[l]=a[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=a[l];return f[i]=s(u),e(n,this,f)}}return nE=r,nE}var iE,Uq;function FSe(){if(Uq)return iE;Uq=1;function e(t){return function(){return t}}return iE=e,iE}var sE,Wq;function TY(){if(Wq)return sE;Wq=1;var e=pd(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return sE=t,sE}var aE,Hq;function qSe(){if(Hq)return aE;Hq=1;var e=FSe(),t=TY(),r=mm(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return aE=n,aE}var oE,Kq;function BSe(){if(Kq)return oE;Kq=1;var e=800,t=16,r=Date.now;function n(i){var s=0,a=0;return function(){var l=r(),c=t-(l-a);if(a=l,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return oE=n,oE}var lE,Gq;function zSe(){if(Gq)return lE;Gq=1;var e=qSe(),t=BSe(),r=t(e);return lE=r,lE}var cE,Yq;function VSe(){if(Yq)return cE;Yq=1;var e=mm(),t=$Se(),r=zSe();function n(i,s){return r(t(i,s,e),i+"")}return cE=n,cE}var uE,Qq;function i_(){if(Qq)return uE;Qq=1;var e=YP(),t=Hv(),r=cM(),n=Uc();function i(s,a,l){if(!n(l))return!1;var c=typeof a;return(c=="number"?t(l)&&r(a,l.length):c=="string"&&a in l)?e(l[a],s):!1}return uE=i,uE}var dE,Xq;function USe(){if(Xq)return dE;Xq=1;var e=kY(),t=ISe(),r=VSe(),n=i_(),i=r(function(s,a){if(s==null)return[];var l=a.length;return l>1&&n(s,a[0],a[1])?a=[]:l>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),t(s,e(a,1),[])});return dE=i,dE}var WSe=USe();const hM=wr(WSe);function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function SA(){return SA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SA.apply(this,arguments)}function HSe(e,t){return QSe(e)||YSe(e,t)||GSe(e,t)||KSe()}function KSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(e,t){if(e){if(typeof e=="string")return Zq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zq(e,t)}}function Zq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function QSe(e){if(Array.isArray(e))return e}function Jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jq(Object(r),!0).forEach(function(n){XSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XSe(e,t,r){return t=ZSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZSe(e){var t=JSe(e,"string");return Sg(t)=="symbol"?t:t+""}function JSe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eje(e){return Array.isArray(e)&&Pn(e[0])&&Pn(e[1])?e.join(" ~ "):e}var tje=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,a=t.itemStyle,l=a===void 0?{}:a,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,m=t.itemSorter,p=t.wrapperClassName,x=t.labelClassName,y=t.label,v=t.labelFormatter,b=t.accessibilityLayer,w=b===void 0?!1:b,j=function(){if(f&&f.length){var P={padding:0,margin:0},I=(m?hM(f,m):f).map(function(B,$){if(B.type==="none")return null;var H=fE({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),V=B.formatter||d||eje,U=B.value,W=B.name,F=U,L=W;if(V&&F!=null&&L!=null){var q=V(U,W,B,$,f);if(Array.isArray(q)){var K=HSe(q,2);F=K[0],L=K[1]}else F=q}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:H},Pn(L)?Y.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Pn(L)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},F),Y.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:P},I)}return null},S=fE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=fE({margin:0},u),E=!Yt(y),k=E?y:"",O=ir("recharts-default-tooltip",p),M=ir("recharts-tooltip-label",x);E&&v&&f!==void 0&&f!==null&&(k=v(y,f));var R=w?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",SA({className:O,style:S},R),Y.createElement("p",{className:M,style:C},Y.isValidElement(k)?k:"".concat(k)),j())};function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function Lx(e,t,r){return t=rje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rje(e){var t=nje(e,"string");return jg(t)=="symbol"?t:t+""}function nje(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var op="recharts-tooltip-wrapper",ije={visibility:"hidden"};function sje(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ir(op,Lx(Lx(Lx(Lx({},"".concat(op,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(op,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(op,"-bottom"),Xe(n)&&t&&Xe(t.y)&&n>=t.y),"".concat(op,"-top"),Xe(n)&&t&&Xe(t.y)&&n<t.y))}function eB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Xe(s[n]))return s[n];var f=r[n]-l-i,d=r[n]+i;if(t[n])return a[n]?f:d;if(a[n]){var m=f,p=c[n];return m<p?Math.max(d,c[n]):Math.max(f,c[n])}var x=d+l,y=c[n]+u;return x>y?Math.max(f,c[n]):Math.max(d,c[n])}function aje(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oje(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,a=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return a.height>0&&a.width>0&&r?(f=eB({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),d=eB({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=aje({translateX:f,translateY:d,useTranslate3d:l})):u=ije,{cssProperties:u,cssClasses:sje({translateX:f,translateY:d,coordinate:r})}}function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function tB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tB(Object(r),!0).forEach(function(n){CA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MY(n.key),n)}}function uje(e,t,r){return t&&cje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dje(e,t,r){return t=c0(t),fje(e,PY()?Reflect.construct(t,r||[],c0(e).constructor):t.apply(e,r))}function fje(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hje(e)}function hje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PY=function(){return!!e})()}function c0(e){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c0(e)}function mje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jA(e,t)}function jA(e,t){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jA(e,t)}function CA(e,t,r){return t=MY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MY(e){var t=pje(e,"string");return fh(t)=="symbol"?t:t+""}function pje(e,t){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nB=1,gje=(function(e){function t(){var r;lje(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=dje(this,t,[].concat(i)),CA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CA(r,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return mje(t,e),uje(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>nB||Math.abs(n.height-this.state.lastBoundingBox.height)>nB)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,m=i.isAnimationActive,p=i.offset,x=i.position,y=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,j=oje({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:p,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),S=j.cssClasses,C=j.cssProperties,E=rB(rB({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return Y.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(O){n.wrapperNode=O}},u)}}])})(_.PureComponent),vje=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pm={isSsr:vje()};function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function iB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(r),!0).forEach(function(n){mM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DY(n.key),n)}}function bje(e,t,r){return t&&xje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wje(e,t,r){return t=u0(t),_je(e,RY()?Reflect.construct(t,r||[],u0(e).constructor):t.apply(e,r))}function _je(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sje(e)}function Sje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RY=function(){return!!e})()}function u0(e){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u0(e)}function jje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NA(e,t)}function NA(e,t){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NA(e,t)}function mM(e,t,r){return t=DY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=Cje(e,"string");return hh(t)=="symbol"?t:t+""}function Cje(e,t){if(hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nje(e){return e.dataKey}function Eje(e,t){return Y.isValidElement(e)?Y.cloneElement(e,t):typeof e=="function"?Y.createElement(e,t):Y.createElement(tje,t)}var Vn=(function(e){function t(){return yje(this,t),wje(this,t,arguments)}return jje(t,e),bje(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,m=i.isAnimationActive,p=i.offset,x=i.payload,y=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,j=i.viewBox,S=i.wrapperStyle,C=x??[];d&&C.length&&(C=CY(x.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),y,Nje));var E=C.length>0;return Y.createElement(gje,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:f,hasPayload:E,offset:p,position:v,reverseDirection:b,useTranslate3d:w,viewBox:j,wrapperStyle:S},Eje(u,sB(sB({},this.props),{},{payload:C})))}}])})(_.PureComponent);mM(Vn,"displayName","Tooltip");mM(Vn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hE,aB;function kje(){if(aB)return hE;aB=1;var e=Po(),t=function(){return e.Date.now()};return hE=t,hE}var mE,oB;function Oje(){if(oB)return mE;oB=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return mE=t,mE}var pE,lB;function Aje(){if(lB)return pE;lB=1;var e=Oje(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return pE=r,pE}var gE,cB;function IY(){if(cB)return gE;cB=1;var e=Aje(),t=Uc(),r=fm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=s.test(u);return d||a.test(u)?l(u.slice(2),d?2:8):i.test(u)?n:+u}return gE=c,gE}var vE,uB;function Tje(){if(uB)return vE;uB=1;var e=Uc(),t=kje(),r=IY(),n="Expected a function",i=Math.max,s=Math.min;function a(l,c,u){var f,d,m,p,x,y,v=0,b=!1,w=!1,j=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(b=!!u.leading,w="maxWait"in u,m=w?i(r(u.maxWait)||0,c):m,j="trailing"in u?!!u.trailing:j);function S(I){var B=f,$=d;return f=d=void 0,v=I,p=l.apply($,B),p}function C(I){return v=I,x=setTimeout(O,c),b?S(I):p}function E(I){var B=I-y,$=I-v,H=c-B;return w?s(H,m-$):H}function k(I){var B=I-y,$=I-v;return y===void 0||B>=c||B<0||w&&$>=m}function O(){var I=t();if(k(I))return M(I);x=setTimeout(O,E(I))}function M(I){return x=void 0,j&&f?S(I):(f=d=void 0,p)}function R(){x!==void 0&&clearTimeout(x),v=0,f=y=d=x=void 0}function T(){return x===void 0?p:M(t())}function P(){var I=t(),B=k(I);if(f=arguments,d=this,y=I,B){if(x===void 0)return C(y);if(w)return clearTimeout(x),x=setTimeout(O,c),S(y)}return x===void 0&&(x=setTimeout(O,c)),p}return P.cancel=R,P.flush=T,P}return vE=a,vE}var yE,dB;function Pje(){if(dB)return yE;dB=1;var e=Tje(),t=Uc(),r="Expected a function";function n(i,s,a){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return t(a)&&(l="leading"in a?!!a.leading:l,c="trailing"in a?!!a.trailing:c),e(i,s,{leading:l,maxWait:s,trailing:c})}return yE=n,yE}var Mje=Pje();const LY=wr(Mje);function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function fB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fB(Object(r),!0).forEach(function(n){Rje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rje(e,t,r){return t=Dje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dje(e){var t=Ije(e,"string");return Cg(t)=="symbol"?t:t+""}function Ije(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lje(e,t){return Bje(e)||qje(e,t)||Fje(e,t)||$je()}function $je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fje(e,t){if(e){if(typeof e=="string")return hB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hB(e,t)}}function hB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Bje(e){if(Array.isArray(e))return e}var il=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,a=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,m=e.maxHeight,p=e.children,x=e.debounce,y=x===void 0?0:x,v=e.id,b=e.className,w=e.onResize,j=e.style,S=j===void 0?{}:j,C=_.useRef(null),E=_.useRef();E.current=w,_.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var k=_.useState({containerWidth:i.width,containerHeight:i.height}),O=Lje(k,2),M=O[0],R=O[1],T=_.useCallback(function(I,B){R(function($){var H=Math.round(I),V=Math.round(B);return $.containerWidth===H&&$.containerHeight===V?$:{containerWidth:H,containerHeight:V}})},[]);_.useEffect(function(){var I=function(W){var F,L=W[0].contentRect,q=L.width,K=L.height;T(q,K),(F=E.current)===null||F===void 0||F.call(E,q,K)};y>0&&(I=LY(I,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(I),$=C.current.getBoundingClientRect(),H=$.width,V=$.height;return T(H,V),B.observe(C.current),function(){B.disconnect()}},[T,y]);var P=_.useMemo(function(){var I=M.containerWidth,B=M.containerHeight;if(I<0||B<0)return null;nl(ju(a)||ju(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),nl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=ju(a)?I:a,H=ju(c)?B:c;r&&r>0&&($?H=$/r:H&&($=H*r),m&&H>m&&(H=m)),nl($>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,H,a,c,f,d,r);var V=!Array.isArray(p)&&rl(p.type).endsWith("Chart");return Y.Children.map(p,function(U){return Y.isValidElement(U)?_.cloneElement(U,$x({width:$,height:H},V?{style:$x({height:"100%",width:"100%",maxHeight:H,maxWidth:$},U.props.style)}:{})):U})},[r,p,c,m,d,f,M,a]);return Y.createElement("div",{id:v?"".concat(v):void 0,className:ir("recharts-responsive-container",b),style:$x($x({},S),{},{width:a,height:c,minWidth:f,minHeight:d,maxHeight:m}),ref:C},P)}),$Y=function(t){return null};$Y.displayName="Cell";function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function mB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mB(Object(r),!0).forEach(function(n){zje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zje(e,t,r){return t=Vje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vje(e){var t=Uje(e,"string");return Ng(t)=="symbol"?t:t+""}function Uje(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tf={widthCache:{},cacheCount:0},Wje=2e3,Hje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pB="recharts_measurement_span";function Kje(e){var t=EA({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Up=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pm.isSsr)return{width:0,height:0};var n=Kje(r),i=JSON.stringify({text:t,copyStyle:n});if(tf.widthCache[i])return tf.widthCache[i];try{var s=document.getElementById(pB);s||(s=document.createElement("span"),s.setAttribute("id",pB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=EA(EA({},Hje),n);Object.assign(s.style,a),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return tf.widthCache[i]=c,++tf.cacheCount>Wje&&(tf.cacheCount=0,tf.widthCache={}),c}catch{return{width:0,height:0}}},Gje=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function d0(e,t){return Zje(e)||Xje(e,t)||Qje(e,t)||Yje()}function Yje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qje(e,t){if(e){if(typeof e=="string")return gB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gB(e,t)}}function gB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Zje(e){if(Array.isArray(e))return e}function Jje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tCe(n.key),n)}}function eCe(e,t,r){return t&&vB(e.prototype,t),r&&vB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tCe(e){var t=rCe(e,"string");return Eg(t)=="symbol"?t:t+""}function rCe(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sCe=Object.keys(FY),_f="NaN";function aCe(e,t){return e*FY[t]}var Fx=(function(){function e(t,r){Jje(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!nCe.test(r)&&(this.num=NaN,this.unit=""),sCe.includes(r)&&(this.num=aCe(t,r),this.unit="px")}return eCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=iCe.exec(r))!==null&&n!==void 0?n:[],s=d0(i,3),a=s[1],l=s[2];return new e(parseFloat(a),l??"")}}])})();function qY(e){if(e.includes(_f))return _f;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=yB.exec(t))!==null&&r!==void 0?r:[],i=d0(n,4),s=i[1],a=i[2],l=i[3],c=Fx.parse(s??""),u=Fx.parse(l??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return _f;t=t.replace(yB,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,m=(d=xB.exec(t))!==null&&d!==void 0?d:[],p=d0(m,4),x=p[1],y=p[2],v=p[3],b=Fx.parse(x??""),w=Fx.parse(v??""),j=y==="+"?b.add(w):b.subtract(w);if(j.isNaN())return _f;t=t.replace(xB,j.toString())}return t}var bB=/\(([^()]*)\)/;function oCe(e){for(var t=e;t.includes("(");){var r=bB.exec(t),n=d0(r,2),i=n[1];t=t.replace(bB,qY(i))}return t}function lCe(e){var t=e.replace(/\s+/g,"");return t=oCe(t),t=qY(t),t}function cCe(e){try{return lCe(e)}catch{return _f}}function xE(e){var t=cCe(e.slice(5,-1));return t===_f?"":t}var uCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dCe=["dx","dy","angle","className","breakAll"];function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kA.apply(this,arguments)}function wB(e,t){if(e==null)return{};var r=fCe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _B(e,t){return gCe(e)||pCe(e,t)||mCe(e,t)||hCe()}function hCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mCe(e,t){if(e){if(typeof e=="string")return SB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SB(e,t)}}function SB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function gCe(e){if(Array.isArray(e))return e}var BY=/[ \f\n\r\t\v\u2028\u2029]+/,zY=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];Yt(r)||(n?s=r.toString().split(""):s=r.toString().split(BY));var a=s.map(function(c){return{word:c,width:Up(c,i).width}}),l=n?0:Up(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},vCe=function(t,r,n,i,s){var a=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Xe(a),d=l,m=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(H,V){var U=V.word,W=V.width,F=H[H.length-1];if(F&&(i==null||s||F.width+W+n<Number(i)))F.words.push(U),F.width+=W+n;else{var L={words:[U],width:W};H.push(L)}return H},[])},p=m(r),x=function($){return $.reduce(function(H,V){return H.width>V.width?H:V})};if(!f)return p;for(var y="…",v=function($){var H=d.slice(0,$),V=zY({breakAll:u,style:c,children:H+y}).wordsWithComputedWidth,U=m(V),W=U.length>a||x(U).width>Number(i);return[W,U]},b=0,w=d.length-1,j=0,S;b<=w&&j<=d.length-1;){var C=Math.floor((b+w)/2),E=C-1,k=v(E),O=_B(k,2),M=O[0],R=O[1],T=v(C),P=_B(T,1),I=P[0];if(!M&&!I&&(b=C+1),M&&I&&(w=C-1),!M&&I){S=R;break}j++}return S||p},jB=function(t){var r=Yt(t)?[]:t.toString().split(BY);return[{words:r}]},yCe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,a=t.breakAll,l=t.maxLines;if((r||n)&&!pm.isSsr){var c,u,f=zY({breakAll:a,children:i,style:s});if(f){var d=f.wordsWithComputedWidth,m=f.spaceWidth;c=d,u=m}else return jB(i);return vCe({breakAll:a,children:i,maxLines:l,style:s},c,u,r,n)}return jB(i)},CB="#808080",f0=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,a=t.lineHeight,l=a===void 0?"1em":a,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,m=t.textAnchor,p=m===void 0?"start":m,x=t.verticalAnchor,y=x===void 0?"end":x,v=t.fill,b=v===void 0?CB:v,w=wB(t,uCe),j=_.useMemo(function(){return yCe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),S=w.dx,C=w.dy,E=w.angle,k=w.className,O=w.breakAll,M=wB(w,dCe);if(!Pn(n)||!Pn(s))return null;var R=n+(Xe(S)?S:0),T=s+(Xe(C)?C:0),P;switch(y){case"start":P=xE("calc(".concat(u,")"));break;case"middle":P=xE("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=xE("calc(".concat(j.length-1," * -").concat(l,")"));break}var I=[];if(d){var B=j[0].width,$=w.width;I.push("scale(".concat((Xe($)?$/B:1)/B,")"))}return E&&I.push("rotate(".concat(E,", ").concat(R,", ").concat(T,")")),I.length&&(M.transform=I.join(" ")),Y.createElement("text",kA({},nr(M,!0),{x:R,y:T,className:ir("recharts-text",k),textAnchor:p,fill:b.includes("url")?CB:b}),j.map(function(H,V){var U=H.words.join(O?"":" ");return Y.createElement("tspan",{x:R,dy:V===0?P:l,key:"".concat(U,"-").concat(V)},U)}))};function Nc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pM(e){let t,r,n;e.length!==2?(t=Nc,r=(l,c)=>Nc(e(l),c),n=(l,c)=>e(l)-c):(t=e===Nc||e===xCe?e:bCe,r=e,n=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function a(l,c,u=0,f=l.length){const d=i(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:i,center:a,right:s}}function bCe(){return 0}function VY(e){return e===null?NaN:+e}function*wCe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _Ce=pM(Nc),Kv=_Ce.right;pM(VY).center;class NB extends Map{constructor(t,r=CCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(EB(this,t))}has(t){return super.has(EB(this,t))}set(t,r){return super.set(SCe(this,t),r)}delete(t){return super.delete(jCe(this,t))}}function EB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function SCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function CCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NCe(e=Nc){if(e===Nc)return UY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function UY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ECe=Math.sqrt(50),kCe=Math.sqrt(10),OCe=Math.sqrt(2);function h0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=ECe?10:s>=kCe?5:s>=OCe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?h0(e,t,r*2):[l,c,u]}function OA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?h0(t,e,r):h0(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function AA(e,t,r){return t=+t,e=+e,r=+r,h0(e,t,r)[2]}function TA(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?AA(t,e,r):AA(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function kB(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function OB(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function WY(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?UY:NCe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+m)),x=Math.min(n,Math.floor(t+(c-u)*d/c+m));WY(e,t,p,x,i)}const s=e[t];let a=r,l=n;for(lp(e,r,t),i(e[n],s)>0&&lp(e,r,n);a<l;){for(lp(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?lp(e,r,l):(++l,lp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function lp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ACe(e,t,r){if(e=Float64Array.from(wCe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return OB(e);if(t>=1)return kB(e);var n,i=(n-1)*t,s=Math.floor(i),a=kB(WY(e,s).subarray(0,s+1)),l=OB(e.subarray(s+1));return a+(l-a)*(i-s)}}function TCe(e,t,r=VY){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function PCe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function oa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ol(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const PA=Symbol("implicit");function gM(){var e=new NB,t=[],r=[],n=PA;function i(s){let a=e.get(s);if(a===void 0){if(n!==PA)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new NB;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return gM(t,r).unknown(n)},oa.apply(i,arguments),i}function kg(){var e=gM().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var m=t().length,p=i<n,x=p?i:n,y=p?n:i;s=(y-x)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),x+=(y-x-s*(m-c))*f,a=s*(1-c),l&&(x=Math.round(x),a=Math.round(a));var v=PCe(m).map(function(b){return x+s*b});return r(p?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),d()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,l=!0,d()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,d()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),d()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),d()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,d()):u},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),d()):f},e.copy=function(){return kg(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},oa.apply(d(),arguments)}function HY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HY(t())},e}function Wp(){return HY(kg.apply(null,arguments).paddingInner(1))}function vM(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KY(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Gv(){}var Og=.7,m0=1/Og,Pf="\\s*([+-]?\\d+)\\s*",Ag="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MCe=/^#([0-9a-f]{3,8})$/,RCe=new RegExp(`^rgb\\(${Pf},${Pf},${Pf}\\)$`),DCe=new RegExp(`^rgb\\(${xo},${xo},${xo}\\)$`),ICe=new RegExp(`^rgba\\(${Pf},${Pf},${Pf},${Ag}\\)$`),LCe=new RegExp(`^rgba\\(${xo},${xo},${xo},${Ag}\\)$`),$Ce=new RegExp(`^hsl\\(${Ag},${xo},${xo}\\)$`),FCe=new RegExp(`^hsla\\(${Ag},${xo},${xo},${Ag}\\)$`),AB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vM(Gv,Tg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TB,formatHex:TB,formatHex8:qCe,formatHsl:BCe,formatRgb:PB,toString:PB});function TB(){return this.rgb().formatHex()}function qCe(){return this.rgb().formatHex8()}function BCe(){return GY(this).formatHsl()}function PB(){return this.rgb().formatRgb()}function Tg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=MCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?MB(t):r===3?new is(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RCe.exec(e))?new is(t[1],t[2],t[3],1):(t=DCe.exec(e))?new is(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ICe.exec(e))?qx(t[1],t[2],t[3],t[4]):(t=LCe.exec(e))?qx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$Ce.exec(e))?IB(t[1],t[2]/100,t[3]/100,1):(t=FCe.exec(e))?IB(t[1],t[2]/100,t[3]/100,t[4]):AB.hasOwnProperty(e)?MB(AB[e]):e==="transparent"?new is(NaN,NaN,NaN,0):null}function MB(e){return new is(e>>16&255,e>>8&255,e&255,1)}function qx(e,t,r,n){return n<=0&&(e=t=r=NaN),new is(e,t,r,n)}function zCe(e){return e instanceof Gv||(e=Tg(e)),e?(e=e.rgb(),new is(e.r,e.g,e.b,e.opacity)):new is}function MA(e,t,r,n){return arguments.length===1?zCe(e):new is(e,t,r,n??1)}function is(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}vM(is,MA,KY(Gv,{brighter(e){return e=e==null?m0:Math.pow(m0,e),new is(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Og:Math.pow(Og,e),new is(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new is(Fu(this.r),Fu(this.g),Fu(this.b),p0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RB,formatHex:RB,formatHex8:VCe,formatRgb:DB,toString:DB}));function RB(){return`#${Cu(this.r)}${Cu(this.g)}${Cu(this.b)}`}function VCe(){return`#${Cu(this.r)}${Cu(this.g)}${Cu(this.b)}${Cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function DB(){const e=p0(this.opacity);return`${e===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${e===1?")":`, ${e})`}`}function p0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cu(e){return e=Fu(e),(e<16?"0":"")+e.toString(16)}function IB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Aa(e,t,r,n)}function GY(e){if(e instanceof Aa)return new Aa(e.h,e.s,e.l,e.opacity);if(e instanceof Gv||(e=Tg(e)),!e)return new Aa;if(e instanceof Aa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Aa(a,l,c,e.opacity)}function UCe(e,t,r,n){return arguments.length===1?GY(e):new Aa(e,t,r,n??1)}function Aa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}vM(Aa,UCe,KY(Gv,{brighter(e){return e=e==null?m0:Math.pow(m0,e),new Aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Og:Math.pow(Og,e),new Aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new is(bE(e>=240?e-240:e+120,i,n),bE(e,i,n),bE(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Aa(LB(this.h),Bx(this.s),Bx(this.l),p0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=p0(this.opacity);return`${e===1?"hsl(":"hsla("}${LB(this.h)}, ${Bx(this.s)*100}%, ${Bx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LB(e){return e=(e||0)%360,e<0?e+360:e}function Bx(e){return Math.max(0,Math.min(1,e||0))}function bE(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const yM=e=>()=>e;function WCe(e,t){return function(r){return e+r*t}}function HCe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function KCe(e){return(e=+e)==1?YY:function(t,r){return r-t?HCe(t,r,e):yM(isNaN(t)?r:t)}}function YY(e,t){var r=t-e;return r?WCe(e,r):yM(isNaN(e)?t:e)}const $B=(function e(t){var r=KCe(t);function n(i,s){var a=r((i=MA(i)).r,(s=MA(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=YY(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=e,n})(1);function GCe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function YCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QCe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=gm(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function XCe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function g0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ZCe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=gm(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var RA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wE=new RegExp(RA.source,"g");function JCe(e){return function(){return e}}function eNe(e){return function(t){return e(t)+""}}function tNe(e,t){var r=RA.lastIndex=wE.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=RA.exec(e))&&(i=wE.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:g0(n,i)})),r=wE.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?eNe(c[0].x):JCe(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function gm(e,t){var r=typeof t,n;return t==null||r==="boolean"?yM(t):(r==="number"?g0:r==="string"?(n=Tg(t))?(t=n,$B):tNe:t instanceof Tg?$B:t instanceof Date?XCe:YCe(t)?GCe:Array.isArray(t)?QCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZCe:g0)(e,t)}function xM(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rNe(e,t){t===void 0&&(t=e,e=gm);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function nNe(e){return function(){return e}}function v0(e){return+e}var FB=[0,1];function Di(e){return e}function DA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nNe(isNaN(t)?NaN:.5)}function iNe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sNe(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=DA(i,n),s=r(a,s)):(n=DA(n,i),s=r(s,a)),function(l){return s(n(l))}}function aNe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=DA(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=Kv(e,l,1,n)-1;return s[c](i[c](l))}}function Yv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s_(){var e=FB,t=FB,r=gm,n,i,s,a=Di,l,c,u;function f(){var m=Math.min(e.length,t.length);return a!==Di&&(a=iNe(e[0],e[m-1])),l=m>2?aNe:sNe,c=u=null,d}function d(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(n),t,r)))(n(a(m)))}return d.invert=function(m){return a(i((u||(u=l(t,e.map(n),g0)))(m)))},d.domain=function(m){return arguments.length?(e=Array.from(m,v0),f()):e.slice()},d.range=function(m){return arguments.length?(t=Array.from(m),f()):t.slice()},d.rangeRound=function(m){return t=Array.from(m),r=xM,f()},d.clamp=function(m){return arguments.length?(a=m?!0:Di,f()):a!==Di},d.interpolate=function(m){return arguments.length?(r=m,f()):r},d.unknown=function(m){return arguments.length?(s=m,d):s},function(m,p){return n=m,i=p,f()}}function bM(){return s_()(Di,Di)}function oNe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function y0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function mh(e){return e=y0(Math.abs(e)),e?e[1]:NaN}function lNe(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function cNe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uNe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pg(e){if(!(t=uNe.exec(e)))throw new Error("invalid format: "+e);var t;return new wM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pg.prototype=wM.prototype;function wM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dNe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var QY;function fNe(e,t){var r=y0(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(QY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+y0(e,Math.max(0,t+s-1))[0]}function qB(e,t){var r=y0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const BB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oNe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qB(e*100,t),r:qB,s:fNe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zB(e){return e}var VB=Array.prototype.map,UB=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hNe(e){var t=e.grouping===void 0||e.thousands===void 0?zB:lNe(VB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?zB:cNe(VB.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Pg(d);var m=d.fill,p=d.align,x=d.sign,y=d.symbol,v=d.zero,b=d.width,w=d.comma,j=d.precision,S=d.trim,C=d.type;C==="n"?(w=!0,C="g"):BB[C]||(j===void 0&&(j=12),S=!0,C="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var E=y==="$"?r:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=y==="$"?n:/[%p]/.test(C)?a:"",O=BB[C],M=/[defgprs%]/.test(C);j=j===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function R(T){var P=E,I=k,B,$,H;if(C==="c")I=O(T)+I,T="";else{T=+T;var V=T<0||1/T<0;if(T=isNaN(T)?c:O(Math.abs(T),j),S&&(T=dNe(T)),V&&+T==0&&x!=="+"&&(V=!1),P=(V?x==="("?x:l:x==="-"||x==="("?"":x)+P,I=(C==="s"?UB[8+QY/3]:"")+I+(V&&x==="("?")":""),M){for(B=-1,$=T.length;++B<$;)if(H=T.charCodeAt(B),48>H||H>57){I=(H===46?i+T.slice(B+1):T.slice(B))+I,T=T.slice(0,B);break}}}w&&!v&&(T=t(T,1/0));var U=P.length+T.length+I.length,W=U<b?new Array(b-U+1).join(m):"";switch(w&&v&&(T=t(W+T,W.length?b-I.length:1/0),W=""),p){case"<":T=P+T+I+W;break;case"=":T=P+W+T+I;break;case"^":T=W.slice(0,U=W.length>>1)+P+T+I+W.slice(U);break;default:T=W+P+T+I;break}return s(T)}return R.toString=function(){return d+""},R}function f(d,m){var p=u((d=Pg(d),d.type="f",d)),x=Math.max(-8,Math.min(8,Math.floor(mh(m)/3)))*3,y=Math.pow(10,-x),v=UB[8+x/3];return function(b){return p(y*b)+v}}return{format:u,formatPrefix:f}}var zx,_M,XY;mNe({thousands:",",grouping:[3],currency:["$",""]});function mNe(e){return zx=hNe(e),_M=zx.format,XY=zx.formatPrefix,zx}function pNe(e){return Math.max(0,-mh(Math.abs(e)))}function gNe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mh(t)/3)))*3-mh(Math.abs(e)))}function vNe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mh(t)-mh(e))+1}function ZY(e,t,r,n){var i=TA(e,t,r),s;switch(n=Pg(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=gNe(i,a))&&(n.precision=s),XY(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=vNe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=pNe(i))&&(n.precision=s-(n.type==="%")*2);break}}return _M(n)}function Hc(e){var t=e.domain;return e.ticks=function(r){var n=t();return OA(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return ZY(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);f-- >0;){if(u=AA(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function x0(){var e=bM();return e.copy=function(){return Yv(e,x0())},oa.apply(e,arguments),Hc(e)}function JY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,v0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return JY(e).unknown(t)},e=arguments.length?Array.from(e,v0):[0,1],Hc(r)}function eQ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function WB(e){return Math.log(e)}function HB(e){return Math.exp(e)}function yNe(e){return-Math.log(-e)}function xNe(e){return-Math.exp(-e)}function bNe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wNe(e){return e===10?bNe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _Ne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KB(e){return(t,r)=>-e(-t,r)}function SM(e){const t=e(WB,HB),r=t.domain;let n=10,i,s;function a(){return i=_Ne(n),s=wNe(n),r()[0]<0?(i=KB(i),s=KB(s),e(yNe,xNe)):e(WB,HB),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let m=i(u),p=i(f),x,y;const v=l==null?10:+l;let b=[];if(!(n%1)&&p-m<v){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(x=1;x<n;++x)if(y=m<0?x/s(-m):x*s(m),!(y<u)){if(y>f)break;b.push(y)}}else for(;m<=p;++m)for(x=n-1;x>=1;--x)if(y=m>0?x/s(-m):x*s(m),!(y<u)){if(y>f)break;b.push(y)}b.length*2<v&&(b=OA(u,f,v))}else b=OA(m,p,Math.min(p-m,v)).map(s);return d?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Pg(c)).precision==null&&(c.trim=!0),c=_M(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/s(Math.round(i(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(eQ(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function tQ(){const e=SM(s_()).domain([1,10]);return e.copy=()=>Yv(e,tQ()).base(e.base()),oa.apply(e,arguments),e}function GB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jM(e){var t=1,r=e(GB(t),YB(t));return r.constant=function(n){return arguments.length?e(GB(t=+n),YB(t)):t},Hc(r)}function rQ(){var e=jM(s_());return e.copy=function(){return Yv(e,rQ()).constant(e.constant())},oa.apply(e,arguments)}function QB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SNe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jNe(e){return e<0?-e*e:e*e}function CM(e){var t=e(Di,Di),r=1;function n(){return r===1?e(Di,Di):r===.5?e(SNe,jNe):e(QB(r),QB(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Hc(t)}function NM(){var e=CM(s_());return e.copy=function(){return Yv(e,NM()).exponent(e.exponent())},oa.apply(e,arguments),e}function CNe(){return NM.apply(null,arguments).exponent(.5)}function XB(e){return Math.sign(e)*e*e}function NNe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nQ(){var e=bM(),t=[0,1],r=!1,n;function i(s){var a=NNe(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(XB(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,v0)).map(XB)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return nQ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},oa.apply(i,arguments),Hc(i)}function iQ(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=TCe(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[Kv(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Nc),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return iQ().domain(e).range(t).unknown(n)},oa.apply(s,arguments)}function sQ(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Kv(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return sQ().domain([e,t]).range(i).unknown(s)},oa.apply(Hc(a),arguments)}function aQ(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Kv(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return aQ().domain(e).range(t).unknown(r)},oa.apply(i,arguments)}const _E=new Date,SE=new Date;function Dn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>Dn(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(_E.setTime(+s),SE.setTime(+a),e(_E),e(SE),Math.floor(r(_E,SE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const b0=Dn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);b0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):b0);b0.range;const Zo=1e3,Xs=Zo*60,Jo=Xs*60,gl=Jo*24,EM=gl*7,ZB=gl*30,jE=gl*365,Nu=Dn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zo)},(e,t)=>(t-e)/Zo,e=>e.getUTCSeconds());Nu.range;const kM=Dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zo)},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getMinutes());kM.range;const OM=Dn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getUTCMinutes());OM.range;const AM=Dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zo-e.getMinutes()*Xs)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getHours());AM.range;const TM=Dn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getUTCHours());TM.range;const Qv=Dn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xs)/gl,e=>e.getDate()-1);Qv.range;const a_=Dn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gl,e=>e.getUTCDate()-1);a_.range;const oQ=Dn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gl,e=>Math.floor(e/gl));oQ.range;function gd(e){return Dn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xs)/EM)}const o_=gd(0),w0=gd(1),ENe=gd(2),kNe=gd(3),ph=gd(4),ONe=gd(5),ANe=gd(6);o_.range;w0.range;ENe.range;kNe.range;ph.range;ONe.range;ANe.range;function vd(e){return Dn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/EM)}const l_=vd(0),_0=vd(1),TNe=vd(2),PNe=vd(3),gh=vd(4),MNe=vd(5),RNe=vd(6);l_.range;_0.range;TNe.range;PNe.range;gh.range;MNe.range;RNe.range;const PM=Dn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());PM.range;const MM=Dn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());MM.range;const vl=Dn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});vl.range;const yl=Dn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});yl.range;function lQ(e,t,r,n,i,s){const a=[[Nu,1,Zo],[Nu,5,5*Zo],[Nu,15,15*Zo],[Nu,30,30*Zo],[s,1,Xs],[s,5,5*Xs],[s,15,15*Xs],[s,30,30*Xs],[i,1,Jo],[i,3,3*Jo],[i,6,6*Jo],[i,12,12*Jo],[n,1,gl],[n,2,2*gl],[r,1,EM],[t,1,ZB],[t,3,3*ZB],[e,1,jE]];function l(u,f,d){const m=f<u;m&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),x=p?p.range(u,+f+1):[];return m?x.reverse():x}function c(u,f,d){const m=Math.abs(f-u)/d,p=pM(([,,v])=>v).right(a,m);if(p===a.length)return e.every(TA(u/jE,f/jE,d));if(p===0)return b0.every(Math.max(TA(u,f,d),1));const[x,y]=a[m/a[p-1][2]<a[p][2]/m?p-1:p];return x.every(y)}return[l,c]}const[DNe,INe]=lQ(yl,MM,l_,oQ,TM,OM),[LNe,$Ne]=lQ(vl,PM,o_,Qv,AM,kM);function CE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function NE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function FNe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=up(i),f=dp(i),d=up(s),m=dp(s),p=up(a),x=dp(a),y=up(l),v=dp(l),b=up(c),w=dp(c),j={a:V,A:U,b:W,B:F,c:null,d:i8,e:i8,f:lEe,g:yEe,G:bEe,H:sEe,I:aEe,j:oEe,L:cQ,m:cEe,M:uEe,p:L,q,Q:o8,s:l8,S:dEe,u:fEe,U:hEe,V:mEe,w:pEe,W:gEe,x:null,X:null,y:vEe,Y:xEe,Z:wEe,"%":a8},S={a:K,A:ee,b:te,B:Q,c:null,d:s8,e:s8,f:CEe,g:DEe,G:LEe,H:_Ee,I:SEe,j:jEe,L:dQ,m:NEe,M:EEe,p:G,q:ne,Q:o8,s:l8,S:kEe,u:OEe,U:AEe,V:TEe,w:PEe,W:MEe,x:null,X:null,y:REe,Y:IEe,Z:$Ee,"%":a8},C={a:R,A:T,b:P,B:I,c:B,d:r8,e:r8,f:tEe,g:t8,G:e8,H:n8,I:n8,j:XNe,L:eEe,m:QNe,M:ZNe,p:M,q:YNe,Q:nEe,s:iEe,S:JNe,u:UNe,U:WNe,V:HNe,w:VNe,W:KNe,x:$,X:H,y:t8,Y:e8,Z:GNe,"%":rEe};j.x=E(r,j),j.X=E(n,j),j.c=E(t,j),S.x=E(r,S),S.X=E(n,S),S.c=E(t,S);function E(Z,re){return function(fe){var ce=[],xe=-1,be=0,ke=Z.length,Te,De,ae;for(fe instanceof Date||(fe=new Date(+fe));++xe<ke;)Z.charCodeAt(xe)===37&&(ce.push(Z.slice(be,xe)),(De=JB[Te=Z.charAt(++xe)])!=null?Te=Z.charAt(++xe):De=Te==="e"?" ":"0",(ae=re[Te])&&(Te=ae(fe,De)),ce.push(Te),be=xe+1);return ce.push(Z.slice(be,xe)),ce.join("")}}function k(Z,re){return function(fe){var ce=cp(1900,void 0,1),xe=O(ce,Z,fe+="",0),be,ke;if(xe!=fe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(re&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(be=NE(cp(ce.y,0,1)),ke=be.getUTCDay(),be=ke>4||ke===0?_0.ceil(be):_0(be),be=a_.offset(be,(ce.V-1)*7),ce.y=be.getUTCFullYear(),ce.m=be.getUTCMonth(),ce.d=be.getUTCDate()+(ce.w+6)%7):(be=CE(cp(ce.y,0,1)),ke=be.getDay(),be=ke>4||ke===0?w0.ceil(be):w0(be),be=Qv.offset(be,(ce.V-1)*7),ce.y=be.getFullYear(),ce.m=be.getMonth(),ce.d=be.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),ke="Z"in ce?NE(cp(ce.y,0,1)).getUTCDay():CE(cp(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(ke+5)%7:ce.w+ce.U*7-(ke+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,NE(ce)):CE(ce)}}function O(Z,re,fe,ce){for(var xe=0,be=re.length,ke=fe.length,Te,De;xe<be;){if(ce>=ke)return-1;if(Te=re.charCodeAt(xe++),Te===37){if(Te=re.charAt(xe++),De=C[Te in JB?re.charAt(xe++):Te],!De||(ce=De(Z,fe,ce))<0)return-1}else if(Te!=fe.charCodeAt(ce++))return-1}return ce}function M(Z,re,fe){var ce=u.exec(re.slice(fe));return ce?(Z.p=f.get(ce[0].toLowerCase()),fe+ce[0].length):-1}function R(Z,re,fe){var ce=p.exec(re.slice(fe));return ce?(Z.w=x.get(ce[0].toLowerCase()),fe+ce[0].length):-1}function T(Z,re,fe){var ce=d.exec(re.slice(fe));return ce?(Z.w=m.get(ce[0].toLowerCase()),fe+ce[0].length):-1}function P(Z,re,fe){var ce=b.exec(re.slice(fe));return ce?(Z.m=w.get(ce[0].toLowerCase()),fe+ce[0].length):-1}function I(Z,re,fe){var ce=y.exec(re.slice(fe));return ce?(Z.m=v.get(ce[0].toLowerCase()),fe+ce[0].length):-1}function B(Z,re,fe){return O(Z,t,re,fe)}function $(Z,re,fe){return O(Z,r,re,fe)}function H(Z,re,fe){return O(Z,n,re,fe)}function V(Z){return a[Z.getDay()]}function U(Z){return s[Z.getDay()]}function W(Z){return c[Z.getMonth()]}function F(Z){return l[Z.getMonth()]}function L(Z){return i[+(Z.getHours()>=12)]}function q(Z){return 1+~~(Z.getMonth()/3)}function K(Z){return a[Z.getUTCDay()]}function ee(Z){return s[Z.getUTCDay()]}function te(Z){return c[Z.getUTCMonth()]}function Q(Z){return l[Z.getUTCMonth()]}function G(Z){return i[+(Z.getUTCHours()>=12)]}function ne(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var re=E(Z+="",j);return re.toString=function(){return Z},re},parse:function(Z){var re=k(Z+="",!1);return re.toString=function(){return Z},re},utcFormat:function(Z){var re=E(Z+="",S);return re.toString=function(){return Z},re},utcParse:function(Z){var re=k(Z+="",!0);return re.toString=function(){return Z},re}}}var JB={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,qNe=/^%/,BNe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function zNe(e){return e.replace(BNe,"\\$&")}function up(e){return new RegExp("^(?:"+e.map(zNe).join("|")+")","i")}function dp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function VNe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function UNe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function WNe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function HNe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function KNe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function e8(e,t,r){var n=Xn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function t8(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GNe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YNe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function QNe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function r8(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XNe(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function n8(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZNe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JNe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eEe(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tEe(e,t,r){var n=Xn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rEe(e,t,r){var n=qNe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nEe(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function iEe(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function i8(e,t){return hr(e.getDate(),t,2)}function sEe(e,t){return hr(e.getHours(),t,2)}function aEe(e,t){return hr(e.getHours()%12||12,t,2)}function oEe(e,t){return hr(1+Qv.count(vl(e),e),t,3)}function cQ(e,t){return hr(e.getMilliseconds(),t,3)}function lEe(e,t){return cQ(e,t)+"000"}function cEe(e,t){return hr(e.getMonth()+1,t,2)}function uEe(e,t){return hr(e.getMinutes(),t,2)}function dEe(e,t){return hr(e.getSeconds(),t,2)}function fEe(e){var t=e.getDay();return t===0?7:t}function hEe(e,t){return hr(o_.count(vl(e)-1,e),t,2)}function uQ(e){var t=e.getDay();return t>=4||t===0?ph(e):ph.ceil(e)}function mEe(e,t){return e=uQ(e),hr(ph.count(vl(e),e)+(vl(e).getDay()===4),t,2)}function pEe(e){return e.getDay()}function gEe(e,t){return hr(w0.count(vl(e)-1,e),t,2)}function vEe(e,t){return hr(e.getFullYear()%100,t,2)}function yEe(e,t){return e=uQ(e),hr(e.getFullYear()%100,t,2)}function xEe(e,t){return hr(e.getFullYear()%1e4,t,4)}function bEe(e,t){var r=e.getDay();return e=r>=4||r===0?ph(e):ph.ceil(e),hr(e.getFullYear()%1e4,t,4)}function wEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function s8(e,t){return hr(e.getUTCDate(),t,2)}function _Ee(e,t){return hr(e.getUTCHours(),t,2)}function SEe(e,t){return hr(e.getUTCHours()%12||12,t,2)}function jEe(e,t){return hr(1+a_.count(yl(e),e),t,3)}function dQ(e,t){return hr(e.getUTCMilliseconds(),t,3)}function CEe(e,t){return dQ(e,t)+"000"}function NEe(e,t){return hr(e.getUTCMonth()+1,t,2)}function EEe(e,t){return hr(e.getUTCMinutes(),t,2)}function kEe(e,t){return hr(e.getUTCSeconds(),t,2)}function OEe(e){var t=e.getUTCDay();return t===0?7:t}function AEe(e,t){return hr(l_.count(yl(e)-1,e),t,2)}function fQ(e){var t=e.getUTCDay();return t>=4||t===0?gh(e):gh.ceil(e)}function TEe(e,t){return e=fQ(e),hr(gh.count(yl(e),e)+(yl(e).getUTCDay()===4),t,2)}function PEe(e){return e.getUTCDay()}function MEe(e,t){return hr(_0.count(yl(e)-1,e),t,2)}function REe(e,t){return hr(e.getUTCFullYear()%100,t,2)}function DEe(e,t){return e=fQ(e),hr(e.getUTCFullYear()%100,t,2)}function IEe(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function LEe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?gh(e):gh.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function $Ee(){return"+0000"}function a8(){return"%"}function o8(e){return+e}function l8(e){return Math.floor(+e/1e3)}var rf,hQ,mQ;FEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FEe(e){return rf=FNe(e),hQ=rf.format,rf.parse,mQ=rf.utcFormat,rf.utcParse,rf}function qEe(e){return new Date(e)}function BEe(e){return e instanceof Date?+e:+new Date(+e)}function RM(e,t,r,n,i,s,a,l,c,u){var f=bM(),d=f.invert,m=f.domain,p=u(".%L"),x=u(":%S"),y=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),w=u("%b %d"),j=u("%B"),S=u("%Y");function C(E){return(c(E)<E?p:l(E)<E?x:a(E)<E?y:s(E)<E?v:n(E)<E?i(E)<E?b:w:r(E)<E?j:S)(E)}return f.invert=function(E){return new Date(d(E))},f.domain=function(E){return arguments.length?m(Array.from(E,BEe)):m().map(qEe)},f.ticks=function(E){var k=m();return e(k[0],k[k.length-1],E??10)},f.tickFormat=function(E,k){return k==null?C:u(k)},f.nice=function(E){var k=m();return(!E||typeof E.range!="function")&&(E=t(k[0],k[k.length-1],E??10)),E?m(eQ(k,E)):f},f.copy=function(){return Yv(f,RM(e,t,r,n,i,s,a,l,c,u))},f}function zEe(){return oa.apply(RM(LNe,$Ne,vl,PM,o_,Qv,AM,kM,Nu,hQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VEe(){return oa.apply(RM(DNe,INe,yl,MM,l_,a_,TM,OM,Nu,mQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c_(){var e=0,t=1,r,n,i,s,a=Di,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:a(i===0?.5:(d=(s(d)-r)*i,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(a=d,u):a};function f(d){return function(m){var p,x;return arguments.length?([p,x]=m,a=d(p,x),u):[a(0),a(1)]}}return u.range=f(gm),u.rangeRound=f(xM),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Kc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pQ(){var e=Hc(c_()(Di));return e.copy=function(){return Kc(e,pQ())},Ol.apply(e,arguments)}function gQ(){var e=SM(c_()).domain([1,10]);return e.copy=function(){return Kc(e,gQ()).base(e.base())},Ol.apply(e,arguments)}function vQ(){var e=jM(c_());return e.copy=function(){return Kc(e,vQ()).constant(e.constant())},Ol.apply(e,arguments)}function DM(){var e=CM(c_());return e.copy=function(){return Kc(e,DM()).exponent(e.exponent())},Ol.apply(e,arguments)}function UEe(){return DM.apply(null,arguments).exponent(.5)}function yQ(){var e=[],t=Di;function r(n){if(n!=null&&!isNaN(n=+n))return t((Kv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Nc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>ACe(e,s/n))},r.copy=function(){return yQ(t).domain(e)},Ol.apply(r,arguments)}function u_(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=Di,f,d=!1,m;function p(y){return isNaN(y=+y)?m:(y=.5+((y=+f(y))-s)*(n*y<n*s?l:c),u(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,i=f(e=+e),s=f(t=+t),a=f(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(u=y,p):u};function x(y){return function(v){var b,w,j;return arguments.length?([b,w,j]=v,u=rNe(y,[b,w,j]),p):[u(0),u(.5),u(1)]}}return p.range=x(gm),p.rangeRound=x(xM),p.unknown=function(y){return arguments.length?(m=y,p):m},function(y){return f=y,i=y(e),s=y(t),a=y(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,p}}function xQ(){var e=Hc(u_()(Di));return e.copy=function(){return Kc(e,xQ())},Ol.apply(e,arguments)}function bQ(){var e=SM(u_()).domain([.1,1,10]);return e.copy=function(){return Kc(e,bQ()).base(e.base())},Ol.apply(e,arguments)}function wQ(){var e=jM(u_());return e.copy=function(){return Kc(e,wQ()).constant(e.constant())},Ol.apply(e,arguments)}function IM(){var e=CM(u_());return e.copy=function(){return Kc(e,IM()).exponent(e.exponent())},Ol.apply(e,arguments)}function WEe(){return IM.apply(null,arguments).exponent(.5)}const c8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kg,scaleDiverging:xQ,scaleDivergingLog:bQ,scaleDivergingPow:IM,scaleDivergingSqrt:WEe,scaleDivergingSymlog:wQ,scaleIdentity:JY,scaleImplicit:PA,scaleLinear:x0,scaleLog:tQ,scaleOrdinal:gM,scalePoint:Wp,scalePow:NM,scaleQuantile:iQ,scaleQuantize:sQ,scaleRadial:nQ,scaleSequential:pQ,scaleSequentialLog:gQ,scaleSequentialPow:DM,scaleSequentialQuantile:yQ,scaleSequentialSqrt:UEe,scaleSequentialSymlog:vQ,scaleSqrt:CNe,scaleSymlog:rQ,scaleThreshold:aQ,scaleTime:zEe,scaleUtc:VEe,tickFormat:ZY},Symbol.toStringTag,{value:"Module"}));var EE,u8;function _Q(){if(u8)return EE;u8=1;var e=fm();function t(r,n,i){for(var s=-1,a=r.length;++s<a;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):i(c,u)))var u=c,f=l}return f}return EE=t,EE}var kE,d8;function HEe(){if(d8)return kE;d8=1;function e(t,r){return t>r}return kE=e,kE}var OE,f8;function KEe(){if(f8)return OE;f8=1;var e=_Q(),t=HEe(),r=mm();function n(i){return i&&i.length?e(i,r,t):void 0}return OE=n,OE}var GEe=KEe();const d_=wr(GEe);var AE,h8;function YEe(){if(h8)return AE;h8=1;function e(t,r){return t<r}return AE=e,AE}var TE,m8;function QEe(){if(m8)return TE;m8=1;var e=_Q(),t=YEe(),r=mm();function n(i){return i&&i.length?e(i,r,t):void 0}return TE=n,TE}var XEe=QEe();const f_=wr(XEe);var PE,p8;function ZEe(){if(p8)return PE;p8=1;var e=ZP(),t=Wc(),r=AY(),n=us();function i(s,a){var l=n(s)?e:r;return l(s,t(a,3))}return PE=i,PE}var ME,g8;function JEe(){if(g8)return ME;g8=1;var e=kY(),t=ZEe();function r(n,i){return e(t(n,i),1)}return ME=r,ME}var eke=JEe();const tke=wr(eke);var RE,v8;function SQ(){if(v8)return RE;v8=1;var e=dM();function t(r,n){return e(r,n)}return RE=t,RE}var rke=SQ();const h_=wr(rke);var vm=1e9,nke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$M,Ur=!0,na="[DecimalError] ",qu=na+"Invalid argument: ",LM=na+"Exponent out of range: ",ym=Math.floor,yu=Math.pow,ike=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ss,Bn=1e7,$r=7,jQ=9007199254740991,S0=ym(jQ/$r),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$r;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};st.dividedBy=st.div=function(e){return sl(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,r=t.constructor;return Or(sl(t,new r(e),0,1),r.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return bn(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ss))throw Error(na+"NaN");if(r.s<1)throw Error(na+(r.s?"NaN":"-Infinity"));return r.eq(Ss)?new n(0):(Ur=!1,t=sl(Mg(r,s),Mg(e,s),s),Ur=!0,Or(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EQ(t,e):CQ(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(na+"NaN");return r.s?(Ur=!1,t=sl(r,e,0,1).times(e),Ur=!0,r.minus(t)):Or(new n(r),i)};st.naturalExponential=st.exp=function(){return NQ(this)};st.naturalLogarithm=st.ln=function(){return Mg(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CQ(t,e):EQ(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qu+e);if(t=bn(i)+1,n=i.d.length-1,r=n*$r+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};st.squareRoot=st.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(na+"NaN")}for(e=bn(l),Ur=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=fo(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ym((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(sl(l,s,a+2)).times(.5),fo(s.d).slice(0,a)===(t=fo(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Or(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return Ur=!0,Or(n,r)};st.times=st.mul=function(e){var t,r,n,i,s,a,l,c,u,f=this,d=f.constructor,m=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+p[n]*m[i-n-1]+t,s[i--]=l%Bn|0,t=l/Bn|0;s[i]=(s[i]+t)%Bn|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ur?Or(e,d.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Co(e,0,vm),t===void 0?t=n.rounding:Co(t,0,8),Or(r,e+bn(r)+1,t))};st.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ju(n,!0):(Co(e,0,vm),t===void 0?t=i.rounding:Co(t,0,8),n=Or(new i(n),e+1,t),r=Ju(n,!0,e+1)),r};st.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ju(i):(Co(e,0,vm),t===void 0?t=s.rounding:Co(t,0,8),n=Or(new s(i),e+bn(i)+1,t),r=Ju(n.abs(),!1,e+bn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return Or(new t(e),bn(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Ss);if(l=new c(l),!l.s){if(e.s<1)throw Error(na+"Infinity");return l}if(l.eq(Ss))return l;if(n=c.precision,e.eq(Ss))return Or(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=f<0?-f:f)<=jQ){for(i=new c(Ss),t=Math.ceil(n/$r+4),Ur=!1;r%2&&(i=i.times(l),x8(i.d,t)),r=ym(r/2),r!==0;)l=l.times(l),x8(l.d,t);return Ur=!0,e.s<0?new c(Ss).div(i):Or(i,n)}}else if(s<0)throw Error(na+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ur=!1,i=e.times(Mg(l,n+u)),Ur=!0,i=NQ(i),i.s=s,i};st.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=bn(i),n=Ju(i,r<=s.toExpNeg||r>=s.toExpPos)):(Co(e,1,vm),t===void 0?t=s.rounding:Co(t,0,8),i=Or(new s(i),e,t),r=bn(i),n=Ju(i,e<=r||r<=s.toExpNeg,e)),n};st.toSignificantDigits=st.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Co(e,1,vm),t===void 0?t=n.rounding:Co(t,0,8)),Or(new n(r),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=bn(e),r=e.constructor;return Ju(e,t<=r.toExpNeg||t>=r.toExpPos)};function CQ(e,t){var r,n,i,s,a,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Ur?Or(t,d):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(d/$r),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Bn|0,c[s]%=Bn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Ur?Or(t,d):t}function Co(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qu+e)}function fo(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=$r-n.length,r&&(s+=lc(r)),s+=n;a=e[t],n=a+"",r=$r-n.length,r&&(s+=lc(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var sl=(function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%Bn|0,a=s/Bn|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Bn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,f,d,m,p,x,y,v,b,w,j,S,C,E,k,O,M=n.constructor,R=n.s==i.s?1:-1,T=n.d,P=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(na+"Division by zero");for(c=n.e-i.e,k=P.length,C=T.length,p=new M(R),x=p.d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--c,s==null?w=s=M.precision:a?w=s+(bn(n)-bn(i))+1:w=s,w<0)return new M(0);if(w=w/$r+2|0,u=0,k==1)for(f=0,P=P[0],w++;(u<C||f)&&w--;u++)j=f*Bn+(T[u]||0),x[u]=j/P|0,f=j%P|0;else{for(f=Bn/(P[0]+1)|0,f>1&&(P=e(P,f),T=e(T,f),k=P.length,C=T.length),S=k,y=T.slice(0,k),v=y.length;v<k;)y[v++]=0;O=P.slice(),O.unshift(0),E=P[0],P[1]>=Bn/2&&++E;do f=0,l=t(P,y,k,v),l<0?(b=y[0],k!=v&&(b=b*Bn+(y[1]||0)),f=b/E|0,f>1?(f>=Bn&&(f=Bn-1),d=e(P,f),m=d.length,v=y.length,l=t(d,y,m,v),l==1&&(f--,r(d,k<m?O:P,m))):(f==0&&(l=f=1),d=P.slice()),m=d.length,m<v&&d.unshift(0),r(y,d,v),l==-1&&(v=y.length,l=t(P,y,k,v),l<1&&(f++,r(y,k<v?O:P,v))),v=y.length):l===0&&(f++,y=[0]),x[u++]=f,l&&y[0]?y[v++]=T[S]||0:(y=[T[S]],v=1);while((S++<C||y[0]!==void 0)&&w--)}return x[0]||x.shift(),p.e=c,Or(p,a?s+bn(p)+1:s)}})();function NQ(e,t){var r,n,i,s,a,l,c=0,u=0,f=e.constructor,d=f.precision;if(bn(e)>16)throw Error(LM+bn(e));if(!e.s)return new f(Ss);for(Ur=!1,l=d,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(yu(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new f(Ss),f.precision=l;;){if(i=Or(i.times(e),l),r=r.times(++c),a=s.plus(sl(i,r,l)),fo(a.d).slice(0,l)===fo(s.d).slice(0,l)){for(;u--;)s=Or(s.times(s),l);return f.precision=d,t==null?(Ur=!0,Or(s,d)):s}s=a}}function bn(e){for(var t=e.e*$r,r=e.d[0];r>=10;r/=10)t++;return t}function DE(e,t,r){if(t>e.LN10.sd())throw Ur=!0,r&&(e.precision=r),Error(na+"LN10 precision limit exceeded");return Or(new e(e.LN10),t)}function lc(e){for(var t="";e--;)t+="0";return t}function Mg(e,t){var r,n,i,s,a,l,c,u,f,d=1,m=10,p=e,x=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(na+(p.s?"NaN":"-Infinity"));if(p.eq(Ss))return new y(0);if(t==null?(Ur=!1,u=v):u=t,p.eq(10))return t==null&&(Ur=!0),DE(y,u);if(u+=m,y.precision=u,r=fo(x),n=r.charAt(0),s=bn(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=fo(p.d),n=r.charAt(0),d++;s=bn(p),n>1?(p=new y("0."+r),s++):p=new y(n+"."+r.slice(1))}else return c=DE(y,u+2,v).times(s+""),p=Mg(new y(n+"."+r.slice(1)),u-m).plus(c),y.precision=v,t==null?(Ur=!0,Or(p,v)):p;for(l=a=p=sl(p.minus(Ss),p.plus(Ss),u),f=Or(p.times(p),u),i=3;;){if(a=Or(a.times(f),u),c=l.plus(sl(a,new y(i),u)),fo(c.d).slice(0,u)===fo(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(DE(y,u+2,v).times(s+""))),l=sl(l,new y(d),u),y.precision=v,t==null?(Ur=!0,Or(l,v)):l;l=c,i+=2}}function y8(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ym(r/$r),e.d=[],n=(r+1)%$r,r<0&&(n+=$r),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$r;n<i;)e.d.push(+t.slice(n,n+=$r));t=t.slice(n),n=$r-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ur&&(e.e>S0||e.e<-S0))throw Error(LM+r)}else e.s=0,e.e=0,e.d=[0];return e}function Or(e,t,r){var n,i,s,a,l,c,u,f,d=e.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=$r,i=t,u=d[f=0];else{if(f=Math.ceil((n+1)/$r),s=d.length,f>=s)return e;for(u=s=d[f],a=1;s>=10;s/=10)a++;n%=$r,i=n-$r+a}if(r!==void 0&&(s=yu(10,a-i-1),l=u/s%10|0,c=t<0||d[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/yu(10,a-i):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(s=bn(e),d.length=1,t=t-s-1,d[0]=yu(10,($r-t%$r)%$r),e.e=ym(-t/$r)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,s=1,f--):(d.length=f+1,s=yu(10,$r-n),d[f]=i>0?(u/yu(10,a-i)%yu(10,i)|0)*s:0),c)for(;;)if(f==0){(d[0]+=s)==Bn&&(d[0]=1,++e.e);break}else{if(d[f]+=s,d[f]!=Bn)break;d[f--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Ur&&(e.e>S0||e.e<-S0))throw Error(LM+bn(e));return e}function EQ(e,t){var r,n,i,s,a,l,c,u,f,d,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ur?Or(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(f=a<0,f?(r=c,a=-a,l=d.length):(r=d,n=u,l=c.length),i=Math.max(Math.ceil(p/$r),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=d.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){f=c[i]<d[i];break}a=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>a;){if(c[--i]<d[i]){for(s=i;s&&c[--s]===0;)c[s]=Bn-1;--c[s],c[i]+=Bn}c[i]-=d[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ur?Or(t,p):t):new m(0)}function Ju(e,t,r){var n,i=bn(e),s=fo(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+lc(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+lc(-i-1)+s,r&&(n=r-a)>0&&(s+=lc(n))):i>=a?(s+=lc(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+lc(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=lc(n))),e.s<0?"-"+s:s}function x8(e,t){if(e.length>t)return e.length=t,!0}function kQ(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(qu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return y8(a,s.toString())}else if(typeof s!="string")throw Error(qu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,ike.test(s))y8(a,s);else throw Error(qu+s)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kQ,i.config=i.set=ske,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function ske(e){if(!e||typeof e!="object")throw Error(na+"Object expected");var t,r,n,i=["precision",1,vm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ym(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(qu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qu+r+": "+n);return this}var $M=kQ(nke);Ss=new $M(1);const Nr=$M;function ake(e){return uke(e)||cke(e)||lke(e)||oke()}function oke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lke(e,t){if(e){if(typeof e=="string")return IA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(e,t)}}function cke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uke(e){if(Array.isArray(e))return IA(e)}function IA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dke=function(t){return t},OQ={},AQ=function(t){return t===OQ},b8=function(t){return function r(){return arguments.length===0||arguments.length===1&&AQ(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},fke=function e(t,r){return t===1?r:b8(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(l){return l!==OQ}).length;return a>=t?r.apply(void 0,i):e(t-a,b8(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(d){return AQ(d)?c.shift():d});return r.apply(void 0,ake(f).concat(c))}))})},m_=function(t){return fke(t.length,t)},LA=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},hke=m_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),mke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return dke;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},$A=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},TQ=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function pke(e){var t;return e===0?t=1:t=Math.floor(new Nr(e).abs().log(10).toNumber())+1,t}function gke(e,t,r){for(var n=new Nr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var vke=m_(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),yke=m_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),xke=m_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const p_={rangeStep:gke,getDigitCount:pke,interpolateNumber:vke,uninterpolateNumber:yke,uninterpolateTruncation:xke};function FA(e){return _ke(e)||wke(e)||PQ(e)||bke()}function bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _ke(e){if(Array.isArray(e))return qA(e)}function Rg(e,t){return Cke(e)||jke(e,t)||PQ(e,t)||Ske()}function Ske(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(e,t){if(e){if(typeof e=="string")return qA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(e,t)}}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=e[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function Cke(e){if(Array.isArray(e))return e}function MQ(e){var t=Rg(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function RQ(e,t,r){if(e.lte(0))return new Nr(0);var n=p_.getDigitCount(e.toNumber()),i=new Nr(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new Nr(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?c:new Nr(Math.ceil(c))}function Nke(e,t,r){var n=1,i=new Nr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Nr(10).pow(p_.getDigitCount(e)-1),i=new Nr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Nr(Math.floor(e)))}else e===0?i=new Nr(Math.floor((t-1)/2)):r||(i=new Nr(Math.floor(e)));var a=Math.floor((t-1)/2),l=mke(hke(function(c){return i.add(new Nr(c-a).mul(n)).toNumber()}),LA);return l(0,t)}function DQ(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var s=RQ(new Nr(t).sub(e).div(r-1),n,i),a;e<=0&&t>=0?a=new Nr(0):(a=new Nr(e).add(t).div(2),a=a.sub(new Nr(a).mod(s)));var l=Math.ceil(a.sub(e).div(s).toNumber()),c=Math.ceil(new Nr(t).sub(a).div(s).toNumber()),u=l+c+1;return u>r?DQ(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:a.sub(new Nr(l).mul(s)),tickMax:a.add(new Nr(c).mul(s))})}function Eke(e){var t=Rg(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=MQ([r,n]),c=Rg(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(FA(LA(0,i-1).map(function(){return 1/0}))):[].concat(FA(LA(0,i-1).map(function(){return-1/0})),[f]);return r>n?$A(d):d}if(u===f)return Nke(u,i,s);var m=DQ(u,f,a,s),p=m.step,x=m.tickMin,y=m.tickMax,v=p_.rangeStep(x,y.add(new Nr(.1).mul(p)),p);return r>n?$A(v):v}function kke(e,t){var r=Rg(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=MQ([n,i]),l=Rg(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(t,2),d=RQ(new Nr(u).sub(c).div(f-1),s,0),m=[].concat(FA(p_.rangeStep(new Nr(c),new Nr(u).sub(new Nr(.99).mul(d)),d)),[u]);return n>i?$A(m):m}var Oke=TQ(Eke),Ake=TQ(kke),Tke="Invariant failed";function ed(e,t){throw new Error(Tke)}var Pke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(this,arguments)}function Mke(e,t){return Lke(e)||Ike(e,t)||Dke(e,t)||Rke()}function Rke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dke(e,t){if(e){if(typeof e=="string")return w8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w8(e,t)}}function w8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ike(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Lke(e){if(Array.isArray(e))return e}function $ke(e,t){if(e==null)return{};var r=Fke(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$Q(n.key),n)}}function zke(e,t,r){return t&&Bke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vke(e,t,r){return t=C0(t),Uke(e,IQ()?Reflect.construct(t,r||[],C0(e).constructor):t.apply(e,r))}function Uke(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wke(e)}function Wke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IQ=function(){return!!e})()}function C0(e){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C0(e)}function Hke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BA(e,t)}function LQ(e,t,r){return t=$Q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Q(e){var t=Kke(e,"string");return vh(t)=="symbol"?t:t+""}function Kke(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xv=(function(e){function t(){return qke(this,t),Vke(this,t,arguments)}return Hke(t,e),zke(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,m=$ke(n,Pke),p=nr(m,!1);this.props.direction==="x"&&f.type!=="number"&&ed();var x=c.map(function(y){var v=u(y,l),b=v.x,w=v.y,j=v.value,S=v.errorVal;if(!S)return null;var C=[],E,k;if(Array.isArray(S)){var O=Mke(S,2);E=O[0],k=O[1]}else E=k=S;if(s==="vertical"){var M=f.scale,R=w+i,T=R+a,P=R-a,I=M(j-E),B=M(j+k);C.push({x1:B,y1:T,x2:B,y2:P}),C.push({x1:I,y1:R,x2:B,y2:R}),C.push({x1:I,y1:T,x2:I,y2:P})}else if(s==="horizontal"){var $=d.scale,H=b+i,V=H-a,U=H+a,W=$(j-E),F=$(j+k);C.push({x1:V,y1:F,x2:U,y2:F}),C.push({x1:H,y1:W,x2:H,y2:F}),C.push({x1:V,y1:W,x2:U,y2:W})}return Y.createElement(fn,j0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},p),C.map(function(L){return Y.createElement("line",j0({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return Y.createElement(fn,{className:"recharts-errorBars"},x)}}])})(Y.Component);LQ(Xv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LQ(Xv,"displayName","ErrorBar");function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){Gke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gke(e,t,r){return t=Yke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yke(e){var t=Qke(e,"string");return Dg(t)=="symbol"?t:t+""}function Qke(e,t){if(Dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FQ=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,a=bs(r,os);if(!a)return null;var l=os.defaultProps,c=l!==void 0?hu(hu({},l),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(n||[]).reduce(function(f,d){var m=d.item,p=d.props,x=p.sectors||p.data||[];return f.concat(x.map(function(y){return{type:a.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(f){var d=f.item,m=d.type.defaultProps,p=m!==void 0?hu(hu({},m),d.props):{},x=p.dataKey,y=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:x,type:c.iconType||v||"square",color:FM(d),value:y||x,payload:p}}),hu(hu(hu({},c),os.getWithHeight(a,i)),{},{payload:u,item:a})};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function S8(e){return eOe(e)||Jke(e)||Zke(e)||Xke()}function Xke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(e,t){if(e){if(typeof e=="string")return zA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zA(e,t)}}function Jke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eOe(e){if(Array.isArray(e))return zA(e)}function zA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){Mf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mf(e,t,r){return t=tOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tOe(e){var t=rOe(e,"string");return Ig(t)=="symbol"?t:t+""}function rOe(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(e,t,r){return Yt(e)||Yt(t)?r:Pn(t)?ea(e,t,r):Vt(t)?t(e):r}function Hp(e,t,r,n){var i=tke(e,function(l){return Ms(l,t)});if(r==="number"){var s=i.filter(function(l){return Xe(l)||parseFloat(l)});return s.length?[f_(s),d_(s)]:[1/0,-1/0]}var a=n?i.filter(function(l){return!Yt(l)}):i;return a.map(function(l){return Pn(l)||l instanceof Date?l:""})}var nOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,d=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Ma(d-f)!==Ma(m-d)){var x=[];if(Ma(m-d)===Ma(c[1]-c[0])){p=m;var y=d+c[1]-c[0];x[0]=Math.min(y,(y+f)/2),x[1]=Math.max(y,(y+f)/2)}else{p=f;var v=m+c[1]-c[0];x[0]=Math.min(d,(v+d)/2),x[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){a=i[u].index;break}}else{var w=Math.min(f,m),j=Math.max(f,m);if(t>(w+d)/2&&t<=(j+d)/2){a=i[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){a=n[S].index;break}return a},FM=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?an(an({},t.type.defaultProps),t.props):t.props,a=s.stroke,l=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},iOe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,d=Object.keys(f),m=0,p=d.length;m<p;m++){var x=f[d[m]],y=x.items,v=x.cateAxisId,b=y.filter(function(k){return rl(k.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,j=w!==void 0?an(an({},w),b[0].props):b[0].props,S=j.barSize,C=j[v];a[C]||(a[C]=[]);var E=Yt(S)?r:S;a[C].push({item:b[0],stackList:b.slice(1),barSize:Yt(E)?void 0:Zu(E,n,0)})}}return a},sOe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,a=s===void 0?[]:s,l=t.maxBarSize,c=a.length;if(c<1)return null;var u=Zu(r,i,0,!0),f,d=[];if(a[0].barSize===+a[0].barSize){var m=!1,p=i/c,x=a.reduce(function(S,C){return S+C.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&p>0&&(m=!0,p*=.9,x=c*p);var y=(i-x)/2>>0,v={offset:y-u,size:0};f=a.reduce(function(S,C){var E={item:C.item,position:{offset:v.offset+v.size+u,size:m?p:C.barSize}},k=[].concat(S8(S),[E]);return v=k[k.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(O){k.push({item:O,position:v})}),k},d)}else{var b=Zu(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var w=(i-2*b-(c-1)*u)/c;w>1&&(w>>=0);var j=l===+l?Math.min(w,l):w;f=a.reduce(function(S,C,E){var k=[].concat(S8(S),[{item:C.item,position:{offset:b+(w+u)*E+(w-j)/2,size:j}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},d)}return f},aOe=function(t,r,n,i){var s=n.children,a=n.width,l=n.margin,c=a-(l.left||0)-(l.right||0),u=FQ({children:s,legendWidth:c});if(u){var f=i||{},d=f.width,m=f.height,p=u.align,x=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&p!=="center"&&Xe(t[p]))return an(an({},t),{},Mf({},p,t[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&x!=="middle"&&Xe(t[x]))return an(an({},t),{},Mf({},x,t[x]+(m||0)))}return t},oOe=function(t,r,n){return Yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},qQ=function(t,r,n,i,s){var a=r.props.children,l=ta(a,Xv).filter(function(u){return oOe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=Ms(f,n);if(Yt(d))return u;var m=Array.isArray(d)?[f_(d),d_(d)]:[d,d],p=c.reduce(function(x,y){var v=Ms(f,y,0),b=m[0]-Math.abs(Array.isArray(v)?v[0]:v),w=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,x[0]),Math.max(w,x[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},lOe=function(t,r,n,i,s){var a=r.map(function(l){return qQ(t,l,n,s,i)}).filter(function(l){return!Yt(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},BQ=function(t,r,n,i,s){var a=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&qQ(t,c,u,i)||Hp(t,u,n,s)});if(n==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},zQ=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},VQ=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,a,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(a=!0),c.coordinate});return s||l.push(r),a||l.push(n),l},el=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,a=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ma(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var m=s?s.indexOf(d):d;return{coordinate:i(m)+u,value:d,offset:u}});return f.filter(function(d){return!Uv(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,m){return{coordinate:i(d)+u,value:d,index:m,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,m){return{coordinate:i(d)+u,value:s?s[d]:d,index:m,offset:u}})},IE=new WeakMap,Vx=function(t,r){if(typeof r!="function")return t;IE.has(t)||IE.set(t,new WeakMap);var n=IE.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},cOe=function(t,r,n){var i=t.scale,s=t.type,a=t.layout,l=t.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:kg(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:x0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wp(),realScaleType:"point"}:s==="category"?{scale:kg(),realScaleType:"band"}:{scale:x0(),realScaleType:"linear"};if(Xu(i)){var c="scale".concat(Zw(i));return{scale:(c8[c]||Wp)(),realScaleType:c8[c]?c:"point"}}return Vt(i)?{scale:i}:{scale:Wp(),realScaleType:"point"}},C8=1e-4,uOe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-C8,a=Math.max(i[0],i[1])+C8,l=t(r[0]),c=t(r[n-1]);(l<s||l>a||c<s||c>a)&&t.domain([r[0],r[n-1]])}},dOe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},fOe=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Xe(t[0])||t[0]<n)&&(s[0]=n),(!Xe(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},hOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,a=0,l=0;l<r;++l){var c=Uv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1])}},mOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var l=Uv(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},pOe={sign:hOe,expand:J_e,none:ch,silhouette:e1e,wiggle:t1e,positive:mOe},gOe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=pOe[n],a=Z_e().keys(i).value(function(l,c){return+Ms(l,c,0)}).order(yA).offset(s);return a(t)},vOe=function(t,r,n,i,s,a){if(!t)return null;var l=a?r.reverse():r,c={},u=l.reduce(function(d,m){var p,x=(p=m.type)!==null&&p!==void 0&&p.defaultProps?an(an({},m.type.defaultProps),m.props):m.props,y=x.stackId,v=x.hide;if(v)return d;var b=x[n],w=d[b]||{hasStack:!1,stackGroups:{}};if(Pn(y)){var j=w.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};j.items.push(m),w.hasStack=!0,w.stackGroups[y]=j}else w.stackGroups[Wv("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return an(an({},d),{},Mf({},b,w))},c),f={};return Object.keys(u).reduce(function(d,m){var p=u[m];if(p.hasStack){var x={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var b=p.stackGroups[v];return an(an({},y),{},Mf({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:gOe(t,b.items,s)}))},x)}return an(an({},d),{},Mf({},m,p))},f)},yOe=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=Oke(u,s,l);return t.domain([f_(f),d_(f)]),{niceTicks:f}}if(s&&i==="number"){var d=t.domain(),m=Ake(d,s,l);return{niceTicks:m}}return null};function N8(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Yt(i[t.dataKey])){var l=Jb(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Ms(i,Yt(a)?t.dataKey:a);return Yt(c)?null:t.scale(c)}var E8=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,a=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Ms(a,r.dataKey,r.domain[l]);return Yt(c)?null:r.scale(c)-s/2+i},xOe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},bOe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?an(an({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Pn(s)){var a=r[s];if(a){var l=a.items.indexOf(t);return l>=0?a.stackedData[l]:null}}return null},wOe=function(t){return t.reduce(function(r,n){return[f_(n.concat([r[0]]).filter(Xe)),d_(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},UQ=function(t,r,n){return Object.keys(t).reduce(function(i,s){var a=t[s],l=a.stackedData,c=l.reduce(function(u,f){var d=wOe(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},k8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VA=function(t,r,n){if(Vt(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Xe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(k8.test(t[0])){var s=+k8.exec(t[0])[1];i[0]=r[0]-s}else Vt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Xe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(O8.test(t[1])){var a=+O8.exec(t[1])[1];i[1]=r[1]+a}else Vt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},N0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=hM(r,function(d){return d.coordinate}),a=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},A8=function(t,r,n){return!t||!t.length||h_(t,ea(n,"type.defaultProps.domain"))?r:t},WQ=function(t,r){var n=t.type.defaultProps?an(an({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,a=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return an(an({},nr(t,!1)),{},{dataKey:i,unit:a,formatter:l,name:s||i,color:FM(t),value:Ms(r,i),type:c,payload:r,chartType:u,hide:f})};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(n){_Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Oe(e,t,r){return t=SOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SOe(e){var t=jOe(e,"string");return Lg(t)=="symbol"?t:t+""}function jOe(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0=Math.PI/180,COe=function(t){return t*180/Math.PI},ai=function(t,r,n,i){return{x:t+Math.cos(-E0*i)*n,y:r+Math.sin(-E0*i)*n}},NOe=function(t,r){var n=t.x,i=t.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},EOe=function(t,r){var n=t.x,i=t.y,s=r.cx,a=r.cy,l=NOe({x:n,y:i},{x:s,y:a});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:l,angle:COe(u),angleInRadian:u}},kOe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},OOe=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),l=Math.min(s,a);return t+l*360},M8=function(t,r){var n=t.x,i=t.y,s=EOe({x:n,y:i},r),a=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var f=kOe(r),d=f.startAngle,m=f.endAngle,p=l,x;if(d<=m){for(;p>m;)p-=360;for(;p<d;)p+=360;x=p>=d&&p<=m}else{for(;p>d;)p-=360;for(;p<m;)p+=360;x=p>=m&&p<=d}return x?P8(P8({},r),{},{radius:a,angle:OOe(p,r)}):null};function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}var AOe=["offset"];function TOe(e){return DOe(e)||ROe(e)||MOe(e)||POe()}function POe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MOe(e,t){if(e){if(typeof e=="string")return UA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(e,t)}}function ROe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DOe(e){if(Array.isArray(e))return UA(e)}function UA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IOe(e,t){if(e==null)return{};var r=LOe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){$Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Oe(e,t,r){return t=FOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FOe(e){var t=qOe(e,"string");return $g(t)=="symbol"?t:t+""}function qOe(e,t){if($g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}var BOe=function(t){var r=t.value,n=t.formatter,i=Yt(t.children)?r:t.children;return Vt(n)?n(i):i},zOe=function(t,r){var n=Ma(r-t),i=Math.min(Math.abs(r-t),360);return n*i},VOe=function(t,r,n){var i=t.position,s=t.viewBox,a=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,d=c.innerRadius,m=c.outerRadius,p=c.startAngle,x=c.endAngle,y=c.clockWise,v=(d+m)/2,b=zOe(p,x),w=b>=0?1:-1,j,S;i==="insideStart"?(j=p+w*a,S=y):i==="insideEnd"?(j=x-w*a,S=!y):i==="end"&&(j=x+w*a,S=y),S=b<=0?S:!S;var C=ai(u,f,v,j),E=ai(u,f,v,j+(S?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),O=Yt(t.id)?Wv("recharts-radial-line-"):t.id;return Y.createElement("text",Fg({},n,{dominantBaseline:"central",className:ir("recharts-radial-bar-label",l)}),Y.createElement("defs",null,Y.createElement("path",{id:O,d:k})),Y.createElement("textPath",{xlinkHref:"#".concat(O)},r))},UOe=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,a=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,d=s.endAngle,m=(f+d)/2;if(i==="outside"){var p=ai(a,l,u+n,m),x=p.x,y=p.y;return{x,y,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=ai(a,l,v,m),w=b.x,j=b.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},WOe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,a=r,l=a.x,c=a.y,u=a.width,f=a.height,d=f>=0?1:-1,m=d*i,p=d>0?"end":"start",x=d>0?"start":"end",y=u>=0?1:-1,v=y*i,b=y>0?"end":"start",w=y>0?"start":"end";if(s==="top"){var j={x:l+u/2,y:c-d*i,textAnchor:"middle",verticalAnchor:p};return jn(jn({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:l+u/2,y:c+f+m,textAnchor:"middle",verticalAnchor:x};return jn(jn({},S),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var C={x:l-v,y:c+f/2,textAnchor:b,verticalAnchor:"middle"};return jn(jn({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(s==="right"){var E={x:l+u+v,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return jn(jn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:f}:{})}var k=n?{width:u,height:f}:{};return s==="insideLeft"?jn({x:l+v,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},k):s==="insideRight"?jn({x:l+u-v,y:c+f/2,textAnchor:b,verticalAnchor:"middle"},k):s==="insideTop"?jn({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},k):s==="insideBottom"?jn({x:l+u/2,y:c+f-m,textAnchor:"middle",verticalAnchor:p},k):s==="insideTopLeft"?jn({x:l+v,y:c+m,textAnchor:w,verticalAnchor:x},k):s==="insideTopRight"?jn({x:l+u-v,y:c+m,textAnchor:b,verticalAnchor:x},k):s==="insideBottomLeft"?jn({x:l+v,y:c+f-m,textAnchor:w,verticalAnchor:p},k):s==="insideBottomRight"?jn({x:l+u-v,y:c+f-m,textAnchor:b,verticalAnchor:p},k):hm(s)&&(Xe(s.x)||ju(s.x))&&(Xe(s.y)||ju(s.y))?jn({x:l+Zu(s.x,u),y:c+Zu(s.y,f),textAnchor:"end",verticalAnchor:"end"},k):jn({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},HOe=function(t){return"cx"in t&&Xe(t.cx)};function wi(e){var t=e.offset,r=t===void 0?5:t,n=IOe(e,AOe),i=jn({offset:r},n),s=i.viewBox,a=i.position,l=i.value,c=i.children,u=i.content,f=i.className,d=f===void 0?"":f,m=i.textBreakAll;if(!s||Yt(l)&&Yt(c)&&!_.isValidElement(u)&&!Vt(u))return null;if(_.isValidElement(u))return _.cloneElement(u,i);var p;if(Vt(u)){if(p=_.createElement(u,i),_.isValidElement(p))return p}else p=BOe(i);var x=HOe(s),y=nr(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return VOe(i,p,y);var v=x?UOe(i):WOe(i);return Y.createElement(f0,Fg({className:ir("recharts-label",d)},y,v,{breakAll:m}),p)}wi.displayName="Label";var HQ=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,a=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,m=t.y,p=t.top,x=t.left,y=t.width,v=t.height,b=t.clockWise,w=t.labelViewBox;if(w)return w;if(Xe(y)&&Xe(v)){if(Xe(d)&&Xe(m))return{x:d,y:m,width:y,height:v};if(Xe(p)&&Xe(x))return{x:p,y:x,width:y,height:v}}return Xe(d)&&Xe(m)?{x:d,y:m,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},KOe=function(t,r){return t?t===!0?Y.createElement(wi,{key:"label-implicit",viewBox:r}):Pn(t)?Y.createElement(wi,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===wi?_.cloneElement(t,{key:"label-implicit",viewBox:r}):Y.createElement(wi,{key:"label-implicit",content:t,viewBox:r}):Vt(t)?Y.createElement(wi,{key:"label-implicit",content:t,viewBox:r}):hm(t)?Y.createElement(wi,Fg({viewBox:r},t,{key:"label-implicit"})):null:null},GOe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=HQ(t),a=ta(i,wi).map(function(c,u){return _.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return a;var l=KOe(t.label,r||s);return[l].concat(TOe(a))};wi.parseViewBox=HQ;wi.renderCallByParent=GOe;var LE,D8;function YOe(){if(D8)return LE;D8=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return LE=e,LE}var QOe=YOe();const XOe=wr(QOe);function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}var ZOe=["valueAccessor"],JOe=["data","dataKey","clockWise","id","textBreakAll"];function eAe(e){return iAe(e)||nAe(e)||rAe(e)||tAe()}function tAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rAe(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function nAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iAe(e){if(Array.isArray(e))return WA(e)}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(this,arguments)}function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){sAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sAe(e,t,r){return t=aAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aAe(e){var t=oAe(e,"string");return qg(t)=="symbol"?t:t+""}function oAe(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $8(e,t){if(e==null)return{};var r=lAe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cAe=function(t){return Array.isArray(t.value)?XOe(t.value):t.value};function Ec(e){var t=e.valueAccessor,r=t===void 0?cAe:t,n=$8(e,ZOe),i=n.data,s=n.dataKey,a=n.clockWise,l=n.id,c=n.textBreakAll,u=$8(n,JOe);return!i||!i.length?null:Y.createElement(fn,{className:"recharts-label-list"},i.map(function(f,d){var m=Yt(s)?r(f,d):Ms(f&&f.payload,s),p=Yt(l)?{}:{id:"".concat(l,"-").concat(d)};return Y.createElement(wi,k0({},nr(f,!0),u,p,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:wi.parseViewBox(Yt(a)?f:L8(L8({},f),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Ec.displayName="LabelList";function uAe(e,t){return e?e===!0?Y.createElement(Ec,{key:"labelList-implicit",data:t}):Y.isValidElement(e)||Vt(e)?Y.createElement(Ec,{key:"labelList-implicit",data:t,content:e}):hm(e)?Y.createElement(Ec,k0({data:t},e,{key:"labelList-implicit"})):null:null}function dAe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=ta(n,Ec).map(function(a,l){return _.cloneElement(a,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=uAe(e.label,t);return[s].concat(eAe(i))}Ec.renderCallByParent=dAe;function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function HA(){return HA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HA.apply(this,arguments)}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){fAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fAe(e,t,r){return t=hAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hAe(e){var t=mAe(e,"string");return Bg(t)=="symbol"?t:t+""}function mAe(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pAe=function(t,r){var n=Ma(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Ux=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,a=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,d=Math.asin(c/f)/E0,m=u?s:s+a*d,p=ai(r,n,f,m),x=ai(r,n,i,m),y=u?s-a*d:s,v=ai(r,n,f*Math.cos(d*E0),y);return{center:p,circleTangency:x,lineTangency:v,theta:d}},KQ=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,a=t.startAngle,l=t.endAngle,c=pAe(a,l),u=a+c,f=ai(r,n,s,a),d=ai(r,n,s,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=ai(r,n,i,a),x=ai(r,n,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},gAe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,a=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Ma(f-u),m=Ux({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:a,cornerIsExternal:c}),p=m.circleTangency,x=m.lineTangency,y=m.theta,v=Ux({cx:r,cy:n,radius:s,angle:f,sign:-d,cornerRadius:a,cornerIsExternal:c}),b=v.circleTangency,w=v.lineTangency,j=v.theta,S=c?Math.abs(u-f):Math.abs(u-f)-y-j;if(S<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):KQ({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var E=Ux({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),k=E.circleTangency,O=E.lineTangency,M=E.theta,R=Ux({cx:r,cy:n,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),T=R.circleTangency,P=R.lineTangency,I=R.theta,B=c?Math.abs(u-f):Math.abs(u-f)-M-I;if(B<0&&a===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},vAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GQ=function(t){var r=q8(q8({},vAe),t),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,m=r.className;if(a<s||f===d)return null;var p=ir("recharts-sector",m),x=a-s,y=Zu(l,x,0,!0),v;return y>0&&Math.abs(f-d)<360?v=gAe({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(y,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):v=KQ({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:f,endAngle:d}),Y.createElement("path",HA({},nr(r,!0),{className:p,d:v,role:"img"}))};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function KA(){return KA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KA.apply(this,arguments)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){yAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yAe(e,t,r){return t=xAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xAe(e){var t=bAe(e,"string");return zg(t)=="symbol"?t:t+""}function bAe(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V8={curveBasisClosed:B_e,curveBasisOpen:z_e,curveBasis:q_e,curveBumpX:N_e,curveBumpY:E_e,curveLinearClosed:V_e,curveLinear:e_,curveMonotoneX:U_e,curveMonotoneY:W_e,curveNatural:H_e,curveStep:K_e,curveStepAfter:Y_e,curveStepBefore:G_e},Wx=function(t){return t.x===+t.x&&t.y===+t.y},fp=function(t){return t.x},hp=function(t){return t.y},wAe=function(t,r){if(Vt(t))return t;var n="curve".concat(Zw(t));return(n==="curveMonotone"||n==="curveBump")&&r?V8["".concat(n).concat(r==="vertical"?"Y":"X")]:V8[n]||e_},_Ae=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,a=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=wAe(n,l),d=u?s.filter(function(y){return Wx(y)}):s,m;if(Array.isArray(a)){var p=u?a.filter(function(y){return Wx(y)}):a,x=d.map(function(y,v){return z8(z8({},y),{},{base:p[v]})});return l==="vertical"?m=Ix().y(hp).x1(fp).x0(function(y){return y.base.x}):m=Ix().x(fp).y1(hp).y0(function(y){return y.base.y}),m.defined(Wx).curve(f),m(x)}return l==="vertical"&&Xe(a)?m=Ix().y(hp).x1(fp).x0(a):Xe(a)?m=Ix().x(fp).y1(hp).y0(a):m=XG().x(fp).y(hp),m.defined(Wx).curve(f),m(d)},GA=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?_Ae(t):i;return _.createElement("path",KA({},nr(t,!1),e0(t),{className:ir("recharts-curve",r),d:a,ref:s}))},$E={exports:{}},FE,U8;function SAe(){if(U8)return FE;U8=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return FE=e,FE}var qE,W8;function jAe(){if(W8)return qE;W8=1;var e=SAe();function t(){}function r(){}return r.resetWarningCache=t,qE=function(){function n(a,l,c,u,f,d){if(d!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},qE}var H8;function CAe(){return H8||(H8=1,$E.exports=jAe()()),$E.exports}var NAe=CAe();const yr=wr(NAe);var EAe=Object.getOwnPropertyNames,kAe=Object.getOwnPropertySymbols,OAe=Object.prototype.hasOwnProperty;function K8(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Hx(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,a=s.get(r),l=s.get(n);if(a&&l)return a===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,i);return s.delete(r),s.delete(n),c}}function G8(e){return EAe(e).concat(kAe(e))}var AAe=Object.hasOwn||(function(e,t){return OAe.call(e,t)});function yd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var TAe="__v",PAe="__o",MAe="_owner",Y8=Object.getOwnPropertyDescriptor,Q8=Object.keys;function RAe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function DAe(e,t){return yd(e.getTime(),t.getTime())}function IAe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function LAe(e,t){return e===t}function X8(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),a,l,c=0;(a=s.next())&&!a.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(i[d]){d++;continue}var m=a.value,p=l.value;if(r.equals(m[0],p[0],c,d,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){f=i[d]=!0;break}d++}if(!f)return!1;c++}return!0}var $Ae=yd;function FAe(e,t,r){var n=Q8(e),i=n.length;if(Q8(t).length!==i)return!1;for(;i-- >0;)if(!YQ(e,t,r,n[i]))return!1;return!0}function mp(e,t,r){var n=G8(e),i=n.length;if(G8(t).length!==i)return!1;for(var s,a,l;i-- >0;)if(s=n[i],!YQ(e,t,r,s)||(a=Y8(e,s),l=Y8(t,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function qAe(e,t){return yd(e.valueOf(),t.valueOf())}function BAe(e,t){return e.source===t.source&&e.flags===t.flags}function Z8(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),a,l;(a=s.next())&&!a.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(a.value,l.value,a.value,l.value,e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function zAe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function VAe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YQ(e,t,r,n){return(n===MAe||n===PAe||n===TAe)&&(e.$$typeof||t.$$typeof)?!0:AAe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var UAe="[object Arguments]",WAe="[object Boolean]",HAe="[object Date]",KAe="[object Error]",GAe="[object Map]",YAe="[object Number]",QAe="[object Object]",XAe="[object RegExp]",ZAe="[object Set]",JAe="[object String]",eTe="[object URL]",tTe=Array.isArray,J8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,e6=Object.assign,rTe=Object.prototype.toString.call.bind(Object.prototype.toString);function nTe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,a=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(x,y,v){if(x===y)return!0;if(x==null||y==null)return!1;var b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?a(x,y,v):b==="function"?i(x,y,v):!1;var w=x.constructor;if(w!==y.constructor)return!1;if(w===Object)return l(x,y,v);if(tTe(x))return t(x,y,v);if(J8!=null&&J8(x))return d(x,y,v);if(w===Date)return r(x,y,v);if(w===RegExp)return u(x,y,v);if(w===Map)return s(x,y,v);if(w===Set)return f(x,y,v);var j=rTe(x);return j===HAe?r(x,y,v):j===XAe?u(x,y,v):j===GAe?s(x,y,v):j===ZAe?f(x,y,v):j===QAe?typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,v):j===eTe?m(x,y,v):j===KAe?n(x,y,v):j===UAe?l(x,y,v):j===WAe||j===YAe||j===JAe?c(x,y,v):!1}}function iTe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?mp:RAe,areDatesEqual:DAe,areErrorsEqual:IAe,areFunctionsEqual:LAe,areMapsEqual:n?K8(X8,mp):X8,areNumbersEqual:$Ae,areObjectsEqual:n?mp:FAe,arePrimitiveWrappersEqual:qAe,areRegExpsEqual:BAe,areSetsEqual:n?K8(Z8,mp):Z8,areTypedArraysEqual:n?mp:zAe,areUrlsEqual:VAe};if(r&&(i=e6({},i,r(i))),t){var s=Hx(i.areArraysEqual),a=Hx(i.areMapsEqual),l=Hx(i.areObjectsEqual),c=Hx(i.areSetsEqual);i=e6({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function sTe(e){return function(t,r,n,i,s,a,l){return e(t,r,l)}}function aTe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,m=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:m,equals:i,meta:p,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,a)}}var oTe=Gc();Gc({strict:!0});Gc({circular:!0});Gc({circular:!0,strict:!0});Gc({createInternalComparator:function(){return yd}});Gc({strict:!0,createInternalComparator:function(){return yd}});Gc({circular:!0,createInternalComparator:function(){return yd}});Gc({circular:!0,createInternalComparator:function(){return yd},strict:!0});function Gc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,a=s===void 0?!1:s,l=iTe(e),c=nTe(l),u=n?n(c):sTe(c);return aTe({circular:r,comparator:c,createState:i,equals:u,strict:a})}function lTe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function t6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):lTe(i)};requestAnimationFrame(n)}function YA(e){"@babel/helpers - typeof";return YA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YA(e)}function cTe(e){return hTe(e)||fTe(e)||dTe(e)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(e,t){if(e){if(typeof e=="string")return r6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r6(e,t)}}function r6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hTe(e){if(Array.isArray(e))return e}function mTe(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,l=cTe(a),c=l[0],u=l.slice(1);if(typeof c=="number"){t6(i.bind(null,u),c);return}i(c),t6(i.bind(null,u));return}YA(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(n){QQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QQ(e,t,r){return t=pTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pTe(e){var t=gTe(e,"string");return Vg(t)==="symbol"?t:String(t)}function gTe(e,t){if(Vg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vTe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},yTe=function(t){return t},xTe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Kp=function(t,r){return Object.keys(r).reduce(function(n,i){return i6(i6({},n),{},QQ({},i,t(i,r[i])))},{})},s6=function(t,r,n){return t.map(function(i){return"".concat(xTe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function bTe(e,t){return STe(e)||_Te(e,t)||XQ(e,t)||wTe()}function wTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Te(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function STe(e){if(Array.isArray(e))return e}function jTe(e){return ETe(e)||NTe(e)||XQ(e)||CTe()}function CTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(e,t){if(e){if(typeof e=="string")return QA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(e,t)}}function NTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ETe(e){if(Array.isArray(e))return QA(e)}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O0=1e-4,ZQ=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},JQ=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},a6=function(t,r){return function(n){var i=ZQ(t,r);return JQ(i,n)}},kTe=function(t,r){return function(n){var i=ZQ(t,r),s=[].concat(jTe(i.map(function(a,l){return a*l}).slice(1)),[0]);return JQ(s,n)}},o6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,l=1;break;case"ease":i=.25,s=.1,a=.25,l=1;break;case"ease-in":i=.42,s=0,a=1,l=1;break;case"ease-out":i=.42,s=0,a=.58,l=1;break;case"ease-in-out":i=0,s=0,a=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=bTe(u,4);i=f[0],s=f[1],a=f[2],l=f[3]}}}var d=a6(i,a),m=a6(s,l),p=kTe(i,a),x=function(b){return b>1?1:b<0?0:b},y=function(b){for(var w=b>1?1:b,j=w,S=0;S<8;++S){var C=d(j)-w,E=p(j);if(Math.abs(C-w)<O0||E<O0)return m(j);j=x(j-C/E)}return m(j)};return y.isStepper=!1,y},OTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,a=t.dt,l=a===void 0?17:a,c=function(f,d,m){var p=-(f-d)*n,x=m*s,y=m+(p-x)*l/1e3,v=m*l/1e3+f;return Math.abs(v-d)<O0&&Math.abs(y)<O0?[d,0]:[v,y]};return c.isStepper=!0,c.dt=l,c},ATe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o6(i);case"spring":return OTe();default:if(i.split("(")[0]==="cubic-bezier")return o6(i)}return typeof i=="function"?i:null};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function l6(e){return MTe(e)||PTe(e)||eX(e)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MTe(e){if(Array.isArray(e))return ZA(e)}function c6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(r),!0).forEach(function(n){XA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XA(e,t,r){return t=RTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RTe(e){var t=DTe(e,"string");return Ug(t)==="symbol"?t:String(t)}function DTe(e,t){if(Ug(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ug(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ITe(e,t){return FTe(e)||$Te(e,t)||eX(e,t)||LTe()}function LTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(e,t){if(e){if(typeof e=="string")return ZA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(e,t)}}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Te(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function FTe(e){if(Array.isArray(e))return e}var A0=function(t,r,n){return t+(r-t)*n},JA=function(t){var r=t.from,n=t.to;return r!==n},qTe=function e(t,r,n){var i=Kp(function(s,a){if(JA(a)){var l=t(a.from,a.to,a.velocity),c=ITe(l,2),u=c[0],f=c[1];return ti(ti({},a),{},{from:u,velocity:f})}return a},r);return n<1?Kp(function(s,a){return JA(a)?ti(ti({},a),{},{velocity:A0(a.velocity,i[s].velocity,n),from:A0(a.from,i[s].from,n)}):a},r):e(t,i,n-1)};const BTe=(function(e,t,r,n,i){var s=vTe(e,t),a=s.reduce(function(v,b){return ti(ti({},v),{},XA({},b,[e[b],t[b]]))},{}),l=s.reduce(function(v,b){return ti(ti({},v),{},XA({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,f,d=function(){return null},m=function(){return Kp(function(b,w){return w.from},l)},p=function(){return!Object.values(l).filter(JA).length},x=function(b){u||(u=b);var w=b-u,j=w/r.dt;l=qTe(r,l,j),i(ti(ti(ti({},e),t),m())),u=b,p()||(c=requestAnimationFrame(d))},y=function(b){f||(f=b);var w=(b-f)/n,j=Kp(function(C,E){return A0.apply(void 0,l6(E).concat([r(w)]))},a);if(i(ti(ti(ti({},e),t),j)),w<1)c=requestAnimationFrame(d);else{var S=Kp(function(C,E){return A0.apply(void 0,l6(E).concat([r(1)]))},a);i(ti(ti(ti({},e),t),S))}};return d=r.isStepper?x:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}});function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}var zTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function VTe(e,t){if(e==null)return{};var r=UTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function BE(e){return GTe(e)||KTe(e)||HTe(e)||WTe()}function WTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HTe(e,t){if(e){if(typeof e=="string")return eT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eT(e,t)}}function KTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GTe(e){if(Array.isArray(e))return eT(e)}function eT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(r),!0).forEach(function(n){Op(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Op(e,t,r){return t=tX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tX(n.key),n)}}function XTe(e,t,r){return t&&QTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tX(e){var t=ZTe(e,"string");return yh(t)==="symbol"?t:String(t)}function ZTe(e,t){if(yh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tT(e,t)}function tT(e,t){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tT(e,t)}function e2e(e){var t=t2e();return function(){var n=T0(e),i;if(t){var s=T0(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return rT(this,i)}}function rT(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nT(e)}function nT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(e)}var xl=(function(e){JTe(r,e);var t=e2e(r);function r(n,i){var s;YTe(this,r),s=t.call(this,n,i);var a=s.props,l=a.isActive,c=a.attributeName,u=a.from,f=a.to,d=a.steps,m=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(nT(s)),s.changeStyle=s.changeStyle.bind(nT(s)),!l||p<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:f}),rT(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof m=="function")return s.state={style:u},rT(s);s.state={style:c?Op({},c,u):u}}else s.state={style:{}};return s}return XTe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,d=s.from,m=this.state.style;if(l){if(!a){var p={style:c?Op({},c,f):f};this.state&&m&&(c&&m[c]!==f||!c&&m!==f)&&this.setState(p);return}if(!(oTe(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||u?d:i.to;if(this.state&&m){var v={style:c?Op({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(v)}this.runAnimation(ga(ga({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,m=i.onAnimationStart,p=BTe(a,l,ATe(u),c,this.changeStyle),x=function(){s.stopJSAnimation=p()};this.manager.start([m,f,x,c,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,l=i.begin,c=i.onAnimationStart,u=a[0],f=u.style,d=u.duration,m=d===void 0?0:d,p=function(y,v,b){if(b===0)return y;var w=v.duration,j=v.easing,S=j===void 0?"ease":j,C=v.style,E=v.properties,k=v.onAnimationEnd,O=b>0?a[b-1]:v,M=E||Object.keys(C);if(typeof S=="function"||S==="spring")return[].concat(BE(y),[s.runJSAnimation.bind(s,{from:O.style,to:C,duration:w,easing:S}),w]);var R=s6(M,w,S),T=ga(ga(ga({},O.style),C),{},{transition:R});return[].concat(BE(y),[T,w,k]).filter(yTe)};return this.manager.start([c].concat(BE(a.reduce(p,[f,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=mTe());var s=i.begin,a=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,m=i.steps,p=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var y=l?Op({},l,c):c,v=s6(Object.keys(y),a,u);x.start([f,s,ga(ga({},y),{},{transition:v}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=VTe(i,zTe),u=_.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||a<=0)return s;var d=function(p){var x=p.props,y=x.style,v=y===void 0?{}:y,b=x.className,w=_.cloneElement(p,ga(ga({},c),{},{style:ga(ga({},v),f),className:b}));return w};return u===1?d(_.Children.only(s)):Y.createElement("div",null,_.Children.map(s,function(m){return d(m)}))}}]),r})(_.PureComponent);xl.displayName="Animate";xl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xl.propTypes={from:yr.oneOfType([yr.object,yr.string]),to:yr.oneOfType([yr.object,yr.string]),attributeName:yr.string,duration:yr.number,begin:yr.number,easing:yr.oneOfType([yr.string,yr.func]),steps:yr.arrayOf(yr.shape({duration:yr.number.isRequired,style:yr.object.isRequired,easing:yr.oneOfType([yr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yr.func]),properties:yr.arrayOf("string"),onAnimationEnd:yr.func})),children:yr.oneOfType([yr.node,yr.func]),isActive:yr.bool,canBegin:yr.bool,onAnimationEnd:yr.func,shouldReAnimate:yr.bool,onAnimationStart:yr.func,onAnimationReStart:yr.func};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function r2e(e,t){return a2e(e)||s2e(e,t)||i2e(e,t)||n2e()}function n2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2e(e,t){if(e){if(typeof e=="string")return d6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d6(e,t)}}function d6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function a2e(e){if(Array.isArray(e))return e}function f6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(r),!0).forEach(function(n){o2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o2e(e,t,r){return t=l2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l2e(e){var t=c2e(e,"string");return Wg(t)=="symbol"?t:t+""}function c2e(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m6=function(t,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],m=0,p=4;m<p;m++)d[m]=s[m]>a?a:s[m];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+i-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+i)),f+="L ".concat(t+c*d[3],",").concat(r+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*d[3])),f+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);f="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+i,`
            L `).concat(t+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*x," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},u2e=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,a=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),d=Math.min(a,a+c),m=Math.max(a,a+c);return n>=u&&n<=f&&i>=d&&i<=m}return!1},d2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qM=function(t){var r=h6(h6({},d2e),t),n=_.useRef(),i=_.useState(-1),s=r2e(i,2),a=s[0],l=s[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,m=r.radius,p=r.className,x=r.animationEasing,y=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var j=ir("recharts-rectangle",p);return w?Y.createElement(xl,{canBegin:a>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:y,animationEasing:x,isActive:w},function(S){var C=S.width,E=S.height,k=S.x,O=S.y;return Y.createElement(xl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:b,easing:x},Y.createElement("path",P0({},nr(r,!0),{className:j,d:m6(k,O,C,E,m),ref:n})))}):Y.createElement("path",P0({},nr(r,!0),{className:j,d:m6(c,u,f,d,m)}))};function iT(){return iT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iT.apply(this,arguments)}var BM=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,a=ir("recharts-dot",s);return r===+r&&n===+n&&i===+i?_.createElement("circle",iT({},nr(t,!1),e0(t),{className:a,cx:r,cy:n,r:i})):null};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}var f2e=["x","y","top","left","width","height","className"];function sT(){return sT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sT.apply(this,arguments)}function p6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h2e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p6(Object(r),!0).forEach(function(n){m2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m2e(e,t,r){return t=p2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p2e(e){var t=g2e(e,"string");return Hg(t)=="symbol"?t:t+""}function g2e(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v2e(e,t){if(e==null)return{};var r=y2e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var x2e=function(t,r,n,i,s,a){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},b2e=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,a=t.top,l=a===void 0?0:a,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,m=t.height,p=m===void 0?0:m,x=t.className,y=v2e(t,f2e),v=h2e({x:n,y:s,top:l,left:u,width:d,height:p},y);return!Xe(n)||!Xe(s)||!Xe(d)||!Xe(p)||!Xe(l)||!Xe(u)?null:Y.createElement("path",sT({},nr(v,!0),{className:ir("recharts-cross",x),d:x2e(n,s,d,p,l,u)}))},zE,g6;function w2e(){if(g6)return zE;g6=1;var e=bY(),t=e(Object.getPrototypeOf,Object);return zE=t,zE}var VE,v6;function _2e(){if(v6)return VE;v6=1;var e=El(),t=w2e(),r=kl(),n="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,l=s.hasOwnProperty,c=a.call(Object);function u(f){if(!r(f)||e(f)!=n)return!1;var d=t(f);if(d===null)return!0;var m=l.call(d,"constructor")&&d.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==c}return VE=u,VE}var S2e=_2e();const j2e=wr(S2e);var UE,y6;function C2e(){if(y6)return UE;y6=1;var e=El(),t=kl(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return UE=n,UE}var N2e=C2e();const E2e=wr(N2e);function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function k2e(e,t){return P2e(e)||T2e(e,t)||A2e(e,t)||O2e()}function O2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A2e(e,t){if(e){if(typeof e=="string")return x6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x6(e,t)}}function x6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function P2e(e){if(Array.isArray(e))return e}function b6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b6(Object(r),!0).forEach(function(n){M2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M2e(e,t,r){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R2e(e){var t=D2e(e,"string");return Kg(t)=="symbol"?t:t+""}function D2e(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _6=function(t,r,n,i,s){var a=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-a/2,",").concat(r+s),l+="L ".concat(t+n-a/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},I2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L2e=function(t){var r=w6(w6({},I2e),t),n=_.useRef(),i=_.useState(-1),s=k2e(i,2),a=s[0],l=s[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,m=r.height,p=r.className,x=r.animationEasing,y=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||m!==+m||f===0&&d===0||m===0)return null;var w=ir("recharts-trapezoid",p);return b?Y.createElement(xl,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:m,x:c,y:u},duration:y,animationEasing:x,isActive:b},function(j){var S=j.upperWidth,C=j.lowerWidth,E=j.height,k=j.x,O=j.y;return Y.createElement(xl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:x},Y.createElement("path",M0({},nr(r,!0),{className:w,d:_6(k,O,S,C,E),ref:n})))}):Y.createElement("g",null,Y.createElement("path",M0({},nr(r,!0),{className:w,d:_6(c,u,f,d,m)})))},$2e=["option","shapeType","propTransformer","activeClassName","isActive"];function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function F2e(e,t){if(e==null)return{};var r=q2e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(r),!0).forEach(function(n){B2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B2e(e,t,r){return t=z2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z2e(e){var t=V2e(e,"string");return Gg(t)=="symbol"?t:t+""}function V2e(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U2e(e,t){return R0(R0({},t),e)}function W2e(e,t){return e==="symbols"}function j6(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Y.createElement(qM,r);case"trapezoid":return Y.createElement(L2e,r);case"sector":return Y.createElement(GQ,r);case"symbols":if(W2e(t))return Y.createElement(sM,r);break;default:return null}}function H2e(e){return _.isValidElement(e)?e.props:e}function K2e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?U2e:n,s=e.activeClassName,a=s===void 0?"recharts-active-shape":s,l=e.isActive,c=F2e(e,$2e),u;if(_.isValidElement(t))u=_.cloneElement(t,R0(R0({},c),H2e(t)));else if(Vt(t))u=t(c);else if(j2e(t)&&!E2e(t)){var f=i(t,c);u=Y.createElement(j6,{shapeType:r,elementProps:f})}else{var d=c;u=Y.createElement(j6,{shapeType:r,elementProps:d})}return l?Y.createElement(fn,{className:a},u):u}function g_(e,t){return t!=null&&"trapezoids"in e.props}function v_(e,t){return t!=null&&"sectors"in e.props}function Yg(e,t){return t!=null&&"points"in e.props}function G2e(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function Y2e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Q2e(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function X2e(e,t){var r;return g_(e,t)?r=G2e:v_(e,t)?r=Y2e:Yg(e,t)&&(r=Q2e),r}function Z2e(e,t){var r;return g_(e,t)?r="trapezoids":v_(e,t)?r="sectors":Yg(e,t)&&(r="points"),r}function J2e(e,t){if(g_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(v_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Yg(e,t)?t.payload:{}}function ePe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Z2e(r,t),s=J2e(r,t),a=n.filter(function(c,u){var f=h_(s,c),d=r.props[i].filter(function(x){var y=X2e(r,t);return y(x,t)}),m=r.props[i].indexOf(d[d.length-1]),p=u===m;return f&&p}),l=n.indexOf(a[a.length-1]);return l}var WE,C6;function tPe(){if(C6)return WE;C6=1;var e=Math.ceil,t=Math.max;function r(n,i,s,a){for(var l=-1,c=t(e((i-n)/(s||1)),0),u=Array(c);c--;)u[a?c:++l]=n,n+=s;return u}return WE=r,WE}var HE,N6;function rX(){if(N6)return HE;N6=1;var e=IY(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return HE=n,HE}var KE,E6;function rPe(){if(E6)return KE;E6=1;var e=tPe(),t=i_(),r=rX();function n(i){return function(s,a,l){return l&&typeof l!="number"&&t(s,a,l)&&(a=l=void 0),s=r(s),a===void 0?(a=s,s=0):a=r(a),l=l===void 0?s<a?1:-1:r(l),e(s,a,l,i)}}return KE=n,KE}var GE,k6;function nPe(){if(k6)return GE;k6=1;var e=rPe(),t=e();return GE=t,GE}var iPe=nPe();const D0=wr(iPe);function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function O6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return t=sPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sPe(e){var t=aPe(e,"string");return Qg(t)=="symbol"?t:t+""}function aPe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oPe=["Webkit","Moz","O","ms"],lPe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=oPe.reduce(function(s,a){return A6(A6({},s),{},nX({},a+n,r))},{});return i[t]=r,i};function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function T6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T6(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sX(n.key),n)}}function uPe(e,t,r){return t&&P6(e.prototype,t),r&&P6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dPe(e,t,r){return t=L0(t),fPe(e,iX()?Reflect.construct(t,r||[],L0(e).constructor):t.apply(e,r))}function fPe(e,t){if(t&&(xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hPe(e)}function hPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!e})()}function L0(e){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L0(e)}function mPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aT(e,t)}function aT(e,t){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aT(e,t)}function xs(e,t,r){return t=sX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=pPe(e,"string");return xh(t)=="symbol"?t:t+""}function pPe(e,t){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gPe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,a=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Wp().domain(D0(0,c)).range([s,s+a-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},M6=function(t){return t.changedTouches&&!!t.changedTouches.length},bh=(function(e){function t(r){var n;return cPe(this,t),n=dPe(this,t,[r]),xs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),xs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),xs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),xs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xs(n,"handleSlideDragStart",function(i){var s=M6(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return mPe(t,e),uPe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(i,s),m=Math.max(i,s),p=t.getIndexInRange(a,d),x=t.getIndexInRange(a,m);return{startIndex:p-p%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,l=i.dataKey,c=Ms(s[n],l,n);return Vt(a)?a(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,m=c.startIndex,p=c.endIndex,x=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+f-d-l,u+f-d-a):y<0&&(y=Math.max(y,u-a,u-l));var v=this.getIndex({startX:a+y,endX:l+y});(v.startIndex!==m||v.endIndex!==p)&&x&&x(v),this.setState({startX:a+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=M6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[a],f=this.props,d=f.x,m=f.width,p=f.travellerWidth,x=f.onChange,y=f.gap,v=f.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,d+m-p-u):w<0&&(w=Math.max(w,d-u)),b[a]=u+w;var j=this.getIndex(b),S=j.startIndex,C=j.endIndex,E=function(){var O=v.length-1;return a==="startX"&&(l>c?S%y===0:C%y===0)||l<c&&C===O||a==="endX"&&(l>c?C%y===0:S%y===0)||l>c&&C===O};this.setState(xs(xs({},a,u+w),"brushMoveStartX",n.pageX),function(){x&&E()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,l=a.scaleValues,c=a.startX,u=a.endX,f=this.state[i],d=l.indexOf(f);if(d!==-1){var m=d+n;if(!(m===-1||m>=l.length)){var p=l[m];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(xs({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.fill,u=n.stroke;return Y.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=_.Children.only(u);return d?Y.cloneElement(d,{x:i,y:s,width:a,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,m=c.traveller,p=c.ariaLabel,x=c.data,y=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),w=YE(YE({},nr(this.props,!1)),{},{x:b,y:u,width:f,height:d}),j=p||"Min value: ".concat((s=x[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[v])===null||a===void 0?void 0:a.name);return Y.createElement(fn,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,w))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:a,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,m=f.endX,p=5,x={pointerEvents:"none",fill:u};return Y.createElement(fn,{className:"recharts-brush-texts"},Y.createElement(f0,I0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,m)-p,y:a+l/2},x),this.getTextOfTick(i)),Y.createElement(f0,I0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,m)+c+p,y:a+l/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,m=this.state,p=m.startX,x=m.endX,y=m.isTextActive,v=m.isSlideMoving,b=m.isTravellerMoving,w=m.isTravellerFocused;if(!i||!i.length||!Xe(l)||!Xe(c)||!Xe(u)||!Xe(f)||u<=0||f<=0)return null;var j=ir("recharts-brush",s),S=Y.Children.count(a)===1,C=lPe("userSelect","none");return Y.createElement(fn,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,x),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(x,"endX"),(y||v||b||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:s,width:a,height:l,fill:c,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return Y.isValidElement(n)?s=Y.cloneElement(n,i):Vt(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return YE({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a},s&&s.length?gPe({data:s,width:a,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var m=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);n[c]>i?l=c:a=c}return i>=n[l]?l:a}}])})(_.PureComponent);xs(bh,"displayName","Brush");xs(bh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QE,R6;function vPe(){if(R6)return QE;R6=1;var e=fM();function t(r,n){var i;return e(r,function(s,a,l){return i=n(s,a,l),!i}),!!i}return QE=t,QE}var XE,D6;function yPe(){if(D6)return XE;D6=1;var e=hY(),t=Wc(),r=vPe(),n=us(),i=i_();function s(a,l,c){var u=n(a)?e:r;return c&&i(a,l,c)&&(l=void 0),u(a,t(l,3))}return XE=s,XE}var xPe=yPe();const bPe=wr(xPe);var bo=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},ZE,I6;function wPe(){if(I6)return ZE;I6=1;var e=TY();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return ZE=t,ZE}var JE,L6;function _Pe(){if(L6)return JE;L6=1;var e=wPe(),t=OY(),r=Wc();function n(i,s){var a={};return s=r(s,3),t(i,function(l,c,u){e(a,c,s(l,c,u))}),a}return JE=n,JE}var SPe=_Pe();const jPe=wr(SPe);var ek,$6;function CPe(){if($6)return ek;$6=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return ek=e,ek}var tk,F6;function NPe(){if(F6)return tk;F6=1;var e=fM();function t(r,n){var i=!0;return e(r,function(s,a,l){return i=!!n(s,a,l),i}),i}return tk=t,tk}var rk,q6;function EPe(){if(q6)return rk;q6=1;var e=CPe(),t=NPe(),r=Wc(),n=us(),i=i_();function s(a,l,c){var u=n(a)?e:t;return c&&i(a,l,c)&&(l=void 0),u(a,r(l,3))}return rk=s,rk}var kPe=EPe();const aX=wr(kPe);var OPe=["x","y"];function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function oT(){return oT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oT.apply(this,arguments)}function B6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(r),!0).forEach(function(n){APe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function APe(e,t,r){return t=TPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TPe(e){var t=PPe(e,"string");return Xg(t)=="symbol"?t:t+""}function PPe(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MPe(e,t){if(e==null)return{};var r=RPe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DPe(e,t){var r=e.x,n=e.y,i=MPe(e,OPe),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),d="".concat(t.width||i.width),m=parseInt(d,10);return pp(pp(pp(pp(pp({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:f,width:m,name:t.name,radius:t.radius})}function z6(e){return Y.createElement(K2e,oT({shapeType:"rectangle",propTransformer:DPe,activeClassName:"recharts-active-bar"},e))}var IPe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=Xe(n)||Kwe(n);return s?t(n,i):(s||ed(),r)}},LPe=["value","background"],oX;function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function $Pe(e,t){if(e==null)return{};var r=FPe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(this,arguments)}function V6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(r),!0).forEach(function(n){_c(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cX(n.key),n)}}function BPe(e,t,r){return t&&U6(e.prototype,t),r&&U6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zPe(e,t,r){return t=F0(t),VPe(e,lX()?Reflect.construct(t,r||[],F0(e).constructor):t.apply(e,r))}function VPe(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UPe(e)}function UPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lX=function(){return!!e})()}function F0(e){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F0(e)}function WPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lT(e,t)}function lT(e,t){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lT(e,t)}function _c(e,t,r){return t=cX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=HPe(e,"string");return wh(t)=="symbol"?t:t+""}function HPe(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ns=(function(e){function t(){var r;qPe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=zPe(this,t,[].concat(i)),_c(r,"state",{isAnimationFinished:!1}),_c(r,"id",Wv("recharts-bar-")),_c(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),_c(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return WPe(t,e),BPe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=nr(this.props,!1);return n&&n.map(function(d,m){var p=m===c,x=p?u:a,y=vn(vn(vn({},f),d),{},{isActive:p,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(fn,$0({className:"recharts-bar-rectangle"},t0(i.props,d,m),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(m)}),Y.createElement(z6,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,m=this.state.prevData;return Y.createElement(xl,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var x=p.t,y=s.map(function(v,b){var w=m&&m[b];if(w){var j=Na(w.x,v.x),S=Na(w.y,v.y),C=Na(w.width,v.width),E=Na(w.height,v.height);return vn(vn({},v),{},{x:j(x),y:S(x),width:C(x),height:E(x)})}if(a==="horizontal"){var k=Na(0,v.height),O=k(x);return vn(vn({},v),{},{y:v.y+v.height-O,height:O})}var M=Na(0,v.width),R=M(x);return vn(vn({},v),{},{width:R})});return Y.createElement(fn,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!h_(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,l=i.activeIndex,c=nr(this.props.background,!1);return s.map(function(u,f){u.value;var d=u.background,m=$Pe(u,LPe);if(!d)return null;var p=vn(vn(vn(vn(vn({},m),{},{fill:"#eee"},d),c),t0(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return Y.createElement(z6,$0({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=ta(f,Xv);if(!d)return null;var m=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Ms(v,b)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(fn,x,d.map(function(y){return Y.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,m=n.height,p=n.isAnimationActive,x=n.background,y=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=ir("recharts-bar",a),w=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,S=w||j,C=Yt(y)?this.id:y;return Y.createElement(fn,{className:b},w||j?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:w?u:u-d/2,y:j?f:f-m/2,width:w?d:d*2,height:j?m:m*2}))):null,Y.createElement(fn,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(C,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,C),(!p||v)&&Ec.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(_.PureComponent);oX=Ns;_c(Ns,"displayName","Bar");_c(Ns,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_c(Ns,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,a=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,m=e.offset,p=dOe(n,r);if(!p)return null;var x=t.layout,y=r.type.defaultProps,v=y!==void 0?vn(vn({},y),r.props):r.props,b=v.dataKey,w=v.children,j=v.minPointSize,S=x==="horizontal"?a:s,C=u?S.scale.domain():null,E=xOe({numericAxis:S}),k=ta(w,$Y),O=d.map(function(M,R){var T,P,I,B,$,H;u?T=fOe(u[f+R],C):(T=Ms(M,b),Array.isArray(T)||(T=[E,T]));var V=IPe(j,oX.defaultProps.minPointSize)(T[1],R);if(x==="horizontal"){var U,W=[a.scale(T[0]),a.scale(T[1])],F=W[0],L=W[1];P=E8({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:M,index:R}),I=(U=L??F)!==null&&U!==void 0?U:void 0,B=p.size;var q=F-L;if($=Number.isNaN(q)?0:q,H={x:P,y:a.y,width:B,height:a.height},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var K=Ma($||V)*(Math.abs(V)-Math.abs($));I-=K,$+=K}}else{var ee=[s.scale(T[0]),s.scale(T[1])],te=ee[0],Q=ee[1];if(P=te,I=E8({axis:a,ticks:c,bandSize:i,offset:p.offset,entry:M,index:R}),B=Q-te,$=p.size,H={x:s.x,y:I,width:s.width,height:$},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var G=Ma(B||V)*(Math.abs(V)-Math.abs(B));B+=G}}return vn(vn(vn({},M),{},{x:P,y:I,width:B,height:$,value:u?T:T[1],payload:M,background:H},k&&k[R]&&k[R].props),{},{tooltipPayload:[WQ(r,M)],tooltipPosition:{x:P+B/2,y:I+$/2}})});return vn({data:O,layout:x},m)});function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function KPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uX(n.key),n)}}function GPe(e,t,r){return t&&W6(e.prototype,t),r&&W6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(r),!0).forEach(function(n){y_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y_(e,t,r){return t=uX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=YPe(e,"string");return Zg(t)=="symbol"?t:t+""}function YPe(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dX=function(t,r,n,i,s){var a=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!bs(u,Ns);return f.reduce(function(p,x){var y=r[x],v=y.orientation,b=y.domain,w=y.padding,j=w===void 0?{}:w,S=y.mirror,C=y.reversed,E="".concat(v).concat(S?"Mirror":""),k,O,M,R,T;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var P=b[1]-b[0],I=1/0,B=y.categoricalDomain.sort(Qwe);if(B.forEach(function(ee,te){te>0&&(I=Math.min((ee||0)-(B[te-1]||0),I))}),Number.isFinite(I)){var $=I/P,H=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(k=$*H/2),y.padding==="no-gap"){var V=Zu(t.barCategoryGap,$*H),U=$*H/2;k=U-V-(U-V)/H*V}}}i==="xAxis"?O=[n.left+(j.left||0)+(k||0),n.left+n.width-(j.right||0)-(k||0)]:i==="yAxis"?O=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(k||0),n.top+n.height-(j.bottom||0)-(k||0)]:O=y.range,C&&(O=[O[1],O[0]]);var W=cOe(y,s,m),F=W.scale,L=W.realScaleType;F.domain(b).range(O),uOe(F);var q=yOe(F,ja(ja({},y),{},{realScaleType:L}));i==="xAxis"?(T=v==="top"&&!S||v==="bottom"&&S,M=n.left,R=d[E]-T*y.height):i==="yAxis"&&(T=v==="left"&&!S||v==="right"&&S,M=d[E]-T*y.width,R=n.top);var K=ja(ja(ja({},y),q),{},{realScaleType:L,x:M,y:R,scale:F,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return K.bandSize=N0(K,q),!y.hide&&i==="xAxis"?d[E]+=(T?-1:1)*K.height:y.hide||(d[E]+=(T?-1:1)*K.width),ja(ja({},p),{},y_({},x,K))},{})},fX=function(t,r){var n=t.x,i=t.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},QPe=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return fX({x:r,y:n},{x:i,y:s})},hX=(function(){function e(t){KPe(this,e),this.scale=t}return GPe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();y_(hX,"EPS",1e-4);var zM=function(t){var r=Object.keys(t).reduce(function(n,i){return ja(ja({},n),{},y_({},i,hX.create(t[i])))},{});return ja(ja({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,l=s.position;return jPe(i,function(c,u){return r[u].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return aX(i,function(s,a){return r[a].isInRange(s)})}})};function XPe(e){return(e%180+180)%180}var ZPe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=XPe(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},nk,K6;function JPe(){if(K6)return nk;K6=1;var e=Wc(),t=Hv(),r=r_();function n(i){return function(s,a,l){var c=Object(s);if(!t(s)){var u=e(a,3);s=r(s),a=function(d){return u(c[d],d,c)}}var f=i(s,a,l);return f>-1?c[u?s[f]:f]:void 0}}return nk=n,nk}var ik,G6;function eMe(){if(G6)return ik;G6=1;var e=rX();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return ik=t,ik}var sk,Y6;function tMe(){if(Y6)return sk;Y6=1;var e=jY(),t=Wc(),r=eMe(),n=Math.max;function i(s,a,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(s,t(a,3),u)}return sk=i,sk}var ak,Q6;function rMe(){if(Q6)return ak;Q6=1;var e=JPe(),t=tMe(),r=e(t);return ak=r,ak}var nMe=rMe();const iMe=wr(nMe);var sMe=qG();const aMe=wr(sMe);var oMe=aMe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),VM=_.createContext(void 0),UM=_.createContext(void 0),mX=_.createContext(void 0),pX=_.createContext({}),gX=_.createContext(void 0),vX=_.createContext(0),yX=_.createContext(0),X6=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=t.clipPathId,l=t.children,c=t.width,u=t.height,f=oMe(s);return Y.createElement(VM.Provider,{value:n},Y.createElement(UM.Provider,{value:i},Y.createElement(pX.Provider,{value:s},Y.createElement(mX.Provider,{value:f},Y.createElement(gX.Provider,{value:a},Y.createElement(vX.Provider,{value:u},Y.createElement(yX.Provider,{value:c},l)))))))},lMe=function(){return _.useContext(gX)},xX=function(t){var r=_.useContext(VM);r==null&&ed();var n=r[t];return n==null&&ed(),n},cMe=function(){var t=_.useContext(VM);return uc(t)},uMe=function(){var t=_.useContext(UM),r=iMe(t,function(n){return aX(n.domain,Number.isFinite)});return r||uc(t)},bX=function(t){var r=_.useContext(UM);r==null&&ed();var n=r[t];return n==null&&ed(),n},dMe=function(){var t=_.useContext(mX);return t},fMe=function(){return _.useContext(pX)},WM=function(){return _.useContext(yX)},HM=function(){return _.useContext(vX)};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function hMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_X(n.key),n)}}function pMe(e,t,r){return t&&mMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gMe(e,t,r){return t=q0(t),vMe(e,wX()?Reflect.construct(t,r||[],q0(e).constructor):t.apply(e,r))}function vMe(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yMe(e)}function yMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wX=function(){return!!e})()}function q0(e){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q0(e)}function xMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cT(e,t)}function cT(e,t){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cT(e,t)}function Z6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(r),!0).forEach(function(n){KM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KM(e,t,r){return t=_X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=bMe(e,"string");return _h(t)=="symbol"?t:t+""}function bMe(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wMe(e,t){return CMe(e)||jMe(e,t)||SMe(e,t)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SMe(e,t){if(e){if(typeof e=="string")return ez(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ez(e,t)}}function ez(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function CMe(e){if(Array.isArray(e))return e}function uT(){return uT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uT.apply(this,arguments)}var NMe=function(t,r){var n;return Y.isValidElement(t)?n=Y.cloneElement(t,r):Vt(t)?n=t(r):n=Y.createElement("line",uT({},r,{className:"recharts-reference-line-line"})),n},EMe=function(t,r,n,i,s,a,l,c,u){var f=s.x,d=s.y,m=s.width,p=s.height;if(n){var x=u.y,y=t.y.apply(x,{position:a});if(bo(u,"discard")&&!t.y.isInRange(y))return null;var v=[{x:f+m,y},{x:f,y}];return c==="left"?v.reverse():v}if(r){var b=u.x,w=t.x.apply(b,{position:a});if(bo(u,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:d+p},{x:w,y:d}];return l==="top"?j.reverse():j}if(i){var S=u.segment,C=S.map(function(E){return t.apply(E,{position:a})});return bo(u,"discard")&&bPe(C,function(E){return!t.isInRange(E)})?null:C}return null};function kMe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,a=e.shape,l=e.className,c=e.alwaysShow,u=lMe(),f=xX(i),d=bX(s),m=dMe();if(!u||!m)return null;nl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=zM({x:f.scale,y:d.scale}),x=Pn(t),y=Pn(r),v=n&&n.length===2,b=EMe(p,x,y,v,m,e.position,f.orientation,d.orientation,e);if(!b)return null;var w=wMe(b,2),j=w[0],S=j.x,C=j.y,E=w[1],k=E.x,O=E.y,M=bo(e,"hidden")?"url(#".concat(u,")"):void 0,R=J6(J6({clipPath:M},nr(e,!0)),{},{x1:S,y1:C,x2:k,y2:O});return Y.createElement(fn,{className:ir("recharts-reference-line",l)},NMe(a,R),wi.renderCallByParent(e,QPe({x1:S,y1:C,x2:k,y2:O})))}var GM=(function(e){function t(){return hMe(this,t),gMe(this,t,arguments)}return xMe(t,e),pMe(t,[{key:"render",value:function(){return Y.createElement(kMe,this.props)}}])})(Y.Component);KM(GM,"displayName","ReferenceLine");KM(GM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dT(){return dT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dT.apply(this,arguments)}function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tz(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jX(n.key),n)}}function TMe(e,t,r){return t&&AMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PMe(e,t,r){return t=B0(t),MMe(e,SX()?Reflect.construct(t,r||[],B0(e).constructor):t.apply(e,r))}function MMe(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RMe(e)}function RMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!e})()}function B0(e){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B0(e)}function DMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fT(e,t)}function fT(e,t){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fT(e,t)}function x_(e,t,r){return t=jX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=IMe(e,"string");return Sh(t)=="symbol"?t:t+""}function IMe(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LMe=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,a=zM({x:i.scale,y:s.scale}),l=a.apply({x:r,y:n},{bandAware:!0});return bo(t,"discard")&&!a.isInRange(l)?null:l},b_=(function(e){function t(){return OMe(this,t),PMe(this,t,arguments)}return DMe(t,e),TMe(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,l=n.alwaysShow,c=n.clipPathId,u=Pn(i),f=Pn(s);if(nl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=LMe(this.props);if(!d)return null;var m=d.x,p=d.y,x=this.props,y=x.shape,v=x.className,b=bo(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=rz(rz({clipPath:b},nr(this.props,!0)),{},{cx:m,cy:p});return Y.createElement(fn,{className:ir("recharts-reference-dot",v)},t.renderDot(y,w),wi.renderCallByParent(this.props,{x:m-a,y:p-a,width:2*a,height:2*a}))}}])})(Y.Component);x_(b_,"displayName","ReferenceDot");x_(b_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});x_(b_,"renderDot",function(e,t){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,t):Vt(e)?r=e(t):r=Y.createElement(BM,dT({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function hT(){return hT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hT.apply(this,arguments)}function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function nz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nz(Object(r),!0).forEach(function(n){w_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NX(n.key),n)}}function qMe(e,t,r){return t&&FMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BMe(e,t,r){return t=z0(t),zMe(e,CX()?Reflect.construct(t,r||[],z0(e).constructor):t.apply(e,r))}function zMe(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VMe(e)}function VMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CX=function(){return!!e})()}function z0(e){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z0(e)}function UMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mT(e,t)}function mT(e,t){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mT(e,t)}function w_(e,t,r){return t=NX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=WMe(e,"string");return jh(t)=="symbol"?t:t+""}function WMe(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HMe=function(t,r,n,i,s){var a=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var m=zM({x:f.scale,y:d.scale}),p={x:t?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return bo(s,"discard")&&(!m.isInRange(p)||!m.isInRange(x))?null:fX(p,x)},__=(function(e){function t(){return $Me(this,t),BMe(this,t,arguments)}return UMe(t,e),qMe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;nl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Pn(i),m=Pn(s),p=Pn(a),x=Pn(l),y=this.props.shape;if(!d&&!m&&!p&&!x&&!y)return null;var v=HMe(d,m,p,x,this.props);if(!v&&!y)return null;var b=bo(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Y.createElement(fn,{className:ir("recharts-reference-area",c)},t.renderRect(y,iz(iz({clipPath:b},nr(this.props,!0)),v)),wi.renderCallByParent(this.props,v))}}])})(Y.Component);w_(__,"displayName","ReferenceArea");w_(__,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});w_(__,"renderRect",function(e,t){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,t):Vt(e)?r=e(t):r=Y.createElement(qM,hT({},t,{className:"recharts-reference-area-rect"})),r});function EX(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function KMe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ZPe(n,r)}function GMe(e,t,r){var n=r==="width",i=e.x,s=e.y,a=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function V0(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function YMe(e,t){return EX(e,t+1)}function QMe(e,t,r,n,i){for(var s=(n||[]).slice(),a=t.start,l=t.end,c=0,u=1,f=a,d=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:EX(n,u)};var y=c,v,b=function(){return v===void 0&&(v=r(x,y)),v},w=x.coordinate,j=c===0||V0(e,w,b,f,l);j||(c=0,f=a,u+=1),j&&(f=w+e*(b()/2+i),c+=u)},m;u<=s.length;)if(m=d(),m)return m.v;return[]}function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function sz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sz(Object(r),!0).forEach(function(n){XMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XMe(e,t,r){return t=ZMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZMe(e){var t=JMe(e,"string");return Jg(t)=="symbol"?t:t+""}function JMe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eRe(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,l=t.start,c=t.end,u=function(m){var p=s[m],x,y=function(){return x===void 0&&(x=r(p,m)),x};if(m===a-1){var v=e*(p.coordinate+e*y()/2-c);s[m]=p=vi(vi({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[m]=p=vi(vi({},p),{},{tickCoord:p.coordinate});var b=V0(e,p.tickCoord,y,l,c);b&&(c=p.tickCoord-e*(y()/2+i),s[m]=vi(vi({},p),{},{isShow:!0}))},f=a-1;f>=0;f--)u(f);return s}function tRe(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,c=t.start,u=t.end;if(s){var f=n[l-1],d=r(f,l-1),m=e*(f.coordinate+e*d/2-u);a[l-1]=f=vi(vi({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate});var p=V0(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+i),a[l-1]=vi(vi({},f),{},{isShow:!0}))}for(var x=s?l-1:l,y=function(w){var j=a[w],S,C=function(){return S===void 0&&(S=r(j,w)),S};if(w===0){var E=e*(j.coordinate-e*C()/2-c);a[w]=j=vi(vi({},j),{},{tickCoord:E<0?j.coordinate-E*e:j.coordinate})}else a[w]=j=vi(vi({},j),{},{tickCoord:j.coordinate});var k=V0(e,j.tickCoord,C,c,u);k&&(c=j.tickCoord+e*(C()/2+i),a[w]=vi(vi({},j),{},{isShow:!0}))},v=0;v<x;v++)y(v);return a}function YM(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,a=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(Xe(c)||pm.isSsr)return YMe(i,typeof c=="number"&&Xe(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",x=f&&p==="width"?Up(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(j,S){var C=Vt(u)?u(j.value,S):j.value;return p==="width"?KMe(Up(C,{fontSize:t,letterSpacing:r}),x,d):Up(C,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?Ma(i[1].coordinate-i[0].coordinate):1,b=GMe(s,v,p);return c==="equidistantPreserveStart"?QMe(v,b,y,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=tRe(v,b,y,i,a,c==="preserveStartEnd"):m=eRe(v,b,y,i,a),m.filter(function(w){return w.isShow}))}var rRe=["viewBox"],nRe=["viewBox"],iRe=["ticks"];function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(this,arguments)}function az(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?az(Object(r),!0).forEach(function(n){QM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ok(e,t){if(e==null)return{};var r=sRe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OX(n.key),n)}}function oRe(e,t,r){return t&&oz(e.prototype,t),r&&oz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lRe(e,t,r){return t=U0(t),cRe(e,kX()?Reflect.construct(t,r||[],U0(e).constructor):t.apply(e,r))}function cRe(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uRe(e)}function uRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kX=function(){return!!e})()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U0(e)}function dRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pT(e,t)}function pT(e,t){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pT(e,t)}function QM(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=fRe(e,"string");return Ch(t)=="symbol"?t:t+""}function fRe(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xm=(function(e){function t(r){var n;return aRe(this,t),n=lRe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return dRe(t,e),oRe(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=ok(n,rRe),l=this.props,c=l.viewBox,u=ok(l,nRe);return!Tf(s,c)||!Tf(a,u)||!Tf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,m=i.tickMargin,p,x,y,v,b,w,j=d?-1:1,S=n.tickSize||f,C=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=x=n.coordinate,v=a+ +!d*c,y=v-j*S,w=y-j*m,b=C;break;case"left":y=v=n.coordinate,x=s+ +!d*l,p=x-j*S,b=p-j*m,w=C;break;case"right":y=v=n.coordinate,x=s+ +d*l,p=x+j*S,b=p+j*m,w=C;break;default:p=x=n.coordinate,v=a+ +d*c,y=v+j*S,w=y+j*m,b=C;break}return{line:{x1:p,y1:y,x2:x,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=Sn(Sn(Sn({},nr(this.props,!1)),nr(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);d=Sn(Sn({},d),{},{x1:i,y1:s+m*l,x2:i+a,y2:s+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=Sn(Sn({},d),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+l})}return Y.createElement("line",Sf({},d,{className:ir("recharts-cartesian-axis-line",ea(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,m=l.unit,p=YM(Sn(Sn({},this.props),{},{ticks:n}),i,s),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=nr(this.props,!1),b=nr(f,!1),w=Sn(Sn({},v),{},{fill:"none"},nr(c,!1)),j=p.map(function(S,C){var E=a.getTickLineCoord(S),k=E.line,O=E.tick,M=Sn(Sn(Sn(Sn({textAnchor:x,verticalAnchor:y},v),{},{stroke:"none",fill:u},b),O),{},{index:C,payload:S,visibleTicksCount:p.length,tickFormatter:d});return Y.createElement(fn,Sf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},t0(a.props,S,C)),c&&Y.createElement("line",Sf({},w,k,{className:ir("recharts-cartesian-axis-tick-line",ea(c,"className"))})),f&&t.renderTickItem(f,M,"".concat(Vt(d)?d(S.value,C):S.value).concat(m||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,m=d.ticks,p=ok(d,iRe),x=m;return Vt(c)&&(x=m&&m.length>0?c(this.props):c(p)),a<=0||l<=0||!x||!x.length?null:Y.createElement(fn,{className:ir("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),wi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,l=ir(i.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?a=Y.cloneElement(n,Sn(Sn({},i),{},{className:l})):Vt(n)?a=n(Sn(Sn({},i),{},{className:l})):a=Y.createElement(f0,Sf({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(_.Component);QM(xm,"displayName","CartesianAxis");QM(xm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hRe=["x1","y1","x2","y2","key"],mRe=["offset"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lz(Object(r),!0).forEach(function(n){pRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pRe(e,t,r){return t=gRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gRe(e){var t=vRe(e,"string");return td(t)=="symbol"?t:t+""}function vRe(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eu.apply(this,arguments)}function cz(e,t){if(e==null)return{};var r=yRe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xRe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,a=t.width,l=t.height,c=t.ry;return Y.createElement("rect",{x:i,y:s,ry:c,width:a,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AX(e,t){var r;if(Y.isValidElement(e))r=Y.cloneElement(e,t);else if(Vt(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,a=t.y2,l=t.key,c=cz(t,hRe),u=nr(c,!1);u.offset;var f=cz(u,mRe);r=Y.createElement("line",Eu({},f,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function bRe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=_i(_i({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return AX(i,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function wRe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=_i(_i({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return AX(i,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function _Re(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,a=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==f[0]&&f.unshift(0);var d=f.map(function(m,p){var x=!f[p+1],y=x?i+a-m:f[p+1]-m;if(y<=0)return null;var v=p%t.length;return Y.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:y,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function SRe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,a=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==f[0]&&f.unshift(0);var d=f.map(function(m,p){var x=!f[p+1],y=x?s+l-m:f[p+1]-m;if(y<=0)return null;var v=p%n.length;return Y.createElement("rect",{key:"react-".concat(p),x:m,y:a,width:y,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var jRe=function(t,r){var n=t.xAxis,i=t.width,s=t.height,a=t.offset;return VQ(YM(_i(_i(_i({},xm.defaultProps),n),{},{ticks:el(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},CRe=function(t,r){var n=t.yAxis,i=t.width,s=t.height,a=t.offset;return VQ(YM(_i(_i(_i({},xm.defaultProps),n),{},{ticks:el(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},nf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function al(e){var t,r,n,i,s,a,l=WM(),c=HM(),u=fMe(),f=_i(_i({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:nf.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:nf.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:nf.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:nf.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:nf.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:nf.verticalFill,x:Xe(e.x)?e.x:u.left,y:Xe(e.y)?e.y:u.top,width:Xe(e.width)?e.width:u.width,height:Xe(e.height)?e.height:u.height}),d=f.x,m=f.y,p=f.width,x=f.height,y=f.syncWithTicks,v=f.horizontalValues,b=f.verticalValues,w=cMe(),j=uMe();if(!Xe(p)||p<=0||!Xe(x)||x<=0||!Xe(d)||d!==+d||!Xe(m)||m!==+m)return null;var S=f.verticalCoordinatesGenerator||jRe,C=f.horizontalCoordinatesGenerator||CRe,E=f.horizontalPoints,k=f.verticalPoints;if((!E||!E.length)&&Vt(C)){var O=v&&v.length,M=C({yAxis:j?_i(_i({},j),{},{ticks:O?v:j.ticks}):void 0,width:l,height:c,offset:u},O?!0:y);nl(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(td(M),"]")),Array.isArray(M)&&(E=M)}if((!k||!k.length)&&Vt(S)){var R=b&&b.length,T=S({xAxis:w?_i(_i({},w),{},{ticks:R?b:w.ticks}):void 0,width:l,height:c,offset:u},R?!0:y);nl(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(td(T),"]")),Array.isArray(T)&&(k=T)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(xRe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Y.createElement(bRe,Eu({},f,{offset:u,horizontalPoints:E,xAxis:w,yAxis:j})),Y.createElement(wRe,Eu({},f,{offset:u,verticalPoints:k,xAxis:w,yAxis:j})),Y.createElement(_Re,Eu({},f,{horizontalPoints:E})),Y.createElement(SRe,Eu({},f,{verticalPoints:k})))}al.displayName="CartesianGrid";var NRe=["type","layout","connectNulls","ref"],ERe=["key"];function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function uz(e,t){if(e==null)return{};var r=kRe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}function dz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dz(Object(r),!0).forEach(function(n){Ca(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sf(e){return PRe(e)||TRe(e)||ARe(e)||ORe()}function ORe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ARe(e,t){if(e){if(typeof e=="string")return gT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gT(e,t)}}function TRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PRe(e){if(Array.isArray(e))return gT(e)}function gT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PX(n.key),n)}}function RRe(e,t,r){return t&&fz(e.prototype,t),r&&fz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DRe(e,t,r){return t=W0(t),IRe(e,TX()?Reflect.construct(t,r||[],W0(e).constructor):t.apply(e,r))}function IRe(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LRe(e)}function LRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TX=function(){return!!e})()}function W0(e){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W0(e)}function $Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vT(e,t)}function vT(e,t){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vT(e,t)}function Ca(e,t,r){return t=PX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=FRe(e,"string");return Nh(t)=="symbol"?t:t+""}function FRe(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var No=(function(e){function t(){var r;MRe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=DRe(this,t,[].concat(i)),Ca(r,"state",{isAnimationFinished:!0,totalLength:0}),Ca(r,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),Ca(r,"getStrokeDasharray",function(a,l,c){var u=c.reduce(function(b,w){return b+w});if(!u)return r.generateSimpleStrokeDasharray(l,a);for(var f=Math.floor(a/u),d=a%u,m=l-a,p=[],x=0,y=0;x<c.length;y+=c[x],++x)if(y+c[x]>d){p=[].concat(sf(c.slice(0,x)),[d-y]);break}var v=p.length%2===0?[0,m]:[m];return[].concat(sf(t.repeat(c,f)),sf(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Ca(r,"id",Wv("recharts-line-")),Ca(r,"pathRef",function(a){r.mainCurve=a}),Ca(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ca(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return $Re(t,e),RRe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=ta(f,Xv);if(!d)return null;var m=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:Ms(y.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Y.createElement(fn,p,d.map(function(x){return Y.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=nr(this.props,!1),m=nr(c,!0),p=u.map(function(y,v){var b=ys(ys(ys({key:"dot-".concat(v),r:3},d),m),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:u});return t.renderDotItem(c,b)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Y.createElement(fn,Gp({className:"recharts-line-dots",key:"dots"},x),p)}},{key:"renderCurveStatically",value:function(n,i,s,a){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=uz(l,NRe),m=ys(ys(ys({},nr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},a),{},{type:c,layout:u,connectNulls:f});return Y.createElement(GA,Gp({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,a=this.props,l=a.points,c=a.strokeDasharray,u=a.isAnimationActive,f=a.animationBegin,d=a.animationDuration,m=a.animationEasing,p=a.animationId,x=a.animateNewValues,y=a.width,v=a.height,b=this.state,w=b.prevPoints,j=b.totalLength;return Y.createElement(xl,{begin:f,duration:d,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var C=S.t;if(w){var E=w.length/l.length,k=l.map(function(P,I){var B=Math.floor(I*E);if(w[B]){var $=w[B],H=Na($.x,P.x),V=Na($.y,P.y);return ys(ys({},P),{},{x:H(C),y:V(C)})}if(x){var U=Na(y*2,P.x),W=Na(v/2,P.y);return ys(ys({},P),{},{x:U(C),y:W(C)})}return ys(ys({},P),{},{x:P.x,y:P.y})});return s.renderCurveStatically(k,n,i)}var O=Na(0,j),M=O(C),R;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});R=s.getStrokeDasharray(M,j,T)}else R=s.generateSimpleStrokeDasharray(j,M);return s.renderCurveStatically(l,n,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,i){var s=this.props,a=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&a&&a.length&&(!u&&f>0||!h_(u,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.xAxis,f=i.yAxis,d=i.top,m=i.left,p=i.width,x=i.height,y=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,j=ir("recharts-line",c),S=u&&u.allowDataOverflow,C=f&&f.allowDataOverflow,E=S||C,k=Yt(v)?this.id:v,O=(n=nr(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=O.r,R=M===void 0?3:M,T=O.strokeWidth,P=T===void 0?2:T,I=s_e(a)?a:{},B=I.clipDot,$=B===void 0?!0:B,H=R*2+P;return Y.createElement(fn,{className:j},S||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(k)},Y.createElement("rect",{x:S?m:m-p/2,y:C?d:d-x/2,width:S?p:p*2,height:C?x:x*2})),!$&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(k)},Y.createElement("rect",{x:m-H/2,y:d-H/2,width:p+H,height:x+H}))):null,!w&&this.renderCurve(E,k),this.renderErrorBar(E,k),(w||a)&&this.renderDots(E,$,k),(!y||b)&&Ec.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(sf(n),[0]):n,a=[],l=0;l<i;++l)a=[].concat(sf(a),sf(s));return a}},{key:"renderDotItem",value:function(n,i){var s;if(Y.isValidElement(n))s=Y.cloneElement(n,i);else if(Vt(n))s=n(i);else{var a=i.key,l=uz(i,ERe),c=ir("recharts-line-dot",typeof n!="boolean"?n.className:"");s=Y.createElement(BM,Gp({key:a},l,{className:c}))}return s}}])})(_.PureComponent);Ca(No,"displayName","Line");Ca(No,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ca(No,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,a=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(m,p){var x=Ms(m,a);return f==="horizontal"?{x:N8({axis:r,ticks:i,bandSize:l,entry:m,index:p}),y:Yt(x)?null:n.scale(x),value:x,payload:m}:{x:Yt(x)?null:r.scale(x),y:N8({axis:n,ticks:s,bandSize:l,entry:m,index:p}),value:x,payload:m}});return ys({points:d,layout:f},u)});function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function qRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DX(n.key),n)}}function zRe(e,t,r){return t&&BRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VRe(e,t,r){return t=H0(t),URe(e,MX()?Reflect.construct(t,r||[],H0(e).constructor):t.apply(e,r))}function URe(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WRe(e)}function WRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!e})()}function H0(e){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H0(e)}function HRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yT(e,t)}function yT(e,t){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yT(e,t)}function RX(e,t,r){return t=DX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=KRe(e,"string");return Eh(t)=="symbol"?t:t+""}function KRe(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xT(){return xT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xT.apply(this,arguments)}function GRe(e){var t=e.xAxisId,r=WM(),n=HM(),i=xX(t);return i==null?null:_.createElement(xm,xT({},i,{className:ir("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return el(a,!0)}}))}var Es=(function(e){function t(){return qRe(this,t),VRe(this,t,arguments)}return HRe(t,e),zRe(t,[{key:"render",value:function(){return _.createElement(GRe,this.props)}}])})(_.Component);RX(Es,"displayName","XAxis");RX(Es,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function YRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$X(n.key),n)}}function XRe(e,t,r){return t&&QRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZRe(e,t,r){return t=K0(t),JRe(e,IX()?Reflect.construct(t,r||[],K0(e).constructor):t.apply(e,r))}function JRe(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eDe(e)}function eDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IX=function(){return!!e})()}function K0(e){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K0(e)}function tDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bT(e,t)}function bT(e,t){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bT(e,t)}function LX(e,t,r){return t=$X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=rDe(e,"string");return kh(t)=="symbol"?t:t+""}function rDe(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wT(){return wT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wT.apply(this,arguments)}var nDe=function(t){var r=t.yAxisId,n=WM(),i=HM(),s=bX(r);return s==null?null:_.createElement(xm,wT({},s,{className:ir("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return el(l,!0)}}))},ks=(function(e){function t(){return YRe(this,t),ZRe(this,t,arguments)}return tDe(t,e),XRe(t,[{key:"render",value:function(){return _.createElement(nDe,this.props)}}])})(_.Component);LX(ks,"displayName","YAxis");LX(ks,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hz(e){return oDe(e)||aDe(e)||sDe(e)||iDe()}function iDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(e,t){if(e){if(typeof e=="string")return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}}function aDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oDe(e){if(Array.isArray(e))return _T(e)}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ST=function(t,r,n,i,s){var a=ta(t,GM),l=ta(t,b_),c=[].concat(hz(a),hz(l)),u=ta(t,__),f="".concat(i,"Id"),d=i[0],m=r;if(c.length&&(m=c.reduce(function(y,v){if(v.props[f]===n&&bo(v.props,"extendDomain")&&Xe(v.props[d])){var b=v.props[d];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},m)),u.length){var p="".concat(d,"1"),x="".concat(d,"2");m=u.reduce(function(y,v){if(v.props[f]===n&&bo(v.props,"extendDomain")&&Xe(v.props[p])&&Xe(v.props[x])){var b=v.props[p],w=v.props[x];return[Math.min(y[0],b,w),Math.max(y[1],b,w)]}return y},m)}return s&&s.length&&(m=s.reduce(function(y,v){return Xe(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},m)),m},lk={exports:{}},mz;function lDe(){return mz||(mz=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,d,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,d||c,m),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,p=d.length,x=new Array(p);m<p;m++)x[m]=d[m].fn;return x},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,m,p,x){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,w,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,m),!0;case 5:return v.fn.call(v.context,f,d,m,p),!0;case 6:return v.fn.call(v.context,f,d,m,p,x),!0}for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];v.fn.apply(v.context,w)}else{var S=v.length,C;for(j=0;j<S;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),b){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,f);break;case 3:v[j].fn.call(v[j].context,f,d);break;case 4:v[j].fn.call(v[j].context,f,d,m);break;default:if(!w)for(C=1,w=new Array(b-1);C<b;C++)w[C-1]=arguments[C];v[j].fn.apply(v[j].context,w)}}return!0},l.prototype.on=function(u,f,d){return s(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return s(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,m){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return a(this,p),this;var x=this._events[p];if(x.fn)x.fn===f&&(!m||x.once)&&(!d||x.context===d)&&a(this,p);else{for(var y=0,v=[],b=x.length;y<b;y++)(x[y].fn!==f||m&&!x[y].once||d&&x[y].context!==d)&&v.push(x[y]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(lk)),lk.exports}var cDe=lDe();const uDe=wr(cDe);var ck=new uDe,uk="recharts.syncMouseEvents";function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function dDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FX(n.key),n)}}function hDe(e,t,r){return t&&fDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dk(e,t,r){return t=FX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FX(e){var t=mDe(e,"string");return ev(t)=="symbol"?t:t+""}function mDe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pDe=(function(){function e(){dDe(this,e),dk(this,"activeIndex",0),dk(this,"coordinateList",[]),dk(this,"layout","horizontal")}return hDe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,l=a===void 0?null:a,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,m=a+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:m})}}}])})();function gDe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Xe(n)&&Xe(i))return!0}return!1}function vDe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function qX(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,a=ai(t,r,n,i),l=ai(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function yDe(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,m=ai(l,c,u,d),p=ai(l,c,f,d);n=m.x,i=m.y,s=p.x,a=p.y}else return qX(t);return[{x:n,y:i},{x:s,y:a}]}function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function pz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pz(Object(r),!0).forEach(function(n){xDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xDe(e,t,r){return t=bDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bDe(e){var t=wDe(e,"string");return tv(t)=="symbol"?t:t+""}function wDe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _De(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,a=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var x,y=GA;if(m==="ScatterChart")x=a,y=b2e;else if(m==="BarChart")x=vDe(d,a,c,f),y=qM;else if(d==="radial"){var v=qX(a),b=v.cx,w=v.cy,j=v.radius,S=v.startAngle,C=v.endAngle;x={cx:b,cy:w,startAngle:S,endAngle:C,innerRadius:j,outerRadius:j},y=GQ}else x={points:yDe(d,a,c)},y=GA;var E=Kx(Kx(Kx(Kx({stroke:"#ccc",pointerEvents:"none"},c),x),nr(p,!1)),{},{payload:l,payloadIndex:u,className:ir("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,E):_.createElement(y,E)}var SDe=["item"],jDe=["children","className","width","height","style","compact","title","desc"];function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(this,arguments)}function gz(e,t){return EDe(e)||NDe(e,t)||zX(e,t)||CDe()}function CDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function EDe(e){if(Array.isArray(e))return e}function vz(e,t){if(e==null)return{};var r=kDe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ODe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ADe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VX(n.key),n)}}function TDe(e,t,r){return t&&ADe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PDe(e,t,r){return t=G0(t),MDe(e,BX()?Reflect.construct(t,r||[],G0(e).constructor):t.apply(e,r))}function MDe(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RDe(e)}function RDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!e})()}function G0(e){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(e)}function DDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jT(e,t)}function jT(e,t){return jT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jT(e,t)}function Ah(e){return $De(e)||LDe(e)||zX(e)||IDe()}function IDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){if(e){if(typeof e=="string")return CT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CT(e,t)}}function LDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $De(e){if(Array.isArray(e))return CT(e)}function CT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yz(Object(r),!0).forEach(function(n){Et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Et(e,t,r){return t=VX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=FDe(e,"string");return Oh(t)=="symbol"?t:t+""}function FDe(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qDe={xAxis:["bottom","top"],yAxis:["left","right"]},BDe={width:"100%",height:"100%"},UX={x:0,y:0};function Gx(e){return e}var zDe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},VDe=function(t,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var a=s.coordinate,l=i.radius;return Me(Me(Me({},i),ai(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=s.coordinate,u=i.angle;return Me(Me(Me({},i),ai(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return UX},S_=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ah(l),Ah(u)):l},[]);return a.length>0?a:t&&t.length&&Xe(i)&&Xe(s)?t.slice(i,s+1):[]};function WX(e){return e==="number"?[0,"auto"]:void 0}var NT=function(t,r,n,i){var s=t.graphicalItems,a=t.tooltipAxis,l=S_(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var p=d===void 0?l:d;m=Jb(p,a.dataKey,i)}else m=d&&d[n]||l[n];return m?[].concat(Ah(c),[WQ(u,m)]):c},[])},xz=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},a=zDe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=nOe(a,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,m=NT(t,r,f,d),p=VDe(n,l,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:m,activeCoordinate:p}}return null},UDe=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,m=t.stackOffset,p=zQ(f,s);return n.reduce(function(x,y){var v,b=y.type.defaultProps!==void 0?Me(Me({},y.type.defaultProps),y.props):y.props,w=b.type,j=b.dataKey,S=b.allowDataOverflow,C=b.allowDuplicatedCategory,E=b.scale,k=b.ticks,O=b.includeHidden,M=b[a];if(x[M])return x;var R=S_(t.data,{graphicalItems:i.filter(function(q){var K,ee=a in q.props?q.props[a]:(K=q.type.defaultProps)===null||K===void 0?void 0:K[a];return ee===M}),dataStartIndex:c,dataEndIndex:u}),T=R.length,P,I,B;gDe(b.domain,S,w)&&(P=VA(b.domain,null,S),p&&(w==="number"||E!=="auto")&&(B=Hp(R,j,"category")));var $=WX(w);if(!P||P.length===0){var H,V=(H=b.domain)!==null&&H!==void 0?H:$;if(j){if(P=Hp(R,j,w),w==="category"&&p){var U=Ywe(P);C&&U?(I=P,P=D0(0,T)):C||(P=A8(V,P,y).reduce(function(q,K){return q.indexOf(K)>=0?q:[].concat(Ah(q),[K])},[]))}else if(w==="category")C?P=P.filter(function(q){return q!==""&&!Yt(q)}):P=A8(V,P,y).reduce(function(q,K){return q.indexOf(K)>=0||K===""||Yt(K)?q:[].concat(Ah(q),[K])},[]);else if(w==="number"){var W=lOe(R,i.filter(function(q){var K,ee,te=a in q.props?q.props[a]:(K=q.type.defaultProps)===null||K===void 0?void 0:K[a],Q="hide"in q.props?q.props.hide:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return te===M&&(O||!Q)}),j,s,f);W&&(P=W)}p&&(w==="number"||E!=="auto")&&(B=Hp(R,j,"category"))}else p?P=D0(0,T):l&&l[M]&&l[M].hasStack&&w==="number"?P=m==="expand"?[0,1]:UQ(l[M].stackGroups,c,u):P=BQ(R,i.filter(function(q){var K=a in q.props?q.props[a]:q.type.defaultProps[a],ee="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return K===M&&(O||!ee)}),w,f,!0);if(w==="number")P=ST(d,P,M,s,k),V&&(P=VA(V,P,S));else if(w==="category"&&V){var F=V,L=P.every(function(q){return F.indexOf(q)>=0});L&&(P=F)}}return Me(Me({},x),{},Et({},M,Me(Me({},b),{},{axisType:s,domain:P,categoricalDomain:B,duplicateDomain:I,originalDomain:(v=b.domain)!==null&&v!==void 0?v:$,isCategorical:p,layout:f})))},{})},WDe=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,m=S_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,x=zQ(f,s),y=-1;return n.reduce(function(v,b){var w=b.type.defaultProps!==void 0?Me(Me({},b.type.defaultProps),b.props):b.props,j=w[a],S=WX("number");if(!v[j]){y++;var C;return x?C=D0(0,p):l&&l[j]&&l[j].hasStack?(C=UQ(l[j].stackGroups,c,u),C=ST(d,C,j,s)):(C=VA(S,BQ(m,n.filter(function(E){var k,O,M=a in E.props?E.props[a]:(k=E.type.defaultProps)===null||k===void 0?void 0:k[a],R="hide"in E.props?E.props.hide:(O=E.type.defaultProps)===null||O===void 0?void 0:O.hide;return M===j&&!R}),"number",f),i.defaultProps.allowDataOverflow),C=ST(d,C,j,s)),Me(Me({},v),{},Et({},j,Me(Me({axisType:s},i.defaultProps),{},{hide:!0,orientation:ea(qDe,"".concat(s,".").concat(y%2),null),domain:C,originalDomain:S,isCategorical:x,layout:f})))}return v},{})},HDe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(i,"Id"),m=ta(f,s),p={};return m&&m.length?p=UDe(t,{axes:m,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=WDe(t,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},KDe=function(t){var r=uc(t),n=el(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:hM(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:N0(r,n)}},bz=function(t){var r=t.children,n=t.defaultShowTooltip,i=bs(r,bh),s=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},GDe=function(t){return!t||!t.length?!1:t.some(function(r){var n=rl(r&&r.type);return n&&n.indexOf("Bar")>=0})},wz=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YDe=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,a=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,m=n.margin||{},p=bs(d,bh),x=bs(d,os),y=Object.keys(c).reduce(function(C,E){var k=c[E],O=k.orientation;return!k.mirror&&!k.hide?Me(Me({},C),{},Et({},O,C[O]+k.width)):C},{left:m.left||0,right:m.right||0}),v=Object.keys(a).reduce(function(C,E){var k=a[E],O=k.orientation;return!k.mirror&&!k.hide?Me(Me({},C),{},Et({},O,ea(C,"".concat(O))+k.height)):C},{top:m.top||0,bottom:m.bottom||0}),b=Me(Me({},v),y),w=b.bottom;p&&(b.bottom+=p.props.height||bh.defaultProps.height),x&&r&&(b=aOe(b,i,n,r));var j=u-b.left-b.right,S=f-b.top-b.bottom;return Me(Me({brushBottom:w},b),{},{width:Math.max(j,0),height:Math.max(S,0)})},QDe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},HX=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,a=t.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,m=function(b,w){var j=w.graphicalItems,S=w.stackGroups,C=w.offset,E=w.updateId,k=w.dataStartIndex,O=w.dataEndIndex,M=b.barSize,R=b.layout,T=b.barGap,P=b.barCategoryGap,I=b.maxBarSize,B=wz(R),$=B.numericAxisName,H=B.cateAxisName,V=GDe(j),U=[];return j.forEach(function(W,F){var L=S_(b.data,{graphicalItems:[W],dataStartIndex:k,dataEndIndex:O}),q=W.type.defaultProps!==void 0?Me(Me({},W.type.defaultProps),W.props):W.props,K=q.dataKey,ee=q.maxBarSize,te=q["".concat($,"Id")],Q=q["".concat(H,"Id")],G={},ne=c.reduce(function(ie,oe){var je=w["".concat(oe.axisType,"Map")],le=q["".concat(oe.axisType,"Id")];je&&je[le]||oe.axisType==="zAxis"||ed();var he=je[le];return Me(Me({},ie),{},Et(Et({},oe.axisType,he),"".concat(oe.axisType,"Ticks"),el(he)))},G),Z=ne[H],re=ne["".concat(H,"Ticks")],fe=S&&S[te]&&S[te].hasStack&&bOe(W,S[te].stackGroups),ce=rl(W.type).indexOf("Bar")>=0,xe=N0(Z,re),be=[],ke=V&&iOe({barSize:M,stackGroups:S,totalSize:QDe(ne,H)});if(ce){var Te,De,ae=Yt(ee)?I:ee,ge=(Te=(De=N0(Z,re,!0))!==null&&De!==void 0?De:ae)!==null&&Te!==void 0?Te:0;be=sOe({barGap:T,barCategoryGap:P,bandSize:ge!==xe?ge:xe,sizeList:ke[Q],maxBarSize:ae}),ge!==xe&&(be=be.map(function(ie){return Me(Me({},ie),{},{position:Me(Me({},ie.position),{},{offset:ie.position.offset-ge/2})})}))}var X=W&&W.type&&W.type.getComposedData;X&&U.push({props:Me(Me({},X(Me(Me({},ne),{},{displayedData:L,props:b,dataKey:K,item:W,bandSize:xe,barPosition:be,offset:C,stackedData:fe,layout:R,dataStartIndex:k,dataEndIndex:O}))),{},Et(Et(Et({key:W.key||"item-".concat(F)},$,ne[$]),H,ne[H]),"animationId",E)),childIndex:l_e(W,b.children),item:W})}),U},p=function(b,w){var j=b.props,S=b.dataStartIndex,C=b.dataEndIndex,E=b.updateId;if(!U3({props:j}))return null;var k=j.children,O=j.layout,M=j.stackOffset,R=j.data,T=j.reverseStackOrder,P=wz(O),I=P.numericAxisName,B=P.cateAxisName,$=ta(k,n),H=vOe(R,$,"".concat(I,"Id"),"".concat(B,"Id"),M,T),V=c.reduce(function(q,K){var ee="".concat(K.axisType,"Map");return Me(Me({},q),{},Et({},ee,HDe(j,Me(Me({},K),{},{graphicalItems:$,stackGroups:K.axisType===I&&H,dataStartIndex:S,dataEndIndex:C}))))},{}),U=YDe(Me(Me({},V),{},{props:j,graphicalItems:$}),w==null?void 0:w.legendBBox);Object.keys(V).forEach(function(q){V[q]=f(j,V[q],U,q.replace("Map",""),r)});var W=V["".concat(B,"Map")],F=KDe(W),L=m(j,Me(Me({},V),{},{dataStartIndex:S,dataEndIndex:C,updateId:E,graphicalItems:$,stackGroups:H,offset:U}));return Me(Me({formattedGraphicalItems:L,graphicalItems:$,offset:U,stackGroups:H},F),V)},x=(function(v){function b(w){var j,S,C;return ODe(this,b),C=PDe(this,b,[w]),Et(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(C,"accessibilityManager",new pDe),Et(C,"handleLegendBBoxUpdate",function(E){if(E){var k=C.state,O=k.dataStartIndex,M=k.dataEndIndex,R=k.updateId;C.setState(Me({legendBBox:E},p({props:C.props,dataStartIndex:O,dataEndIndex:M,updateId:R},Me(Me({},C.state),{},{legendBBox:E}))))}}),Et(C,"handleReceiveSyncEvent",function(E,k,O){if(C.props.syncId===E){if(O===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(k)}}),Et(C,"handleBrushChange",function(E){var k=E.startIndex,O=E.endIndex;if(k!==C.state.dataStartIndex||O!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return Me({dataStartIndex:k,dataEndIndex:O},p({props:C.props,dataStartIndex:k,dataEndIndex:O,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),Et(C,"handleMouseEnter",function(E){var k=C.getMouseInfo(E);if(k){var O=Me(Me({},k),{},{isTooltipActive:!0});C.setState(O),C.triggerSyncEvent(O);var M=C.props.onMouseEnter;Vt(M)&&M(O,E)}}),Et(C,"triggeredAfterMouseMove",function(E){var k=C.getMouseInfo(E),O=k?Me(Me({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(O),C.triggerSyncEvent(O);var M=C.props.onMouseMove;Vt(M)&&M(O,E)}),Et(C,"handleItemMouseEnter",function(E){C.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Et(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Et(C,"handleMouseMove",function(E){E.persist(),C.throttleTriggeredAfterMouseMove(E)}),Et(C,"handleMouseLeave",function(E){C.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var O=C.props.onMouseLeave;Vt(O)&&O(k,E)}),Et(C,"handleOuterEvent",function(E){var k=o_e(E),O=ea(C.props,"".concat(k));if(k&&Vt(O)){var M,R;/.*touch.*/i.test(k)?R=C.getMouseInfo(E.changedTouches[0]):R=C.getMouseInfo(E),O((M=R)!==null&&M!==void 0?M:{},E)}}),Et(C,"handleClick",function(E){var k=C.getMouseInfo(E);if(k){var O=Me(Me({},k),{},{isTooltipActive:!0});C.setState(O),C.triggerSyncEvent(O);var M=C.props.onClick;Vt(M)&&M(O,E)}}),Et(C,"handleMouseDown",function(E){var k=C.props.onMouseDown;if(Vt(k)){var O=C.getMouseInfo(E);k(O,E)}}),Et(C,"handleMouseUp",function(E){var k=C.props.onMouseUp;if(Vt(k)){var O=C.getMouseInfo(E);k(O,E)}}),Et(C,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Et(C,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseDown(E.changedTouches[0])}),Et(C,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseUp(E.changedTouches[0])}),Et(C,"handleDoubleClick",function(E){var k=C.props.onDoubleClick;if(Vt(k)){var O=C.getMouseInfo(E);k(O,E)}}),Et(C,"handleContextMenu",function(E){var k=C.props.onContextMenu;if(Vt(k)){var O=C.getMouseInfo(E);k(O,E)}}),Et(C,"triggerSyncEvent",function(E){C.props.syncId!==void 0&&ck.emit(uk,C.props.syncId,E,C.eventEmitterSymbol)}),Et(C,"applySyncEvent",function(E){var k=C.props,O=k.layout,M=k.syncMethod,R=C.state.updateId,T=E.dataStartIndex,P=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)C.setState(Me({dataStartIndex:T,dataEndIndex:P},p({props:C.props,dataStartIndex:T,dataEndIndex:P,updateId:R},C.state)));else if(E.activeTooltipIndex!==void 0){var I=E.chartX,B=E.chartY,$=E.activeTooltipIndex,H=C.state,V=H.offset,U=H.tooltipTicks;if(!V)return;if(typeof M=="function")$=M(U,E);else if(M==="value"){$=-1;for(var W=0;W<U.length;W++)if(U[W].value===E.activeLabel){$=W;break}}var F=Me(Me({},V),{},{x:V.left,y:V.top}),L=Math.min(I,F.x+F.width),q=Math.min(B,F.y+F.height),K=U[$]&&U[$].value,ee=NT(C.state,C.props.data,$),te=U[$]?{x:O==="horizontal"?U[$].coordinate:L,y:O==="horizontal"?q:U[$].coordinate}:UX;C.setState(Me(Me({},E),{},{activeLabel:K,activeCoordinate:te,activePayload:ee,activeTooltipIndex:$}))}else C.setState(E)}),Et(C,"renderCursor",function(E){var k,O=C.state,M=O.isTooltipActive,R=O.activeCoordinate,T=O.activePayload,P=O.offset,I=O.activeTooltipIndex,B=O.tooltipAxisBandSize,$=C.getTooltipEventType(),H=(k=E.props.active)!==null&&k!==void 0?k:M,V=C.props.layout,U=E.key||"_recharts-cursor";return Y.createElement(_De,{key:U,activeCoordinate:R,activePayload:T,activeTooltipIndex:I,chartName:r,element:E,isActive:H,layout:V,offset:P,tooltipAxisBandSize:B,tooltipEventType:$})}),Et(C,"renderPolarAxis",function(E,k,O){var M=ea(E,"type.axisType"),R=ea(C.state,"".concat(M,"Map")),T=E.type.defaultProps,P=T!==void 0?Me(Me({},T),E.props):E.props,I=R&&R[P["".concat(M,"Id")]];return _.cloneElement(E,Me(Me({},I),{},{className:ir(M,I.className),key:E.key||"".concat(k,"-").concat(O),ticks:el(I,!0)}))}),Et(C,"renderPolarGrid",function(E){var k=E.props,O=k.radialLines,M=k.polarAngles,R=k.polarRadius,T=C.state,P=T.radiusAxisMap,I=T.angleAxisMap,B=uc(P),$=uc(I),H=$.cx,V=$.cy,U=$.innerRadius,W=$.outerRadius;return _.cloneElement(E,{polarAngles:Array.isArray(M)?M:el($,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(R)?R:el(B,!0).map(function(F){return F.coordinate}),cx:H,cy:V,innerRadius:U,outerRadius:W,key:E.key||"polar-grid",radialLines:O})}),Et(C,"renderLegend",function(){var E=C.state.formattedGraphicalItems,k=C.props,O=k.children,M=k.width,R=k.height,T=C.props.margin||{},P=M-(T.left||0)-(T.right||0),I=FQ({children:O,formattedGraphicalItems:E,legendWidth:P,legendContent:u});if(!I)return null;var B=I.item,$=vz(I,SDe);return _.cloneElement(B,Me(Me({},$),{},{chartWidth:M,chartHeight:R,margin:T,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Et(C,"renderTooltip",function(){var E,k=C.props,O=k.children,M=k.accessibilityLayer,R=bs(O,Vn);if(!R)return null;var T=C.state,P=T.isTooltipActive,I=T.activeCoordinate,B=T.activePayload,$=T.activeLabel,H=T.offset,V=(E=R.props.active)!==null&&E!==void 0?E:P;return _.cloneElement(R,{viewBox:Me(Me({},H),{},{x:H.left,y:H.top}),active:V,label:$,payload:V?B:[],coordinate:I,accessibilityLayer:M})}),Et(C,"renderBrush",function(E){var k=C.props,O=k.margin,M=k.data,R=C.state,T=R.offset,P=R.dataStartIndex,I=R.dataEndIndex,B=R.updateId;return _.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Vx(C.handleBrushChange,E.props.onChange),data:M,x:Xe(E.props.x)?E.props.x:T.left,y:Xe(E.props.y)?E.props.y:T.top+T.height+T.brushBottom-(O.bottom||0),width:Xe(E.props.width)?E.props.width:T.width,startIndex:P,endIndex:I,updateId:"brush-".concat(B)})}),Et(C,"renderReferenceElement",function(E,k,O){if(!E)return null;var M=C,R=M.clipPathId,T=C.state,P=T.xAxisMap,I=T.yAxisMap,B=T.offset,$=E.type.defaultProps||{},H=E.props,V=H.xAxisId,U=V===void 0?$.xAxisId:V,W=H.yAxisId,F=W===void 0?$.yAxisId:W;return _.cloneElement(E,{key:E.key||"".concat(k,"-").concat(O),xAxis:P[U],yAxis:I[F],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:R})}),Et(C,"renderActivePoints",function(E){var k=E.item,O=E.activePoint,M=E.basePoint,R=E.childIndex,T=E.isRange,P=[],I=k.props.key,B=k.item.type.defaultProps!==void 0?Me(Me({},k.item.type.defaultProps),k.item.props):k.item.props,$=B.activeDot,H=B.dataKey,V=Me(Me({index:R,dataKey:H,cx:O.x,cy:O.y,r:4,fill:FM(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},nr($,!1)),e0($));return P.push(b.renderActiveDot($,V,"".concat(I,"-activePoint-").concat(R))),M?P.push(b.renderActiveDot($,Me(Me({},V),{},{cx:M.x,cy:M.y}),"".concat(I,"-basePoint-").concat(R))):T&&P.push(null),P}),Et(C,"renderGraphicChild",function(E,k,O){var M=C.filterFormatItem(E,k,O);if(!M)return null;var R=C.getTooltipEventType(),T=C.state,P=T.isTooltipActive,I=T.tooltipAxis,B=T.activeTooltipIndex,$=T.activeLabel,H=C.props.children,V=bs(H,Vn),U=M.props,W=U.points,F=U.isRange,L=U.baseLine,q=M.item.type.defaultProps!==void 0?Me(Me({},M.item.type.defaultProps),M.item.props):M.item.props,K=q.activeDot,ee=q.hide,te=q.activeBar,Q=q.activeShape,G=!!(!ee&&P&&V&&(K||te||Q)),ne={};R!=="axis"&&V&&V.props.trigger==="click"?ne={onClick:Vx(C.handleItemMouseEnter,E.props.onClick)}:R!=="axis"&&(ne={onMouseLeave:Vx(C.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Vx(C.handleItemMouseEnter,E.props.onMouseEnter)});var Z=_.cloneElement(E,Me(Me({},M.props),ne));function re(oe){return typeof I.dataKey=="function"?I.dataKey(oe.payload):null}if(G)if(B>=0){var fe,ce;if(I.dataKey&&!I.allowDuplicatedCategory){var xe=typeof I.dataKey=="function"?re:"payload.".concat(I.dataKey.toString());fe=Jb(W,xe,$),ce=F&&L&&Jb(L,xe,$)}else fe=W==null?void 0:W[B],ce=F&&L&&L[B];if(Q||te){var be=E.props.activeIndex!==void 0?E.props.activeIndex:B;return[_.cloneElement(E,Me(Me(Me({},M.props),ne),{},{activeIndex:be})),null,null]}if(!Yt(fe))return[Z].concat(Ah(C.renderActivePoints({item:M,activePoint:fe,basePoint:ce,childIndex:B,isRange:F})))}else{var ke,Te=(ke=C.getItemByXY(C.state.activeCoordinate))!==null&&ke!==void 0?ke:{graphicalItem:Z},De=Te.graphicalItem,ae=De.item,ge=ae===void 0?E:ae,X=De.childIndex,ie=Me(Me(Me({},M.props),ne),{},{activeIndex:X});return[_.cloneElement(ge,ie),null,null]}return F?[Z,null,null]:[Z,null]}),Et(C,"renderCustomized",function(E,k,O){return _.cloneElement(E,Me(Me({key:"recharts-customized-".concat(O)},C.props),C.state))}),Et(C,"renderMap",{CartesianGrid:{handler:Gx,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Gx},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Gx},YAxis:{handler:Gx},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((j=w.id)!==null&&j!==void 0?j:Wv("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=LY(C.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),C.state={},C}return DDe(b,v),TDe(b,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,C=j.data,E=j.height,k=j.layout,O=bs(S,Vn);if(O){var M=O.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,T=NT(this.state,C,M,R),P=this.state.tooltipTicks[M].coordinate,I=(this.state.offset.top+E)/2,B=k==="horizontal",$=B?{x:P,y:I}:{y:P,x:I},H=this.state.formattedGraphicalItems.find(function(U){var W=U.item;return W.type.name==="Scatter"});H&&($=Me(Me({},$),H.props.points[M].tooltipPosition),T=H.props.points[M].tooltipPayload);var V={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:R,activePayload:T,activeCoordinate:$};this.setState(V),this.renderCursor(O),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var C,E;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(j){dA([bs(j.children,Vn)],[bs(this.props.children,Vn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=bs(this.props.children,Vn);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,C=S.getBoundingClientRect(),E=Gje(C),k={chartX:Math.round(j.pageX-E.left),chartY:Math.round(j.pageY-E.top)},O=C.width/S.offsetWidth||1,M=this.inRange(k.chartX,k.chartY,O);if(!M)return null;var R=this.state,T=R.xAxisMap,P=R.yAxisMap,I=this.getTooltipEventType(),B=xz(this.state,this.props.data,this.props.layout,M);if(I!=="axis"&&T&&P){var $=uc(T).scale,H=uc(P).scale,V=$&&$.invert?$.invert(k.chartX):null,U=H&&H.invert?H.invert(k.chartY):null;return Me(Me({},k),{},{xValue:V,yValue:U},B)}return B?Me(Me({},k),B):null}},{key:"inRange",value:function(j,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,k=j/C,O=S/C;if(E==="horizontal"||E==="vertical"){var M=this.state.offset,R=k>=M.left&&k<=M.left+M.width&&O>=M.top&&O<=M.top+M.height;return R?{x:k,y:O}:null}var T=this.state,P=T.angleAxisMap,I=T.radiusAxisMap;if(P&&I){var B=uc(P);return M8({x:k,y:O},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),C=bs(j,Vn),E={};C&&S==="axis"&&(C.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=e0(this.props,this.handleOuterEvent);return Me(Me({},k),E)}},{key:"addListener",value:function(){ck.on(uk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ck.removeListener(uk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,C){for(var E=this.state.formattedGraphicalItems,k=0,O=E.length;k<O;k++){var M=E[k];if(M.item===j||M.props.key===j.key||S===rl(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,C=S.left,E=S.top,k=S.height,O=S.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:j},Y.createElement("rect",{x:C,y:E,height:k,width:O})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,C){var E=gz(C,2),k=E[0],O=E[1];return Me(Me({},S),{},Et({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,C){var E=gz(C,2),k=E[0],O=E[1];return Me(Me({},S),{},Et({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,C=S.formattedGraphicalItems,E=S.activeItem;if(C&&C.length)for(var k=0,O=C.length;k<O;k++){var M=C[k],R=M.props,T=M.item,P=T.type.defaultProps!==void 0?Me(Me({},T.type.defaultProps),T.props):T.props,I=rl(T.type);if(I==="Bar"){var B=(R.data||[]).find(function(U){return u2e(j,U)});if(B)return{graphicalItem:M,payload:B}}else if(I==="RadialBar"){var $=(R.data||[]).find(function(U){return M8(j,U)});if($)return{graphicalItem:M,payload:$}}else if(g_(M,E)||v_(M,E)||Yg(M,E)){var H=ePe({graphicalItem:M,activeTooltipItem:E,itemData:P.data}),V=P.activeIndex===void 0?H:P.activeIndex;return{graphicalItem:Me(Me({},M),{},{childIndex:V}),payload:Yg(M,E)?P.data[H]:M.props.data[H]}}}return null}},{key:"render",value:function(){var j=this;if(!U3(this))return null;var S=this.props,C=S.children,E=S.className,k=S.width,O=S.height,M=S.style,R=S.compact,T=S.title,P=S.desc,I=vz(S,jDe),B=nr(I,!1);if(R)return Y.createElement(X6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(hA,jf({},B,{width:k,height:O,title:T,desc:P}),this.renderClipPath(),H3(C,this.renderMap)));if(this.props.accessibilityLayer){var $,H;B.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,B.role=(H=this.props.role)!==null&&H!==void 0?H:"application",B.onKeyDown=function(U){j.accessibilityManager.keyboardEvent(U)},B.onFocus=function(){j.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return Y.createElement(X6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",jf({className:ir("recharts-wrapper",E),style:Me({position:"relative",cursor:"default",width:k,height:O},M)},V,{ref:function(W){j.container=W}}),Y.createElement(hA,jf({},B,{width:k,height:O,title:T,desc:P,style:BDe}),this.renderClipPath(),H3(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(_.Component);Et(x,"displayName",r),Et(x,"defaultProps",Me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Et(x,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,j=v.data,S=v.children,C=v.width,E=v.height,k=v.layout,O=v.stackOffset,M=v.margin,R=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var P=bz(v);return Me(Me(Me({},P),{},{updateId:0},p(Me(Me({props:v},P),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:j,prevWidth:C,prevHeight:E,prevLayout:k,prevStackOffset:O,prevMargin:M,prevChildren:S})}if(w!==b.prevDataKey||j!==b.prevData||C!==b.prevWidth||E!==b.prevHeight||k!==b.prevLayout||O!==b.prevStackOffset||!Tf(M,b.prevMargin)){var I=bz(v),B={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},$=Me(Me({},xz(b,j,k)),{},{updateId:b.updateId+1}),H=Me(Me(Me({},I),B),$);return Me(Me(Me({},H),p(Me({props:v},H),b)),{},{prevDataKey:w,prevData:j,prevWidth:C,prevHeight:E,prevLayout:k,prevStackOffset:O,prevMargin:M,prevChildren:S})}if(!dA(S,b.prevChildren)){var V,U,W,F,L=bs(S,bh),q=L&&(V=(U=L.props)===null||U===void 0?void 0:U.startIndex)!==null&&V!==void 0?V:R,K=L&&(W=(F=L.props)===null||F===void 0?void 0:F.endIndex)!==null&&W!==void 0?W:T,ee=q!==R||K!==T,te=!Yt(j),Q=te&&!ee?b.updateId:b.updateId+1;return Me(Me({updateId:Q},p(Me(Me({props:v},b),{},{updateId:Q,dataStartIndex:q,dataEndIndex:K}),b)),{},{prevChildren:S,dataStartIndex:q,dataEndIndex:K})}return null}),Et(x,"renderActiveDot",function(v,b,w){var j;return _.isValidElement(v)?j=_.cloneElement(v,b):Vt(v)?j=v(b):j=Y.createElement(BM,b),Y.createElement(fn,{className:"recharts-active-dot",key:w},j)});var y=_.forwardRef(function(b,w){return Y.createElement(x,jf({},b,{ref:w}))});return y.displayName=x.displayName,y},Y0=HX({chartName:"LineChart",GraphicalChild:No,axisComponents:[{axisType:"xAxis",AxisComp:Es},{axisType:"yAxis",AxisComp:ks}],formatAxisMap:dX}),rv=HX({chartName:"BarChart",GraphicalChild:Ns,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Es},{axisType:"yAxis",AxisComp:ks}],formatAxisMap:dX});const _z=({view:e,selectedClassId:t,selectedCurriculumId:r,selectedEstablishmentId:n,selectedCourseId:i,allCourses:s,allProfiles:a,allStudentCourseProgresses:l,allClasses:c,allCurricula:u})=>{const f=Y.useMemo(()=>{let b=s;if(n){const w=u.filter(S=>S.establishment_id===n),j=new Set(w.flatMap(S=>S.course_ids));b=b.filter(S=>j.has(S.id))}if(r&&r!=="all"){const w=u.find(j=>j.id===r);w&&(b=b.filter(j=>w.course_ids.includes(j.id)))}return i&&(b=b.filter(w=>w.id===i)),b},[s,u,r,n,i]),d=Y.useMemo(()=>{let b=a.filter(w=>w.role==="student");if(n&&(b=b.filter(w=>w.establishment_id===n)),t&&t!=="all"){const w=c.find(j=>j.id===t);if(w){const j=async()=>{try{const C=await as();return new Set(C.filter(E=>E.class_id===w.id).map(E=>E.student_id))}catch(C){return console.error("Error fetching student enrollments in CreatorAnalyticsSection:",C),se(`Erreur lors du chargement des inscriptions des élèves: ${C.message}`),new Set}};let S=new Set;return j().then(C=>{S=C}),b.filter(C=>S.has(C.id))}}else if(r&&r!=="all"){const j=c.filter(E=>E.curriculum_id===r).map(E=>E.id),S=async()=>{try{const E=await as();return new Set(E.filter(k=>j.includes(k.class_id)).map(k=>k.student_id))}catch(E){return console.error("Error fetching student enrollments in CreatorAnalyticsSection:",E),se(`Erreur lors du chargement des inscriptions des élèves: ${E.message}`),new Set}};let C=new Set;return S().then(E=>{C=E}),b.filter(E=>C.has(E.id))}return b},[a,c,t,r,n]),m={totalCourses:f.length,publishedCourses:f.filter(b=>b.modules.some(w=>w.isCompleted)).length,totalStudents:d.length,averageCourseRating:4.5,newEnrollmentsLastMonth:Math.floor(Math.random()*10)+5,averageSessionDuration:"45 min"},p=f.map(b=>{const w=b.modules.length,j=b.modules.filter(O=>O.isCompleted).length,S=w>0?Math.round(j/w*100):0,C=l.filter(O=>O.course_id===b.id&&d.some(M=>M.id===O.user_id)),E=C.length,k=C.length>0?(C.reduce((O,M)=>O+M.modules_progress.reduce((R,T)=>R+T.sections_progress.reduce((P,I)=>{var B;return P+(((B=I.quiz_result)==null?void 0:B.score)||0)},0),0),0)/C.length).toFixed(1):"N/A";return{name:b.title.length>15?b.title.substring(0,12)+"...":b.title,completion:S,studentsEnrolled:E,avgQuizScore:parseFloat(k.toString())}}),x=[{month:"Jan",activeStudents:Math.floor(d.length*.6),newEnrollments:Math.floor(Math.random()*5)+1},{month:"Fév",activeStudents:Math.floor(d.length*.7),newEnrollments:Math.floor(Math.random()*5)+1},{month:"Mar",activeStudents:Math.floor(d.length*.65),newEnrollments:Math.floor(Math.random()*5)+1},{month:"Avr",activeStudents:Math.floor(d.length*.75),newEnrollments:Math.floor(Math.random()*5)+1},{month:"Mai",activeStudents:Math.floor(d.length*.7),newEnrollments:Math.floor(Math.random()*5)+1}],y=p.sort((b,w)=>w.completion-b.completion).slice(0,3).map(b=>b.name),v=p.sort((b,w)=>b.completion-w.completion).slice(0,3).map(b=>b.name);return e==="overview"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Obtenez des informations détaillées sur la performance de vos cours et l'engagement des élèves."}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Vue d'overview des Cours"}),o.jsx(Le,{children:"Statistiques générales de vos contenus."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:m.totalCourses}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cours publiés : ",m.publishedCourses]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Statistiques des Élèves"}),o.jsx(Le,{children:"Engagement et progression des apprenants."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:m.totalStudents}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Élèves inscrits"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Note moyenne des cours : ",m.averageCourseRating]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Nouvelles Inscriptions"}),o.jsx(Le,{children:"Les derniers élèves à rejoindre vos cours."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:m.newEnrollmentsLastMonth}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Le mois dernier"})]})]}),o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Performance des Cours (Vue d'ensemble)"}),o.jsx(Le,{children:"Taux de complétion et nombre d'élèves par cours."})]}),o.jsx(qe,{className:"h-80",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(rv,{data:p,children:[o.jsx(al,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),o.jsx(Es,{dataKey:"name",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))"}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(os,{}),o.jsx(Ns,{dataKey:"studentsEnrolled",fill:"hsl(var(--primary))",name:"Élèves Inscrits"}),o.jsx(Ns,{dataKey:"completion",fill:"hsl(var(--secondary))",name:"Taux de Complétion (%)"})]})})})]})]})]}):e==="course-performance"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Analyse détaillée de la complétion et des scores par cours."}),o.jsx("div",{className:"grid gap-6",children:f.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun cours trouvé pour les filtres sélectionnés."}):f.map(b=>{const w=p.find(j=>j.name.startsWith(b.title.substring(0,12)));return w?o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:b.title}),o.jsx(Le,{children:"Statistiques détaillées pour ce cours."})]}),o.jsxs(qe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Taux de complétion du cours: ",o.jsxs("span",{className:"font-semibold text-primary",children:[w.completion,"%"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Élèves inscrits: ",o.jsx("span",{className:"font-semibold text-primary",children:w.studentsEnrolled})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Score moyen aux quiz: ",o.jsxs("span",{className:"font-semibold text-primary",children:[w.avgQuizScore,"%"]})]})]}),o.jsx("div",{className:"h-40",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(rv,{data:[{name:"Complétion",value:w.completion},{name:"Score Quiz",value:w.avgQuizScore}],children:[o.jsx(Es,{dataKey:"name",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))",domain:[0,100]}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(Ns,{dataKey:"value",fill:"hsl(var(--primary))"})]})})})]})]},b.id):null})})]}):e==="student-engagement"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Suivi de l'activité et de l'engagement des apprenants."}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Élèves Actifs"}),o.jsx(Le,{children:"Nombre d'élèves actifs cette semaine."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:Math.floor(d.length*.7)}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["sur ",d.length," élèves inscrits."]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Nouvelles Inscriptions"}),o.jsx(Le,{children:"Élèves inscrits au cours du dernier mois."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:m.newEnrollmentsLastMonth}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Nouveaux élèves."})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Durée Moyenne des Sessions"}),o.jsx(Le,{children:"Temps moyen passé par les élèves sur la plateforme."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:m.averageSessionDuration}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Par session."})]})]}),o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Évolution de l'Engagement"}),o.jsx(Le,{children:"Nombre d'élèves actifs et nouvelles inscriptions par mois."})]}),o.jsx(qe,{className:"h-80",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(Y0,{data:x,children:[o.jsx(al,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),o.jsx(Es,{dataKey:"month",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))"}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(os,{}),o.jsx(No,{type:"monotone",dataKey:"activeStudents",stroke:"hsl(var(--primary))",name:"Élèves Actifs"}),o.jsx(No,{type:"monotone",dataKey:"newEnrollments",stroke:"hsl(var(--secondary))",name:"Nouvelles Inscriptions"})]})})})]}),o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Cours les Plus Performants"}),o.jsx(Le,{children:"Les cours avec les meilleurs taux de complétion."})]}),o.jsx(qe,{children:o.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:y.length===0?o.jsx("li",{children:"Aucun cours performant à afficher pour les filtres sélectionnés."}):y.map((b,w)=>o.jsx("li",{children:b},w))})})]}),o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Cours avec le Plus de Décrochage"}),o.jsx(Le,{children:"Identifiez les cours où les élèves ont tendance à abandonner."})]}),o.jsx(qe,{children:o.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:v.length===0?o.jsx("li",{children:"Aucun cours avec un taux de décrochage élevé à afficher pour les filtres sélectionnés."}):v.map((b,w)=>o.jsx("li",{children:b},w))})})]})]})]}):o.jsx("div",{className:"text-center py-20",children:o.jsx("p",{className:"text-lg text-muted-foreground",children:"Sélectionnez une vue pour les analytiques du créateur."})})},XDe=({studentProfile:e,courses:t,studentCourseProgresses:r,view:n})=>{const i=r.filter(S=>S.user_id===e.id),a=t.filter(S=>i.some(C=>C.course_id===S.id)).filter(S=>{const C=i.find(E=>E.course_id===S.id);return C&&C.modules_progress.every(E=>E.is_completed)}).length,l=i.reduce((S,C)=>S+C.modules_progress.filter(E=>E.is_completed).length,0),c=t.reduce((S,C)=>S+C.modules.length,0),u=c>0?`${Math.round(l/c*100)}%`:"0%",f="Algorithmes",d="Bases de données",m=45,p=[{name:"Quiz 1",score:85},{name:"Quiz 2",score:70},{name:"Quiz 3",score:92},{name:"Quiz 4",score:60},{name:"Quiz 5",score:78}],x=[{month:"Jan",interactions:10,avgLength:2.5,satisfaction:4.2},{month:"Fév",interactions:15,avgLength:3.1,satisfaction:4.5},{month:"Mar",interactions:22,avgLength:2.8,satisfaction:4},{month:"Avr",interactions:18,avgLength:3.5,satisfaction:4.7},{month:"Mai",interactions:25,avgLength:3,satisfaction:4.3}],y=x.reduce((S,C)=>S+C.interactions,0),v=["Concepts de base","Débogage","Meilleures pratiques"],b=(x.reduce((S,C)=>S+C.avgLength,0)/x.length).toFixed(1),w=(x.reduce((S,C)=>S+C.satisfaction,0)/x.length).toFixed(1),j=[{name:"Jan",progress:30},{name:"Fév",progress:45},{name:"Mar",progress:60},{name:"Avr",progress:75},{name:"Mai",progress:80}];return n==="personal"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Suivez votre progression et identifiez vos points forts et faibles."}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Re,{children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Progression Globale"}),o.jsx(Le,{children:"Votre avancement général dans les cours."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:u}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cours terminés : ",a]})]})]}),o.jsxs(Re,{children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Points Forts"}),o.jsx(Le,{children:"Vos domaines d'excellence."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-lg font-semibold",children:f}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Heures passées : ",m]})]})]}),o.jsxs(Re,{children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Points à Améliorer"}),o.jsx(Le,{children:"Les sujets nécessitant plus d'attention."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-lg font-semibold",children:d}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"N'hésitez pas à demander de l'aide à AiA !"})]})]}),o.jsxs(Re,{className:"lg:col-span-3",children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Historique de Progression"}),o.jsx(Le,{children:"Votre progression au fil du temps."})]}),o.jsx(qe,{className:"h-80",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(Y0,{data:j,children:[o.jsx(al,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),o.jsx(Es,{dataKey:"name",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))"}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(os,{}),o.jsx(No,{type:"monotone",dataKey:"progress",stroke:"hsl(var(--primary))",activeDot:{r:8},name:"Progression (%)"})]})})})]})]})]}):n==="quiz-performance"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Détails de vos résultats aux quiz."}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Re,{className:"lg:col-span-3",children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Scores des Derniers Quiz"}),o.jsx(Le,{children:"Vos performances récentes aux évaluations."})]}),o.jsx(qe,{className:"h-80",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(rv,{data:p,children:[o.jsx(al,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),o.jsx(Es,{dataKey:"name",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))",domain:[0,100]}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(os,{}),o.jsx(Ns,{dataKey:"score",fill:"hsl(var(--primary))",name:"Score (%)"})]})})})]}),o.jsxs(Re,{className:"lg:col-span-3",children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Historique Détaillé des Quiz"}),o.jsx(Le,{children:"Liste de tous vos quiz terminés."})]}),o.jsx(qe,{children:o.jsxs("ul",{className:"list-disc pl-5 text-sm text-muted-foreground mt-4",children:[i.map(S=>{const C=t.find(E=>E.id===S.course_id);return S.modules_progress.map(E=>{const k=C==null?void 0:C.modules[E.module_index];return E.sections_progress.map(O=>{const M=k==null?void 0:k.sections[O.section_index];return(M==null?void 0:M.type)==="quiz"&&O.quiz_result?o.jsxs("li",{children:["**",C==null?void 0:C.title,"** - Module ",E.module_index+1,': "',k==null?void 0:k.title,'" - Quiz: "',M.title,'" - Score: ',O.quiz_result.score,"/",O.quiz_result.total," (",(O.quiz_result.score/O.quiz_result.total*100).toFixed(0),"%) - **",O.quiz_result.passed?"Réussi":"Échoué","**"]},`${S.course_id}-${E.module_index}-${O.section_index}`):null})})}).flat(3).filter(Boolean),i.length===0&&o.jsx("p",{children:"Aucun quiz terminé pour le moment."})]})})]})]})]}):n==="aia-engagement"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Statistiques sur votre interaction avec le tuteur IA."}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Re,{children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Total Interactions AiA"}),o.jsx(Le,{children:"Nombre total de conversations avec AiA."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:y}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Questions posées et réponses reçues."})]})]}),o.jsxs(Re,{children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Sujets les Plus Abordés"}),o.jsx(Le,{children:"Les thèmes sur lesquels vous avez le plus sollicité AiA."})]}),o.jsx(qe,{children:o.jsx("ul",{className:"list-disc pl-5 text-lg font-semibold text-primary",children:v.map((S,C)=>o.jsx("li",{children:S},C))})})]}),o.jsxs(Re,{children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Fréquence d'Utilisation"}),o.jsx(Le,{children:"Votre utilisation d'AiA au fil du temps."})]}),o.jsx(qe,{className:"h-40",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(Y0,{data:x,children:[o.jsx(al,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),o.jsx(Es,{dataKey:"month",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))"}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(os,{}),o.jsx(No,{type:"monotone",dataKey:"interactions",stroke:"hsl(var(--primary))",name:"Interactions"})]})})})]}),o.jsxs(Re,{children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Durée Moyenne d'Interaction"}),o.jsx(Le,{children:"Temps moyen passé par interaction avec AiA."})]}),o.jsxs(qe,{children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[b," min"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Par session de chat."})]})]}),o.jsxs(Re,{children:[o.jsxs(Be,{children:[o.jsx(Fe,{children:"Score de Satisfaction AiA"}),o.jsx(Le,{children:"Votre satisfaction globale avec l'aide d'AiA."})]}),o.jsxs(qe,{children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[w," / 5"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Basé sur vos retours implicites."})]})]})]})]}):null},ZDe=({allProfiles:e,allStudentCourseProgresses:t,allClasses:r,allCurricula:n,view:i,selectedClassId:s,selectedCurriculumId:a,selectedEstablishmentId:l,onSendMessageToUser:c})=>{var w,j,S,C,E,k,O,M,R,T,P,I,B;const u=Y.useMemo(()=>{let $=e.filter(H=>H.role==="student");if(l&&($=$.filter(H=>H.establishment_id===l)),s&&s!=="all"){const H=r.find(V=>V.id===s);if(H){const V=async()=>{try{const W=await as();return new Set(W.filter(F=>F.class_id===H.id).map(F=>F.student_id))}catch(W){return console.error("Error fetching student enrollments in TutorAnalyticsSection:",W),se(`Erreur lors du chargement des inscriptions des élèves: ${W.message}`),new Set}};let U=new Set;return V().then(W=>{U=W}),$.filter(W=>U.has(W.id))}}else if(a&&a!=="all"){const V=r.filter(F=>F.curriculum_id===a).map(F=>F.id),U=async()=>{try{const F=await as();return new Set(F.filter(L=>V.includes(L.class_id)).map(L=>L.student_id))}catch(F){return console.error("Error fetching student enrollments in TutorAnalyticsSection:",F),se(`Erreur lors du chargement des inscriptions des élèves: ${F.message}`),new Set}};let W=new Set;return U().then(F=>{W=F}),$.filter(F=>W.has(F.id))}return $},[e,r,s,a,l]),f=u.slice(0,5),d=f.filter($=>t.some(H=>H.user_id===$.id&&H.modules_progress.some(V=>V.sections_progress.some(U=>U.quiz_result&&!U.quiz_result.passed)))).length,m=f.length>0?`${Math.floor(Math.random()*20)+70}%`:"N/A",p=[{id:1,studentId:((w=f[0])==null?void 0:w.id)||"",description:'a échoué au quiz "Variables" du cours "Introduction à la Programmation".',type:"warning",recommendation:'Recommander de revoir la section "Déclaration de Variables" et de poser des questions à AiA.'},{id:2,studentId:((j=f[1])==null?void 0:j.id)||"",description:`n'a pas accédé au cours "Algorithmes Avancés" depuis 5 jours.`,type:"warning",recommendation:"Envoyer un message de rappel personnalisé pour l'encourager à reprendre."},{id:3,studentId:((S=f[2])==null?void 0:S.id)||"",description:'a terminé le module "Physique Quantique" avec un score parfait.',type:"info",recommendation:"Féliciter l'élève et proposer des défis supplémentaires."}].filter($=>$.studentId&&f.some(H=>H.id===$.studentId)),x=f.map($=>({name:`${$.first_name} ${$.last_name}`,score:Math.floor(Math.random()*40)+60})),v=Y.useMemo(()=>{let $=r;return l&&($=$.filter(H=>H.establishment_id===l)),a&&a!=="all"&&($=$.filter(H=>H.curriculum_id===a)),$},[r,a,l]).map($=>({name:$.name,avgProgress:Math.floor(Math.random()*20)+70,studentsCount:e.filter(H=>as().then(V=>V.some(U=>U.student_id===H.id&&U.class_id===$.id))&&u.some(V=>V.id===H.id)).length})),b=[{name:"Jan",[((C=f[0])==null?void 0:C.first_name)||"Alice"]:65,[((E=f[1])==null?void 0:E.first_name)||"Bob"]:70},{name:"Fév",[((k=f[0])==null?void 0:k.first_name)||"Alice"]:70,[((O=f[1])==null?void 0:O.first_name)||"Bob"]:75},{name:"Mar",[((M=f[0])==null?void 0:M.first_name)||"Alice"]:75,[((R=f[1])==null?void 0:R.first_name)||"Bob"]:80},{name:"Avr",[((T=f[0])==null?void 0:T.first_name)||"Alice"]:80,[((P=f[1])==null?void 0:P.first_name)||"Bob"]:85},{name:"Mai",[((I=f[0])==null?void 0:I.first_name)||"Alice"]:85,[((B=f[1])==null?void 0:B.first_name)||"Bob"]:90}];return i==="student-monitoring"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Surveillez la progression de vos élèves et recevez des alertes importantes."}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Élèves Supervisés"}),o.jsx(Le,{children:"Nombre d'élèves sous votre tutelle."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:f.length}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Élèves en difficulté : ",d]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Progression Moyenne"}),o.jsx(Le,{children:"Vue d'overview de l'avancement de vos élèves."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:m}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Contactez les enseignants si nécessaire."})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Performance des Élèves"}),o.jsx(Le,{children:"Scores moyens de vos élèves."})]}),o.jsx(qe,{className:"h-40",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(rv,{data:x,children:[o.jsx(al,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),o.jsx(Es,{dataKey:"name",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))",domain:[0,100]}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(os,{}),o.jsx(Ns,{dataKey:"score",fill:"hsl(var(--primary))",name:"Score Moyen (%)"})]})})})]}),o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Tendances de Progression Individuelle"}),o.jsx(Le,{children:"Suivi de la progression de certains élèves au fil du temps."})]}),o.jsx(qe,{className:"h-80",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(Y0,{data:b,children:[o.jsx(al,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),o.jsx(Es,{dataKey:"name",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))",domain:[0,100]}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(os,{}),f[0]&&o.jsx(No,{type:"monotone",dataKey:`${f[0].first_name}`,stroke:"hsl(var(--primary))",name:`${f[0].first_name} ${f[0].last_name}`}),f[1]&&o.jsx(No,{type:"monotone",dataKey:`${f[1].first_name}`,stroke:"hsl(var(--secondary))",name:`${f[1].first_name} ${f[1].last_name}`})]})})})]})]})]}):i==="alerts"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Notifications pour les élèves en difficulté et suggestions d'interventions."}),o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Alertes Récentes"}),o.jsx(Le,{children:"Informations importantes sur vos élèves."})]}),o.jsx(qe,{children:o.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-2",children:p.length===0?o.jsx("li",{children:"Aucune alerte récente."}):p.map($=>{var H,V;return o.jsxs("li",{className:$.type==="warning"?"text-red-500":"text-blue-500",children:["**",$.studentId?`${(H=e.find(U=>U.id===$.studentId))==null?void 0:H.first_name} ${(V=e.find(U=>U.id===$.studentId))==null?void 0:V.last_name}`:"N/A","** ",$.description,$.recommendation&&o.jsxs("span",{className:"block text-xs italic mt-1",children:["Recommandation: ",$.recommendation]}),$.studentId&&o.jsx(me,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>c($.studentId),children:o.jsx(io,{className:"h-4 w-4"})})]},$.id)})})})]}),o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Recommandations d'Intervention"}),o.jsx(Le,{children:"Actions suggérées pour aider vos élèves."})]}),o.jsx(qe,{children:o.jsxs("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-2",children:[o.jsx("li",{children:"Pour les élèves ayant échoué à un quiz : Recommander de revoir les sections pertinentes ou de poser des questions à AiA."}),o.jsx("li",{children:"Pour les élèves inactifs : Envoyer un message de rappel personnalisé."}),o.jsx("li",{children:"Pour les élèves en avance : Proposer des défis supplémentaires ou des ressources avancées."})]})})]})]})]}):i==="class-performance"?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Statistiques agrégées par classe."}),o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Performance Moyenne par Classe"}),o.jsx(Le,{children:"Progression moyenne et nombre d'élèves par classe."})]}),o.jsx(qe,{className:"h-80",children:o.jsx(il,{width:"100%",height:"100%",children:o.jsxs(rv,{data:v,children:[o.jsx(al,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),o.jsx(Es,{dataKey:"name",stroke:"hsl(var(--foreground))"}),o.jsx(ks,{stroke:"hsl(var(--foreground))",domain:[0,100]}),o.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}}),o.jsx(os,{}),o.jsx(Ns,{dataKey:"avgProgress",fill:"hsl(var(--primary))",name:"Progression Moyenne (%)"}),o.jsx(Ns,{dataKey:"studentsCount",fill:"hsl(var(--secondary))",name:"Nombre d'élèves"})]})})})]}),o.jsxs(Re,{className:"lg:col-span-3 rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Détail des Classes"}),o.jsx(Le,{children:"Liste des classes avec leurs statistiques clés."})]}),o.jsx(qe,{children:o.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-2",children:v.length===0?o.jsx("li",{children:"Aucune classe disponible pour les filtres sélectionnés."}):v.map(($,H)=>o.jsxs("li",{children:["**",$.name,"**: Progression Moyenne: ",$.avgProgress,"%, Élèves: ",$.studentsCount]},H))})})]})]})]}):null};var j_="Popover",[KX,kqe]=Qn(j_,[Ic]),Zv=Ic(),[JDe,Yc]=KX(j_),GX=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,l=Zv(t),c=_.useRef(null),[u,f]=_.useState(!1),[d,m]=So({prop:n,defaultProp:i??!1,onChange:s,caller:j_});return o.jsx(iw,{...l,children:o.jsx(JDe,{scope:t,contentId:Wn(),triggerRef:c,open:d,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>f(!0),[]),onCustomAnchorRemove:_.useCallback(()=>f(!1),[]),modal:a,children:r})})};GX.displayName=j_;var YX="PopoverAnchor",eIe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Yc(YX,r),s=Zv(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return _.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(mv,{...s,...n,ref:t})});eIe.displayName=YX;var QX="PopoverTrigger",XX=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Yc(QX,r),s=Zv(r),a=Dt(t,i.triggerRef),l=o.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rZ(i.open),...n,ref:a,onClick:Ye(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(mv,{asChild:!0,...s,children:l})});XX.displayName=QX;var XM="PopoverPortal",[tIe,rIe]=KX(XM,{forceMount:void 0}),ZX=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,s=Yc(XM,t);return o.jsx(tIe,{scope:t,forceMount:r,children:o.jsx(di,{present:r||s.open,children:o.jsx(pv,{asChild:!0,container:i,children:n})})})};ZX.displayName=XM;var Th="PopoverContent",JX=_.forwardRef((e,t)=>{const r=rIe(Th,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=Yc(Th,e.__scopePopover);return o.jsx(di,{present:n||s.open,children:s.modal?o.jsx(iIe,{...i,ref:t}):o.jsx(sIe,{...i,ref:t})})});JX.displayName=Th;var nIe=kc("PopoverContent.RemoveScroll"),iIe=_.forwardRef((e,t)=>{const r=Yc(Th,e.__scopePopover),n=_.useRef(null),i=Dt(t,n),s=_.useRef(!1);return _.useEffect(()=>{const a=n.current;if(a)return vw(a)},[]),o.jsx(_v,{as:nIe,allowPinchZoom:!0,children:o.jsx(eZ,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ye(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),sIe=_.forwardRef((e,t)=>{const r=Yc(Th,e.__scopePopover),n=_.useRef(!1),i=_.useRef(!1);return o.jsx(eZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),eZ=_.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,m=Yc(Th,r),p=Zv(r);return gw(),o.jsx(wv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(qh,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(sw,{"data-state":rZ(m.open),role:"dialog",id:m.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tZ="PopoverClose",aIe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Yc(tZ,r);return o.jsx(at.button,{type:"button",...n,ref:t,onClick:Ye(e.onClick,()=>i.onOpenChange(!1))})});aIe.displayName=tZ;var oIe="PopoverArrow",lIe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Zv(r);return o.jsx(aw,{...i,...n,ref:t})});lIe.displayName=oIe;function rZ(e){return e?"open":"closed"}var cIe=GX,uIe=XX,dIe=ZX,nZ=JX;const oi=cIe,li=uIe,Un=_.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>o.jsx(dIe,{children:o.jsx(nZ,{ref:i,align:t,sideOffset:r,className:Ne("z-50 w-72 rounded-card-lg border bg-popover p-4 text-popover-foreground shadow-card-shadow outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Un.displayName=nZ.displayName;var Sz=1,fIe=.9,hIe=.8,mIe=.17,fk=.1,hk=.999,pIe=.9999,gIe=.99,vIe=/[\\\/_+.#"@\[\(\{&]/,yIe=/[\\\/_+.#"@\[\(\{&]/g,xIe=/[\s-]/,iZ=/[\s-]/g;function ET(e,t,r,n,i,s,a){if(s===t.length)return i===e.length?Sz:gIe;var l=`${i},${s}`;if(a[l]!==void 0)return a[l];for(var c=n.charAt(s),u=r.indexOf(c,i),f=0,d,m,p,x;u>=0;)d=ET(e,t,r,n,u+1,s+1,a),d>f&&(u===i?d*=Sz:vIe.test(e.charAt(u-1))?(d*=hIe,p=e.slice(i,u-1).match(yIe),p&&i>0&&(d*=Math.pow(hk,p.length))):xIe.test(e.charAt(u-1))?(d*=fIe,x=e.slice(i,u-1).match(iZ),x&&i>0&&(d*=Math.pow(hk,x.length))):(d*=mIe,i>0&&(d*=Math.pow(hk,u-i))),e.charAt(u)!==t.charAt(s)&&(d*=pIe)),(d<fk&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(m=ET(e,t,r,n,u+1,s+2,a),m*fk>d&&(d=m*fk)),d>f&&(f=d),u=r.indexOf(c,u+1);return a[l]=f,f}function jz(e){return e.toLowerCase().replace(iZ," ")}function bIe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ET(e,t,jz(e),jz(t),0,0,{})}var gp='[cmdk-group=""]',mk='[cmdk-group-items=""]',wIe='[cmdk-group-heading=""]',sZ='[cmdk-item=""]',Cz=`${sZ}:not([aria-disabled="true"])`,kT="cmdk-item-select",ff="data-value",_Ie=(e,t,r)=>bIe(e,t,r),aZ=_.createContext(void 0),Jv=()=>_.useContext(aZ),oZ=_.createContext(void 0),ZM=()=>_.useContext(oZ),lZ=_.createContext(void 0),cZ=_.forwardRef((e,t)=>{let r=hf(()=>{var q,K;return{search:"",value:(K=(q=e.value)!=null?q:e.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=hf(()=>new Set),i=hf(()=>new Map),s=hf(()=>new Map),a=hf(()=>new Set),l=uZ(e),{label:c,children:u,value:f,onValueChange:d,filter:m,shouldFilter:p,loop:x,disablePointerSelection:y=!1,vimBindings:v=!0,...b}=e,w=Wn(),j=Wn(),S=Wn(),C=_.useRef(null),E=MIe();rd(()=>{if(f!==void 0){let q=f.trim();r.current.value=q,k.emit()}},[f]),rd(()=>{E(6,I)},[]);let k=_.useMemo(()=>({subscribe:q=>(a.current.add(q),()=>a.current.delete(q)),snapshot:()=>r.current,setState:(q,K,ee)=>{var te,Q,G,ne;if(!Object.is(r.current[q],K)){if(r.current[q]=K,q==="search")P(),R(),E(1,T);else if(q==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Z=document.getElementById(S);Z?Z.focus():(te=document.getElementById(w))==null||te.focus()}if(E(7,()=>{var Z;r.current.selectedItemId=(Z=B())==null?void 0:Z.id,k.emit()}),ee||E(5,I),((Q=l.current)==null?void 0:Q.value)!==void 0){let Z=K??"";(ne=(G=l.current).onValueChange)==null||ne.call(G,Z);return}}k.emit()}},emit:()=>{a.current.forEach(q=>q())}}),[]),O=_.useMemo(()=>({value:(q,K,ee)=>{var te;K!==((te=s.current.get(q))==null?void 0:te.value)&&(s.current.set(q,{value:K,keywords:ee}),r.current.filtered.items.set(q,M(K,ee)),E(2,()=>{R(),k.emit()}))},item:(q,K)=>(n.current.add(q),K&&(i.current.has(K)?i.current.get(K).add(q):i.current.set(K,new Set([q]))),E(3,()=>{P(),R(),r.current.value||T(),k.emit()}),()=>{s.current.delete(q),n.current.delete(q),r.current.filtered.items.delete(q);let ee=B();E(4,()=>{P(),(ee==null?void 0:ee.getAttribute("id"))===q&&T(),k.emit()})}),group:q=>(i.current.has(q)||i.current.set(q,new Set),()=>{s.current.delete(q),i.current.delete(q)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:w,inputId:S,labelId:j,listInnerRef:C}),[]);function M(q,K){var ee,te;let Q=(te=(ee=l.current)==null?void 0:ee.filter)!=null?te:_Ie;return q?Q(q,r.current.search,K):0}function R(){if(!r.current.search||l.current.shouldFilter===!1)return;let q=r.current.filtered.items,K=[];r.current.filtered.groups.forEach(te=>{let Q=i.current.get(te),G=0;Q.forEach(ne=>{let Z=q.get(ne);G=Math.max(Z,G)}),K.push([te,G])});let ee=C.current;$().sort((te,Q)=>{var G,ne;let Z=te.getAttribute("id"),re=Q.getAttribute("id");return((G=q.get(re))!=null?G:0)-((ne=q.get(Z))!=null?ne:0)}).forEach(te=>{let Q=te.closest(mk);Q?Q.appendChild(te.parentElement===Q?te:te.closest(`${mk} > *`)):ee.appendChild(te.parentElement===ee?te:te.closest(`${mk} > *`))}),K.sort((te,Q)=>Q[1]-te[1]).forEach(te=>{var Q;let G=(Q=C.current)==null?void 0:Q.querySelector(`${gp}[${ff}="${encodeURIComponent(te[0])}"]`);G==null||G.parentElement.appendChild(G)})}function T(){let q=$().find(ee=>ee.getAttribute("aria-disabled")!=="true"),K=q==null?void 0:q.getAttribute(ff);k.setState("value",K||void 0)}function P(){var q,K,ee,te;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Q=0;for(let G of n.current){let ne=(K=(q=s.current.get(G))==null?void 0:q.value)!=null?K:"",Z=(te=(ee=s.current.get(G))==null?void 0:ee.keywords)!=null?te:[],re=M(ne,Z);r.current.filtered.items.set(G,re),re>0&&Q++}for(let[G,ne]of i.current)for(let Z of ne)if(r.current.filtered.items.get(Z)>0){r.current.filtered.groups.add(G);break}r.current.filtered.count=Q}function I(){var q,K,ee;let te=B();te&&(((q=te.parentElement)==null?void 0:q.firstChild)===te&&((ee=(K=te.closest(gp))==null?void 0:K.querySelector(wIe))==null||ee.scrollIntoView({block:"nearest"})),te.scrollIntoView({block:"nearest"}))}function B(){var q;return(q=C.current)==null?void 0:q.querySelector(`${sZ}[aria-selected="true"]`)}function $(){var q;return Array.from(((q=C.current)==null?void 0:q.querySelectorAll(Cz))||[])}function H(q){let K=$()[q];K&&k.setState("value",K.getAttribute(ff))}function V(q){var K;let ee=B(),te=$(),Q=te.findIndex(ne=>ne===ee),G=te[Q+q];(K=l.current)!=null&&K.loop&&(G=Q+q<0?te[te.length-1]:Q+q===te.length?te[0]:te[Q+q]),G&&k.setState("value",G.getAttribute(ff))}function U(q){let K=B(),ee=K==null?void 0:K.closest(gp),te;for(;ee&&!te;)ee=q>0?TIe(ee,gp):PIe(ee,gp),te=ee==null?void 0:ee.querySelector(Cz);te?k.setState("value",te.getAttribute(ff)):V(q)}let W=()=>H($().length-1),F=q=>{q.preventDefault(),q.metaKey?W():q.altKey?U(1):V(1)},L=q=>{q.preventDefault(),q.metaKey?H(0):q.altKey?U(-1):V(-1)};return _.createElement(at.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:q=>{var K;(K=b.onKeyDown)==null||K.call(b,q);let ee=q.nativeEvent.isComposing||q.keyCode===229;if(!(q.defaultPrevented||ee))switch(q.key){case"n":case"j":{v&&q.ctrlKey&&F(q);break}case"ArrowDown":{F(q);break}case"p":case"k":{v&&q.ctrlKey&&L(q);break}case"ArrowUp":{L(q);break}case"Home":{q.preventDefault(),H(0);break}case"End":{q.preventDefault(),W();break}case"Enter":{q.preventDefault();let te=B();if(te){let Q=new Event(kT);te.dispatchEvent(Q)}}}}},_.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:DIe},c),C_(e,q=>_.createElement(oZ.Provider,{value:k},_.createElement(aZ.Provider,{value:O},q))))}),SIe=_.forwardRef((e,t)=>{var r,n;let i=Wn(),s=_.useRef(null),a=_.useContext(lZ),l=Jv(),c=uZ(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;rd(()=>{if(!u)return l.item(i,a==null?void 0:a.id)},[u]);let f=dZ(i,s,[e.value,e.children,s],e.keywords),d=ZM(),m=Dc(E=>E.value&&E.value===f.current),p=Dc(E=>u||l.filter()===!1?!0:E.search?E.filtered.items.get(i)>0:!0);_.useEffect(()=>{let E=s.current;if(!(!E||e.disabled))return E.addEventListener(kT,x),()=>E.removeEventListener(kT,x)},[p,e.onSelect,e.disabled]);function x(){var E,k;y(),(k=(E=c.current).onSelect)==null||k.call(E,f.current)}function y(){d.setState("value",f.current,!0)}if(!p)return null;let{disabled:v,value:b,onSelect:w,forceMount:j,keywords:S,...C}=e;return _.createElement(at.div,{ref:cl(s,t),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!m,"data-disabled":!!v,"data-selected":!!m,onPointerMove:v||l.getDisablePointerSelection()?void 0:y,onClick:v?void 0:x},e.children)}),jIe=_.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:i,...s}=e,a=Wn(),l=_.useRef(null),c=_.useRef(null),u=Wn(),f=Jv(),d=Dc(p=>i||f.filter()===!1?!0:p.search?p.filtered.groups.has(a):!0);rd(()=>f.group(a),[]),dZ(a,l,[e.value,e.heading,c]);let m=_.useMemo(()=>({id:a,forceMount:i}),[i]);return _.createElement(at.div,{ref:cl(l,t),...s,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&_.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),C_(e,p=>_.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},_.createElement(lZ.Provider,{value:m},p))))}),CIe=_.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,i=_.useRef(null),s=Dc(a=>!a.search);return!r&&!s?null:_.createElement(at.div,{ref:cl(i,t),...n,"cmdk-separator":"",role:"separator"})}),NIe=_.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=e.value!=null,s=ZM(),a=Dc(u=>u.search),l=Dc(u=>u.selectedItemId),c=Jv();return _.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),_.createElement(at.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:a,onChange:u=>{i||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),EIe=_.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...i}=e,s=_.useRef(null),a=_.useRef(null),l=Dc(u=>u.selectedItemId),c=Jv();return _.useEffect(()=>{if(a.current&&s.current){let u=a.current,f=s.current,d,m=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let p=u.offsetHeight;f.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(d),m.unobserve(u)}}},[]),_.createElement(at.div,{ref:cl(s,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},C_(e,u=>_.createElement("div",{ref:cl(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),kIe=_.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:s,container:a,...l}=e;return _.createElement(Tv,{open:r,onOpenChange:n},_.createElement(Pv,{container:a},_.createElement(hd,{"cmdk-overlay":"",className:i}),_.createElement(md,{"aria-label":e.label,"cmdk-dialog":"",className:s},_.createElement(cZ,{ref:t,...l}))))}),OIe=_.forwardRef((e,t)=>Dc(r=>r.filtered.count===0)?_.createElement(at.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),AIe=_.forwardRef((e,t)=>{let{progress:r,children:n,label:i="Loading...",...s}=e;return _.createElement(at.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},C_(e,a=>_.createElement("div",{"aria-hidden":!0},a)))}),ds=Object.assign(cZ,{List:EIe,Item:SIe,Input:NIe,Group:jIe,Separator:CIe,Dialog:kIe,Empty:OIe,Loading:AIe});function TIe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function PIe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function uZ(e){let t=_.useRef(e);return rd(()=>{t.current=e}),t}var rd=typeof window>"u"?_.useEffect:_.useLayoutEffect;function hf(e){let t=_.useRef();return t.current===void 0&&(t.current=e()),t}function Dc(e){let t=ZM(),r=()=>e(t.snapshot());return _.useSyncExternalStore(t.subscribe,r,r)}function dZ(e,t,r,n=[]){let i=_.useRef(),s=Jv();return rd(()=>{var a;let l=(()=>{var u;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():i.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(a=t.current)==null||a.setAttribute(ff,l),i.current=l}),i}var MIe=()=>{let[e,t]=_.useState(),r=hf(()=>new Map);return rd(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,i)=>{r.current.set(n,i),t({})}};function RIe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function C_({asChild:e,children:t},r){return e&&_.isValidElement(t)?_.cloneElement(RIe(t),{ref:t.ref},r(t.props.children)):r(t)}var DIe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ui=Tv,IIe=Pv,fZ=_.forwardRef(({className:e,...t},r)=>o.jsx(hd,{ref:r,className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));fZ.displayName=hd.displayName;const Hn=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(IIe,{children:[o.jsx(fZ,{}),o.jsxs(md,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-card-shadow duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-card-lg",e),...r,children:[t,o.jsxs(Mw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(cd,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hn.displayName=md.displayName;const Kn=({className:e,...t})=>o.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Kn.displayName="DialogHeader";const $i=({className:e,...t})=>o.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$i.displayName="DialogFooter";const Gn=_.forwardRef(({className:e,...t},r)=>o.jsx(om,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));Gn.displayName=om.displayName;const Yn=_.forwardRef(({className:e,...t},r)=>o.jsx(lm,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));Yn.displayName=lm.displayName;const Ph=_.forwardRef(({className:e,...t},r)=>o.jsx(ds,{ref:r,className:Ne("flex h-full w-full flex-col overflow-hidden rounded-card-lg bg-popover text-popover-foreground",e),...t}));Ph.displayName=ds.displayName;const Mh=_.forwardRef(({className:e,...t},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(Hr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(ds.Input,{ref:r,className:Ne("flex h-11 w-full rounded-card-lg bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Mh.displayName=ds.Input.displayName;const Rh=_.forwardRef(({className:e,...t},r)=>o.jsx(ds.List,{ref:r,className:Ne("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Rh.displayName=ds.List.displayName;const nd=_.forwardRef((e,t)=>o.jsx(ds.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));nd.displayName=ds.Empty.displayName;const Dh=_.forwardRef(({className:e,...t},r)=>o.jsx(ds.Group,{ref:r,className:Ne("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Dh.displayName=ds.Group.displayName;const LIe=_.forwardRef(({className:e,...t},r)=>o.jsx(ds.Separator,{ref:r,className:Ne("-mx-1 h-px bg-border",e),...t}));LIe.displayName=ds.Separator.displayName;const Ih=_.forwardRef(({className:e,...t},r)=>o.jsx(ds.Item,{ref:r,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));Ih.displayName=ds.Item.displayName;const jt=Y.forwardRef(({id:e,options:t,value:r,onValueChange:n,searchQuery:i,onSearchQueryChange:s,placeholder:a="Sélectionner un élément...",emptyMessage:l="Aucun élément trouvé.",iconMap:c,disabled:u=!1},f)=>{const[d,m]=_.useState(!1),p=_.useMemo(()=>t.find(v=>v.id===r),[t,r]),x=_.useMemo(()=>{if(!i)return t;const v=i.toLowerCase();return t.filter(b=>{var w,j;return b.label.toLowerCase().includes(v)||((w=b.description)==null?void 0:w.toLowerCase().includes(v))||((j=b.typeLabel)==null?void 0:j.toLowerCase().includes(v))})},[t,i]),y=v=>{n(v===r?null:v),m(!1),s("")};return o.jsxs(oi,{open:d,onOpenChange:m,children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",role:"combobox","aria-expanded":d,className:"w-full justify-between rounded-android-tile",disabled:u,ref:f,children:[p?o.jsxs("div",{className:"flex items-center gap-2",children:[p.icon_name&&Y.createElement(c[p.icon_name]||Ct,{className:"h-4 w-4"}),p.label]}):a,o.jsx(zr,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Un,{className:Ne("w-[var(--radix-popover-trigger-width)] p-0 rounded-android-tile z-[9999]"),children:o.jsxs(Ph,{children:[o.jsx(Mh,{placeholder:"Rechercher...",value:i,onValueChange:s}),o.jsxs(Rh,{children:[o.jsx(nd,{children:l}),o.jsx(Dh,{children:x.map(v=>{const b=v.icon_name&&c[v.icon_name]||Ct;return o.jsxs(Ih,{value:v.label,onSelect:()=>y(v.id),className:"flex items-center gap-2",children:[o.jsx(La,{className:Ne("mr-2 h-4 w-4",r===v.id?"opacity-100":"opacity-0")}),v.icon_name&&o.jsx(b,{className:"h-4 w-4"}),o.jsx("span",{className:Ne(v.level&&v.level>0?`ml-${v.level*4}`:""),children:v.label}),v.typeLabel&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:["(",v.typeLabel,")"]}),v.isNew&&o.jsx("span",{className:"text-xs text-primary ml-1",children:"(Nouveau)"})]},v.id)})})]})]})})]})});jt.displayName="SimpleItemSelector";const pk={Building2:xr,LayoutList:Mn,Users:Wr,CalendarDays:kr,Info:Ct},$Ie=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),[n]=s2(),i=n.get("view"),s=n.get("courseId"),a=on(),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,x]=_.useState([]),[y,v]=_.useState([]),[b,w]=_.useState([]),[j,S]=_.useState(null),[C,E]=_.useState(null),[k,O]=_.useState("all"),[M,R]=_.useState(""),[T,P]=_.useState(""),[I,B]=_.useState("");_.useEffect(()=>{(async()=>{try{c(await Nl()),f(await ts()),m(await pw()),x(await Pa()),v(await Ys()),w(await qi())}catch(L){console.error("Error fetching data for Analytics:",L),se(`Erreur lors du chargement des données analytiques: ${L.message}`)}})()},[e]),_.useEffect(()=>{S(null),E(null),t==="administrator"?O("all"):e!=null&&e.establishment_id?O(e.establishment_id):O("all")},[t,e==null?void 0:e.id,e==null?void 0:e.establishment_id]);const $=F=>{a(`/messages?contactId=${F}`)},H=()=>{if(t==="student"){const F=u.find(L=>L.id===e.id&&L.role==="student");return F?o.jsx(XDe,{studentProfile:F,courses:l,studentCourseProgresses:d,view:i}):o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Profil Étudiant Introuvable"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Votre profil étudiant n'a pas pu être chargé pour les analytiques."})]})}else{if(t==="professeur")return o.jsx(_z,{view:i,selectedClassId:j||void 0,selectedCurriculumId:C||void 0,selectedEstablishmentId:k==="all"?void 0:k,selectedCourseId:s||void 0,allCourses:l,allProfiles:u,allStudentCourseProgresses:d,allClasses:p,allCurricula:y});if(t==="tutor")return o.jsx(ZDe,{allProfiles:u,allStudentCourseProgresses:d,allClasses:p,allCurricula:y,view:i,selectedClassId:j||void 0,selectedCurriculumId:C||void 0,selectedEstablishmentId:k==="all"?void 0:k,onSendMessageToUser:$});if(t==="administrator"||t==="director"||t==="deputy_director")return o.jsx(_z,{view:i,selectedClassId:j||void 0,selectedCurriculumId:C||void 0,selectedEstablishmentId:k==="all"?void 0:k,selectedCourseId:s||void 0,allCourses:l,allProfiles:u,allStudentCourseProgresses:d,allClasses:p,allCurricula:y})}return null},V=b.filter(F=>t==="administrator"||F.id===(e==null?void 0:e.establishment_id)).map(F=>({id:F.id,label:F.name,icon_name:"Building2",description:F.address})),U=y.filter(F=>!k||k==="all"||F.establishment_id===k).map(F=>({id:F.id,label:F.name,icon_name:"LayoutList",description:F.description})),W=p.filter(F=>(!C||C==="all"||F.curriculum_id===C)&&(!k||k==="all"||F.establishment_id===k)).map(F=>({id:F.id,label:F.name,icon_name:"Users",description:`${$u(F.curriculum_id,y)} (${Tn(F.establishment_id,b)})`}));return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Analytiques"}),(t==="administrator"||t==="professeur"||t==="tutor"||t==="director"||t==="deputy_director")&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(t==="administrator"||(e==null?void 0:e.establishment_id))&&o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"establishment-filter",children:"Filtrer par Établissement"}),o.jsx(jt,{id:"establishment-filter",options:[{id:"all",label:"Tous les établissements",icon_name:"Building2"},...V],value:k,onValueChange:F=>O(F),searchQuery:M,onSearchQueryChange:R,placeholder:"Tous les établissements",emptyMessage:"Aucun établissement trouvé.",iconMap:pk})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"select-curriculum",children:"Filtrer par Cursus"}),o.jsx(jt,{id:"select-curriculum",options:[{id:"all",label:"Tous les cursus",icon_name:"LayoutList"},...U],value:C,onValueChange:F=>{E(F==="all"?null:F),S(null)},searchQuery:T,onSearchQueryChange:P,placeholder:"Tous les cursus",emptyMessage:"Aucun cursus trouvé.",iconMap:pk})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"select-class",children:"Filtrer par Classe"}),o.jsx(jt,{id:"select-class",options:[{id:"all",label:"Toutes les classes",icon_name:"Users"},...W],value:j,onValueChange:F=>S(F==="all"?null:F),searchQuery:I,onSearchQueryChange:B,placeholder:"Toutes les classes",emptyMessage:"Aucune classe trouvée.",iconMap:pk})]})]}),H()]})},FIe=dw("inline-flex items-center rounded-card-lg border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function JM({className:e,variant:t,...r}){return o.jsx("div",{className:Ne(FIe({variant:t}),e),...r})}const Ap=(e,t,r,n)=>e==="section"&&r!==void 0&&n!==void 0?`notes_${e}_${t}_${r}_${n}`:e==="module"&&r!==void 0?`notes_${e}_${t}_${r}`:`notes_${e}_${t}`,ey=async(e,t)=>{const{data:r,error:n}=await Ie.from("notes").select("content").eq("user_id",e).eq("note_key",t).order("created_at",{ascending:!0});return n?[]:r.map(i=>i.content)},hZ=async(e,t,r)=>{const{data:n,error:i}=await Ie.from("notes").insert({user_id:e,note_key:t,content:r}).select("content").single();if(i)throw i;return ey(e,t)},qIe=async(e,t,r,n)=>{const{data:i,error:s}=await Ie.from("notes").select("id, content").eq("user_id",e).eq("note_key",t).order("created_at",{ascending:!0});if(s)throw s;if(r>=0&&r<i.length){const a=i[r].id,{error:l}=await Ie.from("notes").update({content:n,updated_at:new Date().toISOString()}).eq("id",a);if(l)throw l}return ey(e,t)},BIe=async(e,t,r)=>{const{data:n,error:i}=await Ie.from("notes").select("id").eq("user_id",e).eq("note_key",t).order("created_at",{ascending:!0});if(i)throw i;if(r>=0&&r<n.length){const s=n[r].id,{error:a}=await Ie.from("notes").delete().eq("id",s);if(a)throw a}return ey(e,t)},zIe=e=>{const t=e.split("_");if(t[0]!=="notes"||t.length<3)return null;const r=t[1],n=t[2];let i,s;return r==="module"&&t.length>=4?i=parseInt(t[3],10):r==="section"&&t.length>=5&&(i=parseInt(t[3],10),s=parseInt(t[4],10)),{entityType:r,entityId:n,moduleIndex:i,sectionIndex:s}},VIe=async e=>{const{data:t,error:r}=await Ie.from("notes").select("note_key").eq("user_id",e).distinct("note_key");return r?[]:t.map(n=>n.note_key)},UIe=async(e,t)=>{const r=await VIe(e),n=[];for(const i of r){const s=zIe(i);if(s){const a=await ey(e,i);if(a.length>0){let l="";const c=t.find(u=>u.id===s.entityId);if(c){if(s.entityType==="course")l=`Cours: ${c.title}`;else if(s.entityType==="module"&&s.moduleIndex!==void 0){const u=c.modules[s.moduleIndex];u&&(l=`Module: ${u.title} (Cours: ${c.title})`)}else if(s.entityType==="section"&&s.moduleIndex!==void 0&&s.sectionIndex!==void 0){const u=c.modules[s.moduleIndex];if(u){const f=u.sections[s.sectionIndex];f&&(l=`Section: ${f.title} (Module: ${u.title} - Cours: ${c.title})`)}}}l&&n.push({key:i,context:l,notes:a})}}}return n},WIe=async()=>{const{error:e}=await Ie.from("notes").delete()};var mZ="AlertDialog",[HIe,Oqe]=Qn(mZ,[qH]),Al=qH(),pZ=e=>{const{__scopeAlertDialog:t,...r}=e,n=Al(t);return o.jsx(Tv,{...n,...r,modal:!0})};pZ.displayName=mZ;var KIe="AlertDialogTrigger",gZ=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Al(r);return o.jsx(qve,{...i,...n,ref:t})});gZ.displayName=KIe;var GIe="AlertDialogPortal",vZ=e=>{const{__scopeAlertDialog:t,...r}=e,n=Al(t);return o.jsx(Pv,{...n,...r})};vZ.displayName=GIe;var YIe="AlertDialogOverlay",yZ=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Al(r);return o.jsx(hd,{...i,...n,ref:t})});yZ.displayName=YIe;var Rf="AlertDialogContent",[QIe,XIe]=HIe(Rf),ZIe=cV("AlertDialogContent"),xZ=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,s=Al(r),a=_.useRef(null),l=Dt(t,a),c=_.useRef(null);return o.jsx(Ive,{contentName:Rf,titleName:bZ,docsSlug:"alert-dialog",children:o.jsx(QIe,{scope:r,cancelRef:c,children:o.jsxs(md,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ye(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(ZIe,{children:n}),o.jsx(eLe,{contentRef:a})]})})})});xZ.displayName=Rf;var bZ="AlertDialogTitle",wZ=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Al(r);return o.jsx(om,{...i,...n,ref:t})});wZ.displayName=bZ;var _Z="AlertDialogDescription",SZ=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Al(r);return o.jsx(lm,{...i,...n,ref:t})});SZ.displayName=_Z;var JIe="AlertDialogAction",jZ=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Al(r);return o.jsx(Mw,{...i,...n,ref:t})});jZ.displayName=JIe;var CZ="AlertDialogCancel",NZ=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=XIe(CZ,r),s=Al(r),a=Dt(t,i);return o.jsx(Mw,{...s,...n,ref:a})});NZ.displayName=CZ;var eLe=({contentRef:e})=>{const t=`\`${Rf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rf}\` by passing a \`${_Z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},tLe=pZ,rLe=gZ,nLe=vZ,EZ=yZ,kZ=xZ,OZ=jZ,eR=NZ,AZ=wZ,TZ=SZ;const iLe=tLe,sLe=rLe,aLe=nLe,PZ=_.forwardRef(({className:e,...t},r)=>o.jsx(EZ,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));PZ.displayName=EZ.displayName;const MZ=_.forwardRef(({className:e,...t},r)=>o.jsxs(aLe,{children:[o.jsx(PZ,{}),o.jsxs(kZ,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-card-shadow duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-card-lg",e),...t,children:[t.children,o.jsxs(eR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(cd,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));MZ.displayName=kZ.displayName;const RZ=({className:e,...t})=>o.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});RZ.displayName="AlertDialogHeader";const DZ=({className:e,...t})=>o.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});DZ.displayName="AlertDialogFooter";const IZ=_.forwardRef(({className:e,...t},r)=>o.jsx(AZ,{ref:r,className:Ne("text-lg font-semibold",e),...t}));IZ.displayName=AZ.displayName;const LZ=_.forwardRef(({className:e,...t},r)=>o.jsx(TZ,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));LZ.displayName=TZ.displayName;const $Z=_.forwardRef(({className:e,...t},r)=>o.jsx(OZ,{ref:r,className:Ne(rg(),e),...t}));$Z.displayName=OZ.displayName;const FZ=_.forwardRef(({className:e,...t},r)=>o.jsx(eR,{ref:r,className:Ne(rg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));FZ.displayName=eR.displayName;var fb={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var oLe=fb.exports,Nz;function lLe(){return Nz||(Nz=1,(function(e,t){(function(n,i){e.exports=i()})(typeof self<"u"?self:oLe,function(){return(function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(s,a,l){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:l})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),a=i(18),l=i(19),c=i(45),u=i(46),f=i(47),d=i(48),m=i(49),p=i(12),x=i(32),y=i(33),v=i(31),b=i(1),w={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:a.default,Leaf:l.default,Embed:d.default,Scroll:c.default,Block:f.default,Inline:u.default,Text:m.default,Attributor:{Attribute:p.default,Class:x.default,Style:y.default,Store:v.default}};n.default=w}),(function(r,n,i){var s=this&&this.__extends||(function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var j in w)w.hasOwnProperty(j)&&(b[j]=w[j])};return function(b,w){v(b,w);function j(){this.constructor=b}b.prototype=w===null?Object.create(w):(j.prototype=w.prototype,new j)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=(function(v){s(b,v);function b(w){var j=this;return w="[Parchment] "+w,j=v.call(this,w)||this,j.message=w,j.name=j.constructor.name,j}return b})(Error);n.ParchmentError=a;var l={},c={},u={},f={};n.DATA_KEY="__blot";var d;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function m(v,b){var w=x(v);if(w==null)throw new a("Unable to create "+v+" blot");var j=w,S=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:j.create(b);return new j(S,b)}n.create=m;function p(v,b){return b===void 0&&(b=!1),v==null?null:v[n.DATA_KEY]!=null?v[n.DATA_KEY].blot:b?p(v.parentNode,b):null}n.find=p;function x(v,b){b===void 0&&(b=d.ANY);var w;if(typeof v=="string")w=f[v]||l[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)w=f.text;else if(typeof v=="number")v&d.LEVEL&d.BLOCK?w=f.block:v&d.LEVEL&d.INLINE&&(w=f.inline);else if(v instanceof HTMLElement){var j=(v.getAttribute("class")||"").split(/\s+/);for(var S in j)if(w=c[j[S]],w)break;w=w||u[v.tagName]}return w==null?null:b&d.LEVEL&w.scope&&b&d.TYPE&w.scope?w:null}n.query=x;function y(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];if(v.length>1)return v.map(function(S){return y(S)});var w=v[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new a("Invalid definition");if(w.blotName==="abstract")throw new a("Cannot register abstract class");if(f[w.blotName||w.attrName]=w,typeof w.keyName=="string")l[w.keyName]=w;else if(w.className!=null&&(c[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(S){return S.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var j=Array.isArray(w.tagName)?w.tagName:[w.tagName];j.forEach(function(S){(u[S]==null||w.className==null)&&(u[S]=w)})}return w}n.register=y}),(function(r,n,i){var s=i(51),a=i(11),l=i(3),c=i(20),u="\0",f=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};f.prototype.insert=function(d,m){var p={};return d.length===0?this:(p.insert=d,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p))},f.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},f.prototype.retain=function(d,m){if(d<=0)return this;var p={retain:d};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p)},f.prototype.push=function(d){var m=this.ops.length,p=this.ops[m-1];if(d=l(!0,{},d),typeof p=="object"){if(typeof d.delete=="number"&&typeof p.delete=="number")return this.ops[m-1]={delete:p.delete+d.delete},this;if(typeof p.delete=="number"&&d.insert!=null&&(m-=1,p=this.ops[m-1],typeof p!="object"))return this.ops.unshift(d),this;if(a(d.attributes,p.attributes)){if(typeof d.insert=="string"&&typeof p.insert=="string")return this.ops[m-1]={insert:p.insert+d.insert},typeof d.attributes=="object"&&(this.ops[m-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof p.retain=="number")return this.ops[m-1]={retain:p.retain+d.retain},typeof d.attributes=="object"&&(this.ops[m-1].attributes=d.attributes),this}}return m===this.ops.length?this.ops.push(d):this.ops.splice(m,0,d),this},f.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},f.prototype.filter=function(d){return this.ops.filter(d)},f.prototype.forEach=function(d){this.ops.forEach(d)},f.prototype.map=function(d){return this.ops.map(d)},f.prototype.partition=function(d){var m=[],p=[];return this.forEach(function(x){var y=d(x)?m:p;y.push(x)}),[m,p]},f.prototype.reduce=function(d,m){return this.ops.reduce(d,m)},f.prototype.changeLength=function(){return this.reduce(function(d,m){return m.insert?d+c.length(m):m.delete?d-m.delete:d},0)},f.prototype.length=function(){return this.reduce(function(d,m){return d+c.length(m)},0)},f.prototype.slice=function(d,m){d=d||0,typeof m!="number"&&(m=1/0);for(var p=[],x=c.iterator(this.ops),y=0;y<m&&x.hasNext();){var v;y<d?v=x.next(d-y):(v=x.next(m-y),p.push(v)),y+=c.length(v)}return new f(p)},f.prototype.compose=function(d){var m=c.iterator(this.ops),p=c.iterator(d.ops),x=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var v=y.retain;m.peekType()==="insert"&&m.peekLength()<=v;)v-=m.peekLength(),x.push(m.next());y.retain-v>0&&p.next(y.retain-v)}for(var b=new f(x);m.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(m.peekType()==="delete")b.push(m.next());else{var w=Math.min(m.peekLength(),p.peekLength()),j=m.next(w),S=p.next(w);if(typeof S.retain=="number"){var C={};typeof j.retain=="number"?C.retain=w:C.insert=j.insert;var E=c.attributes.compose(j.attributes,S.attributes,typeof j.retain=="number");if(E&&(C.attributes=E),b.push(C),!p.hasNext()&&a(b.ops[b.ops.length-1],C)){var k=new f(m.rest());return b.concat(k).chop()}}else typeof S.delete=="number"&&typeof j.retain=="number"&&b.push(S)}return b.chop()},f.prototype.concat=function(d){var m=new f(this.ops.slice());return d.ops.length>0&&(m.push(d.ops[0]),m.ops=m.ops.concat(d.ops.slice(1))),m},f.prototype.diff=function(d,m){if(this.ops===d.ops)return new f;var p=[this,d].map(function(w){return w.map(function(j){if(j.insert!=null)return typeof j.insert=="string"?j.insert:u;var S=w===d?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),x=new f,y=s(p[0],p[1],m),v=c.iterator(this.ops),b=c.iterator(d.ops);return y.forEach(function(w){for(var j=w[1].length;j>0;){var S=0;switch(w[0]){case s.INSERT:S=Math.min(b.peekLength(),j),x.push(b.next(S));break;case s.DELETE:S=Math.min(j,v.peekLength()),v.next(S),x.delete(S);break;case s.EQUAL:S=Math.min(v.peekLength(),b.peekLength(),j);var C=v.next(S),E=b.next(S);a(C.insert,E.insert)?x.retain(S,c.attributes.diff(C.attributes,E.attributes)):x.push(E).delete(S);break}j-=S}}),x.chop()},f.prototype.eachLine=function(d,m){m=m||`
`;for(var p=c.iterator(this.ops),x=new f,y=0;p.hasNext();){if(p.peekType()!=="insert")return;var v=p.peek(),b=c.length(v)-p.peekLength(),w=typeof v.insert=="string"?v.insert.indexOf(m,b)-b:-1;if(w<0)x.push(p.next());else if(w>0)x.push(p.next(w));else{if(d(x,p.next(1).attributes||{},y)===!1)return;y+=1,x=new f}}x.length()>0&&d(x,{},y)},f.prototype.transform=function(d,m){if(m=!!m,typeof d=="number")return this.transformPosition(d,m);for(var p=c.iterator(this.ops),x=c.iterator(d.ops),y=new f;p.hasNext()||x.hasNext();)if(p.peekType()==="insert"&&(m||x.peekType()!=="insert"))y.retain(c.length(p.next()));else if(x.peekType()==="insert")y.push(x.next());else{var v=Math.min(p.peekLength(),x.peekLength()),b=p.next(v),w=x.next(v);if(b.delete)continue;w.delete?y.push(w):y.retain(v,c.attributes.transform(b.attributes,w.attributes,m))}return y.chop()},f.prototype.transformPosition=function(d,m){m=!!m;for(var p=c.iterator(this.ops),x=0;p.hasNext()&&x<=d;){var y=p.peekLength(),v=p.peekType();if(p.next(),v==="delete"){d-=Math.min(y,d-x);continue}else v==="insert"&&(x<d||!m)&&(d+=y);x+=y}return d},r.exports=f}),(function(r,n){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},u=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var x=i.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!y)return!1;var v;for(v in p);return typeof v>"u"||i.call(p,v)},f=function(p,x){a&&x.name==="__proto__"?a(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},d=function(p,x){if(x==="__proto__")if(i.call(p,x)){if(l)return l(p,x).value}else return;return p[x]};r.exports=function m(){var p,x,y,v,b,w,j=arguments[0],S=1,C=arguments.length,E=!1;for(typeof j=="boolean"&&(E=j,j=arguments[1]||{},S=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});S<C;++S)if(p=arguments[S],p!=null)for(x in p)y=d(j,x),v=d(p,x),j!==v&&(E&&v&&(u(v)||(b=c(v)))?(b?(b=!1,w=y&&c(y)?y:[]):w=y&&u(y)?y:{},f(j,{name:x,newValue:m(E,w,v)})):typeof v<"u"&&f(j,{name:x,newValue:v}));return j}}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var s=(function(){function T(P,I){for(var B=0;B<I.length;B++){var $=I[B];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(P,$.key,$)}}return function(P,I,B){return I&&T(P.prototype,I),B&&T(P,B),P}})(),a=function T(P,I,B){P===null&&(P=Function.prototype);var $=Object.getOwnPropertyDescriptor(P,I);if($===void 0){var H=Object.getPrototypeOf(P);return H===null?void 0:T(H,I,B)}else{if("value"in $)return $.value;var V=$.get;return V===void 0?void 0:V.call(B)}},l=i(3),c=j(l),u=i(2),f=j(u),d=i(0),m=j(d),p=i(16),x=j(p),y=i(6),v=j(y),b=i(7),w=j(b);function j(T){return T&&T.__esModule?T:{default:T}}function S(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function C(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function E(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var k=1,O=(function(T){E(P,T);function P(){return S(this,P),C(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"attach",value:function(){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(B,$){var H=m.default.query(B,m.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,$)}},{key:"formatAt",value:function(B,$,H,V){this.format(H,V)}},{key:"insertAt",value:function(B,$,H){if(typeof $=="string"&&$.endsWith(`
`)){var V=m.default.create(M.blotName);this.parent.insertBefore(V,B===0?this:this.next),V.insertAt(0,$.slice(0,-1))}else a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,B,$,H)}}]),P})(m.default.Embed);O.scope=m.default.Scope.BLOCK_BLOT;var M=(function(T){E(P,T);function P(I){S(this,P);var B=C(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I));return B.cache={},B}return s(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(B,$){return $.length()===0?B:B.insert($.value(),R($))},new f.default).insert(`
`,R(this))),this.cache.delta}},{key:"deleteAt",value:function(B,$){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,B,$),this.cache={}}},{key:"formatAt",value:function(B,$,H,V){$<=0||(m.default.query(H,m.default.Scope.BLOCK)?B+$===this.length()&&this.format(H,V):a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,B,Math.min($,this.length()-B-1),H,V),this.cache={})}},{key:"insertAt",value:function(B,$,H){if(H!=null)return a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,B,$,H);if($.length!==0){var V=$.split(`
`),U=V.shift();U.length>0&&(B<this.length()-1||this.children.tail==null?a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(B,this.length()-1),U):this.children.tail.insertAt(this.children.tail.length(),U),this.cache={});var W=this;V.reduce(function(F,L){return W=W.split(F,!0),W.insertAt(0,L),L.length},B+U.length)}}},{key:"insertBefore",value:function(B,$){var H=this.children.head;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,B,$),H instanceof x.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(B,$){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,B,$),this.cache={}}},{key:"optimize",value:function(B){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,B),this.cache={}}},{key:"path",value:function(B){return a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,B,!0)}},{key:"removeChild",value:function(B){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,B),this.cache={}}},{key:"split",value:function(B){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($&&(B===0||B>=this.length()-k)){var H=this.clone();return B===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var V=a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,B,$);return this.cache={},V}}}]),P})(m.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[v.default,m.default.Embed,w.default];function R(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(P=(0,c.default)(P,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?P:R(T.parent,P)}n.bubbleFormats=R,n.BlockEmbed=O,n.default=M}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},a=(function(){function W(F,L){var q=[],K=!0,ee=!1,te=void 0;try{for(var Q=F[Symbol.iterator](),G;!(K=(G=Q.next()).done)&&(q.push(G.value),!(L&&q.length===L));K=!0);}catch(ne){ee=!0,te=ne}finally{try{!K&&Q.return&&Q.return()}finally{if(ee)throw te}}return q}return function(F,L){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return W(F,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function W(F,L){for(var q=0;q<L.length;q++){var K=L[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(F,K.key,K)}}return function(F,L,q){return L&&W(F.prototype,L),q&&W(F,q),F}})();i(50);var c=i(2),u=R(c),f=i(14),d=R(f),m=i(8),p=R(m),x=i(9),y=R(x),v=i(0),b=R(v),w=i(15),j=R(w),S=i(3),C=R(S),E=i(10),k=R(E),O=i(34),M=R(O);function R(W){return W&&W.__esModule?W:{default:W}}function T(W,F,L){return F in W?Object.defineProperty(W,F,{value:L,enumerable:!0,configurable:!0,writable:!0}):W[F]=L,W}function P(W,F){if(!(W instanceof F))throw new TypeError("Cannot call a class as a function")}var I=(0,k.default)("quill"),B=(function(){l(W,null,[{key:"debug",value:function(L){L===!0&&(L="log"),k.default.level(L)}},{key:"find",value:function(L){return L.__quill||b.default.find(L)}},{key:"import",value:function(L){return this.imports[L]==null&&I.error("Cannot import "+L+". Are you sure it was registered?"),this.imports[L]}},{key:"register",value:function(L,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof L!="string"){var te=L.attrName||L.blotName;typeof te=="string"?this.register("formats/"+te,L,q):Object.keys(L).forEach(function(Q){K.register(Q,L[Q],q)})}else this.imports[L]!=null&&!ee&&I.warn("Overwriting "+L+" with",q),this.imports[L]=q,(L.startsWith("blots/")||L.startsWith("formats/"))&&q.blotName!=="abstract"?b.default.register(q):L.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function W(F){var L=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,W),this.options=$(F,q),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",F);this.options.debug&&W.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new j.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(te){te===p.default.events.TEXT_CHANGE&&L.root.classList.toggle("ql-blank",L.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(te,Q){var G=L.selection.lastRange,ne=G&&G.length===0?G.index:void 0;H.call(L,function(){return L.editor.update(null,Q,ne)},te)});var ee=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(ee),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(W,[{key:"addContainer",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof L=="string"){var K=L;L=document.createElement("div"),L.classList.add(K)}return this.container.insertBefore(L,q),L}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(L,q,K){var ee=this,te=V(L,q,K),Q=a(te,4);return L=Q[0],q=Q[1],K=Q[3],H.call(this,function(){return ee.editor.deleteText(L,q)},K,L,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(L),this.container.classList.toggle("ql-disabled",!L)}},{key:"focus",value:function(){var L=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=L,this.scrollIntoView()}},{key:"format",value:function(L,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return H.call(this,function(){var te=K.getSelection(!0),Q=new u.default;if(te==null)return Q;if(b.default.query(L,b.default.Scope.BLOCK))Q=K.editor.formatLine(te.index,te.length,T({},L,q));else{if(te.length===0)return K.selection.format(L,q),Q;Q=K.editor.formatText(te.index,te.length,T({},L,q))}return K.setSelection(te,p.default.sources.SILENT),Q},ee)}},{key:"formatLine",value:function(L,q,K,ee,te){var Q=this,G=void 0,ne=V(L,q,K,ee,te),Z=a(ne,4);return L=Z[0],q=Z[1],G=Z[2],te=Z[3],H.call(this,function(){return Q.editor.formatLine(L,q,G)},te,L,0)}},{key:"formatText",value:function(L,q,K,ee,te){var Q=this,G=void 0,ne=V(L,q,K,ee,te),Z=a(ne,4);return L=Z[0],q=Z[1],G=Z[2],te=Z[3],H.call(this,function(){return Q.editor.formatText(L,q,G)},te,L,0)}},{key:"getBounds",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof L=="number"?K=this.selection.getBounds(L,q):K=this.selection.getBounds(L.index,L.length);var ee=this.container.getBoundingClientRect();return{bottom:K.bottom-ee.top,height:K.height,left:K.left-ee.left,right:K.right-ee.left,top:K.top-ee.top,width:K.width}}},{key:"getContents",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,K=V(L,q),ee=a(K,2);return L=ee[0],q=ee[1],this.editor.getContents(L,q)}},{key:"getFormat",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof L=="number"?this.editor.getFormat(L,q):this.editor.getFormat(L.index,L.length)}},{key:"getIndex",value:function(L){return L.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(L){return this.scroll.leaf(L)}},{key:"getLine",value:function(L){return this.scroll.line(L)}},{key:"getLines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof L!="number"?this.scroll.lines(L.index,L.length):this.scroll.lines(L,q)}},{key:"getModule",value:function(L){return this.theme.modules[L]}},{key:"getSelection",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return L&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,K=V(L,q),ee=a(K,2);return L=ee[0],q=ee[1],this.editor.getText(L,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(L,q,K){var ee=this,te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return H.call(this,function(){return ee.editor.insertEmbed(L,q,K)},te,L)}},{key:"insertText",value:function(L,q,K,ee,te){var Q=this,G=void 0,ne=V(L,0,K,ee,te),Z=a(ne,4);return L=Z[0],G=Z[2],te=Z[3],H.call(this,function(){return Q.editor.insertText(L,q,G)},te,L,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(L,q,K){this.clipboard.dangerouslyPasteHTML(L,q,K)}},{key:"removeFormat",value:function(L,q,K){var ee=this,te=V(L,q,K),Q=a(te,4);return L=Q[0],q=Q[1],K=Q[3],H.call(this,function(){return ee.editor.removeFormat(L,q)},K,L)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(L){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){L=new u.default(L);var ee=q.getLength(),te=q.editor.deleteText(0,ee),Q=q.editor.applyDelta(L),G=Q.ops[Q.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),Q.delete(1));var ne=te.compose(Q);return ne},K)}},{key:"setSelection",value:function(L,q,K){if(L==null)this.selection.setRange(null,q||W.sources.API);else{var ee=V(L,q,K),te=a(ee,4);L=te[0],q=te[1],K=te[3],this.selection.setRange(new w.Range(L,q),K),K!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,K=new u.default().insert(L);return this.setContents(K,q)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,q=this.scroll.update(L);return this.selection.update(L),q}},{key:"updateContents",value:function(L){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){return L=new u.default(L),q.editor.applyDelta(L,K)},K,!0)}}]),W})();B.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},B.events=p.default.events,B.sources=p.default.sources,B.version="1.3.7",B.imports={delta:u.default,parchment:b.default,"core/module":y.default,"core/theme":M.default};function $(W,F){if(F=(0,C.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===B.DEFAULTS.theme)F.theme=M.default;else if(F.theme=B.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var L=(0,C.default)(!0,{},F.theme.DEFAULTS);[L,F].forEach(function(ee){ee.modules=ee.modules||{},Object.keys(ee.modules).forEach(function(te){ee.modules[te]===!0&&(ee.modules[te]={})})});var q=Object.keys(L.modules).concat(Object.keys(F.modules)),K=q.reduce(function(ee,te){var Q=B.import("modules/"+te);return Q==null?I.error("Cannot load "+te+" module. Are you sure you registered it?"):ee[te]=Q.DEFAULTS||{},ee},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,C.default)(!0,{},B.DEFAULTS,{modules:K},L,F),["bounds","container","scrollingContainer"].forEach(function(ee){typeof F[ee]=="string"&&(F[ee]=document.querySelector(F[ee]))}),F.modules=Object.keys(F.modules).reduce(function(ee,te){return F.modules[te]&&(ee[te]=F.modules[te]),ee},{}),F}function H(W,F,L,q){if(this.options.strict&&!this.isEnabled()&&F===p.default.sources.USER)return new u.default;var K=L==null?null:this.getSelection(),ee=this.editor.delta,te=W();if(K!=null&&(L===!0&&(L=K.index),q==null?K=U(K,te,F):q!==0&&(K=U(K,L,q,F)),this.setSelection(K,p.default.sources.SILENT)),te.length()>0){var Q,G=[p.default.events.TEXT_CHANGE,te,ee,F];if((Q=this.emitter).emit.apply(Q,[p.default.events.EDITOR_CHANGE].concat(G)),F!==p.default.sources.SILENT){var ne;(ne=this.emitter).emit.apply(ne,G)}}return te}function V(W,F,L,q,K){var ee={};return typeof W.index=="number"&&typeof W.length=="number"?typeof F!="number"?(K=q,q=L,L=F,F=W.length,W=W.index):(F=W.length,W=W.index):typeof F!="number"&&(K=q,q=L,L=F,F=0),(typeof L>"u"?"undefined":s(L))==="object"?(ee=L,K=q):typeof L=="string"&&(q!=null?ee[L]=q:K=L),K=K||p.default.sources.API,[W,F,ee,K]}function U(W,F,L,q){if(W==null)return null;var K=void 0,ee=void 0;if(F instanceof u.default){var te=[W.index,W.index+W.length].map(function(Z){return F.transformPosition(Z,q!==p.default.sources.USER)}),Q=a(te,2);K=Q[0],ee=Q[1]}else{var G=[W.index,W.index+W.length].map(function(Z){return Z<F||Z===F&&q===p.default.sources.USER?Z:L>=0?Z+L:Math.max(F,Z+L)}),ne=a(G,2);K=ne[0],ee=ne[1]}return new w.Range(K,ee-K)}n.expandConfig=$,n.overload=V,n.default=B}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function v(b,w){for(var j=0;j<w.length;j++){var S=w[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,w,j){return w&&v(b.prototype,w),j&&v(b,j),b}})(),a=function v(b,w,j){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,w);if(S===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:v(C,w,j)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(j)}},l=i(7),c=d(l),u=i(0),f=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function m(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function x(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=(function(v){x(b,v);function b(){return m(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(j,S,C,E){if(b.compare(this.statics.blotName,C)<0&&f.default.query(C,f.default.Scope.BLOT)){var k=this.isolate(j,S);E&&k.wrap(C,E)}else a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,j,S,C,E)}},{key:"optimize",value:function(j){if(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,j),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(j,S){var C=b.order.indexOf(j),E=b.order.indexOf(S);return C>=0||E>=0?C-E:j===S?0:j<S?-1:1}}]),b})(f.default.Inline);y.allowedChildren=[y,f.default.Embed,c.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d=(function(m){f(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default.Text);n.default=d}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function w(j,S){for(var C=0;C<S.length;C++){var E=S[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(j,E.key,E)}}return function(j,S,C){return S&&w(j.prototype,S),C&&w(j,C),j}})(),a=function w(j,S,C){j===null&&(j=Function.prototype);var E=Object.getOwnPropertyDescriptor(j,S);if(E===void 0){var k=Object.getPrototypeOf(j);return k===null?void 0:w(k,S,C)}else{if("value"in E)return E.value;var O=E.get;return O===void 0?void 0:O.call(C)}},l=i(54),c=d(l),u=i(10),f=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function m(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function p(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function x(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var y=(0,f.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(w){document.addEventListener(w,function(){for(var j=arguments.length,S=Array(j),C=0;C<j;C++)S[C]=arguments[C];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(E){if(E.__quill&&E.__quill.emitter){var k;(k=E.__quill.emitter).handleDOM.apply(k,S)}})})});var b=(function(w){x(j,w);function j(){m(this,j);var S=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return S.listeners={},S.on("error",y.error),S}return s(j,[{key:"emit",value:function(){y.log.apply(y,arguments),a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(C){for(var E=arguments.length,k=Array(E>1?E-1:0),O=1;O<E;O++)k[O-1]=arguments[O];(this.listeners[C.type]||[]).forEach(function(M){var R=M.node,T=M.handler;(C.target===R||R.contains(C.target))&&T.apply(void 0,[C].concat(k))})}},{key:"listenDOM",value:function(C,E,k){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push({node:E,handler:k})}}]),j})(c.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},n.default=b}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,l),this.quill=c,this.options=u};a.DEFAULTS={},n.default=a}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function l(u){if(s.indexOf(u)<=s.indexOf(a)){for(var f,d=arguments.length,m=Array(d>1?d-1:0),p=1;p<d;p++)m[p-1]=arguments[p];(f=console)[u].apply(f,m)}}function c(u){return s.reduce(function(f,d){return f[d]=l.bind(console,d,u),f},{})}l.level=c.level=function(u){a=u},n.default=c}),(function(r,n,i){var s=Array.prototype.slice,a=i(52),l=i(53),c=r.exports=function(m,p,x){return x||(x={}),m===p?!0:m instanceof Date&&p instanceof Date?m.getTime()===p.getTime():!m||!p||typeof m!="object"&&typeof p!="object"?x.strict?m===p:m==p:d(m,p,x)};function u(m){return m==null}function f(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function d(m,p,x){var y,v;if(u(m)||u(p)||m.prototype!==p.prototype)return!1;if(l(m))return l(p)?(m=s.call(m),p=s.call(p),c(m,p,x)):!1;if(f(m)){if(!f(p)||m.length!==p.length)return!1;for(y=0;y<m.length;y++)if(m[y]!==p[y])return!1;return!0}try{var b=a(m),w=a(p)}catch{return!1}if(b.length!=w.length)return!1;for(b.sort(),w.sort(),y=b.length-1;y>=0;y--)if(b[y]!=w[y])return!1;for(y=b.length-1;y>=0;y--)if(v=b[y],!c(m[v],p[v],x))return!1;return typeof m==typeof p}}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=(function(){function l(c,u,f){f===void 0&&(f={}),this.attrName=c,this.keyName=u;var d=s.Scope.TYPE&s.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&s.Scope.LEVEL|d:this.scope=s.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var f=s.query(c,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l})();n.default=a}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var s=(function(){function O(M,R){var T=[],P=!0,I=!1,B=void 0;try{for(var $=M[Symbol.iterator](),H;!(P=(H=$.next()).done)&&(T.push(H.value),!(R&&T.length===R));P=!0);}catch(V){I=!0,B=V}finally{try{!P&&$.return&&$.return()}finally{if(I)throw B}}return T}return function(M,R){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return O(M,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function O(M,R){for(var T=0;T<R.length;T++){var P=R[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(M,P.key,P)}}return function(M,R,T){return R&&O(M.prototype,R),T&&O(M,T),M}})(),l=function O(M,R,T){M===null&&(M=Function.prototype);var P=Object.getOwnPropertyDescriptor(M,R);if(P===void 0){var I=Object.getPrototypeOf(M);return I===null?void 0:O(I,R,T)}else{if("value"in P)return P.value;var B=P.get;return B===void 0?void 0:B.call(T)}},c=i(2),u=w(c),f=i(0),d=w(f),m=i(4),p=w(m),x=i(6),y=w(x),v=i(7),b=w(v);function w(O){return O&&O.__esModule?O:{default:O}}function j(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}function S(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:O}function C(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}var E=(function(O){C(M,O);function M(){return j(this,M),S(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M})(y.default);E.blotName="code",E.tagName="CODE";var k=(function(O){C(M,O);function M(){return j(this,M),S(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"delta",value:function(){var T=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(I,B){return I.insert(B).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,P){if(!(T===this.statics.blotName&&P)){var I=this.descendant(b.default,this.length()-1),B=s(I,1),$=B[0];$!=null&&$.deleteAt($.length()-1,1),l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,T,P)}}},{key:"formatAt",value:function(T,P,I,B){if(P!==0&&!(d.default.query(I,d.default.Scope.BLOCK)==null||I===this.statics.blotName&&B===this.statics.formats(this.domNode))){var $=this.newlineIndex(T);if(!($<0||$>=T+P)){var H=this.newlineIndex(T,!0)+1,V=$-H+1,U=this.isolate(H,V),W=U.next;U.format(I,B),W instanceof M&&W.formatAt(0,T-H+P-V,I,B)}}}},{key:"insertAt",value:function(T,P,I){if(I==null){var B=this.descendant(b.default,T),$=s(B,2),H=$[0],V=$[1];H.insertAt(V,P)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var I=this.domNode.textContent.slice(T).indexOf(`
`);return I>-1?T+I:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,T);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(T),P.moveChildren(this),P.remove())}},{key:"replace",value:function(T){l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var I=d.default.find(P);I==null?P.parentNode.removeChild(P):I instanceof d.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(T){var P=l(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,T);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),M})(p.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",n.Code=E,n.default=k}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},a=(function(){function W(F,L){var q=[],K=!0,ee=!1,te=void 0;try{for(var Q=F[Symbol.iterator](),G;!(K=(G=Q.next()).done)&&(q.push(G.value),!(L&&q.length===L));K=!0);}catch(ne){ee=!0,te=ne}finally{try{!K&&Q.return&&Q.return()}finally{if(ee)throw te}}return q}return function(F,L){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return W(F,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function W(F,L){for(var q=0;q<L.length;q++){var K=L[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(F,K.key,K)}}return function(F,L,q){return L&&W(F.prototype,L),q&&W(F,q),F}})(),c=i(2),u=P(c),f=i(20),d=P(f),m=i(0),p=P(m),x=i(13),y=P(x),v=i(24),b=P(v),w=i(4),j=P(w),S=i(16),C=P(S),E=i(21),k=P(E),O=i(11),M=P(O),R=i(3),T=P(R);function P(W){return W&&W.__esModule?W:{default:W}}function I(W,F,L){return F in W?Object.defineProperty(W,F,{value:L,enumerable:!0,configurable:!0,writable:!0}):W[F]=L,W}function B(W,F){if(!(W instanceof F))throw new TypeError("Cannot call a class as a function")}var $=/^[ -~]*$/,H=(function(){function W(F){B(this,W),this.scroll=F,this.delta=this.getDelta()}return l(W,[{key:"applyDelta",value:function(L){var q=this,K=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),L=U(L),L.reduce(function(te,Q){var G=Q.retain||Q.delete||Q.insert.length||1,ne=Q.attributes||{};if(Q.insert!=null){if(typeof Q.insert=="string"){var Z=Q.insert;Z.endsWith(`
`)&&K&&(K=!1,Z=Z.slice(0,-1)),te>=ee&&!Z.endsWith(`
`)&&(K=!0),q.scroll.insertAt(te,Z);var re=q.scroll.line(te),fe=a(re,2),ce=fe[0],xe=fe[1],be=(0,T.default)({},(0,w.bubbleFormats)(ce));if(ce instanceof j.default){var ke=ce.descendant(p.default.Leaf,xe),Te=a(ke,1),De=Te[0];be=(0,T.default)(be,(0,w.bubbleFormats)(De))}ne=d.default.attributes.diff(be,ne)||{}}else if(s(Q.insert)==="object"){var ae=Object.keys(Q.insert)[0];if(ae==null)return te;q.scroll.insertAt(te,ae,Q.insert[ae])}ee+=G}return Object.keys(ne).forEach(function(ge){q.scroll.formatAt(te,G,ge,ne[ge])}),te+G},0),L.reduce(function(te,Q){return typeof Q.delete=="number"?(q.scroll.deleteAt(te,Q.delete),te):te+(Q.retain||Q.insert.length||1)},0),this.scroll.batchEnd(),this.update(L)}},{key:"deleteText",value:function(L,q){return this.scroll.deleteAt(L,q),this.update(new u.default().retain(L).delete(q))}},{key:"formatLine",value:function(L,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(te){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[te])){var Q=K.scroll.lines(L,Math.max(q,1)),G=q;Q.forEach(function(ne){var Z=ne.length();if(!(ne instanceof y.default))ne.format(te,ee[te]);else{var re=L-ne.offset(K.scroll),fe=ne.newlineIndex(re+G)-re+1;ne.formatAt(re,fe,te,ee[te])}G-=Z})}}),this.scroll.optimize(),this.update(new u.default().retain(L).retain(q,(0,k.default)(ee)))}},{key:"formatText",value:function(L,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(te){K.scroll.formatAt(L,q,te,ee[te])}),this.update(new u.default().retain(L).retain(q,(0,k.default)(ee)))}},{key:"getContents",value:function(L,q){return this.delta.slice(L,L+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(L,q){return L.concat(q.delta())},new u.default)}},{key:"getFormat",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],ee=[];q===0?this.scroll.path(L).forEach(function(Q){var G=a(Q,1),ne=G[0];ne instanceof j.default?K.push(ne):ne instanceof p.default.Leaf&&ee.push(ne)}):(K=this.scroll.lines(L,q),ee=this.scroll.descendants(p.default.Leaf,L,q));var te=[K,ee].map(function(Q){if(Q.length===0)return{};for(var G=(0,w.bubbleFormats)(Q.shift());Object.keys(G).length>0;){var ne=Q.shift();if(ne==null)return G;G=V((0,w.bubbleFormats)(ne),G)}return G});return T.default.apply(T.default,te)}},{key:"getText",value:function(L,q){return this.getContents(L,q).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(L,q,K){return this.scroll.insertAt(L,q,K),this.update(new u.default().retain(L).insert(I({},q,K)))}},{key:"insertText",value:function(L,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(L,q),Object.keys(ee).forEach(function(te){K.scroll.formatAt(L,q.length,te,ee[te])}),this.update(new u.default().retain(L).insert(q,(0,k.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var L=this.scroll.children.head;return L.statics.blotName!==j.default.blotName||L.children.length>1?!1:L.children.head instanceof C.default}},{key:"removeFormat",value:function(L,q){var K=this.getText(L,q),ee=this.scroll.line(L+q),te=a(ee,2),Q=te[0],G=te[1],ne=0,Z=new u.default;Q!=null&&(Q instanceof y.default?ne=Q.newlineIndex(G)-G+1:ne=Q.length()-G,Z=Q.delta().slice(G,G+ne-1).insert(`
`));var re=this.getContents(L,q+ne),fe=re.diff(new u.default().insert(K).concat(Z)),ce=new u.default().retain(L).concat(fe);return this.applyDelta(ce)}},{key:"update",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match($)&&p.default.find(q[0].target)){var te=p.default.find(q[0].target),Q=(0,w.bubbleFormats)(te),G=te.offset(this.scroll),ne=q[0].oldValue.replace(b.default.CONTENTS,""),Z=new u.default().insert(ne),re=new u.default().insert(te.value()),fe=new u.default().retain(G).concat(Z.diff(re,K));L=fe.reduce(function(ce,xe){return xe.insert?ce.insert(xe.insert,Q):ce.push(xe)},new u.default),this.delta=ee.compose(L)}else this.delta=this.getDelta(),(!L||!(0,M.default)(ee.compose(L),this.delta))&&(L=ee.diff(this.delta,K));return L}}]),W})();function V(W,F){return Object.keys(F).reduce(function(L,q){return W[q]==null||(F[q]===W[q]?L[q]=F[q]:Array.isArray(F[q])?F[q].indexOf(W[q])<0&&(L[q]=F[q].concat([W[q]])):L[q]=[F[q],W[q]]),L},{})}function U(W){return W.reduce(function(F,L){if(L.insert===1){var q=(0,k.default)(L.attributes);return delete q.image,F.insert({image:L.attributes.image},q)}if(L.attributes!=null&&(L.attributes.list===!0||L.attributes.bullet===!0)&&(L=(0,k.default)(L),L.attributes.list?L.attributes.list="ordered":(L.attributes.list="bullet",delete L.attributes.bullet)),typeof L.insert=="string"){var K=L.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(K,L.attributes)}return F.push(L)},new u.default)}n.default=H}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var s=(function(){function O(M,R){var T=[],P=!0,I=!1,B=void 0;try{for(var $=M[Symbol.iterator](),H;!(P=(H=$.next()).done)&&(T.push(H.value),!(R&&T.length===R));P=!0);}catch(V){I=!0,B=V}finally{try{!P&&$.return&&$.return()}finally{if(I)throw B}}return T}return function(M,R){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return O(M,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function O(M,R){for(var T=0;T<R.length;T++){var P=R[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(M,P.key,P)}}return function(M,R,T){return R&&O(M.prototype,R),T&&O(M,T),M}})(),l=i(0),c=b(l),u=i(21),f=b(u),d=i(11),m=b(d),p=i(8),x=b(p),y=i(10),v=b(y);function b(O){return O&&O.__esModule?O:{default:O}}function w(O){if(Array.isArray(O)){for(var M=0,R=Array(O.length);M<O.length;M++)R[M]=O[M];return R}else return Array.from(O)}function j(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}var S=(0,v.default)("quill:selection"),C=function O(M){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;j(this,O),this.index=M,this.length=R},E=(function(){function O(M,R){var T=this;j(this,O),this.emitter=R,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new C(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,x.default.sources.USER),1)}),this.emitter.on(x.default.events.EDITOR_CHANGE,function(P,I){P===x.default.events.TEXT_CHANGE&&I.length()>0&&T.update(x.default.sources.SILENT)}),this.emitter.on(x.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var P=T.getNativeRange();P!=null&&P.start.node!==T.cursor.textNode&&T.emitter.once(x.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(x.default.events.SCROLL_OPTIMIZE,function(P,I){if(I.range){var B=I.range,$=B.startNode,H=B.startOffset,V=B.endNode,U=B.endOffset;T.setNativeRange($,H,V,U)}}),this.update(x.default.sources.SILENT)}return a(O,[{key:"handleComposition",value:function(){var R=this;this.root.addEventListener("compositionstart",function(){R.composing=!0}),this.root.addEventListener("compositionend",function(){if(R.composing=!1,R.cursor.parent){var T=R.cursor.restore();if(!T)return;setTimeout(function(){R.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var R=this;this.emitter.listenDOM("mousedown",document.body,function(){R.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){R.mouseDown=!1,R.update(x.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(R,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[R])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||c.default.query(R,c.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var I=c.default.find(P.start.node,!1);if(I==null)return;if(I instanceof c.default.Leaf){var B=I.split(P.start.offset);I.parent.insertBefore(this.cursor,B)}else I.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(R,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();R=Math.min(R,P-1),T=Math.min(R+T,P-1)-R;var I=void 0,B=this.scroll.leaf(R),$=s(B,2),H=$[0],V=$[1];if(H==null)return null;var U=H.position(V,!0),W=s(U,2);I=W[0],V=W[1];var F=document.createRange();if(T>0){F.setStart(I,V);var L=this.scroll.leaf(R+T),q=s(L,2);if(H=q[0],V=q[1],H==null)return null;var K=H.position(V,!0),ee=s(K,2);return I=ee[0],V=ee[1],F.setEnd(I,V),F.getBoundingClientRect()}else{var te="left",Q=void 0;return I instanceof Text?(V<I.data.length?(F.setStart(I,V),F.setEnd(I,V+1)):(F.setStart(I,V-1),F.setEnd(I,V),te="right"),Q=F.getBoundingClientRect()):(Q=H.domNode.getBoundingClientRect(),V>0&&(te="right")),{bottom:Q.top+Q.height,height:Q.height,left:Q[te],right:Q[te],top:Q.top,width:0}}}},{key:"getNativeRange",value:function(){var R=document.getSelection();if(R==null||R.rangeCount<=0)return null;var T=R.getRangeAt(0);if(T==null)return null;var P=this.normalizeNative(T);return S.info("getNativeRange",P),P}},{key:"getRange",value:function(){var R=this.getNativeRange();if(R==null)return[null,null];var T=this.normalizedToRange(R);return[T,R]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(R){var T=this,P=[[R.start.node,R.start.offset]];R.native.collapsed||P.push([R.end.node,R.end.offset]);var I=P.map(function(H){var V=s(H,2),U=V[0],W=V[1],F=c.default.find(U,!0),L=F.offset(T.scroll);return W===0?L:F instanceof c.default.Container?L+F.length():L+F.index(U,W)}),B=Math.min(Math.max.apply(Math,w(I)),this.scroll.length()-1),$=Math.min.apply(Math,[B].concat(w(I)));return new C($,B-$)}},{key:"normalizeNative",value:function(R){if(!k(this.root,R.startContainer)||!R.collapsed&&!k(this.root,R.endContainer))return null;var T={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[T.start,T.end].forEach(function(P){for(var I=P.node,B=P.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>B)I=I.childNodes[B],B=0;else if(I.childNodes.length===B)I=I.lastChild,B=I instanceof Text?I.data.length:I.childNodes.length+1;else break;P.node=I,P.offset=B}),T}},{key:"rangeToNative",value:function(R){var T=this,P=R.collapsed?[R.index]:[R.index,R.index+R.length],I=[],B=this.scroll.length();return P.forEach(function($,H){$=Math.min(B-1,$);var V=void 0,U=T.scroll.leaf($),W=s(U,2),F=W[0],L=W[1],q=F.position(L,H!==0),K=s(q,2);V=K[0],L=K[1],I.push(V,L)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(R){var T=this.lastRange;if(T!=null){var P=this.getBounds(T.index,T.length);if(P!=null){var I=this.scroll.length()-1,B=this.scroll.line(Math.min(T.index,I)),$=s(B,1),H=$[0],V=H;if(T.length>0){var U=this.scroll.line(Math.min(T.index+T.length,I)),W=s(U,1);V=W[0]}if(!(H==null||V==null)){var F=R.getBoundingClientRect();P.top<F.top?R.scrollTop-=F.top-P.top:P.bottom>F.bottom&&(R.scrollTop+=P.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(R,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",R,T,P,I),!(R!=null&&(this.root.parentNode==null||R.parentNode==null||P.parentNode==null))){var $=document.getSelection();if($!=null)if(R!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||B||R!==H.startContainer||T!==H.startOffset||P!==H.endContainer||I!==H.endOffset){R.tagName=="BR"&&(T=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode),P.tagName=="BR"&&(I=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var V=document.createRange();V.setStart(R,T),V.setEnd(P,I),$.removeAllRanges(),$.addRange(V)}}else $.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof T=="string"&&(P=T,T=!1),S.info("setRange",R),R!=null){var I=this.rangeToNative(R);this.setNativeRange.apply(this,w(I).concat([T]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.default.sources.USER,T=this.lastRange,P=this.getRange(),I=s(P,2),B=I[0],$=I[1];if(this.lastRange=B,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(T,this.lastRange)){var H;!this.composing&&$!=null&&$.native.collapsed&&$.start.node!==this.cursor.textNode&&this.cursor.restore();var V=[x.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(T),R];if((H=this.emitter).emit.apply(H,[x.default.events.EDITOR_CHANGE].concat(V)),R!==x.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,V)}}}}]),O})();function k(O,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),O.contains(M)}n.Range=C,n.default=E}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}})(),a=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,v,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},l=i(0),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function d(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){m(y,x);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(b,w){b.children.length===0?a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y})(c.default.Embed);p.blotName="break",p.tagName="BR",n.default=p}),(function(r,n,i){var s=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var x in p)p.hasOwnProperty(x)&&(m[x]=p[x])};return function(m,p){d(m,p);function x(){this.constructor=m}m.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(44),l=i(30),c=i(1),u=(function(d){s(m,d);function m(p){var x=d.call(this,p)||this;return x.build(),x}return m.prototype.appendChild=function(p){this.insertBefore(p)},m.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},m.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(x){try{var y=f(x);p.insertBefore(y,p.children.head||void 0)}catch(v){if(v instanceof c.ParchmentError)return;throw v}})},m.prototype.deleteAt=function(p,x){if(p===0&&x===this.length())return this.remove();this.children.forEachAt(p,x,function(y,v,b){y.deleteAt(v,b)})},m.prototype.descendant=function(p,x){var y=this.children.find(x),v=y[0],b=y[1];return p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p?[v,b]:v instanceof m?v.descendant(p,b):[null,-1]},m.prototype.descendants=function(p,x,y){x===void 0&&(x=0),y===void 0&&(y=Number.MAX_VALUE);var v=[],b=y;return this.children.forEachAt(x,y,function(w,j,S){(p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p)&&v.push(w),w instanceof m&&(v=v.concat(w.descendants(p,j,b))),b-=S}),v},m.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),d.prototype.detach.call(this)},m.prototype.formatAt=function(p,x,y,v){this.children.forEachAt(p,x,function(b,w,j){b.formatAt(w,j,y,v)})},m.prototype.insertAt=function(p,x,y){var v=this.children.find(p),b=v[0],w=v[1];if(b)b.insertAt(w,x,y);else{var j=y==null?c.create("text",x):c.create(x,y);this.appendChild(j)}},m.prototype.insertBefore=function(p,x){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return p instanceof y}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,x)},m.prototype.length=function(){return this.children.reduce(function(p,x){return p+x.length()},0)},m.prototype.moveChildren=function(p,x){this.children.forEach(function(y){p.insertBefore(y,x)})},m.prototype.optimize=function(p){if(d.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var x=c.create(this.statics.defaultChild);this.appendChild(x),x.optimize(p)}else this.remove()},m.prototype.path=function(p,x){x===void 0&&(x=!1);var y=this.children.find(p,x),v=y[0],b=y[1],w=[[this,p]];return v instanceof m?w.concat(v.path(b,x)):(v!=null&&w.push([v,b]),w)},m.prototype.removeChild=function(p){this.children.remove(p)},m.prototype.replace=function(p){p instanceof m&&p.moveChildren(this),d.prototype.replace.call(this,p)},m.prototype.split=function(p,x){if(x===void 0&&(x=!1),!x){if(p===0)return this;if(p===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(p,this.length(),function(v,b,w){v=v.split(b,x),y.appendChild(v)}),y},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(p,x){var y=this,v=[],b=[];p.forEach(function(w){w.target===y.domNode&&w.type==="childList"&&(v.push.apply(v,w.addedNodes),b.push.apply(b,w.removedNodes))}),b.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var j=c.find(w);j!=null&&(j.domNode.parentNode==null||j.domNode.parentNode===y.domNode)&&j.detach()}}),v.filter(function(w){return w.parentNode==y.domNode}).sort(function(w,j){return w===j?0:w.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var j=null;w.nextSibling!=null&&(j=c.find(w.nextSibling));var S=f(w);(S.next!=j||S.next==null)&&(S.parent!=null&&S.parent.removeChild(y),y.insertBefore(S,j||void 0))})},m})(l.default);function f(d){var m=c.find(d);if(m==null)try{m=c.create(d)}catch{m=c.create(c.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(x){m.domNode.appendChild(x)}),d.parentNode&&d.parentNode.replaceChild(m.domNode,d),m.attach()}return m}n.default=u}),(function(r,n,i){var s=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var x in p)p.hasOwnProperty(x)&&(m[x]=p[x])};return function(m,p){d(m,p);function x(){this.constructor=m}m.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),l=i(31),c=i(17),u=i(1),f=(function(d){s(m,d);function m(p){var x=d.call(this,p)||this;return x.attributes=new l.default(x.domNode),x}return m.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},m.prototype.format=function(p,x){var y=u.query(p);y instanceof a.default?this.attributes.attribute(y,x):x&&y!=null&&(p!==this.statics.blotName||this.formats()[p]!==x)&&this.replaceWith(p,x)},m.prototype.formats=function(){var p=this.attributes.values(),x=this.statics.formats(this.domNode);return x!=null&&(p[this.statics.blotName]=x),p},m.prototype.replaceWith=function(p,x){var y=d.prototype.replaceWith.call(this,p,x);return this.attributes.copy(y),y},m.prototype.update=function(p,x){var y=this;d.prototype.update.call(this,p,x),p.some(function(v){return v.target===y.domNode&&v.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(p,x){var y=d.prototype.wrap.call(this,p,x);return y instanceof m&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},m})(c.default);n.default=f}),(function(r,n,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m])};return function(f,d){u(f,d);function m(){this.constructor=f}f.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(30),l=i(1),c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.value=function(d){return!0},f.prototype.index=function(d,m){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},f.prototype.position=function(d,m){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},f.scope=l.Scope.INLINE_BLOT,f})(a.default);n.default=c}),(function(r,n,i){var s=i(11),a=i(3),l={attributes:{compose:function(u,f,d){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var m=a(!0,{},f);d||(m=Object.keys(m).reduce(function(x,y){return m[y]!=null&&(x[y]=m[y]),x},{}));for(var p in u)u[p]!==void 0&&f[p]===void 0&&(m[p]=u[p]);return Object.keys(m).length>0?m:void 0},diff:function(u,f){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var d=Object.keys(u).concat(Object.keys(f)).reduce(function(m,p){return s(u[p],f[p])||(m[p]=f[p]===void 0?null:f[p]),m},{});return Object.keys(d).length>0?d:void 0},transform:function(u,f,d){if(typeof u!="object")return f;if(typeof f=="object"){if(!d)return f;var m=Object.keys(f).reduce(function(p,x){return u[x]===void 0&&(p[x]=f[x]),p},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var f=this.ops[this.index];if(f){var d=this.offset,m=l.length(f);if(u>=m-d?(u=m-d,this.index+=1,this.offset=0):this.offset+=u,typeof f.delete=="number")return{delete:u};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=u:typeof f.insert=="string"?p.insert=f.insert.substr(d,u):p.insert=f.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,f=this.index,d=this.next(),m=this.ops.slice(this.index);return this.offset=u,this.index=f,[d].concat(m)}else return[]},r.exports=l}),(function(r,n){var i=(function(){function s(y,v){return v!=null&&y instanceof v}var a;try{a=Map}catch{a=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(y,v,b,w,j){typeof v=="object"&&(b=v.depth,w=v.prototype,j=v.includeNonEnumerable,v=v.circular);var S=[],C=[],E=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof b>"u"&&(b=1/0);function k(O,M){if(O===null)return null;if(M===0)return O;var R,T;if(typeof O!="object")return O;if(s(O,a))R=new a;else if(s(O,l))R=new l;else if(s(O,c))R=new c(function(F,L){O.then(function(q){F(k(q,M-1))},function(q){L(k(q,M-1))})});else if(u.__isArray(O))R=[];else if(u.__isRegExp(O))R=new RegExp(O.source,x(O)),O.lastIndex&&(R.lastIndex=O.lastIndex);else if(u.__isDate(O))R=new Date(O.getTime());else{if(E&&Buffer.isBuffer(O))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(O.length):R=new Buffer(O.length),O.copy(R),R;s(O,Error)?R=Object.create(O):typeof w>"u"?(T=Object.getPrototypeOf(O),R=Object.create(T)):(R=Object.create(w),T=w)}if(v){var P=S.indexOf(O);if(P!=-1)return C[P];S.push(O),C.push(R)}s(O,a)&&O.forEach(function(F,L){var q=k(L,M-1),K=k(F,M-1);R.set(q,K)}),s(O,l)&&O.forEach(function(F){var L=k(F,M-1);R.add(L)});for(var I in O){var B;T&&(B=Object.getOwnPropertyDescriptor(T,I)),!(B&&B.set==null)&&(R[I]=k(O[I],M-1))}if(Object.getOwnPropertySymbols)for(var $=Object.getOwnPropertySymbols(O),I=0;I<$.length;I++){var H=$[I],V=Object.getOwnPropertyDescriptor(O,H);V&&!V.enumerable&&!j||(R[H]=k(O[H],M-1),V.enumerable||Object.defineProperty(R,H,{enumerable:!1}))}if(j)for(var U=Object.getOwnPropertyNames(O),I=0;I<U.length;I++){var W=U[I],V=Object.getOwnPropertyDescriptor(O,W);V&&V.enumerable||(R[W]=k(O[W],M-1),Object.defineProperty(R,W,{enumerable:!1}))}return R}return k(y,b)}u.clonePrototype=function(v){if(v===null)return null;var b=function(){};return b.prototype=v,new b};function f(y){return Object.prototype.toString.call(y)}u.__objToStr=f;function d(y){return typeof y=="object"&&f(y)==="[object Date]"}u.__isDate=d;function m(y){return typeof y=="object"&&f(y)==="[object Array]"}u.__isArray=m;function p(y){return typeof y=="object"&&f(y)==="[object RegExp]"}u.__isRegExp=p;function x(y){var v="";return y.global&&(v+="g"),y.ignoreCase&&(v+="i"),y.multiline&&(v+="m"),v}return u.__getRegExpFlags=x,u})();typeof r=="object"&&r.exports&&(r.exports=i)}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function R(T,P){var I=[],B=!0,$=!1,H=void 0;try{for(var V=T[Symbol.iterator](),U;!(B=(U=V.next()).done)&&(I.push(U.value),!(P&&I.length===P));B=!0);}catch(W){$=!0,H=W}finally{try{!B&&V.return&&V.return()}finally{if($)throw H}}return I}return function(T,P){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return R(T,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function R(T,P){for(var I=0;I<P.length;I++){var B=P[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,B.key,B)}}return function(T,P,I){return P&&R(T.prototype,P),I&&R(T,I),T}})(),l=function R(T,P,I){T===null&&(T=Function.prototype);var B=Object.getOwnPropertyDescriptor(T,P);if(B===void 0){var $=Object.getPrototypeOf(T);return $===null?void 0:R($,P,I)}else{if("value"in B)return B.value;var H=B.get;return H===void 0?void 0:H.call(I)}},c=i(0),u=S(c),f=i(8),d=S(f),m=i(4),p=S(m),x=i(16),y=S(x),v=i(13),b=S(v),w=i(25),j=S(w);function S(R){return R&&R.__esModule?R:{default:R}}function C(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}function E(R,T){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:R}function k(R,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);R.prototype=Object.create(T&&T.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(R,T):R.__proto__=T)}function O(R){return R instanceof p.default||R instanceof m.BlockEmbed}var M=(function(R){k(T,R);function T(P,I){C(this,T);var B=E(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P));return B.emitter=I.emitter,Array.isArray(I.whitelist)&&(B.whitelist=I.whitelist.reduce(function($,H){return $[H]=!0,$},{})),B.domNode.addEventListener("DOMNodeInserted",function(){}),B.optimize(),B.enable(),B}return a(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,B){var $=this.line(I),H=s($,2),V=H[0],U=H[1],W=this.line(I+B),F=s(W,1),L=F[0];if(l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,I,B),L!=null&&V!==L&&U>0){if(V instanceof m.BlockEmbed||L instanceof m.BlockEmbed){this.optimize();return}if(V instanceof b.default){var q=V.newlineIndex(V.length(),!0);if(q>-1&&(V=V.split(q+1),V===L)){this.optimize();return}}else if(L instanceof b.default){var K=L.newlineIndex(0);K>-1&&L.split(K+1)}var ee=L.children.head instanceof y.default?null:L.children.head;V.moveChildren(L,ee),V.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,B,$,H){this.whitelist!=null&&!this.whitelist[$]||(l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,I,B,$,H),this.optimize())}},{key:"insertAt",value:function(I,B,$){if(!($!=null&&this.whitelist!=null&&!this.whitelist[B])){if(I>=this.length())if($==null||u.default.query(B,u.default.Scope.BLOCK)==null){var H=u.default.create(this.statics.defaultChild);this.appendChild(H),$==null&&B.endsWith(`
`)&&(B=B.slice(0,-1)),H.insertAt(0,B,$)}else{var V=u.default.create(B,$);this.appendChild(V)}else l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,I,B,$);this.optimize()}}},{key:"insertBefore",value:function(I,B){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var $=u.default.create(this.statics.defaultChild);$.appendChild(I),I=$}l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,I,B)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(O,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,$=function H(V,U,W){var F=[],L=W;return V.children.forEachAt(U,W,function(q,K,ee){O(q)?F.push(q):q instanceof u.default.Container&&(F=F.concat(H(q,K,L))),L-=ee}),F};return $(this,I,B)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,I,B),I.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,I,B))}},{key:"path",value:function(I){return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var B=d.default.sources.USER;typeof I=="string"&&(B=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,B,I),l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,B,I)}}}]),T})(u.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[p.default,m.BlockEmbed,j.default],n.default=M}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},a=(function(){function Q(G,ne){var Z=[],re=!0,fe=!1,ce=void 0;try{for(var xe=G[Symbol.iterator](),be;!(re=(be=xe.next()).done)&&(Z.push(be.value),!(ne&&Z.length===ne));re=!0);}catch(ke){fe=!0,ce=ke}finally{try{!re&&xe.return&&xe.return()}finally{if(fe)throw ce}}return Z}return function(G,ne){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Q(G,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function Q(G,ne){for(var Z=0;Z<ne.length;Z++){var re=ne[Z];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(G,re.key,re)}}return function(G,ne,Z){return ne&&Q(G.prototype,ne),Z&&Q(G,Z),G}})(),c=i(21),u=R(c),f=i(11),d=R(f),m=i(3),p=R(m),x=i(2),y=R(x),v=i(20),b=R(v),w=i(0),j=R(w),S=i(5),C=R(S),E=i(10),k=R(E),O=i(9),M=R(O);function R(Q){return Q&&Q.__esModule?Q:{default:Q}}function T(Q,G,ne){return G in Q?Object.defineProperty(Q,G,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Q[G]=ne,Q}function P(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function I(Q,G){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:Q}function B(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,G):Q.__proto__=G)}var $=(0,k.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",V=(function(Q){B(G,Q),l(G,null,[{key:"match",value:function(Z,re){return re=te(re),["altKey","ctrlKey","metaKey","shiftKey"].some(function(fe){return!!re[fe]!==Z[fe]&&re[fe]!==null})?!1:re.key===(Z.which||Z.keyCode)}}]);function G(ne,Z){P(this,G);var re=I(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,ne,Z));return re.bindings={},Object.keys(re.options.bindings).forEach(function(fe){fe==="list autofill"&&ne.scroll.whitelist!=null&&!ne.scroll.whitelist.list||re.options.bindings[fe]&&re.addBinding(re.options.bindings[fe])}),re.addBinding({key:G.keys.ENTER,shiftKey:null},q),re.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(re.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},W),re.addBinding({key:G.keys.DELETE},{collapsed:!0},F)):(re.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),re.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),re.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},L),re.addBinding({key:G.keys.DELETE},{collapsed:!1},L),re.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),re.listen(),re}return l(G,[{key:"addBinding",value:function(Z){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=te(Z);if(ce==null||ce.key==null)return $.warn("Attempted to add invalid keyboard binding",ce);typeof re=="function"&&(re={handler:re}),typeof fe=="function"&&(fe={handler:fe}),ce=(0,p.default)(ce,re,fe),this.bindings[ce.key]=this.bindings[ce.key]||[],this.bindings[ce.key].push(ce)}},{key:"listen",value:function(){var Z=this;this.quill.root.addEventListener("keydown",function(re){if(!re.defaultPrevented){var fe=re.which||re.keyCode,ce=(Z.bindings[fe]||[]).filter(function(Se){return G.match(re,Se)});if(ce.length!==0){var xe=Z.quill.getSelection();if(!(xe==null||!Z.quill.hasFocus())){var be=Z.quill.getLine(xe.index),ke=a(be,2),Te=ke[0],De=ke[1],ae=Z.quill.getLeaf(xe.index),ge=a(ae,2),X=ge[0],ie=ge[1],oe=xe.length===0?[X,ie]:Z.quill.getLeaf(xe.index+xe.length),je=a(oe,2),le=je[0],he=je[1],we=X instanceof j.default.Text?X.value().slice(0,ie):"",ue=le instanceof j.default.Text?le.value().slice(he):"",Oe={collapsed:xe.length===0,empty:xe.length===0&&Te.length()<=1,format:Z.quill.getFormat(xe),offset:De,prefix:we,suffix:ue},gt=ce.some(function(Se){if(Se.collapsed!=null&&Se.collapsed!==Oe.collapsed||Se.empty!=null&&Se.empty!==Oe.empty||Se.offset!=null&&Se.offset!==Oe.offset)return!1;if(Array.isArray(Se.format)){if(Se.format.every(function(Ge){return Oe.format[Ge]==null}))return!1}else if(s(Se.format)==="object"&&!Object.keys(Se.format).every(function(Ge){return Se.format[Ge]===!0?Oe.format[Ge]!=null:Se.format[Ge]===!1?Oe.format[Ge]==null:(0,d.default)(Se.format[Ge],Oe.format[Ge])}))return!1;return Se.prefix!=null&&!Se.prefix.test(Oe.prefix)||Se.suffix!=null&&!Se.suffix.test(Oe.suffix)?!1:Se.handler.call(Z,xe,Oe)!==!0});gt&&re.preventDefault()}}}})}}]),G})(M.default);V.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},V.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:V.keys.TAB,format:["blockquote","indent","list"],handler:function(G,ne){if(ne.collapsed&&ne.offset!==0)return!0;this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:V.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,ne){if(ne.collapsed&&ne.offset!==0)return!0;this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:V.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,ne){ne.format.indent!=null?this.quill.format("indent","-1",C.default.sources.USER):ne.format.list!=null&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:V.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,C.default.sources.USER)}},tab:{key:V.keys.TAB,handler:function(G){this.quill.history.cutoff();var ne=new y.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(ne,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,C.default.sources.SILENT)}},"list empty enter":{key:V.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,ne){this.quill.format("list",!1,C.default.sources.USER),ne.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:V.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var ne=this.quill.getLine(G.index),Z=a(ne,2),re=Z[0],fe=Z[1],ce=(0,p.default)({},re.formats(),{list:"checked"}),xe=new y.default().retain(G.index).insert(`
`,ce).retain(re.length()-fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(xe,C.default.sources.USER),this.quill.setSelection(G.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:V.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,ne){var Z=this.quill.getLine(G.index),re=a(Z,2),fe=re[0],ce=re[1],xe=new y.default().retain(G.index).insert(`
`,ne.format).retain(fe.length()-ce-1).retain(1,{header:null});this.quill.updateContents(xe,C.default.sources.USER),this.quill.setSelection(G.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,ne){var Z=ne.prefix.length,re=this.quill.getLine(G.index),fe=a(re,2),ce=fe[0],xe=fe[1];if(xe>Z)return!0;var be=void 0;switch(ne.prefix.trim()){case"[]":case"[ ]":be="unchecked";break;case"[x]":be="checked";break;case"-":case"*":be="bullet";break;default:be="ordered"}this.quill.insertText(G.index," ",C.default.sources.USER),this.quill.history.cutoff();var ke=new y.default().retain(G.index-xe).delete(Z+1).retain(ce.length()-2-xe).retain(1,{list:be});this.quill.updateContents(ke,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-Z,C.default.sources.SILENT)}},"code exit":{key:V.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var ne=this.quill.getLine(G.index),Z=a(ne,2),re=Z[0],fe=Z[1],ce=new y.default().retain(G.index+re.length()-fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ce,C.default.sources.USER)}},"embed left":U(V.keys.LEFT,!1),"embed left shift":U(V.keys.LEFT,!0),"embed right":U(V.keys.RIGHT,!1),"embed right shift":U(V.keys.RIGHT,!0)}};function U(Q,G){var ne,Z=Q===V.keys.LEFT?"prefix":"suffix";return ne={key:Q,shiftKey:G,altKey:null},T(ne,Z,/^$/),T(ne,"handler",function(fe){var ce=fe.index;Q===V.keys.RIGHT&&(ce+=fe.length+1);var xe=this.quill.getLeaf(ce),be=a(xe,1),ke=be[0];return ke instanceof j.default.Embed?(Q===V.keys.LEFT?G?this.quill.setSelection(fe.index-1,fe.length+1,C.default.sources.USER):this.quill.setSelection(fe.index-1,C.default.sources.USER):G?this.quill.setSelection(fe.index,fe.length+1,C.default.sources.USER):this.quill.setSelection(fe.index+fe.length+1,C.default.sources.USER),!1):!0}),ne}function W(Q,G){if(!(Q.index===0||this.quill.getLength()<=1)){var ne=this.quill.getLine(Q.index),Z=a(ne,1),re=Z[0],fe={};if(G.offset===0){var ce=this.quill.getLine(Q.index-1),xe=a(ce,1),be=xe[0];if(be!=null&&be.length()>1){var ke=re.formats(),Te=this.quill.getFormat(Q.index-1,1);fe=b.default.attributes.diff(ke,Te)||{}}}var De=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(Q.index-De,De,C.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(Q.index-De,De,fe,C.default.sources.USER),this.quill.focus()}}function F(Q,G){var ne=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(Q.index>=this.quill.getLength()-ne)){var Z={},re=0,fe=this.quill.getLine(Q.index),ce=a(fe,1),xe=ce[0];if(G.offset>=xe.length()-1){var be=this.quill.getLine(Q.index+1),ke=a(be,1),Te=ke[0];if(Te){var De=xe.formats(),ae=this.quill.getFormat(Q.index,1);Z=b.default.attributes.diff(De,ae)||{},re=Te.length()}}this.quill.deleteText(Q.index,ne,C.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(Q.index+re-1,ne,Z,C.default.sources.USER)}}function L(Q){var G=this.quill.getLines(Q),ne={};if(G.length>1){var Z=G[0].formats(),re=G[G.length-1].formats();ne=b.default.attributes.diff(re,Z)||{}}this.quill.deleteText(Q,C.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(Q.index,1,ne,C.default.sources.USER),this.quill.setSelection(Q.index,C.default.sources.SILENT),this.quill.focus()}function q(Q,G){var ne=this;Q.length>0&&this.quill.scroll.deleteAt(Q.index,Q.length);var Z=Object.keys(G.format).reduce(function(re,fe){return j.default.query(fe,j.default.Scope.BLOCK)&&!Array.isArray(G.format[fe])&&(re[fe]=G.format[fe]),re},{});this.quill.insertText(Q.index,`
`,Z,C.default.sources.USER),this.quill.setSelection(Q.index+1,C.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(re){Z[re]==null&&(Array.isArray(G.format[re])||re!=="link"&&ne.quill.format(re,G.format[re],C.default.sources.USER))})}function K(Q){return{key:V.keys.TAB,shiftKey:!Q,format:{"code-block":!0},handler:function(ne){var Z=j.default.query("code-block"),re=ne.index,fe=ne.length,ce=this.quill.scroll.descendant(Z,re),xe=a(ce,2),be=xe[0],ke=xe[1];if(be!=null){var Te=this.quill.getIndex(be),De=be.newlineIndex(ke,!0)+1,ae=be.newlineIndex(Te+ke+fe),ge=be.domNode.textContent.slice(De,ae).split(`
`);ke=0,ge.forEach(function(X,ie){Q?(be.insertAt(De+ke,Z.TAB),ke+=Z.TAB.length,ie===0?re+=Z.TAB.length:fe+=Z.TAB.length):X.startsWith(Z.TAB)&&(be.deleteAt(De+ke,Z.TAB.length),ke-=Z.TAB.length,ie===0?re-=Z.TAB.length:fe-=Z.TAB.length),ke+=X.length+1}),this.quill.update(C.default.sources.USER),this.quill.setSelection(re,fe,C.default.sources.SILENT)}}}}function ee(Q){return{key:Q[0].toUpperCase(),shortKey:!0,handler:function(ne,Z){this.quill.format(Q,!Z.format[Q],C.default.sources.USER)}}}function te(Q){if(typeof Q=="string"||typeof Q=="number")return te({key:Q});if((typeof Q>"u"?"undefined":s(Q))==="object"&&(Q=(0,u.default)(Q,!1)),typeof Q.key=="string")if(V.keys[Q.key.toUpperCase()]!=null)Q.key=V.keys[Q.key.toUpperCase()];else if(Q.key.length===1)Q.key=Q.key.toUpperCase().charCodeAt(0);else return null;return Q.shortKey&&(Q[H]=Q.shortKey,delete Q.shortKey),Q}n.default=V,n.SHORTKEY=H}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function b(w,j){var S=[],C=!0,E=!1,k=void 0;try{for(var O=w[Symbol.iterator](),M;!(C=(M=O.next()).done)&&(S.push(M.value),!(j&&S.length===j));C=!0);}catch(R){E=!0,k=R}finally{try{!C&&O.return&&O.return()}finally{if(E)throw k}}return S}return function(w,j){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return b(w,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function b(w,j,S){w===null&&(w=Function.prototype);var C=Object.getOwnPropertyDescriptor(w,j);if(C===void 0){var E=Object.getPrototypeOf(w);return E===null?void 0:b(E,j,S)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(S)}},l=(function(){function b(w,j){for(var S=0;S<j.length;S++){var C=j[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,j,S){return j&&b(w.prototype,j),S&&b(w,S),w}})(),c=i(0),u=m(c),f=i(7),d=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function x(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function y(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var v=(function(b){y(w,b),l(w,null,[{key:"value",value:function(){}}]);function w(j,S){p(this,w);var C=x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j));return C.selection=S,C.textNode=document.createTextNode(w.CONTENTS),C.domNode.appendChild(C.textNode),C._length=0,C}return l(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,C){if(this._length!==0)return a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,S,C);for(var E=this,k=0;E!=null&&E.statics.scope!==u.default.Scope.BLOCK_BLOT;)k+=E.offset(E.parent),E=E.parent;E!=null&&(this._length=w.CONTENTS.length,E.optimize(),E.formatAt(k,w.CONTENTS.length,S,C),this._length=0)}},{key:"index",value:function(S,C){return S===this.textNode?0:a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,S,C)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,C=this.selection.getNativeRange(),E=void 0,k=void 0,O=void 0;if(C!=null&&C.start.node===S&&C.end.node===S){var M=[S,C.start.offset,C.end.offset];E=M[0],k=M[1],O=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var R=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof d.default?(E=this.next.domNode,this.next.insertAt(0,R),this.textNode.data=w.CONTENTS):(this.textNode.data=R,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var T=[k,O].map(function(I){return Math.max(0,Math.min(E.data.length,I-1))}),P=s(T,2);return k=P[0],O=P[1],{startNode:E,startOffset:k,endNode:E,endOffset:O}}}}},{key:"update",value:function(S,C){var E=this;if(S.some(function(O){return O.type==="characterData"&&O.target===E.textNode})){var k=this.restore();k&&(C.range=k)}}},{key:"value",value:function(){return""}}]),w})(u.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",n.default=v}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=u(s),l=i(4),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function d(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){m(y,x);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(a.default.Container);p.allowedChildren=[c.default,l.BlockEmbed,p],n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var s=(function(){function v(b,w){for(var j=0;j<w.length;j++){var S=w[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,w,j){return w&&v(b.prototype,w),j&&v(b,j),b}})(),a=function v(b,w,j){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,w);if(S===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:v(C,w,j)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(j)}},l=i(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function d(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var p=(function(v){m(b,v);function b(){return f(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(j){var S=a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,j);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(C){return("00"+parseInt(C).toString(16)).slice(-2)}).join("")):S}}]),b})(c.default.Attributor.Style),x=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),y=new p("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=x,n.ColorStyle=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var s=(function(){function y(v,b){for(var w=0;w<b.length;w++){var j=b[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}})(),a=function y(v,b,w){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,b);if(j===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:y(S,b,w)}else{if("value"in j)return j.value;var C=j.get;return C===void 0?void 0:C.call(w)}},l=i(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return f(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(w,j){if(w!==this.statics.blotName||!j)return a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,j);j=this.constructor.sanitize(j),this.domNode.setAttribute("href",j)}}],[{key:"create",value:function(w){var j=a(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return w=this.sanitize(w),j.setAttribute("href",w),j.setAttribute("rel","noopener noreferrer"),j.setAttribute("target","_blank"),j}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return x(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),v})(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function x(y,v){var b=document.createElement("a");b.href=y;var w=b.href.slice(0,b.href.indexOf(":"));return v.indexOf(w)>-1}n.default=p,n.sanitize=x}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},a=(function(){function v(b,w){for(var j=0;j<w.length;j++){var S=w[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,w,j){return w&&v(b.prototype,w),j&&v(b,j),b}})(),l=i(23),c=d(l),u=i(107),f=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function m(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function x(v,b){v.setAttribute(b,v.getAttribute(b)!=="true")}var y=(function(){function v(b){var w=this;m(this,v),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(j){switch(j.keyCode){case c.default.keys.ENTER:w.togglePicker();break;case c.default.keys.ESCAPE:w.escape(),j.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),x(this.label,"aria-expanded"),x(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var j=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),w.hasAttribute("value")&&S.setAttribute("data-value",w.getAttribute("value")),w.textContent&&S.setAttribute("data-label",w.textContent),S.addEventListener("click",function(){j.selectItem(S,!0)}),S.addEventListener("keydown",function(C){switch(C.keyCode){case c.default.keys.ENTER:j.selectItem(S,!0),C.preventDefault();break;case c.default.keys.ESCAPE:j.escape(),C.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=f.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,j=document.createElement("span");j.classList.add("ql-picker-options"),j.setAttribute("aria-hidden","true"),j.tabIndex="-1",j.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",j.id),this.options=j,[].slice.call(this.select.options).forEach(function(S){var C=w.buildItem(S);j.appendChild(C),S.selected===!0&&w.selectItem(C)}),this.container.appendChild(j)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(j){w.container.setAttribute(j.name,j.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(w!==S&&(S!=null&&S.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),j))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var C=document.createEvent("Event");C.initEvent("change",!0,!0),this.select.dispatchEvent(C)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var j=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(j)}else this.selectItem(null);var S=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),v})();n.default=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=$(s),l=i(5),c=$(l),u=i(4),f=$(u),d=i(16),m=$(d),p=i(25),x=$(p),y=i(24),v=$(y),b=i(35),w=$(b),j=i(6),S=$(j),C=i(22),E=$(C),k=i(7),O=$(k),M=i(55),R=$(M),T=i(42),P=$(T),I=i(23),B=$(I);function $(H){return H&&H.__esModule?H:{default:H}}c.default.register({"blots/block":f.default,"blots/block/embed":u.BlockEmbed,"blots/break":m.default,"blots/container":x.default,"blots/cursor":v.default,"blots/embed":w.default,"blots/inline":S.default,"blots/scroll":E.default,"blots/text":O.default,"modules/clipboard":R.default,"modules/history":P.default,"modules/keyboard":B.default}),a.default.register(f.default,m.default,v.default,S.default,E.default,O.default),n.default=c.default}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=(function(){function l(c){this.domNode=c,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return s.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},l.prototype.deleteAt=function(c,u){var f=this.isolate(c,u);f.remove()},l.prototype.formatAt=function(c,u,f,d){var m=this.isolate(c,u);if(s.query(f,s.Scope.BLOT)!=null&&d)m.wrap(f,d);else if(s.query(f,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);m.wrap(p),p.format(f,d)}},l.prototype.insertAt=function(c,u,f){var d=f==null?s.create("text",u):s.create(u,f),m=this.split(c);this.parent.insertBefore(d,m)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var f=null;c.children.insertBefore(this,u),u!=null&&(f=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=f)&&c.domNode.insertBefore(this.domNode,f),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var f=this.split(c);return f.split(u),f},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var f=typeof c=="string"?s.create(c,u):c;return f.replace(this),f},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var f=typeof c=="string"?s.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},l.blotName="abstract",l})();n.default=a}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),a=i(32),l=i(33),c=i(1),u=(function(){function f(d){this.attributes={},this.domNode=d,this.build()}return f.prototype.attribute=function(d,m){m?d.add(this.domNode,m)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},f.prototype.build=function(){var d=this;this.attributes={};var m=s.default.keys(this.domNode),p=a.default.keys(this.domNode),x=l.default.keys(this.domNode);m.concat(p).concat(x).forEach(function(y){var v=c.query(y,c.Scope.ATTRIBUTE);v instanceof s.default&&(d.attributes[v.attrName]=v)})},f.prototype.copy=function(d){var m=this;Object.keys(this.attributes).forEach(function(p){var x=m.attributes[p].value(m.domNode);d.format(p,x)})},f.prototype.move=function(d){var m=this;this.copy(d),Object.keys(this.attributes).forEach(function(p){m.attributes[p].remove(m.domNode)}),this.attributes={}},f.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(m,p){return m[p]=d.attributes[p].value(d.domNode),m},{})},f})();n.default=u}),(function(r,n,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m])};return function(f,d){u(f,d);function m(){this.constructor=f}f.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);function l(u,f){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(m){return m.indexOf(f+"-")===0})}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},f.prototype.add=function(d,m){return this.canAdd(d,m)?(this.remove(d),d.classList.add(this.keyName+"-"+m),!0):!1},f.prototype.remove=function(d){var m=l(d,this.keyName);m.forEach(function(p){d.classList.remove(p)}),d.classList.length===0&&d.removeAttribute("class")},f.prototype.value=function(d){var m=l(d,this.keyName)[0]||"",p=m.slice(this.keyName.length+1);return this.canAdd(d,p)?p:""},f})(a.default);n.default=c}),(function(r,n,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m])};return function(f,d){u(f,d);function m(){this.constructor=f}f.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);function l(u){var f=u.split("-"),d=f.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return f[0]+d}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(m){var p=m.split(":");return p[0].trim()})},f.prototype.add=function(d,m){return this.canAdd(d,m)?(d.style[l(this.keyName)]=m,!0):!1},f.prototype.remove=function(d){d.style[l(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},f.prototype.value=function(d){var m=d.style[l(this.keyName)];return this.canAdd(d,m)?m:""},f})(a.default);n.default=c}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function c(u,f){for(var d=0;d<f.length;d++){var m=f[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,f,d){return f&&c(u.prototype,f),d&&c(u,d),u}})();function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=(function(){function c(u,f){a(this,c),this.quill=u,this.options=f,this.modules={}}return s(c,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(d){f.modules[d]==null&&f.addModule(d)})}},{key:"addModule",value:function(f){var d=this.quill.constructor.import("modules/"+f);return this.modules[f]=new d(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),c})();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function b(w,j){for(var S=0;S<j.length;S++){var C=j[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,j,S){return j&&b(w.prototype,j),S&&b(w,S),w}})(),a=function b(w,j,S){w===null&&(w=Function.prototype);var C=Object.getOwnPropertyDescriptor(w,j);if(C===void 0){var E=Object.getPrototypeOf(w);return E===null?void 0:b(E,j,S)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(S)}},l=i(0),c=d(l),u=i(7),f=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function m(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function p(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function x(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y="\uFEFF",v=(function(b){x(w,b);function w(j){m(this,w);var S=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(C){S.contentNode.appendChild(C)}),S.leftGuard=document.createTextNode(y),S.rightGuard=document.createTextNode(y),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return s(w,[{key:"index",value:function(S,C){return S===this.leftGuard?0:S===this.rightGuard?1:a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,S,C)}},{key:"restore",value:function(S){var C=void 0,E=void 0,k=S.data.split(y).join("");if(S===this.leftGuard)if(this.prev instanceof f.default){var O=this.prev.length();this.prev.insertAt(O,k),C={startNode:this.prev.domNode,startOffset:O+k.length}}else E=document.createTextNode(k),this.parent.insertBefore(c.default.create(E),this),C={startNode:E,startOffset:k.length};else S===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,k),C={startNode:this.next.domNode,startOffset:k.length}):(E=document.createTextNode(k),this.parent.insertBefore(c.default.create(E),this.next),C={startNode:E,startOffset:k.length}));return S.data=y,C}},{key:"update",value:function(S,C){var E=this;S.forEach(function(k){if(k.type==="characterData"&&(k.target===E.leftGuard||k.target===E.rightGuard)){var O=E.restore(k.target);O&&(C.range=O)}})}}]),w})(c.default.Embed);n.default=v}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var s=i(0),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new a.default.Attributor.Attribute("align","align",c),f=new a.default.Attributor.Class("align","ql-align",c),d=new a.default.Attributor.Style("align","text-align",c);n.AlignAttribute=u,n.AlignClass=f,n.AlignStyle=d}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var s=i(0),a=c(s),l=i(26);function c(d){return d&&d.__esModule?d:{default:d}}var u=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),f=new l.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=f}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var s=i(0),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},u=new a.default.Attributor.Attribute("direction","dir",c),f=new a.default.Attributor.Class("direction","ql-direction",c),d=new a.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=u,n.DirectionClass=f,n.DirectionStyle=d}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var s=(function(){function b(w,j){for(var S=0;S<j.length;S++){var C=j[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,j,S){return j&&b(w.prototype,j),S&&b(w,S),w}})(),a=function b(w,j,S){w===null&&(w=Function.prototype);var C=Object.getOwnPropertyDescriptor(w,j);if(C===void 0){var E=Object.getPrototypeOf(w);return E===null?void 0:b(E,j,S)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(S)}},l=i(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function f(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function d(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},x=new c.default.Attributor.Class("font","ql-font",p),y=(function(b){m(w,b);function w(){return f(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"value",value:function(S){return a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),w})(c.default.Attributor.Style),v=new y("font","font-family",p);n.FontStyle=v,n.FontClass=x}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var s=i(0),a=l(s);function l(f){return f&&f.__esModule?f:{default:f}}var c=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=u}),(function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var s=(function(){function j(S,C){for(var E=0;E<C.length;E++){var k=C[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,C,E){return C&&j(S.prototype,C),E&&j(S,E),S}})(),a=i(0),l=m(a),c=i(5),u=m(c),f=i(9),d=m(f);function m(j){return j&&j.__esModule?j:{default:j}}function p(j,S){if(!(j instanceof S))throw new TypeError("Cannot call a class as a function")}function x(j,S){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:j}function y(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(j,S):j.__proto__=S)}var v=(function(j){y(S,j);function S(C,E){p(this,S);var k=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,C,E));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(u.default.events.EDITOR_CHANGE,function(O,M,R,T){O!==u.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||T===u.default.sources.USER?k.record(M,R):k.transform(M))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return s(S,[{key:"change",value:function(E,k){if(this.stack[E].length!==0){var O=this.stack[E].pop();this.stack[k].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[E],u.default.sources.USER),this.ignoreChange=!1;var M=w(O[E]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(E,k){if(E.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(k),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var R=this.stack.undo.pop();O=O.compose(R.undo),E=R.redo.compose(E)}else this.lastRecorded=M;this.stack.undo.push({redo:E,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(E){this.stack.undo.forEach(function(k){k.undo=E.transform(k.undo,!0),k.redo=E.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=E.transform(k.undo,!0),k.redo=E.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S})(d.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(j){var S=j.ops[j.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(C){return l.default.query(C,l.default.Scope.BLOCK)!=null}):!1}function w(j){var S=j.reduce(function(E,k){return E+=k.delete||0,E},0),C=j.length()-S;return b(j)&&(C-=1),C}n.default=v,n.getLastChangeIndex=w}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var s=(function(){function q(K,ee){for(var te=0;te<ee.length;te++){var Q=ee[te];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(K,Q.key,Q)}}return function(K,ee,te){return ee&&q(K.prototype,ee),te&&q(K,te),K}})(),a=function q(K,ee,te){K===null&&(K=Function.prototype);var Q=Object.getOwnPropertyDescriptor(K,ee);if(Q===void 0){var G=Object.getPrototypeOf(K);return G===null?void 0:q(G,ee,te)}else{if("value"in Q)return Q.value;var ne=Q.get;return ne===void 0?void 0:ne.call(te)}},l=i(3),c=M(l),u=i(2),f=M(u),d=i(8),m=M(d),p=i(23),x=M(p),y=i(34),v=M(y),b=i(59),w=M(b),j=i(60),S=M(j),C=i(28),E=M(C),k=i(61),O=M(k);function M(q){return q&&q.__esModule?q:{default:q}}function R(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}function T(q,K){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:q}function P(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);q.prototype=Object.create(K&&K.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(q,K):q.__proto__=K)}var I=[!1,"center","right","justify"],B=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],$=[!1,"serif","monospace"],H=["1","2","3",!1],V=["small",!1,"large","huge"],U=(function(q){P(K,q);function K(ee,te){R(this,K);var Q=T(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ee,te)),G=function ne(Z){if(!document.body.contains(ee.root))return document.body.removeEventListener("click",ne);Q.tooltip!=null&&!Q.tooltip.root.contains(Z.target)&&document.activeElement!==Q.tooltip.textbox&&!Q.quill.hasFocus()&&Q.tooltip.hide(),Q.pickers!=null&&Q.pickers.forEach(function(re){re.container.contains(Z.target)||re.close()})};return ee.emitter.listenDOM("click",document.body,G),Q}return s(K,[{key:"addModule",value:function(te){var Q=a(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,te);return te==="toolbar"&&this.extendToolbar(Q),Q}},{key:"buildButtons",value:function(te,Q){te.forEach(function(G){var ne=G.getAttribute("class")||"";ne.split(/\s+/).forEach(function(Z){if(Z.startsWith("ql-")&&(Z=Z.slice(3),Q[Z]!=null))if(Z==="direction")G.innerHTML=Q[Z][""]+Q[Z].rtl;else if(typeof Q[Z]=="string")G.innerHTML=Q[Z];else{var re=G.value||"";re!=null&&Q[Z][re]&&(G.innerHTML=Q[Z][re])}})})}},{key:"buildPickers",value:function(te,Q){var G=this;this.pickers=te.map(function(Z){if(Z.classList.contains("ql-align"))return Z.querySelector("option")==null&&L(Z,I),new S.default(Z,Q.align);if(Z.classList.contains("ql-background")||Z.classList.contains("ql-color")){var re=Z.classList.contains("ql-background")?"background":"color";return Z.querySelector("option")==null&&L(Z,B,re==="background"?"#ffffff":"#000000"),new w.default(Z,Q[re])}else return Z.querySelector("option")==null&&(Z.classList.contains("ql-font")?L(Z,$):Z.classList.contains("ql-header")?L(Z,H):Z.classList.contains("ql-size")&&L(Z,V)),new E.default(Z)});var ne=function(){G.pickers.forEach(function(re){re.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,ne)}}]),K})(v.default);U.DEFAULTS=(0,c.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,ee=this.container.querySelector("input.ql-image[type=file]");ee==null&&(ee=document.createElement("input"),ee.setAttribute("type","file"),ee.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ee.classList.add("ql-image"),ee.addEventListener("change",function(){if(ee.files!=null&&ee.files[0]!=null){var te=new FileReader;te.onload=function(Q){var G=K.quill.getSelection(!0);K.quill.updateContents(new f.default().retain(G.index).delete(G.length).insert({image:Q.target.result}),m.default.sources.USER),K.quill.setSelection(G.index+1,m.default.sources.SILENT),ee.value=""},te.readAsDataURL(ee.files[0])}}),this.container.appendChild(ee)),ee.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=(function(q){P(K,q);function K(ee,te){R(this,K);var Q=T(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ee,te));return Q.textbox=Q.root.querySelector('input[type="text"]'),Q.listen(),Q}return s(K,[{key:"listen",value:function(){var te=this;this.textbox.addEventListener("keydown",function(Q){x.default.match(Q,"enter")?(te.save(),Q.preventDefault()):x.default.match(Q,"escape")&&(te.cancel(),Q.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Q!=null?this.textbox.value=Q:te!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+te)||""),this.root.setAttribute("data-mode",te)}},{key:"restoreFocus",value:function(){var te=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=te}},{key:"save",value:function(){var te=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Q=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",te,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",te,m.default.sources.USER)),this.quill.root.scrollTop=Q;break}case"video":te=F(te);case"formula":{if(!te)break;var G=this.quill.getSelection(!0);if(G!=null){var ne=G.index+G.length;this.quill.insertEmbed(ne,this.root.getAttribute("data-mode"),te,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ne+1," ",m.default.sources.USER),this.quill.setSelection(ne+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K})(O.default);function F(q){var K=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":q}function L(q,K){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(te){var Q=document.createElement("option");te===ee?Q.setAttribute("selected","selected"):Q.setAttribute("value",te),q.appendChild(Q)})}n.BaseTooltip=W,n.default=U}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},a.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},a.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},a.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},a.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},a.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},a.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,f=this.iterator();u=f();){var d=u.length();if(l<d||c&&l===d&&(u.next==null||u.next.length()!==0))return[u,l];l-=d}return[null,0]},a.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},a.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var f=this.find(l),d=f[0],m=f[1],p,x=l-m,y=this.iterator(d);(p=y())&&x<l+c;){var v=p.length();l>x?u(p,l-x,Math.min(c,x+v-l)):u(p,0,Math.min(v,l+c-x)),x+=v}},a.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},a.prototype.reduce=function(l,c){for(var u,f=this.iterator();u=f();)c=l(c,u);return c},a})();n.default=s}),(function(r,n,i){var s=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var x in p)p.hasOwnProperty(x)&&(m[x]=p[x])};return function(m,p){d(m,p);function x(){this.constructor=m}m.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),l=i(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,f=(function(d){s(m,d);function m(p){var x=d.call(this,p)||this;return x.scroll=x,x.observer=new MutationObserver(function(y){x.update(y)}),x.observer.observe(x.domNode,c),x.attach(),x}return m.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(p,x){this.update(),p===0&&x===this.length()?this.children.forEach(function(y){y.remove()}):d.prototype.deleteAt.call(this,p,x)},m.prototype.formatAt=function(p,x,y,v){this.update(),d.prototype.formatAt.call(this,p,x,y,v)},m.prototype.insertAt=function(p,x,y){this.update(),d.prototype.insertAt.call(this,p,x,y)},m.prototype.optimize=function(p,x){var y=this;p===void 0&&(p=[]),x===void 0&&(x={}),d.prototype.optimize.call(this,x);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)p.push(v.pop());for(var b=function(C,E){E===void 0&&(E=!0),!(C==null||C===y)&&C.domNode.parentNode!=null&&(C.domNode[l.DATA_KEY].mutations==null&&(C.domNode[l.DATA_KEY].mutations=[]),E&&b(C.parent))},w=function(C){C.domNode[l.DATA_KEY]==null||C.domNode[l.DATA_KEY].mutations==null||(C instanceof a.default&&C.children.forEach(w),C.optimize(x))},j=p,S=0;j.length>0;S+=1){if(S>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(j.forEach(function(C){var E=l.find(C.target,!0);E!=null&&(E.domNode===C.target&&(C.type==="childList"?(b(l.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(k){var O=l.find(k,!1);b(O,!1),O instanceof a.default&&O.children.forEach(function(M){b(M,!1)})})):C.type==="attributes"&&b(E.prev)),b(E))}),this.children.forEach(w),j=[].slice.call(this.observer.takeRecords()),v=j.slice();v.length>0;)p.push(v.pop())}},m.prototype.update=function(p,x){var y=this;x===void 0&&(x={}),p=p||this.observer.takeRecords(),p.map(function(v){var b=l.find(v.target,!0);return b==null?null:b.domNode[l.DATA_KEY].mutations==null?(b.domNode[l.DATA_KEY].mutations=[v],b):(b.domNode[l.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===y||v.domNode[l.DATA_KEY]==null||v.update(v.domNode[l.DATA_KEY].mutations||[],x)}),this.domNode[l.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,x),this.optimize(p,x)},m.blotName="scroll",m.defaultChild="block",m.scope=l.Scope.BLOCK_BLOT,m.tagName="DIV",m})(a.default);n.default=f}),(function(r,n,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var p in m)m.hasOwnProperty(p)&&(d[p]=m[p])};return function(d,m){f(d,m);function p(){this.constructor=d}d.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(18),l=i(1);function c(f,d){if(Object.keys(f).length!==Object.keys(d).length)return!1;for(var m in f)if(f[m]!==d[m])return!1;return!0}var u=(function(f){s(d,f);function d(){return f!==null&&f.apply(this,arguments)||this}return d.formats=function(m){if(m.tagName!==d.tagName)return f.formats.call(this,m)},d.prototype.format=function(m,p){var x=this;m===this.statics.blotName&&!p?(this.children.forEach(function(y){y instanceof a.default||(y=y.wrap(d.blotName,!0)),x.attributes.copy(y)}),this.unwrap()):f.prototype.format.call(this,m,p)},d.prototype.formatAt=function(m,p,x,y){if(this.formats()[x]!=null||l.query(x,l.Scope.ATTRIBUTE)){var v=this.isolate(m,p);v.format(x,y)}else f.prototype.formatAt.call(this,m,p,x,y)},d.prototype.optimize=function(m){f.prototype.optimize.call(this,m);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var x=this.next;x instanceof d&&x.prev===this&&c(p,x.formats())&&(x.moveChildren(this),x.remove())},d.blotName="inline",d.scope=l.Scope.INLINE_BLOT,d.tagName="SPAN",d})(a.default);n.default=u}),(function(r,n,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m])};return function(f,d){u(f,d);function m(){this.constructor=f}f.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(18),l=i(1),c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(d){var m=l.query(f.blotName).tagName;if(d.tagName!==m)return u.formats.call(this,d)},f.prototype.format=function(d,m){l.query(d,l.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!m?this.replaceWith(f.blotName):u.prototype.format.call(this,d,m))},f.prototype.formatAt=function(d,m,p,x){l.query(p,l.Scope.BLOCK)!=null?this.format(p,x):u.prototype.formatAt.call(this,d,m,p,x)},f.prototype.insertAt=function(d,m,p){if(p==null||l.query(m,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,m,p);else{var x=this.split(d),y=l.create(m,p);x.parent.insertBefore(y,x)}},f.prototype.update=function(d,m){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,m)},f.blotName="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="P",f})(a.default);n.default=c}),(function(r,n,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])};return function(u,f){c(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(19),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){},u.prototype.format=function(f,d){c.prototype.formatAt.call(this,0,this.length(),f,d)},u.prototype.formatAt=function(f,d,m,p){f===0&&d===this.length()?this.format(m,p):c.prototype.formatAt.call(this,f,d,m,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u})(a.default);n.default=l}),(function(r,n,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m])};return function(f,d){u(f,d);function m(){this.constructor=f}f.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(19),l=i(1),c=(function(u){s(f,u);function f(d){var m=u.call(this,d)||this;return m.text=m.statics.value(m.domNode),m}return f.create=function(d){return document.createTextNode(d)},f.value=function(d){var m=d.data;return m.normalize&&(m=m.normalize()),m},f.prototype.deleteAt=function(d,m){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+m)},f.prototype.index=function(d,m){return this.domNode===d?m:-1},f.prototype.insertAt=function(d,m,p){p==null?(this.text=this.text.slice(0,d)+m+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,m,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(d,m){return[this.domNode,d]},f.prototype.split=function(d,m){if(m===void 0&&(m=!1),!m){if(d===0)return this;if(d===this.length())return this.next}var p=l.create(this.domNode.splitText(d));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(d,m){var p=this;d.some(function(x){return x.type==="characterData"&&x.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=l.Scope.INLINE_BLOT,f})(a.default);n.default=c}),(function(r,n,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:a.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var f=u.indexOf(l,c);return f!==-1&&f===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,d=arguments[1],m,p=0;p<f;p++)if(m=u[p],c.call(d,m,p,u))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(r,n){var i=-1,s=1,a=0;function l(S,C,E){if(S==C)return S?[[a,S]]:[];(E<0||S.length<E)&&(E=null);var k=d(S,C),O=S.substring(0,k);S=S.substring(k),C=C.substring(k),k=m(S,C);var M=S.substring(S.length-k);S=S.substring(0,S.length-k),C=C.substring(0,C.length-k);var R=c(S,C);return O&&R.unshift([a,O]),M&&R.push([a,M]),x(R),E!=null&&(R=b(R,E)),R=w(R),R}function c(S,C){var E;if(!S)return[[s,C]];if(!C)return[[i,S]];var k=S.length>C.length?S:C,O=S.length>C.length?C:S,M=k.indexOf(O);if(M!=-1)return E=[[s,k.substring(0,M)],[a,O],[s,k.substring(M+O.length)]],S.length>C.length&&(E[0][0]=E[2][0]=i),E;if(O.length==1)return[[i,S],[s,C]];var R=p(S,C);if(R){var T=R[0],P=R[1],I=R[2],B=R[3],$=R[4],H=l(T,I),V=l(P,B);return H.concat([[a,$]],V)}return u(S,C)}function u(S,C){for(var E=S.length,k=C.length,O=Math.ceil((E+k)/2),M=O,R=2*O,T=new Array(R),P=new Array(R),I=0;I<R;I++)T[I]=-1,P[I]=-1;T[M+1]=0,P[M+1]=0;for(var B=E-k,$=B%2!=0,H=0,V=0,U=0,W=0,F=0;F<O;F++){for(var L=-F+H;L<=F-V;L+=2){var q=M+L,K;L==-F||L!=F&&T[q-1]<T[q+1]?K=T[q+1]:K=T[q-1]+1;for(var ee=K-L;K<E&&ee<k&&S.charAt(K)==C.charAt(ee);)K++,ee++;if(T[q]=K,K>E)V+=2;else if(ee>k)H+=2;else if($){var te=M+B-L;if(te>=0&&te<R&&P[te]!=-1){var Q=E-P[te];if(K>=Q)return f(S,C,K,ee)}}}for(var G=-F+U;G<=F-W;G+=2){var te=M+G,Q;G==-F||G!=F&&P[te-1]<P[te+1]?Q=P[te+1]:Q=P[te-1]+1;for(var ne=Q-G;Q<E&&ne<k&&S.charAt(E-Q-1)==C.charAt(k-ne-1);)Q++,ne++;if(P[te]=Q,Q>E)W+=2;else if(ne>k)U+=2;else if(!$){var q=M+B-G;if(q>=0&&q<R&&T[q]!=-1){var K=T[q],ee=M+K-q;if(Q=E-Q,K>=Q)return f(S,C,K,ee)}}}}return[[i,S],[s,C]]}function f(S,C,E,k){var O=S.substring(0,E),M=C.substring(0,k),R=S.substring(E),T=C.substring(k),P=l(O,M),I=l(R,T);return P.concat(I)}function d(S,C){if(!S||!C||S.charAt(0)!=C.charAt(0))return 0;for(var E=0,k=Math.min(S.length,C.length),O=k,M=0;E<O;)S.substring(M,O)==C.substring(M,O)?(E=O,M=E):k=O,O=Math.floor((k-E)/2+E);return O}function m(S,C){if(!S||!C||S.charAt(S.length-1)!=C.charAt(C.length-1))return 0;for(var E=0,k=Math.min(S.length,C.length),O=k,M=0;E<O;)S.substring(S.length-O,S.length-M)==C.substring(C.length-O,C.length-M)?(E=O,M=E):k=O,O=Math.floor((k-E)/2+E);return O}function p(S,C){var E=S.length>C.length?S:C,k=S.length>C.length?C:S;if(E.length<4||k.length*2<E.length)return null;function O(V,U,W){for(var F=V.substring(W,W+Math.floor(V.length/4)),L=-1,q="",K,ee,te,Q;(L=U.indexOf(F,L+1))!=-1;){var G=d(V.substring(W),U.substring(L)),ne=m(V.substring(0,W),U.substring(0,L));q.length<ne+G&&(q=U.substring(L-ne,L)+U.substring(L,L+G),K=V.substring(0,W-ne),ee=V.substring(W+G),te=U.substring(0,L-ne),Q=U.substring(L+G))}return q.length*2>=V.length?[K,ee,te,Q,q]:null}var M=O(E,k,Math.ceil(E.length/4)),R=O(E,k,Math.ceil(E.length/2)),T;if(!M&&!R)return null;R?M?T=M[4].length>R[4].length?M:R:T=R:T=M;var P,I,B,$;S.length>C.length?(P=T[0],I=T[1],B=T[2],$=T[3]):(B=T[0],$=T[1],P=T[2],I=T[3]);var H=T[4];return[P,I,B,$,H]}function x(S){S.push([a,""]);for(var C=0,E=0,k=0,O="",M="",R;C<S.length;)switch(S[C][0]){case s:k++,M+=S[C][1],C++;break;case i:E++,O+=S[C][1],C++;break;case a:E+k>1?(E!==0&&k!==0&&(R=d(M,O),R!==0&&(C-E-k>0&&S[C-E-k-1][0]==a?S[C-E-k-1][1]+=M.substring(0,R):(S.splice(0,0,[a,M.substring(0,R)]),C++),M=M.substring(R),O=O.substring(R)),R=m(M,O),R!==0&&(S[C][1]=M.substring(M.length-R)+S[C][1],M=M.substring(0,M.length-R),O=O.substring(0,O.length-R))),E===0?S.splice(C-k,E+k,[s,M]):k===0?S.splice(C-E,E+k,[i,O]):S.splice(C-E-k,E+k,[i,O],[s,M]),C=C-E-k+(E?1:0)+(k?1:0)+1):C!==0&&S[C-1][0]==a?(S[C-1][1]+=S[C][1],S.splice(C,1)):C++,k=0,E=0,O="",M="";break}S[S.length-1][1]===""&&S.pop();var T=!1;for(C=1;C<S.length-1;)S[C-1][0]==a&&S[C+1][0]==a&&(S[C][1].substring(S[C][1].length-S[C-1][1].length)==S[C-1][1]?(S[C][1]=S[C-1][1]+S[C][1].substring(0,S[C][1].length-S[C-1][1].length),S[C+1][1]=S[C-1][1]+S[C+1][1],S.splice(C-1,1),T=!0):S[C][1].substring(0,S[C+1][1].length)==S[C+1][1]&&(S[C-1][1]+=S[C+1][1],S[C][1]=S[C][1].substring(S[C+1][1].length)+S[C+1][1],S.splice(C+1,1),T=!0)),C++;T&&x(S)}var y=l;y.INSERT=s,y.DELETE=i,y.EQUAL=a,r.exports=y;function v(S,C){if(C===0)return[a,S];for(var E=0,k=0;k<S.length;k++){var O=S[k];if(O[0]===i||O[0]===a){var M=E+O[1].length;if(C===M)return[k+1,S];if(C<M){S=S.slice();var R=C-E,T=[O[0],O[1].slice(0,R)],P=[O[0],O[1].slice(R)];return S.splice(k,1,T,P),[k+1,S]}else E=M}}throw new Error("cursor_pos is out of bounds!")}function b(S,C){var E=v(S,C),k=E[1],O=E[0],M=k[O],R=k[O+1];if(M==null)return S;if(M[0]!==a)return S;if(R!=null&&M[1]+R[1]===R[1]+M[1])return k.splice(O,2,R,M),j(k,O,2);if(R!=null&&R[1].indexOf(M[1])===0){k.splice(O,2,[R[0],M[1]],[0,M[1]]);var T=R[1].slice(M[1].length);return T.length>0&&k.splice(O+2,0,[R[0],T]),j(k,O,3)}else return S}function w(S){for(var C=!1,E=function(R){return R.charCodeAt(0)>=56320&&R.charCodeAt(0)<=57343},k=function(R){return R.charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319},O=2;O<S.length;O+=1)S[O-2][0]===a&&k(S[O-2][1])&&S[O-1][0]===i&&E(S[O-1][1])&&S[O][0]===s&&E(S[O][1])&&(C=!0,S[O-1][1]=S[O-2][1].slice(-1)+S[O-1][1],S[O][1]=S[O-2][1].slice(-1)+S[O][1],S[O-2][1]=S[O-2][1].slice(0,-1));if(!C)return S;for(var M=[],O=0;O<S.length;O+=1)S[O][1].length>0&&M.push(S[O]);return M}function j(S,C,E){for(var k=C+E-1;k>=0&&k>=C-1;k--)if(k+1<S.length){var O=S[k],M=S[k+1];O[0]===M[1]&&S.splice(k,2,[O[0],O[1]+M[1]])}return S}}),(function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(s){var a=[];for(var l in s)a.push(l);return a}}),(function(r,n){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";n=r.exports=i?s:a,n.supported=s;function s(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=a;function a(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}}),(function(r,n){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function l(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],d,m;if(this._eventsCount===0)return f;for(m in d=this._events)i.call(d,m)&&f.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},c.prototype.listeners=function(f,d){var m=s?s+f:f,p=this._events[m];if(d)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var x=0,y=p.length,v=new Array(y);x<y;x++)v[x]=p[x].fn;return v},c.prototype.emit=function(f,d,m,p,x,y){var v=s?s+f:f;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,j,S;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,m),!0;case 4:return b.fn.call(b.context,d,m,p),!0;case 5:return b.fn.call(b.context,d,m,p,x),!0;case 6:return b.fn.call(b.context,d,m,p,x,y),!0}for(S=1,j=new Array(w-1);S<w;S++)j[S-1]=arguments[S];b.fn.apply(b.context,j)}else{var C=b.length,E;for(S=0;S<C;S++)switch(b[S].once&&this.removeListener(f,b[S].fn,void 0,!0),w){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,m);break;case 4:b[S].fn.call(b[S].context,d,m,p);break;default:if(!j)for(E=1,j=new Array(w-1);E<w;E++)j[E-1]=arguments[E];b[S].fn.apply(b[S].context,j)}}return!0},c.prototype.on=function(f,d,m){var p=new l(d,m||this),x=s?s+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},c.prototype.once=function(f,d,m){var p=new l(d,m||this,!0),x=s?s+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},c.prototype.removeListener=function(f,d,m,p){var x=s?s+f:f;if(!this._events[x])return this;if(!d)return--this._eventsCount===0?this._events=new a:delete this._events[x],this;var y=this._events[x];if(y.fn)y.fn===d&&(!p||y.once)&&(!m||y.context===m)&&(--this._eventsCount===0?this._events=new a:delete this._events[x]);else{for(var v=0,b=[],w=y.length;v<w;v++)(y[v].fn!==d||p&&!y[v].once||m&&y[v].context!==m)&&b.push(y[v]);b.length?this._events[x]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new a:delete this._events[x]}return this},c.prototype.removeAllListeners=function(f){var d;return f?(d=s?s+f:f,this._events[d]&&(--this._eventsCount===0?this._events=new a:delete this._events[d])):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=s,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},a=(function(){function ae(ge,X){var ie=[],oe=!0,je=!1,le=void 0;try{for(var he=ge[Symbol.iterator](),we;!(oe=(we=he.next()).done)&&(ie.push(we.value),!(X&&ie.length===X));oe=!0);}catch(ue){je=!0,le=ue}finally{try{!oe&&he.return&&he.return()}finally{if(je)throw le}}return ie}return function(ge,X){if(Array.isArray(ge))return ge;if(Symbol.iterator in Object(ge))return ae(ge,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function ae(ge,X){for(var ie=0;ie<X.length;ie++){var oe=X[ie];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(ge,oe.key,oe)}}return function(ge,X,ie){return X&&ae(ge.prototype,X),ie&&ae(ge,ie),ge}})(),c=i(3),u=P(c),f=i(2),d=P(f),m=i(0),p=P(m),x=i(5),y=P(x),v=i(10),b=P(v),w=i(9),j=P(w),S=i(36),C=i(37),E=i(13),k=P(E),O=i(26),M=i(38),R=i(39),T=i(40);function P(ae){return ae&&ae.__esModule?ae:{default:ae}}function I(ae,ge,X){return ge in ae?Object.defineProperty(ae,ge,{value:X,enumerable:!0,configurable:!0,writable:!0}):ae[ge]=X,ae}function B(ae,ge){if(!(ae instanceof ge))throw new TypeError("Cannot call a class as a function")}function $(ae,ge){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge&&(typeof ge=="object"||typeof ge=="function")?ge:ae}function H(ae,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);ae.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,ge):ae.__proto__=ge)}var V=(0,b.default)("quill:clipboard"),U="__ql-matcher",W=[[Node.TEXT_NODE,De],[Node.TEXT_NODE,be],["br",fe],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,ke],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,Te],["li",xe],["b",ne.bind(ne,"bold")],["i",ne.bind(ne,"italic")],["style",ce]],F=[S.AlignAttribute,M.DirectionAttribute].reduce(function(ae,ge){return ae[ge.keyName]=ge,ae},{}),L=[S.AlignStyle,C.BackgroundStyle,O.ColorStyle,M.DirectionStyle,R.FontStyle,T.SizeStyle].reduce(function(ae,ge){return ae[ge.keyName]=ge,ae},{}),q=(function(ae){H(ge,ae);function ge(X,ie){B(this,ge);var oe=$(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,X,ie));return oe.quill.root.addEventListener("paste",oe.onPaste.bind(oe)),oe.container=oe.quill.addContainer("ql-clipboard"),oe.container.setAttribute("contenteditable",!0),oe.container.setAttribute("tabindex",-1),oe.matchers=[],W.concat(oe.options.matchers).forEach(function(je){var le=a(je,2),he=le[0],we=le[1];!ie.matchVisual&&we===ke||oe.addMatcher(he,we)}),oe}return l(ge,[{key:"addMatcher",value:function(ie,oe){this.matchers.push([ie,oe])}},{key:"convert",value:function(ie){if(typeof ie=="string")return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var oe=this.quill.getFormat(this.quill.selection.savedRange.index);if(oe[k.default.blotName]){var je=this.container.innerText;return this.container.innerHTML="",new d.default().insert(je,I({},k.default.blotName,oe[k.default.blotName]))}var le=this.prepareMatching(),he=a(le,2),we=he[0],ue=he[1],Oe=G(this.container,we,ue);return te(Oe,`
`)&&Oe.ops[Oe.ops.length-1].attributes==null&&(Oe=Oe.compose(new d.default().retain(Oe.length()-1).delete(1))),V.log("convert",this.container.innerHTML,Oe),this.container.innerHTML="",Oe}},{key:"dangerouslyPasteHTML",value:function(ie,oe){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ie=="string")this.quill.setContents(this.convert(ie),oe),this.quill.setSelection(0,y.default.sources.SILENT);else{var le=this.convert(oe);this.quill.updateContents(new d.default().retain(ie).concat(le),je),this.quill.setSelection(ie+le.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var oe=this;if(!(ie.defaultPrevented||!this.quill.isEnabled())){var je=this.quill.getSelection(),le=new d.default().retain(je.index),he=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){le=le.concat(oe.convert()).delete(je.length),oe.quill.updateContents(le,y.default.sources.USER),oe.quill.setSelection(le.length()-je.length,y.default.sources.SILENT),oe.quill.scrollingContainer.scrollTop=he,oe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,oe=[],je=[];return this.matchers.forEach(function(le){var he=a(le,2),we=he[0],ue=he[1];switch(we){case Node.TEXT_NODE:je.push(ue);break;case Node.ELEMENT_NODE:oe.push(ue);break;default:[].forEach.call(ie.container.querySelectorAll(we),function(Oe){Oe[U]=Oe[U]||[],Oe[U].push(ue)});break}}),[oe,je]}}]),ge})(j.default);q.DEFAULTS={matchers:[],matchVisual:!0};function K(ae,ge,X){return(typeof ge>"u"?"undefined":s(ge))==="object"?Object.keys(ge).reduce(function(ie,oe){return K(ie,oe,ge[oe])},ae):ae.reduce(function(ie,oe){return oe.attributes&&oe.attributes[ge]?ie.push(oe):ie.insert(oe.insert,(0,u.default)({},I({},ge,X),oe.attributes))},new d.default)}function ee(ae){if(ae.nodeType!==Node.ELEMENT_NODE)return{};var ge="__ql-computed-style";return ae[ge]||(ae[ge]=window.getComputedStyle(ae))}function te(ae,ge){for(var X="",ie=ae.ops.length-1;ie>=0&&X.length<ge.length;--ie){var oe=ae.ops[ie];if(typeof oe.insert!="string")break;X=oe.insert+X}return X.slice(-1*ge.length)===ge}function Q(ae){if(ae.childNodes.length===0)return!1;var ge=ee(ae);return["block","list-item"].indexOf(ge.display)>-1}function G(ae,ge,X){return ae.nodeType===ae.TEXT_NODE?X.reduce(function(ie,oe){return oe(ae,ie)},new d.default):ae.nodeType===ae.ELEMENT_NODE?[].reduce.call(ae.childNodes||[],function(ie,oe){var je=G(oe,ge,X);return oe.nodeType===ae.ELEMENT_NODE&&(je=ge.reduce(function(le,he){return he(oe,le)},je),je=(oe[U]||[]).reduce(function(le,he){return he(oe,le)},je)),ie.concat(je)},new d.default):new d.default}function ne(ae,ge,X){return K(X,ae,!0)}function Z(ae,ge){var X=p.default.Attributor.Attribute.keys(ae),ie=p.default.Attributor.Class.keys(ae),oe=p.default.Attributor.Style.keys(ae),je={};return X.concat(ie).concat(oe).forEach(function(le){var he=p.default.query(le,p.default.Scope.ATTRIBUTE);he!=null&&(je[he.attrName]=he.value(ae),je[he.attrName])||(he=F[le],he!=null&&(he.attrName===le||he.keyName===le)&&(je[he.attrName]=he.value(ae)||void 0),he=L[le],he!=null&&(he.attrName===le||he.keyName===le)&&(he=L[le],je[he.attrName]=he.value(ae)||void 0))}),Object.keys(je).length>0&&(ge=K(ge,je)),ge}function re(ae,ge){var X=p.default.query(ae);if(X==null)return ge;if(X.prototype instanceof p.default.Embed){var ie={},oe=X.value(ae);oe!=null&&(ie[X.blotName]=oe,ge=new d.default().insert(ie,X.formats(ae)))}else typeof X.formats=="function"&&(ge=K(ge,X.blotName,X.formats(ae)));return ge}function fe(ae,ge){return te(ge,`
`)||ge.insert(`
`),ge}function ce(){return new d.default}function xe(ae,ge){var X=p.default.query(ae);if(X==null||X.blotName!=="list-item"||!te(ge,`
`))return ge;for(var ie=-1,oe=ae.parentNode;!oe.classList.contains("ql-clipboard");)(p.default.query(oe)||{}).blotName==="list"&&(ie+=1),oe=oe.parentNode;return ie<=0?ge:ge.compose(new d.default().retain(ge.length()-1).retain(1,{indent:ie}))}function be(ae,ge){return te(ge,`
`)||(Q(ae)||ge.length()>0&&ae.nextSibling&&Q(ae.nextSibling))&&ge.insert(`
`),ge}function ke(ae,ge){if(Q(ae)&&ae.nextElementSibling!=null&&!te(ge,`

`)){var X=ae.offsetHeight+parseFloat(ee(ae).marginTop)+parseFloat(ee(ae).marginBottom);ae.nextElementSibling.offsetTop>ae.offsetTop+X*1.5&&ge.insert(`
`)}return ge}function Te(ae,ge){var X={},ie=ae.style||{};return ie.fontStyle&&ee(ae).fontStyle==="italic"&&(X.italic=!0),ie.fontWeight&&(ee(ae).fontWeight.startsWith("bold")||parseInt(ee(ae).fontWeight)>=700)&&(X.bold=!0),Object.keys(X).length>0&&(ge=K(ge,X)),parseFloat(ie.textIndent||0)>0&&(ge=new d.default().insert("	").concat(ge)),ge}function De(ae,ge){var X=ae.data;if(ae.parentNode.tagName==="O:P")return ge.insert(X.trim());if(X.trim().length===0&&ae.parentNode.classList.contains("ql-clipboard"))return ge;if(!ee(ae.parentNode).whiteSpace.startsWith("pre")){var ie=function(je,le){return le=le.replace(/[^\u00a0]/g,""),le.length<1&&je?" ":le};X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,ie.bind(ie,!0)),(ae.previousSibling==null&&Q(ae.parentNode)||ae.previousSibling!=null&&Q(ae.previousSibling))&&(X=X.replace(/^\s+/,ie.bind(ie,!1))),(ae.nextSibling==null&&Q(ae.parentNode)||ae.nextSibling!=null&&Q(ae.nextSibling))&&(X=X.replace(/\s+$/,ie.bind(ie,!1)))}return ge.insert(X)}n.default=q,n.matchAttributor=Z,n.matchBlot=re,n.matchNewline=be,n.matchSpacing=ke,n.matchText=De}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}})(),a=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,v,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},l=i(6),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function d(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){m(y,x);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(b){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y})(c.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var s=(function(){function T(P,I){var B=[],$=!0,H=!1,V=void 0;try{for(var U=P[Symbol.iterator](),W;!($=(W=U.next()).done)&&(B.push(W.value),!(I&&B.length===I));$=!0);}catch(F){H=!0,V=F}finally{try{!$&&U.return&&U.return()}finally{if(H)throw V}}return B}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return T(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function T(P,I){for(var B=0;B<I.length;B++){var $=I[B];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(P,$.key,$)}}return function(P,I,B){return I&&T(P.prototype,I),B&&T(P,B),P}})(),l=i(2),c=b(l),u=i(0),f=b(u),d=i(5),m=b(d),p=i(10),x=b(p),y=i(9),v=b(y);function b(T){return T&&T.__esModule?T:{default:T}}function w(T,P,I){return P in T?Object.defineProperty(T,P,{value:I,enumerable:!0,configurable:!0,writable:!0}):T[P]=I,T}function j(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function S(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function C(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var E=(0,x.default)("quill:toolbar"),k=(function(T){C(P,T);function P(I,B){j(this,P);var $=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,B));if(Array.isArray($.options.container)){var H=document.createElement("div");M(H,$.options.container),I.container.parentNode.insertBefore(H,I.container),$.container=H}else typeof $.options.container=="string"?$.container=document.querySelector($.options.container):$.container=$.options.container;if(!($.container instanceof HTMLElement)){var V;return V=E.error("Container required for toolbar",$.options),S($,V)}return $.container.classList.add("ql-toolbar"),$.controls=[],$.handlers={},Object.keys($.options.handlers).forEach(function(U){$.addHandler(U,$.options.handlers[U])}),[].forEach.call($.container.querySelectorAll("button, select"),function(U){$.attach(U)}),$.quill.on(m.default.events.EDITOR_CHANGE,function(U,W){U===m.default.events.SELECTION_CHANGE&&$.update(W)}),$.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var U=$.quill.selection.getRange(),W=s(U,1),F=W[0];$.update(F)}),$}return a(P,[{key:"addHandler",value:function(B,$){this.handlers[B]=$}},{key:"attach",value:function(B){var $=this,H=[].find.call(B.classList,function(U){return U.indexOf("ql-")===0});if(H){if(H=H.slice(3),B.tagName==="BUTTON"&&B.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){E.warn("ignoring attaching to disabled format",H,B);return}if(f.default.query(H)==null){E.warn("ignoring attaching to nonexistent format",H,B);return}}var V=B.tagName==="SELECT"?"change":"click";B.addEventListener(V,function(U){var W=void 0;if(B.tagName==="SELECT"){if(B.selectedIndex<0)return;var F=B.options[B.selectedIndex];F.hasAttribute("selected")?W=!1:W=F.value||!1}else B.classList.contains("ql-active")?W=!1:W=B.value||!B.hasAttribute("value"),U.preventDefault();$.quill.focus();var L=$.quill.selection.getRange(),q=s(L,1),K=q[0];if($.handlers[H]!=null)$.handlers[H].call($,W);else if(f.default.query(H).prototype instanceof f.default.Embed){if(W=prompt("Enter "+H),!W)return;$.quill.updateContents(new c.default().retain(K.index).delete(K.length).insert(w({},H,W)),m.default.sources.USER)}else $.quill.format(H,W,m.default.sources.USER);$.update(K)}),this.controls.push([H,B])}}},{key:"update",value:function(B){var $=B==null?{}:this.quill.getFormat(B);this.controls.forEach(function(H){var V=s(H,2),U=V[0],W=V[1];if(W.tagName==="SELECT"){var F=void 0;if(B==null)F=null;else if($[U]==null)F=W.querySelector("option[selected]");else if(!Array.isArray($[U])){var L=$[U];typeof L=="string"&&(L=L.replace(/\"/g,'\\"')),F=W.querySelector('option[value="'+L+'"]')}F==null?(W.value="",W.selectedIndex=-1):F.selected=!0}else if(B==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var q=$[U]===W.getAttribute("value")||$[U]!=null&&$[U].toString()===W.getAttribute("value")||$[U]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",q)}else W.classList.toggle("ql-active",$[U]!=null)})}}]),P})(v.default);k.DEFAULTS={};function O(T,P,I){var B=document.createElement("button");B.setAttribute("type","button"),B.classList.add("ql-"+P),I!=null&&(B.value=I),T.appendChild(B)}function M(T,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(I){var B=document.createElement("span");B.classList.add("ql-formats"),I.forEach(function($){if(typeof $=="string")O(B,$);else{var H=Object.keys($)[0],V=$[H];Array.isArray(V)?R(B,H,V):O(B,H,V)}}),T.appendChild(B)})}function R(T,P,I){var B=document.createElement("select");B.classList.add("ql-"+P),I.forEach(function($){var H=document.createElement("option");$!==!1?H.setAttribute("value",$):H.setAttribute("selected","selected"),B.appendChild(H)}),T.appendChild(B)}k.DEFAULTS={container:null,handlers:{clean:function(){var P=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var B=this.quill.getFormat();Object.keys(B).forEach(function($){f.default.query($,f.default.Scope.INLINE)!=null&&P.quill.format($,!1)})}else this.quill.removeFormat(I,m.default.sources.USER)},direction:function(P){var I=this.quill.getFormat().align;P==="rtl"&&I==null?this.quill.format("align","right",m.default.sources.USER):!P&&I==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",P,m.default.sources.USER)},indent:function(P){var I=this.quill.getSelection(),B=this.quill.getFormat(I),$=parseInt(B.indent||0);if(P==="+1"||P==="-1"){var H=P==="+1"?1:-1;B.direction==="rtl"&&(H*=-1),this.quill.format("indent",$+H,m.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,m.default.sources.USER)},list:function(P){var I=this.quill.getSelection(),B=this.quill.getFormat(I);P==="check"?B.list==="checked"||B.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",P,m.default.sources.USER)}}},n.default=k,n.addControls=M}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}})(),a=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,v,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},l=i(28),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function d(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){m(y,x);function y(v,b){f(this,y);var w=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v));return w.label.innerHTML=b,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(j){j.classList.add("ql-primary")}),w}return s(y,[{key:"buildItem",value:function(b){var w=a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return w.style.backgroundColor=b.getAttribute("value")||"",w}},{key:"selectItem",value:function(b,w){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,w);var j=this.label.querySelector(".ql-color-label"),S=b&&b.getAttribute("data-value")||"";j&&(j.tagName==="line"?j.style.stroke=S:j.style.fill=S)}}]),y})(c.default);n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}})(),a=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,v,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},l=i(28),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function d(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){m(y,x);function y(v,b){f(this,y);var w=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(j){j.innerHTML=b[j.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return s(y,[{key:"selectItem",value:function(b,w){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,w),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y})(c.default);n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function c(u,f){for(var d=0;d<f.length;d++){var m=f[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,f,d){return f&&c(u.prototype,f),d&&c(u,d),u}})();function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=(function(){function c(u,f){var d=this;a(this,c),this.quill=u,this.boundsContainer=f||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return s(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var d=f.left+f.width/2-this.root.offsetWidth/2,m=f.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),x=this.root.getBoundingClientRect(),y=0;if(x.right>p.right&&(y=p.right-x.right,this.root.style.left=d+y+"px"),x.left<p.left&&(y=p.left-x.left,this.root.style.left=d+y+"px"),x.bottom>p.bottom){var v=x.bottom-x.top,b=f.bottom-f.top+v;this.root.style.top=m-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c})();n.default=l}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function R(T,P){var I=[],B=!0,$=!1,H=void 0;try{for(var V=T[Symbol.iterator](),U;!(B=(U=V.next()).done)&&(I.push(U.value),!(P&&I.length===P));B=!0);}catch(W){$=!0,H=W}finally{try{!B&&V.return&&V.return()}finally{if($)throw H}}return I}return function(T,P){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return R(T,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function R(T,P,I){T===null&&(T=Function.prototype);var B=Object.getOwnPropertyDescriptor(T,P);if(B===void 0){var $=Object.getPrototypeOf(T);return $===null?void 0:R($,P,I)}else{if("value"in B)return B.value;var H=B.get;return H===void 0?void 0:H.call(I)}},l=(function(){function R(T,P){for(var I=0;I<P.length;I++){var B=P[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,B.key,B)}}return function(T,P,I){return P&&R(T.prototype,P),I&&R(T,I),T}})(),c=i(3),u=j(c),f=i(8),d=j(f),m=i(43),p=j(m),x=i(27),y=j(x),v=i(15),b=i(41),w=j(b);function j(R){return R&&R.__esModule?R:{default:R}}function S(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}function C(R,T){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:R}function E(R,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);R.prototype=Object.create(T&&T.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(R,T):R.__proto__=T)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=(function(R){E(T,R);function T(P,I){S(this,T),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=k);var B=C(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P,I));return B.quill.container.classList.add("ql-snow"),B}return l(T,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),w.default),this.tooltip=new M(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(B,$){I.handlers.link.call(I,!$.format.link)})}}]),T})(p.default);O.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var P=this.quill.getSelection();if(P==null||P.length==0)return;var I=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var B=this.quill.theme.tooltip;B.edit("link",I)}else this.quill.format("link",!1)}}}}});var M=(function(R){E(T,R);function T(P,I){S(this,T);var B=C(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P,I));return B.preview=B.root.querySelector("a.ql-preview"),B}return l(T,[{key:"listen",value:function(){var I=this;a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(B){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),B.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(B){if(I.linkRange!=null){var $=I.linkRange;I.restoreFocus(),I.quill.formatText($,"link",!1,d.default.sources.USER),delete I.linkRange}B.preventDefault(),I.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(B,$,H){if(B!=null){if(B.length===0&&H===d.default.sources.USER){var V=I.quill.scroll.descendant(y.default,B.index),U=s(V,2),W=U[0],F=U[1];if(W!=null){I.linkRange=new v.Range(B.index-F,W.length());var L=y.default.formats(W.domNode);I.preview.textContent=L,I.preview.setAttribute("href",L),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T})(m.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=O}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(29),a=oe(s),l=i(36),c=i(38),u=i(64),f=i(65),d=oe(f),m=i(66),p=oe(m),x=i(67),y=oe(x),v=i(37),b=i(26),w=i(39),j=i(40),S=i(56),C=oe(S),E=i(68),k=oe(E),O=i(27),M=oe(O),R=i(69),T=oe(R),P=i(70),I=oe(P),B=i(71),$=oe(B),H=i(72),V=oe(H),U=i(73),W=oe(U),F=i(13),L=oe(F),q=i(74),K=oe(q),ee=i(75),te=oe(ee),Q=i(57),G=oe(Q),ne=i(41),Z=oe(ne),re=i(28),fe=oe(re),ce=i(59),xe=oe(ce),be=i(60),ke=oe(be),Te=i(61),De=oe(Te),ae=i(108),ge=oe(ae),X=i(62),ie=oe(X);function oe(je){return je&&je.__esModule?je:{default:je}}a.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":j.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":j.SizeStyle},!0),a.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":w.FontClass,"formats/size":j.SizeClass,"formats/blockquote":d.default,"formats/code-block":L.default,"formats/header":p.default,"formats/list":y.default,"formats/bold":C.default,"formats/code":F.Code,"formats/italic":k.default,"formats/link":M.default,"formats/script":T.default,"formats/strike":I.default,"formats/underline":$.default,"formats/image":V.default,"formats/video":W.default,"formats/list/item":x.ListItem,"modules/formula":K.default,"modules/syntax":te.default,"modules/toolbar":G.default,"themes/bubble":ge.default,"themes/snow":ie.default,"ui/icons":Z.default,"ui/picker":fe.default,"ui/icon-picker":ke.default,"ui/color-picker":xe.default,"ui/tooltip":De.default},!0),n.default=a.default}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var s=(function(){function y(v,b){for(var w=0;w<b.length;w++){var j=b[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}})(),a=function y(v,b,w){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,b);if(j===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:y(S,b,w)}else{if("value"in j)return j.value;var C=j.get;return C===void 0?void 0:C.call(w)}},l=i(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){m(v,y);function v(){return f(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"add",value:function(w,j){if(j==="+1"||j==="-1"){var S=this.value(w)||0;j=j==="+1"?S+1:S-1}return j===0?(this.remove(w),!0):a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,w,j)}},{key:"canAdd",value:function(w,j){return a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,w,j)||a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,w,parseInt(j))}},{key:"value",value:function(w){return parseInt(a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w))||void 0}}]),v})(c.default.Attributor.Class),x=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=x}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(4),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d=(function(m){f(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function p(x,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,y,v){return y&&p(x.prototype,y),v&&p(x,v),x}})(),a=i(4),l=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,x){if(!(p instanceof x))throw new TypeError("Cannot call a class as a function")}function f(p,x){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:p}function d(p,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);p.prototype=Object.create(x&&x.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(p,x):p.__proto__=x)}var m=(function(p){d(x,p);function x(){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),x})(l.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],n.default=m}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var s=(function(){function S(C,E){for(var k=0;k<E.length;k++){var O=E[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,E,k){return E&&S(C.prototype,E),k&&S(C,k),C}})(),a=function S(C,E,k){C===null&&(C=Function.prototype);var O=Object.getOwnPropertyDescriptor(C,E);if(O===void 0){var M=Object.getPrototypeOf(C);return M===null?void 0:S(M,E,k)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(k)}},l=i(0),c=p(l),u=i(4),f=p(u),d=i(25),m=p(d);function p(S){return S&&S.__esModule?S:{default:S}}function x(S,C,E){return C in S?Object.defineProperty(S,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):S[C]=E,S}function y(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function v(S,C){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:S}function b(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(S,C):S.__proto__=C)}var w=(function(S){b(C,S);function C(){return y(this,C),v(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,[{key:"format",value:function(k,O){k===j.blotName&&!O?this.replaceWith(c.default.create(this.statics.scope)):a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,k,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,O){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,O),this):(this.parent.unwrap(),a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,k,O))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:a(C.__proto__||Object.getPrototypeOf(C),"formats",this).call(this,k)}}]),C})(f.default);w.blotName="list-item",w.tagName="LI";var j=(function(S){b(C,S),s(C,null,[{key:"create",value:function(k){var O=k==="ordered"?"OL":"UL",M=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,O);return(k==="checked"||k==="unchecked")&&M.setAttribute("data-checked",k==="checked"),M}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function C(E){y(this,C);var k=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,E)),O=function(R){if(R.target.parentNode===E){var T=k.statics.formats(E),P=c.default.find(R.target);T==="checked"?P.format("list","unchecked"):T==="unchecked"&&P.format("list","checked")}};return E.addEventListener("touchstart",O),E.addEventListener("mousedown",O),k}return s(C,[{key:"format",value:function(k,O){this.children.length>0&&this.children.tail.format(k,O)}},{key:"formats",value:function(){return x({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,O){if(k instanceof w)a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,k,O);else{var M=O==null?this.length():O.offset(this),R=this.split(M);R.parent.insertBefore(k,R)}}},{key:"optimize",value:function(k){a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,k);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var O=c.default.create(this.statics.defaultChild);k.moveChildren(O),this.appendChild(O)}a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,k)}}]),C})(m.default);j.blotName="list",j.scope=c.default.Scope.BLOCK_BLOT,j.tagName=["OL","UL"],j.defaultChild="list-item",j.allowedChildren=[w],n.ListItem=w,n.default=j}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(56),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d=(function(m){f(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}})(),a=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,v,b)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(b)}},l=i(6),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function f(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function d(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){m(y,x);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y})(c.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(6),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d=(function(m){f(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);d.blotName="strike",d.tagName="S",n.default=d}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(6),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d=(function(m){f(p,m);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);d.blotName="underline",d.tagName="U",n.default=d}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function v(b,w){for(var j=0;j<w.length;j++){var S=w[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,w,j){return w&&v(b.prototype,w),j&&v(b,j),b}})(),a=function v(b,w,j){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,w);if(S===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:v(C,w,j)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(j)}},l=i(0),c=f(l),u=i(27);function f(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function m(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function p(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var x=["alt","height","width"],y=(function(v){p(b,v);function b(){return d(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(j,S){x.indexOf(j)>-1?S?this.domNode.setAttribute(j,S):this.domNode.removeAttribute(j):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,S)}}],[{key:"create",value:function(j){var S=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return typeof j=="string"&&S.setAttribute("src",this.sanitize(j)),S}},{key:"formats",value:function(j){return x.reduce(function(S,C){return j.hasAttribute(C)&&(S[C]=j.getAttribute(C)),S},{})}},{key:"match",value:function(j){return/\.(jpe?g|gif|png)$/.test(j)||/^data:image\/.+;base64/.test(j)}},{key:"sanitize",value:function(j){return(0,u.sanitize)(j,["http","https","data"])?j:"//:0"}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b})(c.default.Embed);y.blotName="image",y.tagName="IMG",n.default=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function v(b,w){for(var j=0;j<w.length;j++){var S=w[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,w,j){return w&&v(b.prototype,w),j&&v(b,j),b}})(),a=function v(b,w,j){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,w);if(S===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:v(C,w,j)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(j)}},l=i(4),c=i(27),u=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function m(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function p(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var x=["height","width"],y=(function(v){p(b,v);function b(){return d(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(j,S){x.indexOf(j)>-1?S?this.domNode.setAttribute(j,S):this.domNode.removeAttribute(j):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,S)}}],[{key:"create",value:function(j){var S=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(j)),S}},{key:"formats",value:function(j){return x.reduce(function(S,C){return j.hasAttribute(C)&&(S[C]=j.getAttribute(C)),S},{})}},{key:"sanitize",value:function(j){return u.default.sanitize(j)}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b})(l.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",n.default=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var s=(function(){function j(S,C){for(var E=0;E<C.length;E++){var k=C[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,C,E){return C&&j(S.prototype,C),E&&j(S,E),S}})(),a=function j(S,C,E){S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,C);if(k===void 0){var O=Object.getPrototypeOf(S);return O===null?void 0:j(O,C,E)}else{if("value"in k)return k.value;var M=k.get;return M===void 0?void 0:M.call(E)}},l=i(35),c=p(l),u=i(5),f=p(u),d=i(9),m=p(d);function p(j){return j&&j.__esModule?j:{default:j}}function x(j,S){if(!(j instanceof S))throw new TypeError("Cannot call a class as a function")}function y(j,S){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:j}function v(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(j,S):j.__proto__=S)}var b=(function(j){v(S,j);function S(){return x(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,null,[{key:"create",value:function(E){var k=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,E);return typeof E=="string"&&(window.katex.render(E,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",E)),k}},{key:"value",value:function(E){return E.getAttribute("data-value")}}]),S})(c.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var w=(function(j){v(S,j),s(S,null,[{key:"register",value:function(){f.default.register(b,!0)}}]);function S(){x(this,S);var C=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return S})(m.default);n.FormulaBlot=b,n.default=w}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var s=(function(){function E(k,O){for(var M=0;M<O.length;M++){var R=O[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,O,M){return O&&E(k.prototype,O),M&&E(k,M),k}})(),a=function E(k,O,M){k===null&&(k=Function.prototype);var R=Object.getOwnPropertyDescriptor(k,O);if(R===void 0){var T=Object.getPrototypeOf(k);return T===null?void 0:E(T,O,M)}else{if("value"in R)return R.value;var P=R.get;return P===void 0?void 0:P.call(M)}},l=i(0),c=y(l),u=i(5),f=y(u),d=i(9),m=y(d),p=i(13),x=y(p);function y(E){return E&&E.__esModule?E:{default:E}}function v(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function b(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function w(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var j=(function(E){w(k,E);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var R=this.domNode.textContent;this.cachedText!==R&&((R.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(R),this.domNode.normalize(),this.attach()),this.cachedText=R)}}]),k})(x.default);j.className="ql-syntax";var S=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),C=(function(E){w(k,E),s(k,null,[{key:"register",value:function(){f.default.register(S,!0),f.default.register(j,!0)}}]);function k(O,M){v(this,k);var R=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,O,M));if(typeof R.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return R.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){R.highlight(),T=null},R.options.interval)}),R.highlight(),R}return s(k,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var R=this.quill.getSelection();this.quill.scroll.descendants(j).forEach(function(T){T.highlight(M.options.highlight)}),this.quill.update(f.default.sources.SILENT),R!=null&&this.quill.setSelection(R,f.default.sources.SILENT)}}}]),k})(m.default);C.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(E){var k=window.hljs.highlightAuto(E);return k.value}})(),interval:1e3},n.CodeBlock=j,n.CodeToken=S,n.default=C}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var s=function k(O,M,R){O===null&&(O=Function.prototype);var T=Object.getOwnPropertyDescriptor(O,M);if(T===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:k(P,M,R)}else{if("value"in T)return T.value;var I=T.get;return I===void 0?void 0:I.call(R)}},a=(function(){function k(O,M){for(var R=0;R<M.length;R++){var T=M[R];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,T.key,T)}}return function(O,M,R){return M&&k(O.prototype,M),R&&k(O,R),O}})(),l=i(3),c=v(l),u=i(8),f=v(u),d=i(43),m=v(d),p=i(15),x=i(41),y=v(x);function v(k){return k&&k.__esModule?k:{default:k}}function b(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}function w(k,O){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:k}function j(k,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(k,O):k.__proto__=O)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=(function(k){j(O,k);function O(M,R){b(this,O),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=S);var T=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M,R));return T.quill.container.classList.add("ql-bubble"),T}return a(O,[{key:"extendToolbar",value:function(R){this.tooltip=new E(this.quill,this.options.bounds),this.tooltip.root.appendChild(R.container),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),y.default)}}]),O})(m.default);C.DEFAULTS=(0,c.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var E=(function(k){j(O,k);function O(M,R){b(this,O);var T=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M,R));return T.quill.on(f.default.events.EDITOR_CHANGE,function(P,I,B,$){if(P===f.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&$===f.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var H=T.quill.getLines(I.index,I.length);if(H.length===1)T.position(T.quill.getBounds(I));else{var V=H[H.length-1],U=T.quill.getIndex(V),W=Math.min(V.length()-1,I.index+I.length-U),F=T.quill.getBounds(new p.Range(U,W));T.position(F)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return a(O,[{key:"listen",value:function(){var R=this;s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){R.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!R.root.classList.contains("ql-hidden")){var T=R.quill.getSelection();T!=null&&R.position(R.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(R){var T=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,R),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",T===0)return T;P.style.marginLeft=-1*T-P.offsetWidth/2+"px"}}]),O})(d.BaseTooltip);E.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=E,n.default=C}),(function(r,n,i){r.exports=i(63)})]).default})})(fb)),fb.exports}var va,Ez;function cLe(){if(Ez)return va;Ez=1;var e=va&&va.__extends||(function(){var f=function(d,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var y in x)x.hasOwnProperty(y)&&(p[y]=x[y])},f(d,m)};return function(d,m){f(d,m);function p(){this.constructor=d}d.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}})(),t=va&&va.__assign||function(){return t=Object.assign||function(f){for(var d,m=1,p=arguments.length;m<p;m++){d=arguments[m];for(var x in d)Object.prototype.hasOwnProperty.call(d,x)&&(f[x]=d[x])}return f},t.apply(this,arguments)},r=va&&va.__spreadArrays||function(){for(var f=0,d=0,m=arguments.length;d<m;d++)f+=arguments[d].length;for(var p=Array(f),x=0,d=0;d<m;d++)for(var y=arguments[d],v=0,b=y.length;v<b;v++,x++)p[x]=y[v];return p},n=va&&va.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},i=n(fv()),s=n(LT()),a=n(SQ()),l=n(lLe()),c=(function(f){e(d,f);function d(m){var p=f.call(this,m)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(y,v,b,w){var j,S,C,E;y==="text-change"?(S=(j=p).onEditorChangeText)===null||S===void 0||S.call(j,p.editor.root.innerHTML,v,w,p.unprivilegedEditor):y==="selection-change"&&((E=(C=p).onEditorChangeSelection)===null||E===void 0||E.call(C,v,w,p.unprivilegedEditor))};var x=p.isControlled()?m.value:m.defaultValue;return p.value=x??"",p}return d.prototype.validateProps=function(m){var p;if(i.default.Children.count(m.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(m.children)){var x=i.default.Children.only(m.children);if(((p=x)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&m.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},d.prototype.shouldComponentUpdate=function(m,p){var x=this,y;if(this.validateProps(m),!this.editor||this.state.generation!==p.generation)return!0;if("value"in m){var v=this.getEditorContents(),b=(y=m.value,y??"");this.isEqualValue(b,v)||this.setEditorContents(this.editor,b)}return m.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,m.readOnly),r(this.cleanProps,this.dirtyProps).some(function(w){return!a.default(m[w],x.props[w])})},d.prototype.shouldComponentRegenerate=function(m){var p=this;return this.dirtyProps.some(function(x){return!a.default(m[x],p.props[x])})},d.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},d.prototype.componentWillUnmount=function(){this.destroyEditor()},d.prototype.componentDidUpdate=function(m,p){var x=this;if(this.editor&&this.shouldComponentRegenerate(m)){var y=this.editor.getContents(),v=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:v},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var b=this.regenerationSnapshot,y=b.delta,w=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var j=this.editor;j.setContents(y),u(function(){return x.setEditorSelection(j,w)})}},d.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},d.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},d.prototype.isControlled=function(){return"value"in this.props},d.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},d.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},d.prototype.createEditor=function(m,p){var x=new l.default(m,p);return p.tabIndex!=null&&this.setEditorTabIndex(x,p.tabIndex),this.hookEditor(x),x},d.prototype.hookEditor=function(m){this.unprivilegedEditor=this.makeUnprivilegedEditor(m),m.on("editor-change",this.onEditorChange)},d.prototype.unhookEditor=function(m){m.off("editor-change",this.onEditorChange)},d.prototype.getEditorContents=function(){return this.value},d.prototype.getEditorSelection=function(){return this.selection},d.prototype.isDelta=function(m){return m&&m.ops},d.prototype.isEqualValue=function(m,p){return this.isDelta(m)&&this.isDelta(p)?a.default(m.ops,p.ops):a.default(m,p)},d.prototype.setEditorContents=function(m,p){var x=this;this.value=p;var y=this.getEditorSelection();typeof p=="string"?m.setContents(m.clipboard.convert(p)):m.setContents(p),u(function(){return x.setEditorSelection(m,y)})},d.prototype.setEditorSelection=function(m,p){if(this.selection=p,p){var x=m.getLength();p.index=Math.max(0,Math.min(p.index,x-1)),p.length=Math.max(0,Math.min(p.length,x-1-p.index)),m.setSelection(p)}},d.prototype.setEditorTabIndex=function(m,p){var x,y;!((y=(x=m)===null||x===void 0?void 0:x.scroll)===null||y===void 0)&&y.domNode&&(m.scroll.domNode.tabIndex=p)},d.prototype.setEditorReadOnly=function(m,p){p?m.disable():m.enable()},d.prototype.makeUnprivilegedEditor=function(m){var p=m;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},d.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var m=s.default.findDOMNode(this.editingArea);if(!m)throw new Error("Cannot find element for editing area");if(m.nodeType===3)throw new Error("Editing area cannot be a text node");return m},d.prototype.renderEditingArea=function(){var m=this,p=this.props,x=p.children,y=p.preserveWhitespace,v=this.state.generation,b={key:v,ref:function(w){m.editingArea=w}};return i.default.Children.count(x)?i.default.cloneElement(i.default.Children.only(x),b):y?i.default.createElement("pre",t({},b)):i.default.createElement("div",t({},b))},d.prototype.render=function(){var m;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(m=this.props.className,m??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},d.prototype.onEditorChangeText=function(m,p,x,y){var v,b;if(this.editor){var w=this.isDelta(this.value)?y.getContents():y.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=w,(b=(v=this.props).onChange)===null||b===void 0||b.call(v,m,p,x,y))}},d.prototype.onEditorChangeSelection=function(m,p,x){var y,v,b,w,j,S;if(this.editor){var C=this.getEditorSelection(),E=!C&&m,k=C&&!m;a.default(m,C)||(this.selection=m,(v=(y=this.props).onChangeSelection)===null||v===void 0||v.call(y,m,p,x),E?(w=(b=this.props).onFocus)===null||w===void 0||w.call(b,m,p,x):k&&((S=(j=this.props).onBlur)===null||S===void 0||S.call(j,C,p,x)))}},d.prototype.focus=function(){this.editor&&this.editor.focus()},d.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},d.displayName="React Quill",d.Quill=l.default,d.defaultProps={theme:"snow",modules:{},readOnly:!1},d})(i.default.Component);function u(f){Promise.resolve().then(f)}return va=c,va}var uLe=cLe();const OT=wr(uLe),Q0=({noteKey:e,title:t,userId:r,refreshKey:n})=>{const[i,s]=_.useState([]),[a,l]=_.useState(""),[c,u]=_.useState(null),[f,d]=_.useState("");_.useEffect(()=>{(async()=>{try{const S=await ey(r,e);s(S)}catch(S){console.error("Error fetching notes in NotesSection:",S),se(`Erreur lors du chargement des notes: ${S.message}`)}})()},[e,r,n]);const m=async()=>{if(a.replace(/<[^>]*>/g,"").trim())try{const S=await hZ(r,e,a);s(S),l(""),nt("Note ajoutée avec succès !")}catch(S){console.error("Error adding note:",S),se(`Erreur lors de l'ajout de la note: ${S.message}`)}else se("Veuillez écrire quelque chose pour ajouter une note.")},p=(j,S)=>{u(j),d(S)},x=async j=>{if(f.replace(/<[^>]*>/g,"").trim())try{const C=await qIe(r,e,j,f);s(C),u(null),d(""),nt("Note modifiée avec succès !")}catch(C){console.error("Error saving edited note:",C),se(`Erreur lors de la modification de la note: ${C.message}`)}else se("La note ne peut pas être vide.")},y=()=>{u(null),d("")},v=async j=>{try{const S=await BIe(r,e,j);s(S),nt("Note supprimée avec succès !")}catch(S){console.error("Error deleting note:",S),se(`Erreur lors de la suppression de la note: ${S.message}`)}},b={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link","image","code-block"],["clean"]]},w=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","code-block"];return o.jsxs("div",{className:"p-2 space-y-3",children:[o.jsxs("h4",{className:"text-sm font-semibold text-foreground mb-2",children:["Notes pour ",t]}),o.jsx(ml,{className:"h-40 w-full rounded-md border p-3 bg-muted/20",children:i.length===0?o.jsx("p",{className:"text-muted-foreground text-xs",children:"Aucune note pour le moment. Ajoutez-en une ci-dessous !"}):o.jsx("div",{className:"space-y-2",children:i.map((j,S)=>o.jsxs("div",{className:"p-2 bg-background rounded-md shadow-sm text-xs text-foreground flex justify-between items-start",children:[c===S?o.jsx("div",{className:"flex-grow mr-2 w-full",children:o.jsx(OT,{theme:"snow",value:f,onChange:d,modules:b,formats:w,className:"h-auto min-h-[100px] max-h-[200px] overflow-y-auto mb-10"})}):o.jsx("div",{className:"prose prose-sm dark:prose-invert flex-grow mr-2 max-w-none",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:j}})}),o.jsx("div",{className:"flex gap-1 ml-2 flex-shrink-0",children:c===S?o.jsxs(o.Fragment,{children:[o.jsxs(me,{variant:"ghost",size:"icon",onClick:()=>x(S),children:[o.jsx($oe,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"sr-only",children:"Sauvegarder"})]}),o.jsxs(me,{variant:"ghost",size:"icon",onClick:y,children:[o.jsx(Kh,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"sr-only",children:"Annuler"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(me,{variant:"ghost",size:"icon",onClick:()=>p(S,j),children:[o.jsx(es,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{className:"sr-only",children:"Éditer"})]}),o.jsxs(iLe,{children:[o.jsx(sLe,{asChild:!0,children:o.jsxs(me,{variant:"ghost",size:"icon",children:[o.jsx(Li,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"sr-only",children:"Supprimer"})]})}),o.jsxs(MZ,{children:[o.jsxs(RZ,{children:[o.jsx(IZ,{children:"Êtes-vous absolument sûr ?"}),o.jsx(LZ,{children:"Cette action ne peut pas être annulée. Cela supprimera définitivement votre note."})]}),o.jsxs(DZ,{children:[o.jsx(FZ,{children:"Annuler"}),o.jsx($Z,{onClick:()=>v(S),children:"Supprimer"})]})]})]})]})})]},S))})}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(OT,{theme:"snow",value:a,onChange:l,modules:b,formats:w,className:"h-auto min-h-[100px] max-h-[200px] overflow-y-auto mb-10",placeholder:"Écrivez votre nouvelle note ici..."}),o.jsxs(me,{onClick:m,disabled:!a.replace(/<[^>]*>/g,"").trim(),size:"sm",children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter une note"]})]})]})},dLe=({course:e,studentCourseProgress:t})=>{const r=s=>{if(!t)return 0;const a=t.modules_progress.find(u=>u.module_index===s);if(!a)return 0;const l=a.sections_progress.filter(u=>u.is_completed).length,c=e.modules[s].sections.length;return c>0?Math.round(l/c*100):0},n=s=>{var a;return t&&((a=t.modules_progress.find(l=>l.module_index===s))==null?void 0:a.is_completed)||!1},i=s=>s===0?!0:n(s-1);return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 py-8 w-full max-w-screen-xl mx-auto",children:e.modules.map((s,a)=>{var f;const l=n(a),c=i(a),u=r(a);return o.jsxs(Y.Fragment,{children:[o.jsxs(Re,{className:Ne("relative w-full p-6 text-center shadow-xl transition-all duration-300 ease-in-out rounded-android-tile hover:scale-[1.02] transition-transform",c?"border-primary/50 bg-background hover:shadow-2xl":"border-dashed border-muted-foreground/30 bg-muted/10 opacity-70 cursor-not-allowed",l&&"border-green-500 ring-2 ring-green-500/50"),children:[e.image_url&&o.jsx("img",{src:e.image_url,alt:`Image pour le cours ${e.title}`,className:"w-full h-32 object-cover rounded-md mb-4"}),o.jsxs(Be,{className:"p-0 mb-4",children:[o.jsxs(Fe,{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[c?l?o.jsx(Ta,{className:"h-6 w-6 text-green-500"}):o.jsx(ia,{className:"h-6 w-6 text-primary"}):o.jsx(EU,{className:"h-6 w-6 text-muted-foreground"}),s.title]}),o.jsxs(Le,{className:"text-sm text-muted-foreground",children:[(f=s.sections[0])==null?void 0:f.content.substring(0,100),"..."]})]}),o.jsxs(qe,{className:"p-0",children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Progression: ",u,"%"]}),o.jsx(sr,{to:`/courses/${e.id}/modules/${a}`,children:o.jsx(me,{className:"w-full",children:c?l?"Revoir le module":"Commencer le module":"Verrouillé"})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-lg font-semibold mb-3 text-left",children:"Sections du module:"}),o.jsx("div",{className:"flex flex-row space-x-4 overflow-x-auto pb-4 scrollbar-hide md:flex-col md:space-y-4 md:space-x-0 md:overflow-x-visible md:items-center",children:s.sections.map((d,m)=>{var x,y;const p=((y=(x=t==null?void 0:t.modules_progress.find(v=>v.module_index===a))==null?void 0:x.sections_progress.find(v=>v.section_index===m))==null?void 0:y.is_completed)||!1;return o.jsxs(Y.Fragment,{children:[o.jsx("div",{className:"relative",children:o.jsxs(sr,{to:`/courses/${e.id}/modules/${a}#section-${m}`,className:Ne("block p-4 border rounded-android-tile text-center flex flex-col items-center justify-center transition-all duration-200","w-40 flex-shrink-0 md:w-full",p?"border-green-500 bg-green-50/20":"border-muted-foreground/30 bg-muted/10",!c&&"opacity-50 cursor-not-allowed pointer-events-none"),children:[d.type==="text"&&o.jsx(l2,{className:"h-6 w-6 mb-2 text-primary"}),d.type==="video"&&o.jsx(DU,{className:"h-6 w-6 mb-2 text-primary"}),d.type==="image"&&o.jsx(NU,{className:"h-6 w-6 mb-2 text-primary"}),d.type==="quiz"&&o.jsx(o2,{className:"h-6 w-6 mb-2 text-primary"}),o.jsx("p",{className:"text-sm font-medium line-clamp-2",children:d.title}),p&&o.jsx(Ta,{className:"h-4 w-4 text-green-500 mt-1"})]})}),m<s.sections.length-1&&o.jsx("div",{className:"hidden md:flex relative w-1 h-8 bg-border items-center justify-center",children:o.jsx(FL,{className:Ne("h-4 w-4 absolute text-border",p?"text-primary animate-bounce":"text-muted-foreground")})})]},m)})})]})]})]}),a<e.modules.length-1&&o.jsx("div",{className:"md:hidden relative w-full flex justify-center py-4",children:o.jsx("div",{className:"relative w-1 h-16 bg-border flex items-center justify-center",children:o.jsx(FL,{className:Ne("h-6 w-6 absolute text-border",c&&l?"text-primary animate-bounce":"text-muted-foreground")})})})]},s.title)})})},fLe=()=>{const{courseId:e}=i2(),t=on(),{currentUserProfile:r,currentRole:n,isLoadingUser:i}=Qt(),{setCourseContext:s,setModuleContext:a,openChat:l}=Cl(),[c,u]=_.useState([]),[f,d]=_.useState(null),[m,p]=_.useState(!1);_.useEffect(()=>{(async()=>{const S=await Nl();u(S);const C=S.find(E=>E.id===e);if(r&&n==="student"&&e){const k=(await AK(r.id)).includes(e);if(p(k),k){const O=await e9(r.id,e);d(O)}}else p(!!C)})()},[e,r,n]);const x=c.find(j=>j.id===e);_.useEffect(()=>(x?s(x.id,x.title):s(null,null),()=>{s(null,null),a(null)}),[e,x,s,a]);const y=()=>{x&&(a(null),l(`J'ai une question sur le cours "${x.title}".`))};if(i)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement du cours..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!x)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Cours non trouvé"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Le cours que vous recherchez n'existe pas."}),o.jsx(me,{onClick:()=>t("/courses"),className:"mt-4",children:"Retour à la liste des cours"})]});if(n==="student"&&!m)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès au cours refusé"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Ce cours n'est pas accessible pour votre classe ou votre rôle."}),o.jsx(me,{onClick:()=>t("/courses"),className:"mt-4",children:"Retour à la liste des cours"})]});let v=0,b=0;const w=x.modules.length;if(r&&n==="student"&&m)if(f)b=f.modules_progress.filter(j=>j.is_completed).length,v=w>0?Math.round(b/w*100):0;else{const j={id:`progress${Date.now()}`,user_id:r.id,course_id:x.id,is_completed:!1,modules_progress:x.modules.map((S,C)=>({module_index:C,is_completed:!1,sections_progress:x.modules[C].sections.map((E,k)=>({section_index:k,is_completed:!1}))}))};tb(j).then(S=>{S?(d(S),nt(`Vous êtes maintenant inscrit au cours "${x.title}" !`)):se("Échec de l'inscription au cours.")}).catch(S=>{console.error("Error enrolling student:",S),se("Erreur lors de l'inscription au cours.")})}return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[" ",x.image_url&&o.jsx("img",{src:x.image_url,alt:`Image pour le cours ${x.title}`,className:"w-full h-64 object-cover rounded-android-tile mb-8 shadow-md"}),o.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:x.title}),o.jsx("p",{className:"text-lg text-muted-foreground",children:x.description}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Compétences à acquérir"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:x.skills_to_acquire.map((j,S)=>o.jsxs(JM,{variant:"secondary",className:"text-sm px-3 py-1 rounded-android-tile",children:[" ",j]},S))})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Progression du cours"}),o.jsxs(Re,{className:"mb-6 rounded-android-tile",children:[" ",o.jsxs(qe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Mv,{value:v,className:"w-full"}),o.jsxs("span",{className:"text-lg font-medium",children:[v,"%"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[b," modules terminés sur ",w]})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Visualisation du parcours"}),o.jsx(dLe,{course:x,studentCourseProgress:f})]}),o.jsx("section",{children:r&&o.jsx(Q0,{noteKey:Ap("course",x.id),title:x.title,userId:r.id})}),o.jsxs("section",{className:"mt-12",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(ng,{className:"h-6 w-6 text-primary"})," Demandez à AiA sur ce cours"]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(qe,{className:"p-6 space-y-4",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Cliquez ci-dessous pour poser une question à AiA concernant ce cours."}),o.jsxs(me,{onClick:y,children:[o.jsx(f2,{className:"h-5 w-5 mr-2"})," Poser une question à AiA sur ce cours"]})]})]})]})]})},hLe=({isOpen:e,onClose:t,noteKey:r,contextTitle:n,onNoteAdded:i})=>{const[s,a]=_.useState(""),{currentUserProfile:l}=Qt(),c=async()=>{if(!l){se("Vous devez être connecté pour ajouter une note.");return}if(s.replace(/<[^>]*>/g,"").trim())try{await hZ(l.id,r,s.trim()),a(""),nt("Note rapide ajoutée !"),i(),t()}catch(m){se(`Erreur lors de l'ajout de la note: ${m.message}`)}else se("Veuillez écrire quelque chose pour ajouter une note.")},u={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link","image","code-block"],["clean"]]},f=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","code-block"];return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsxs(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:[" ",o.jsxs("div",{className:"flex flex-col",children:[" ",o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Ajouter une note rapide"}),o.jsxs(Yn,{children:['Saisissez une note pour "',n,'".']})]}),o.jsx("div",{className:"grid gap-4 py-4",children:o.jsx(OT,{theme:"snow",value:s,onChange:a,modules:u,formats:f,className:"h-auto min-h-[100px] max-h-[200px] overflow-y-auto mb-10",placeholder:"Votre note ici..."})}),o.jsx($i,{children:o.jsxs(me,{onClick:c,disabled:!s.replace(/<[^>]*>/g,"").trim(),children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter la note"]})})]})]})})};var tR="ContextMenu",[mLe,Aqe]=Qn(tR,[kw]),zi=kw(),[pLe,qZ]=mLe(tR),BZ=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,dir:i,modal:s=!0}=e,[a,l]=_.useState(!1),c=zi(t),u=An(n),f=_.useCallback(d=>{l(d),u(d)},[u]);return o.jsx(pLe,{scope:t,open:a,onOpenChange:f,modal:s,children:o.jsx(Z7,{...c,dir:i,open:a,onOpenChange:f,modal:s,children:r})})};BZ.displayName=tR;var zZ="ContextMenuTrigger",VZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:n=!1,...i}=e,s=qZ(zZ,r),a=zi(r),l=_.useRef({x:0,y:0}),c=_.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),u=_.useRef(0),f=_.useCallback(()=>window.clearTimeout(u.current),[]),d=m=>{l.current={x:m.clientX,y:m.clientY},s.onOpenChange(!0)};return _.useEffect(()=>f,[f]),_.useEffect(()=>void(n&&f()),[n,f]),o.jsxs(o.Fragment,{children:[o.jsx(J7,{...a,virtualRef:c}),o.jsx(at.span,{"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,...i,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:Ye(e.onContextMenu,m=>{f(),d(m),m.preventDefault()}),onPointerDown:n?e.onPointerDown:Ye(e.onPointerDown,Yx(m=>{f(),u.current=window.setTimeout(()=>d(m),700)})),onPointerMove:n?e.onPointerMove:Ye(e.onPointerMove,Yx(f)),onPointerCancel:n?e.onPointerCancel:Ye(e.onPointerCancel,Yx(f)),onPointerUp:n?e.onPointerUp:Ye(e.onPointerUp,Yx(f))})]})});VZ.displayName=zZ;var gLe="ContextMenuPortal",UZ=e=>{const{__scopeContextMenu:t,...r}=e,n=zi(t);return o.jsx(eH,{...n,...r})};UZ.displayName=gLe;var WZ="ContextMenuContent",HZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=qZ(WZ,r),s=zi(r),a=_.useRef(!1);return o.jsx(tH,{...s,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&a.current&&l.preventDefault(),a.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!i.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HZ.displayName=WZ;var vLe="ContextMenuGroup",yLe=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(rH,{...i,...n,ref:t})});yLe.displayName=vLe;var xLe="ContextMenuLabel",KZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(nH,{...i,...n,ref:t})});KZ.displayName=xLe;var bLe="ContextMenuItem",GZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(iH,{...i,...n,ref:t})});GZ.displayName=bLe;var wLe="ContextMenuCheckboxItem",YZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(sH,{...i,...n,ref:t})});YZ.displayName=wLe;var _Le="ContextMenuRadioGroup",SLe=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(aH,{...i,...n,ref:t})});SLe.displayName=_Le;var jLe="ContextMenuRadioItem",QZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(oH,{...i,...n,ref:t})});QZ.displayName=jLe;var CLe="ContextMenuItemIndicator",XZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(lH,{...i,...n,ref:t})});XZ.displayName=CLe;var NLe="ContextMenuSeparator",ZZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(cH,{...i,...n,ref:t})});ZZ.displayName=NLe;var ELe="ContextMenuArrow",kLe=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(uH,{...i,...n,ref:t})});kLe.displayName=ELe;var OLe="ContextMenuSubTrigger",JZ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(dH,{...i,...n,ref:t})});JZ.displayName=OLe;var ALe="ContextMenuSubContent",eJ=_.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,i=zi(r);return o.jsx(fH,{...i,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eJ.displayName=ALe;function Yx(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var TLe=BZ,PLe=VZ,MLe=UZ,tJ=HZ,rJ=KZ,AT=GZ,nJ=YZ,iJ=QZ,sJ=XZ,aJ=ZZ,oJ=JZ,lJ=eJ;const nv=TLe,iv=PLe,RLe=_.forwardRef(({className:e,inset:t,children:r,...n},i)=>o.jsxs(oJ,{ref:i,className:Ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,o.jsx(a2,{className:"ml-auto h-4 w-4"})]}));RLe.displayName=oJ.displayName;const DLe=_.forwardRef(({className:e,...t},r)=>o.jsx(lJ,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-card-lg border bg-popover p-1 text-popover-foreground shadow-card-shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));DLe.displayName=lJ.displayName;const Lh=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(MLe,{children:o.jsx(tJ,{ref:n,sideOffset:t,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-card-lg border bg-popover p-1 text-popover-foreground shadow-card-shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Lh.displayName=tJ.displayName;const Ea=_.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(AT,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));AT.displayName=AT.displayName;const ILe=_.forwardRef(({className:e,children:t,checked:r,...n},i)=>o.jsxs(nJ,{ref:i,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(sJ,{children:o.jsx(La,{className:"h-4 w-4"})})}),t]}));ILe.displayName=nJ.displayName;const LLe=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(iJ,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(sJ,{children:o.jsx(SU,{className:"h-4 w-4 fill-current"})})}),t]}));LLe.displayName=iJ.displayName;const $Le=_.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(rJ,{ref:n,className:Ne("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));$Le.displayName=rJ.displayName;const FLe=_.forwardRef(({className:e,...t},r)=>o.jsx(aJ,{ref:r,className:Ne("-mx-1 my-1 h-px bg-border",e),...t}));FLe.displayName=aJ.displayName;var rR="Radio",[qLe,cJ]=Qn(rR),[BLe,zLe]=qLe(rR),uJ=_.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:a,value:l="on",onCheck:c,form:u,...f}=e,[d,m]=_.useState(null),p=Dt(t,v=>m(v)),x=_.useRef(!1),y=d?u||!!d.closest("form"):!0;return o.jsxs(BLe,{scope:r,checked:i,disabled:a,children:[o.jsx(at.button,{type:"button",role:"radio","aria-checked":i,"data-state":mJ(i),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:p,onClick:Ye(e.onClick,v=>{i||c==null||c(),y&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),y&&o.jsx(hJ,{control:d,bubbles:!x.current,name:n,value:l,checked:i,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});uJ.displayName=rR;var dJ="RadioIndicator",fJ=_.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,s=zLe(dJ,r);return o.jsx(di,{present:n||s.checked,children:o.jsx(at.span,{"data-state":mJ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});fJ.displayName=dJ;var VLe="RadioBubbleInput",hJ=_.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const a=_.useRef(null),l=Dt(a,s),c=N2(r),u=WT(t);return _.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(x)}},[c,r,n]),o.jsx(at.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hJ.displayName=VLe;function mJ(e){return e?"checked":"unchecked"}var ULe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N_="RadioGroup",[WLe,Tqe]=Qn(N_,[Ew,cJ]),pJ=Ew(),gJ=cJ(),[HLe,KLe]=WLe(N_),vJ=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:d,...m}=e,p=pJ(r),x=bv(u),[y,v]=So({prop:s,defaultProp:i??null,onChange:d,caller:N_});return o.jsx(HLe,{scope:r,name:n,required:a,disabled:l,value:y,onValueChange:v,children:o.jsx(k7,{asChild:!0,...p,orientation:c,dir:x,loop:f,children:o.jsx(at.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});vJ.displayName=N_;var yJ="RadioGroupItem",xJ=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,s=KLe(yJ,r),a=s.disabled||n,l=pJ(r),c=gJ(r),u=_.useRef(null),f=Dt(t,u),d=s.value===i.value,m=_.useRef(!1);return _.useEffect(()=>{const p=y=>{ULe.includes(y.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),o.jsx(O7,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(uJ,{disabled:a,required:s.required,checked:d,...c,...i,name:s.name,ref:f,onCheck:()=>s.onValueChange(i.value),onKeyDown:Ye(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ye(i.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});xJ.displayName=yJ;var GLe="RadioGroupIndicator",bJ=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=gJ(r);return o.jsx(fJ,{...i,...n,ref:t})});bJ.displayName=GLe;var wJ=vJ,_J=xJ,YLe=bJ;const sv=_.forwardRef(({className:e,...t},r)=>o.jsx(wJ,{className:Ne("grid gap-2",e),...t,ref:r}));sv.displayName=wJ.displayName;const av=_.forwardRef(({className:e,...t},r)=>o.jsx(_J,{ref:r,className:Ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(YLe,{className:"flex items-center justify-center",children:o.jsx(koe,{className:"h-2.5 w-2.5 fill-current text-current"})})}));av.displayName=_J.displayName;const QLe=({questions:e,passingScore:t,onQuizComplete:r})=>{const[n,i]=_.useState(0),[s,a]=_.useState(null),[l,c]=_.useState(0),[u,f]=_.useState(!1),[d,m]=_.useState(null),[p,x]=_.useState(!1),[y,v]=_.useState(!1),b=e[n],w=E=>{a(E),m(null)},j=()=>{if(s===null){m({isCorrect:!1,message:"Veuillez sélectionner une réponse."});return}const E=b.options.find(O=>O.isCorrect);s===(E==null?void 0:E.text)?(c(O=>O+1),m({isCorrect:!0,message:"Bonne réponse !"})):m({isCorrect:!1,message:`Mauvaise réponse. La bonne réponse était : ${E==null?void 0:E.text}`}),f(!0)},S=()=>{if(f(!1),m(null),a(null),n<e.length-1)i(E=>E+1);else{const k=l/e.length*100>=t;v(k),x(!0),r(l,e.length,k)}},C=()=>{i(0),a(null),c(0),f(!1),m(null),x(!1),v(!1)};return p?o.jsxs(Re,{className:"p-6 text-center",children:[o.jsxs(Fe,{className:Ne("text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",y?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["Quiz Terminé ! ",y?"Réussi !":"Échoué."]}),o.jsxs(Le,{className:"text-lg text-muted-foreground mb-6",children:["Votre score : ",l," / ",e.length," (",(l/e.length*100).toFixed(0),"%)",o.jsx("br",{}),"Score requis pour réussir : ",t,"%"]}),o.jsxs(me,{onClick:C,children:[o.jsx(hw,{className:"h-4 w-4 mr-2"})," Recommencer le Quiz"]})]}):o.jsxs(Re,{className:"p-6",children:[o.jsxs(Be,{className:"mb-4",children:[o.jsxs(Fe,{className:"text-2xl",children:["Question ",n+1," / ",e.length]}),o.jsx(Le,{className:"text-lg font-medium",children:b.question})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsx(sv,{onValueChange:w,value:s,disabled:u,children:b.options.map((E,k)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(av,{value:E.text,id:`option-${k}`}),o.jsx(Pe,{htmlFor:`option-${k}`,className:Ne("flex-grow p-3 rounded-md border cursor-pointer",u&&E.isCorrect&&"border-green-500 bg-green-50 text-green-800 dark:bg-green-900/20 dark:text-green-300",u&&!E.isCorrect&&s===E.text&&"border-red-500 bg-red-50 text-red-800 dark:bg-red-900/20 dark:text-red-300",!u&&"hover:bg-accent hover:text-accent-foreground"),children:E.text})]},k))}),d&&o.jsxs("div",{className:Ne("flex items-center gap-2 p-3 rounded-md",d.isCorrect?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:[d.isCorrect?o.jsx(Ta,{className:"h-5 w-5"}):o.jsx(Kh,{className:"h-5 w-5"}),o.jsx("p",{className:"text-sm",children:d.message})]}),o.jsx("div",{className:"flex justify-end gap-2 mt-6",children:u?o.jsxs(me,{onClick:S,children:[n<e.length-1?"Question Suivante":"Voir les Résultats",o.jsx(wU,{className:"h-4 w-4 ml-2"})]}):o.jsx(me,{onClick:j,disabled:s===null,children:"Soumettre la réponse"})})]})]})},XLe=()=>{var Q;const{courseId:e,moduleIndex:t}=i2(),r=on(),{currentUserProfile:n,currentRole:i,isLoadingUser:s}=Qt(),{setCourseContext:a,setModuleContext:l,openChat:c}=Cl(),u=zc();cs();const[f,d]=_.useState([]),[m,p]=_.useState(null),x=parseInt(t||"0",10),y=f.find(G=>G.id===e),v=y==null?void 0:y.modules[x],b=m==null?void 0:m.modules_progress.find(G=>G.module_index===x),[w,j]=_.useState(!1),[S,C]=_.useState({key:"",title:""}),[E,k]=_.useState(0),[O,M]=_.useState(null),[R,T]=_.useState(null),P=_.useRef([]);if(_.useEffect(()=>{(async()=>{const ne=await Nl();if(d(ne),n&&i==="student"&&e){const Z=await e9(n.id,e);p(Z)}})()},[e,t,n,i]),_.useEffect(()=>(y&&v?(a(y.id,y.title),l(v.title)):(a(null,null),l(null)),()=>{a(null,null),l(null)}),[e,t,y,v,a,l]),_.useCallback(G=>{var ne;P.current[G]&&((ne=P.current[G])==null||ne.scrollIntoView({behavior:"smooth",block:"start"}))},[]),s)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement du module..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!y||!v)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Module non trouvé"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Le module que vous recherchez n'existe pas."}),o.jsx(me,{onClick:()=>r(`/courses/${e}`),className:"mt-4",children:"Retour au cours"})]});if(!(i==="student"?((Q=m==null?void 0:m.modules_progress.find(G=>G.module_index===x-1))==null?void 0:Q.is_completed)||x===0:!0))return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Module Verrouillé"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez compléter le module précédent pour accéder à celui-ci."}),o.jsx(me,{onClick:()=>r(`/courses/${e}`),className:"mt-4",children:"Retour au cours"})]});const B=async(G,ne)=>{if(!n||!m||!b){se("Impossible de marquer la section comme terminée. Profil étudiant non trouvé ou progression non chargée.");return}const Z=b.sections_progress.map((xe,be)=>be===G?{...xe,is_completed:!0,quiz_result:ne||xe.quiz_result}:xe),re={...b,sections_progress:Z},fe=m.modules_progress.map((xe,be)=>be===x?re:xe),ce={...m,modules_progress:fe,is_completed:fe.every(xe=>xe.is_completed)};try{const xe=await tb(ce);xe?(p(xe),nt(`Section "${v.sections[G].title}" marquée comme terminée !`)):se("Échec de la mise à jour de la progression de la section.")}catch(xe){console.error("Error marking section complete:",xe),se(`Erreur lors de la mise à jour de la progression: ${xe.message}`)}},$=async()=>{if(!n||!m||!b){se("Impossible de marquer le module comme terminé. Profil étudiant non trouvé ou progression non chargée.");return}if(!b.sections_progress.every(fe=>fe.is_completed)){se("Veuillez compléter toutes les sections de ce module avant de le marquer comme terminé.");return}const ne={...b,is_completed:!0},Z=m.modules_progress.map((fe,ce)=>ce===x?ne:fe),re={...m,modules_progress:Z,is_completed:Z.every(fe=>fe.is_completed)};try{const fe=await tb(re);fe?(p(fe),nt(`Module "${v.title}" marqué comme terminé !`),x<y.modules.length-1?r(`/courses/${e}/modules/${x+1}`):(nt("Félicitations ! Vous avez terminé tous les modules de ce cours."),r(`/courses/${e}`))):se("Échec de la mise à jour de la progression du module.")}catch(fe){console.error("Error marking module complete:",fe),se(`Erreur lors de la mise à jour de la progression: ${fe.message}`)}},H=async(G,ne,Z,re)=>{if(!n||!m||!b){se("Impossible de marquer le quiz comme terminé. Profil étudiant non trouvé ou progression non chargée.");return}const fe={score:G,total:ne,passed:Z};if(Z)nt(`Quiz terminé ! Votre score : ${G}/${ne}. Vous avez réussi !`),await B(re,fe);else{se(`Quiz terminé ! Votre score : ${G}/${ne}. Vous n'avez pas atteint le seuil de réussite.`);const ce=b.sections_progress.map((Te,De)=>De===re?{...Te,quiz_result:fe}:Te),xe={...b,sections_progress:ce},be=m.modules_progress.map((Te,De)=>De===x?xe:Te),ke={...m,modules_progress:be};try{const Te=await tb(ke);Te?p(Te):se("Échec de la mise à jour du résultat du quiz.")}catch(Te){console.error("Error updating quiz result:",Te),se(`Erreur lors de la mise à jour du résultat du quiz: ${Te.message}`)}}},V=G=>{c(`J'ai une question sur la section "${G}" du module "${v.title}" du cours "${y.title}".`)},U=()=>{c(`J'ai une question sur le module "${v.title}" du cours "${y.title}".`)},W=(G,ne)=>{const Z=ne!==void 0?Ap("section",y.id,x,ne):Ap("module",y.id,x);C({key:Z,title:G}),j(!0)},F=_.useCallback(()=>{k(G=>G+1)},[]);let L=0,q=0;const K=v.sections.length;b&&(q=b.sections_progress.filter(G=>G.is_completed).length,L=K>0?Math.round(q/K*100):0);const ee=Ap("module",y.id,x),te=(b==null?void 0:b.sections_progress.every(G=>G.is_completed))||!1;return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col gap-8",children:[" ",o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs(me,{variant:"outline",onClick:()=>r(`/courses/${e}`),children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Retour au cours"]}),o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:y.title}),o.jsx("div",{})]}),o.jsxs(nv,{onOpenChange:G=>M(G?`module-${y.id}-${x}`:null),children:[o.jsx(iv,{asChild:!0,children:o.jsxs(Re,{className:Ne("relative rounded-android-tile",O===`module-${y.id}-${x}`?"bg-primary/10":""),children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center justify-between",children:[o.jsx("span",{children:v.title}),(b==null?void 0:b.is_completed)&&o.jsx(Ta,{className:"h-6 w-6 text-green-500"})]}),o.jsxs(Le,{children:["Module ",x+1," sur ",y.modules.length]}),o.jsx(Mv,{value:L,className:"w-full mt-2"})]}),o.jsxs(qe,{children:[v.sections.map((G,ne)=>{var be;const Z=Ap("section",y.id,x,ne),re=b==null?void 0:b.sections_progress.find(ke=>ke.section_index===ne),fe=(re==null?void 0:re.is_completed)||!1,ce=re==null?void 0:re.quiz_result,xe=ne===0||((be=b==null?void 0:b.sections_progress.find(ke=>ke.section_index===ne-1))==null?void 0:be.is_completed)||!1;return o.jsxs("div",{className:"mb-6",children:[o.jsxs(nv,{onOpenChange:ke=>M(ke?`section-${y.id}-${x}-${ne}`:null),children:[o.jsx(iv,{className:"block w-full",children:o.jsxs("div",{id:`section-${ne}`,ref:ke=>P.current[ne]=ke,className:Ne("p-4 border rounded-android-tile cursor-context-menu",O===`section-${y.id}-${x}-${ne}`?"bg-primary/10":"bg-muted/10",!xe&&"opacity-50 cursor-not-allowed",G.type==="quiz"&&"border-dashed border-primary/50 bg-primary/5"),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[G.type==="quiz"&&o.jsx(o2,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:G.title}),fe&&o.jsx(Ta,{className:"h-5 w-5 text-green-500"})]}),ce&&o.jsxs(JM,{variant:ce.passed?"default":"destructive",className:"text-sm rounded-android-tile",children:[" ",ce.score,"/",ce.total," (",(ce.score/ce.total*100).toFixed(0),"%) ",ce.passed?"Réussi":"Échoué"]})]}),xe?o.jsxs(o.Fragment,{children:[G.type==="video"&&G.url?o.jsxs("div",{className:"relative w-full aspect-video my-4 rounded-android-tile overflow-hidden",children:[" ",o.jsx("iframe",{src:G.url,title:G.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full"})]}):G.type==="image"&&G.url?o.jsx("img",{src:G.url,alt:G.title,className:"max-w-full h-auto rounded-android-tile my-4"}):G.type==="quiz"&&G.questions?o.jsx("div",{className:"my-4",children:o.jsx(QLe,{questions:G.questions,passingScore:G.passingScore||0,onQuizComplete:(ke,Te,De)=>H(ke,Te,De,ne)})}):o.jsx("p",{className:"text-muted-foreground mt-2",children:G.content}),!fe&&G.type!=="quiz"&&o.jsxs(me,{onClick:()=>B(ne),className:"mt-4",size:"sm",children:[o.jsx(Ta,{className:"h-4 w-4 mr-2"})," Marquer comme lu"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Clic droit pour les options"})]}):o.jsx("p",{className:"text-muted-foreground mt-2",children:"Veuillez compléter la section précédente pour accéder à celle-ci."})]})}),o.jsxs(Lh,{className:"w-auto p-1 rounded-android-tile",children:[" ",n&&o.jsxs(o.Fragment,{children:[o.jsxs(Ea,{className:"p-2",onClick:()=>T(R===Z?null:Z),children:[o.jsx(Fa,{className:"mr-2 h-4 w-4"})," ",R===Z?"Masquer les notes":"Afficher les notes"]}),o.jsxs(Ea,{className:"p-2",onClick:()=>W(G.title,ne),children:[o.jsx(gr,{className:"mr-2 h-4 w-4"})," Ajouter une note rapide"]})]}),o.jsxs(Ea,{className:"p-2",onClick:()=>V(G.title),children:[o.jsx(ng,{className:"mr-2 h-4 w-4"})," Demander à AiA"]})]})]}),R===Z&&n&&o.jsx(Q0,{noteKey:Z,title:G.title,userId:n.id,refreshKey:E})]},ne)}),o.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center mt-6",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(me,{variant:"outline",onClick:()=>r(`/courses/${e}/modules/${x-1}`),disabled:x===0,children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Précédent"]}),o.jsxs(me,{variant:"outline",onClick:()=>r(`/courses/${e}/modules/${x+1}`),disabled:x===y.modules.length-1||!(b!=null&&b.is_completed),children:["Suivant ",o.jsx(wU,{className:"h-4 w-4 ml-2"})]})]}),o.jsx("div",{className:"flex gap-2",children:!(b!=null&&b.is_completed)&&o.jsxs(me,{onClick:$,disabled:!te,children:[o.jsx(Ta,{className:"h-4 w-4 mr-2"})," Marquer comme terminé"]})})]})]})]})}),o.jsxs(Lh,{className:"w-auto p-1 rounded-android-tile",children:[" ",n&&o.jsxs(o.Fragment,{children:[o.jsxs(Ea,{className:"p-2",onClick:()=>T(R===ee?null:ee),children:[o.jsx(Fa,{className:"mr-2 h-4 w-4"})," ",R===ee?"Masquer les notes du module":"Afficher les notes du module"]}),o.jsxs(Ea,{className:"p-2",onClick:()=>W(v.title),children:[o.jsx(gr,{className:"mr-2 h-4 w-4"})," Ajouter une note rapide au module"]})]}),o.jsxs(Ea,{className:"p-2",onClick:U,children:[o.jsx(ng,{className:"mr-2 h-4 w-4"})," Demander à AiA sur ce module"]})]})]}),R===ee&&n&&o.jsx(Q0,{noteKey:ee,title:v.title,userId:n.id,refreshKey:E}),n&&o.jsx("div",{className:Ne("fixed z-40 p-4",u?"bottom-20 left-4":"bottom-4 left-4"),children:o.jsxs(me,{size:"lg",className:"rounded-full h-14 w-14 shadow-lg animate-bounce-slow",onClick:()=>W(v.title),children:[o.jsx(gr,{className:"h-7 w-7"}),o.jsx("span",{className:"sr-only",children:"Ajouter une note rapide pour le module"})]})}),o.jsx(hLe,{isOpen:w,onClose:()=>j(!1),noteKey:S.key,contextTitle:S.title,onNoteAdded:F})]})},ZLe=()=>{const{currentUserProfile:e,isLoadingUser:t}=Qt(),[r,n]=_.useState([]),[i,s]=_.useState(0),[a,l]=_.useState(""),[c,u]=_.useState(null),f=zc(),d=cs(),m=_.useRef(!1);_.useEffect(()=>{(async()=>{if(e){const w=await Nl(),j=await UIe(e.id,w);n(j);const C=new URLSearchParams(d.search).get("select");C&&j.some(E=>E.key===C)?u(C):j.length>0&&!c?u(j[0].key):j.length===0&&u(null)}})()},[i,d.search,e]);const p=_.useMemo(()=>{if(!a)return r;const b=a.toLowerCase();return r.filter(w=>{const j=w.context.toLowerCase().includes(b),S=w.notes.some(C=>C.toLowerCase().includes(b));return j||S})},[r,a]);_.useEffect(()=>{if(m.current){m.current=!1;return}c!==null&&!p.some(b=>b.key===c)?u(p.length>0?p[0].key:null):c===null&&p.length>0&&a===""&&u(p[0].key)},[p,c,a]);const x=b=>{u(b)},y=()=>{u(null),m.current=!0},v=_.useMemo(()=>r.find(b=>b.key===c),[r,c]);return t?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement des notes..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]}):e?o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 h-[calc(100vh-120px)] flex flex-col",children:[" ",o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Toutes mes notes"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Retrouvez ici toutes les notes que vous avez prises pour vos cours et modules."}),r.length===0?o.jsxs(Re,{className:"flex-grow flex items-center justify-center rounded-android-tile",children:[" ",o.jsxs(qe,{className:"p-6 text-center text-muted-foreground",children:[o.jsx(Fa,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),o.jsx("p",{children:"Vous n'avez pas encore pris de notes. Commencez un cours pour en ajouter !"})]})]}):o.jsxs("div",{className:"flex flex-col flex-grow md:flex-row md:gap-4",children:[o.jsxs("div",{className:Ne("flex flex-col",f?c?"hidden":"flex-grow":"w-full md:w-1/3 flex-shrink-0"),children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher dans les notes...",className:"pl-10 rounded-android-tile",value:a,onChange:b=>l(b.target.value)})]}),o.jsx("div",{className:"flex-grow overflow-y-auto pb-4 md:pr-2",children:p.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucune note trouvée pour votre recherche."}):o.jsx("div",{className:"grid gap-4",children:p.map(b=>o.jsxs(Re,{className:Ne("cursor-pointer hover:shadow-md transition-shadow rounded-android-tile",c===b.key?"border-primary ring-2 ring-primary/50 bg-primary/5":""),onClick:()=>x(b.key),children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2 text-base",children:[o.jsx(Fa,{className:"h-4 w-4 text-primary"})," ",b.context]}),o.jsxs(Le,{className:"text-xs",children:[b.notes.length," note(s)"]})]}),o.jsx(qe,{children:o.jsx("p",{className:"text-xs text-muted-foreground italic",children:b.notes.length>0?`Dernière note: "${b.notes[b.notes.length-1].replace(/<[^>]*>/g,"").substring(0,50)}..."`:"Aucune note."})})]},b.key))})})]}),o.jsxs("div",{className:Ne("flex flex-col",f?c?"flex-grow":"hidden":"w-full md:w-2/3 flex-grow"),children:[f&&c&&o.jsxs(me,{variant:"outline",onClick:y,className:"mb-4 w-fit",children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Retour à la liste"]}),v&&e?o.jsx(Q0,{noteKey:v.key,title:v.context,userId:e.id,refreshKey:i}):o.jsxs("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:["Sélectionnez une note ",f?"":"à gauche"," pour la visualiser."]})]})]})]}):o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez vous connecter pour voir vos notes."})]})},JLe={Building2:xr,Info:Ct},e4e=({isOpen:e,onClose:t,curriculum:r,onSave:n,establishments:i})=>{const{currentUserProfile:s,currentRole:a}=Qt(),[l,c]=_.useState(r.name),[u,f]=_.useState(r.description||""),[d,m]=_.useState(r.establishment_id||null),[p,x]=_.useState(!1),[y,v]=_.useState("");_.useEffect(()=>{e&&r&&(c(r.name),f(r.description||""),m(r.establishment_id||null))},[e,r]);const b=async()=>{if(!s||a!=="professeur"&&a!=="director"&&a!=="deputy_director"&&a!=="administrator"){se("Vous n'êtes pas autorisé à modifier un cursus.");return}if(!l.trim()){se("Le nom du cursus est requis.");return}if(!d&&a!=="administrator"){se("L'établissement est requis pour le cursus.");return}if(a!=="administrator"&&r.establishment_id!==s.establishment_id){se("Vous ne pouvez modifier que les cursus de votre établissement.");return}x(!0);try{const j={...r,name:l.trim(),description:u.trim()||void 0,establishment_id:d||""},S=await TK(j);S?(n(S),nt("Cursus mis à jour avec succès !"),t()):se("Échec de la mise à jour du cursus.")}catch(j){console.error("Error saving curriculum:",j),se(`Erreur lors de la sauvegarde du cursus: ${j.message}`)}finally{x(!1)}},w=i.filter(j=>a==="administrator"||j.id===(s==null?void 0:s.establishment_id)).map(j=>({id:j.id,label:j.name,icon_name:"Building2",description:j.address}));return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsx(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier le cursus"}),o.jsx(Yn,{children:"Mettez à jour les informations du cursus."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"name",className:"text-right",children:"Nom"}),o.jsx(rt,{id:"name",value:l,onChange:j=>c(j.target.value),className:"col-span-3",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(Yu,{id:"description",value:u,onChange:j=>f(j.target.value),className:"col-span-3"})]}),(a==="administrator"||(s==null?void 0:s.establishment_id)&&["director","deputy_director","professeur"].includes(a||""))&&o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"establishment",className:"text-right",children:"Établissement"}),o.jsx(jt,{id:"establishment",options:w,value:d,onValueChange:j=>m(j),searchQuery:y,onSearchQueryChange:v,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:JLe,disabled:a!=="administrator"&&!!(s!=null&&s.establishment_id)})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:b,disabled:p||!d&&a!=="administrator",children:p?"Enregistrement...":"Enregistrer les modifications"})})]})})})},t4e={Building2:xr,Info:Ct},r4e=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),[n,i]=_.useState([]),[s,a]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState(""),[p,x]=_.useState(null),[y,v]=_.useState(!1),[b,w]=_.useState(null),[j,S]=_.useState([]),[C,E]=_.useState(!1),[k,O]=_.useState(null),[M,R]=_.useState("");_.useEffect(()=>{(async()=>{i(await qi()),a(await Ys(e==null?void 0:e.establishment_id)),c(await Pa(e==null?void 0:e.establishment_id)),f(await Nl())})()},[e]),_.useEffect(()=>{e!=null&&e.establishment_id?x(e.establishment_id):t==="administrator"&&n.length>0?x(n[0].id):x(null)},[e,t,n]);const T=F=>{var L;return((L=n.find(q=>q.id===F))==null?void 0:L.name)||"N/A"},P=async()=>{if(!e||t!=="professeur"&&t!=="director"&&t!=="deputy_director"&&t!=="administrator"){se("Vous n'êtes pas autorisé à ajouter un cursus.");return}if(!d.trim()){se("Le nom du cursus est requis.");return}if(!p&&t!=="administrator"){se("L'établissement est requis pour créer un cursus.");return}try{await Rye({id:"",name:d.trim(),description:void 0,establishment_id:p||"",course_ids:[]})?(a(await Ys(e==null?void 0:e.establishment_id)),m(""),x((e==null?void 0:e.establishment_id)||null),nt("Cursus ajouté !")):se("Échec de l'ajout du cursus.")}catch(F){console.error("Error adding curriculum:",F),se(`Erreur lors de l'ajout du cursus: ${F.message}`)}},I=async F=>{if(!e||t!=="professeur"&&t!=="director"&&t!=="deputy_director"&&t!=="administrator"){se("Vous n'êtes pas autorisé à supprimer un cursus.");return}const L=s.find(q=>q.id===F);if(!L){se("Cursus introuvable.");return}if(t!=="administrator"&&L.establishment_id!==e.establishment_id){se("Vous ne pouvez supprimer que les cursus de votre établissement.");return}try{await Dye(F),a(await Ys(e==null?void 0:e.establishment_id)),nt("Cursus supprimé !")}catch(q){console.error("Error deleting curriculum:",q),se(`Erreur lors de la suppression du cursus: ${q.message}`)}},B=F=>{if(!e||t!=="professeur"&&t!=="director"&&t!=="deputy_director"&&t!=="administrator"){se("Vous n'êtes pas autorisé à gérer les cours d'un cursus.");return}if(t!=="administrator"&&F.establishment_id!==e.establishment_id){se("Vous ne pouvez gérer les cours que des cursus de votre établissement.");return}w(F),S(F.course_ids),v(!0)},$=async()=>{if(!e||t!=="professeur"&&t!=="director"&&t!=="deputy_director"&&t!=="administrator"){se("Vous n'êtes pas autorisé à sauvegarder les cours d'un cursus.");return}if(b){if(t!=="administrator"&&b.establishment_id!==e.establishment_id){se("Vous ne pouvez sauvegarder les cours que des cursus de votre établissement.");return}try{const F={...b,course_ids:j};await TK(F),a(await Ys(e==null?void 0:e.establishment_id)),nt("Cours du cursus mis à jour !"),v(!1),w(null),S([])}catch(F){console.error("Error saving curriculum courses:",F),se(`Erreur lors de la sauvegarde des cours du cursus: ${F.message}`)}}},H=F=>{if(!e||t!=="professeur"&&t!=="director"&&t!=="deputy_director"&&t!=="administrator"){se("Vous n'êtes pas autorisé à modifier un cursus.");return}if(t!=="administrator"&&F.establishment_id!==e.establishment_id){se("Vous ne pouvez modifier que les cursus de votre établissement.");return}O(F),E(!0)},V=async F=>{a(await Ys(e==null?void 0:e.establishment_id))};if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e||t!=="professeur"&&t!=="director"&&t!=="deputy_director"&&t!=="administrator")return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les professeurs, directeurs et administrateurs peuvent accéder à cette page."})]});const U=n.filter(F=>t==="administrator"||F.id===(e==null?void 0:e.establishment_id)).map(F=>({id:F.id,label:F.name,icon_name:"Building2",description:F.address})),W=s;return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Cursus"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Créez et gérez des cursus scolaires."}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Mn,{className:"h-6 w-6 text-primary"})," Cursus Scolaires"]}),o.jsx(Le,{children:"Créez et gérez des ensembles de cours."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"new-curriculum-name",children:"Nom du nouveau cursus"}),o.jsx(rt,{id:"new-curriculum-name",placeholder:"Ex: Cursus Scientifique",value:d,onChange:F=>m(F.target.value),required:!0}),(t==="administrator"||(e==null?void 0:e.establishment_id)&&["director","deputy_director","professeur"].includes(t||""))&&o.jsxs(o.Fragment,{children:[o.jsx(Pe,{htmlFor:"new-curriculum-establishment",children:"Établissement"}),o.jsx(jt,{id:"new-curriculum-establishment",options:U,value:p,onValueChange:F=>x(F),searchQuery:M,onSearchQueryChange:R,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:t4e,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]}),o.jsxs(me,{onClick:P,disabled:!d.trim()||!p&&t!=="administrator",children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter Cursus"]})]}),o.jsx("div",{className:"space-y-2 mt-4",children:W.length===0?o.jsx("p",{className:"text-muted-foreground",children:"Aucun cursus à afficher."}):W.map(F=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-android-tile bg-background",children:[o.jsxs("span",{children:[F.name," (",F.course_ids.length," cours, ",l.filter(L=>L.curriculum_id===F.id).length," classes) ",F.establishment_id&&`(${T(F.establishment_id)})`]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>B(F),children:[o.jsx(ia,{className:"h-4 w-4 mr-1"})," Gérer Cours"]}),o.jsx(me,{variant:"outline",size:"sm",onClick:()=>H(F),children:o.jsx(es,{className:"h-4 w-4"})}),o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>I(F.id),children:o.jsx(Li,{className:"h-4 w-4"})})]})]},F.id))})]})]}),y&&b&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[1000] flex items-center justify-center p-4",children:o.jsxs(Re,{className:"w-full max-w-2xl backdrop-blur-lg bg-background/80 rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{children:['Gérer les cours pour "',b.name,'"']}),o.jsx(Le,{children:"Sélectionnez les cours qui feront partie de ce cursus."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsx("div",{className:"grid gap-2 max-h-80 overflow-y-auto",children:u.length===0?o.jsx("p",{className:"text-muted-foreground",children:"Aucun cours disponible. Créez-en un d'abord !"}):u.filter(F=>t==="administrator"||F.creator_id===(e==null?void 0:e.id)).map(F=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-android-tile",children:[o.jsx("span",{children:F.title}),o.jsx("input",{type:"checkbox",checked:j.includes(F.id),onChange:L=>{L.target.checked?S(q=>[...q,F.id]):S(q=>q.filter(K=>K!==F.id))},className:"h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary"})]},F.id))}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(me,{variant:"outline",onClick:()=>v(!1),children:"Annuler"}),o.jsx(me,{onClick:$,children:"Sauvegarder"})]})]})]})}),k&&o.jsx(e4e,{isOpen:C,onClose:()=>E(!1),curriculum:k,onSave:V,establishments:U.map(F=>({id:F.id,name:F.label,address:F.description,contact_email:void 0}))})]})},gk={Building2:xr,LayoutList:Mn,CalendarDays:kr,Info:Ct},n4e=({isOpen:e,onClose:t,classToEdit:r,onSave:n,establishments:i,curricula:s,schoolYears:a})=>{const{currentUserProfile:l,currentRole:c}=Qt(),[u,f]=_.useState(r.name),[d,m]=_.useState(r.curriculum_id),[p,x]=_.useState(r.establishment_id||null),[y,v]=_.useState(r.school_year_id),[b,w]=_.useState(!1),[j,S]=_.useState(""),[C,E]=_.useState(""),[k,O]=_.useState("");_.useEffect(()=>{e&&r&&(f(r.name),m(r.curriculum_id),x(r.establishment_id||null),v(r.school_year_id))},[e,r]);const M=async()=>{if(!l||!["professeur","director","deputy_director","administrator"].includes(c||"")){se("Vous n'êtes pas autorisé à modifier une classe.");return}if(!u.trim()){se("Le nom de la classe est requis.");return}if(!d){se("Le cursus est requis.");return}if(!p&&c!=="administrator"){se("L'établissement est requis pour la classe.");return}if(!y){se("L'année scolaire est requise.");return}if(c==="professeur"&&!r.creator_ids.includes(l.id)){se("Vous ne pouvez modifier que les classes que vous gérez.");return}if((c==="director"||c==="deputy_director")&&r.establishment_id!==l.establishment_id){se("Vous ne pouvez modifier que les classes de votre établissement.");return}const I=s.find(B=>B.id===d);if(p&&I&&I.establishment_id!==p){se("Le cursus sélectionné n'appartient pas à l'établissement choisi.");return}w(!0);try{const B={...r,name:u.trim(),curriculum_id:d,establishment_id:p||"",school_year_id:y},$=await Vye(B);$?(n($),nt("Classe mise à jour avec succès !"),t()):se("Échec de la mise à jour de la classe.")}catch(B){console.error("Error saving class:",B),se(`Erreur lors de la sauvegarde de la classe: ${B.message}`)}finally{w(!1)}},R=i.filter(I=>c==="administrator"||I.id===(l==null?void 0:l.establishment_id)).map(I=>({id:I.id,label:I.name,icon_name:"Building2",description:I.address})),T=s.filter(I=>!p||I.establishment_id===p).map(I=>({id:I.id,label:I.name,icon_name:"LayoutList",description:I.description})),P=a.map(I=>({id:I.id,label:I.name,icon_name:"CalendarDays",description:`${format(parseISO(I.start_date),"dd/MM/yyyy",{locale:fr})} - ${format(parseISO(I.end_date),"dd/MM/yyyy",{locale:fr})}`}));return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsx(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier la classe"}),o.jsx(Yn,{children:"Mettez à jour les informations de la classe."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"name",className:"text-right",children:"Nom"}),o.jsx(rt,{id:"name",value:u,onChange:I=>f(I.target.value),className:"col-span-3",required:!0})]}),(c==="administrator"||(l==null?void 0:l.establishment_id)&&["director","deputy_director","professeur"].includes(c||""))&&o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"establishment",className:"text-right",children:"Établissement"}),o.jsx(jt,{id:"establishment",options:R,value:p,onValueChange:I=>x(I),searchQuery:j,onSearchQueryChange:S,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:gk,disabled:c!=="administrator"&&!!(l!=null&&l.establishment_id)})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"curriculum",className:"text-right",children:"Cursus"}),o.jsx(jt,{id:"curriculum",options:T,value:d,onValueChange:I=>m(I),searchQuery:C,onSearchQueryChange:E,placeholder:"Sélectionner un cursus",emptyMessage:"Aucun cursus trouvé.",iconMap:gk})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"schoolYear",className:"text-right",children:"Année scolaire"}),o.jsx(jt,{id:"schoolYear",options:P,value:y,onValueChange:I=>v(I),searchQuery:k,onSearchQueryChange:O,placeholder:"Sélectionner l'année scolaire",emptyMessage:"Aucune année scolaire trouvée.",iconMap:gk})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:M,disabled:b||!p&&c!=="administrator",children:b?"Enregistrement...":"Enregistrer les modifications"})})]})})})},vk={Building2:xr,LayoutList:Mn,CalendarDays:kr,Users:Wr,Info:Ct},i4e=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),{openChat:n}=Cl(),i=on(),[s,a]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,x]=_.useState([]),[y,v]=_.useState([]),[b,w]=_.useState(""),[j,S]=_.useState(""),[C,E]=_.useState(null),[k,O]=_.useState(""),[M,R]=_.useState(!1),[T,P]=_.useState(null),[I,B]=_.useState(""),[$,H]=_.useState(""),[V,U]=_.useState(""),[W,F]=_.useState("");_.useEffect(()=>{(async()=>{try{c(await qi()),a(await Pa(e==null?void 0:e.establishment_id)),f(await Ys(e==null?void 0:e.establishment_id)),m(await ts()),x(await as()),v(await xc())}catch(fe){console.error("Error fetching data for ClassManagementPage:",fe),se(`Erreur lors du chargement des données de gestion des classes: ${fe.message}`)}})()},[e]),_.useEffect(()=>{e!=null&&e.establishment_id?E(e.establishment_id):t==="administrator"&&l.length>0?E(l[0].id):E(null)},[e,t,l]);const L=async()=>{if(!e||!["professeur","director","deputy_director","administrator"].includes(t||"")){se("Vous n'êtes pas autorisé à ajouter une classe.");return}if(!b.trim()||!j||!k){se("Le nom de la classe, le cursus et l'année scolaire sont requis.");return}if(!C&&t!=="administrator"){se("L'établissement est requis pour ajouter une classe.");return}const re=u.find(ce=>ce.id===j);if(!re){se("Cursus sélectionné introuvable.");return}if(C&&re.establishment_id!==C){se("Le cursus sélectionné n'appartient pas à l'établissement choisi.");return}if(t!=="administrator"&&C!==e.establishment_id){se("Vous ne pouvez créer des classes que dans votre établissement.");return}const fe={name:b.trim(),curriculum_id:j,creator_ids:[e.id],establishment_id:C||"",school_year_id:k};try{await zye(fe)?(a(await Pa(e==null?void 0:e.establishment_id)),w(""),S(""),E((e==null?void 0:e.establishment_id)||null),O(""),nt("Classe ajoutée !")):se("Échec de l'ajout de la classe.")}catch(ce){console.error("Error adding class:",ce),se(`Erreur lors de l'ajout de la classe: ${ce.message}`)}},q=async re=>{if(!e||!["professeur","director","deputy_director","administrator"].includes(t||"")){se("Vous n'êtes pas autorisé à supprimer une classe.");return}const fe=s.find(ce=>ce.id===re);if(!fe){se("Classe introuvable.");return}if(t==="professeur"&&!fe.creator_ids.includes(e.id)){se("Vous ne pouvez supprimer que les classes que vous gérez.");return}if((t==="director"||t==="deputy_director")&&fe.establishment_id!==e.establishment_id){se("Vous ne pouvez supprimer que les classes de votre établissement.");return}try{await Uye(re),a(await Pa(e==null?void 0:e.establishment_id)),m(await ts()),x(await as()),nt("Classe supprimée !")}catch(ce){console.error("Error deleting class:",ce),se(`Erreur lors de la suppression de la classe: ${ce.message}`)}},K=re=>{if(!e||!["professeur","director","deputy_director","administrator"].includes(t||"")){se("Vous n'êtes pas autorisé à modifier une classe.");return}if(t==="professeur"&&!re.creator_ids.includes(e.id)){se("Vous ne pouvez modifier que les classes que vous gérez.");return}if((t==="director"||t==="deputy_director")&&re.establishment_id!==e.establishment_id){se("Vous ne pouvez modifier que les classes de votre établissement.");return}P(re),R(!0)},ee=async re=>{a(await Pa(e==null?void 0:e.establishment_id))},te=re=>{i(`/pedagogical-management?classId=${re}`)},Q=I.trim()===""?s.filter(re=>e&&(t==="professeur"&&re.creator_ids.includes(e.id)||t==="tutor"&&re.establishment_id===e.establishment_id||(t==="director"||t==="deputy_director")&&re.establishment_id===e.establishment_id||t==="administrator")):s.filter(re=>e&&(t==="professeur"&&re.creator_ids.includes(e.id)||t==="tutor"&&re.establishment_id===e.establishment_id||(t==="director"||t==="deputy_director")&&re.establishment_id===e.establishment_id||t==="administrator")&&re.name.toLowerCase().includes(I.toLowerCase()));if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e||!["administrator","director","deputy_director","professeur","tutor"].includes(t||""))return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs, directeurs, directeurs adjoints, professeurs et tuteurs peuvent accéder à cette page."})]});const G=l.filter(re=>t==="administrator"||re.id===(e==null?void 0:e.establishment_id)).map(re=>({id:re.id,label:re.name,icon_name:"Building2",description:re.address})),ne=u.filter(re=>!C||re.establishment_id===C).map(re=>({id:re.id,label:re.name,icon_name:"LayoutList",description:re.description})),Z=y.map(re=>({id:re.id,label:re.name,icon_name:"CalendarDays",description:`${format(parseISO(re.start_date),"dd/MM/yyyy",{locale:fr})} - ${format(parseISO(re.end_date),"dd/MM/yyyy",{locale:fr})}`}));return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[" ",o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Classes"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Créez et gérez des classes, et visualisez les élèves qui y sont affectés."}),(t==="professeur"||t==="director"||t==="deputy_director"||t==="administrator")&&o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-6 w-6 text-primary"})," Ajouter une nouvelle classe"]}),o.jsx(Le,{children:"Créez de nouvelles classes."})]}),o.jsx(qe,{className:"space-y-4",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"new-class-name",children:"Nom de la classe"}),o.jsx(rt,{id:"new-class-name",placeholder:"Ex: Terminale S1",value:b,onChange:re=>w(re.target.value)}),(t==="administrator"||(e==null?void 0:e.establishment_id)&&["director","deputy_director","professeur"].includes(t||""))&&o.jsxs(o.Fragment,{children:[o.jsx(Pe,{htmlFor:"new-class-establishment",children:"Établissement"}),o.jsx(jt,{id:"new-class-establishment",options:G,value:C,onValueChange:re=>E(re),searchQuery:$,onSearchQueryChange:H,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:vk,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]}),o.jsx(Pe,{htmlFor:"new-class-curriculum",children:"Cursus"}),o.jsx(jt,{id:"new-class-curriculum",options:ne,value:j,onValueChange:S,searchQuery:V,onSearchQueryChange:U,placeholder:"Sélectionner un cursus",emptyMessage:"Aucun cursus trouvé.",iconMap:vk}),o.jsx(Pe,{htmlFor:"new-class-school-year",children:"Année scolaire"}),o.jsx(jt,{id:"new-class-school-year",options:Z,value:k,onValueChange:O,searchQuery:W,onSearchQueryChange:F,placeholder:"Sélectionner l'année scolaire",emptyMessage:"Aucune année scolaire trouvée.",iconMap:vk}),o.jsxs(me,{onClick:L,disabled:!b.trim()||!j||!k||!C&&t!=="administrator",children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter la classe"]})]})})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-6 w-6 text-primary"})," Liste de toutes les classes"]}),o.jsx(Le,{children:"Visualisez et gérez les classes existantes."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher par nom de classe...",className:"pl-10 rounded-android-tile",value:I,onChange:re=>B(re.target.value)})]}),o.jsx("div",{className:"space-y-2",children:Q.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucune classe trouvée pour votre recherche."}):Q.map(re=>o.jsxs(Re,{className:"p-3 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 rounded-android-tile",children:[" ",o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-medium",children:re.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cursus: ",$u(re.curriculum_id,u)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Année scolaire: ",bc(re.school_year_id,y)]}),re.establishment_id&&o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(xr,{className:"h-3 w-3"})," ",Tn(re.establishment_id,l)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Élèves: ",d.filter(fe=>fe.role==="student"&&p.some(ce=>ce.student_id===fe.id&&ce.class_id===re.id)).length]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 sm:mt-0",children:[o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>te(re.id),children:[o.jsx(Wr,{className:"h-4 w-4 mr-1"})," Voir les élèves"]}),(e&&re.creator_ids.includes(e.id)||t==="director"||t==="deputy_director"||t==="administrator")&&o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"outline",size:"sm",onClick:()=>K(re),children:o.jsx(Edit,{className:"h-4 w-4"})}),o.jsxs(me,{variant:"destructive",size:"sm",onClick:()=>q(re.id),children:[o.jsx(Li,{className:"h-4 w-4"})," Supprimer"]})]})]})]},re.id))})]})]}),T&&o.jsx(n4e,{isOpen:M,onClose:()=>R(!1),classToEdit:T,onSave:ee,establishments:G,curricula:ne,schoolYears:Z})]})};function or(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Rs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ni(e,t){const r=or(e);return isNaN(t)?Rs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function za(e,t){const r=or(e);if(isNaN(t))return Rs(e,NaN);if(!t)return r;const n=r.getDate(),i=Rs(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const nR=6048e5,s4e=864e5,SJ=6e4,jJ=36e5;let a4e={};function ty(){return a4e}function Eo(e,t){var l,c,u,f;const r=ty(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=or(e),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function id(e){return Eo(e,{weekStartsOn:1})}function CJ(e){const t=or(e),r=t.getFullYear(),n=Rs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=id(n),s=Rs(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=id(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function $h(e){const t=or(e);return t.setHours(0,0,0,0),t}function X0(e){const t=or(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ho(e,t){const r=$h(e),n=$h(t),i=+r-X0(r),s=+n-X0(n);return Math.round((i-s)/s4e)}function o4e(e){const t=CJ(e),r=Rs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),id(r)}function TT(e,t){const r=t*7;return ni(e,r)}function NJ(e,t){return za(e,t*12)}function l4e(e){let t;return e.forEach(function(r){const n=or(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function c4e(e){let t;return e.forEach(r=>{const n=or(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function ss(e,t){const r=$h(e),n=$h(t);return+r==+n}function iR(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function u4e(e){if(!iR(e)&&typeof e!="number")return!1;const t=or(e);return!isNaN(Number(t))}function ov(e,t){const r=or(e),n=or(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function d4e(e,t,r){const n=Eo(e,r),i=Eo(t,r),s=+n-X0(n),a=+i-X0(i);return Math.round((s-a)/nR)}function sR(e){const t=or(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ls(e){const t=or(e);return t.setDate(1),t.setHours(0,0,0,0),t}function EJ(e){const t=or(e),r=Rs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function aR(e,t){var l,c,u,f;const r=ty(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=or(e),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function kJ(e){return aR(e,{weekStartsOn:1})}const f4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h4e=(e,t,r)=>{let n;const i=f4e[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Df(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const m4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v4e={date:Df({formats:m4e,defaultWidth:"full"}),time:Df({formats:p4e,defaultWidth:"full"}),dateTime:Df({formats:g4e,defaultWidth:"full"})},y4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x4e=(e,t,r,n)=>y4e[e];function ao(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const b4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},S4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},j4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},C4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N4e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},E4e={ordinalNumber:N4e,era:ao({values:b4e,defaultWidth:"wide"}),quarter:ao({values:w4e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ao({values:_4e,defaultWidth:"wide"}),day:ao({values:S4e,defaultWidth:"wide"}),dayPeriod:ao({values:j4e,defaultWidth:"wide",formattingValues:C4e,defaultFormattingWidth:"wide"})};function oo(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?O4e(l,d=>d.test(a)):k4e(l,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}function k4e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function O4e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function OJ(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const A4e=/^(\d+)(th|st|nd|rd)?/i,T4e=/\d+/i,P4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M4e={any:[/^b/i,/^(a|c)/i]},R4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},D4e={any:[/1/i,/2/i,/3/i,/4/i]},I4e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},L4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$4e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F4e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q4e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z4e={ordinalNumber:OJ({matchPattern:A4e,parsePattern:T4e,valueCallback:e=>parseInt(e,10)}),era:oo({matchPatterns:P4e,defaultMatchWidth:"wide",parsePatterns:M4e,defaultParseWidth:"any"}),quarter:oo({matchPatterns:R4e,defaultMatchWidth:"wide",parsePatterns:D4e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:oo({matchPatterns:I4e,defaultMatchWidth:"wide",parsePatterns:L4e,defaultParseWidth:"any"}),day:oo({matchPatterns:$4e,defaultMatchWidth:"wide",parsePatterns:F4e,defaultParseWidth:"any"}),dayPeriod:oo({matchPatterns:q4e,defaultMatchWidth:"any",parsePatterns:B4e,defaultParseWidth:"any"})},AJ={code:"en-US",formatDistance:h4e,formatLong:v4e,formatRelative:x4e,localize:E4e,match:z4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function V4e(e){const t=or(e);return ho(t,EJ(t))+1}function TJ(e){const t=or(e),r=+id(t)-+o4e(t);return Math.round(r/nR)+1}function PJ(e,t){var f,d,m,p;const r=or(e),n=r.getFullYear(),i=ty(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=Rs(e,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const l=Eo(a,t),c=Rs(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Eo(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function U4e(e,t){var l,c,u,f;const r=ty(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=PJ(e,t),s=Rs(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Eo(s,t)}function MJ(e,t){const r=or(e),n=+Eo(r,t)-+U4e(r,t);return Math.round(n/nR)+1}function Sr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ec={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Sr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Sr(r+1,2)},d(e,t){return Sr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Sr(e.getHours()%12||12,t.length)},H(e,t){return Sr(e.getHours(),t.length)},m(e,t){return Sr(e.getMinutes(),t.length)},s(e,t){return Sr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Sr(i,t.length)}},af={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kz={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ec.y(e,t)},Y:function(e,t,r,n){const i=PJ(e,n),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return Sr(a,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Sr(s,t.length)},R:function(e,t){const r=CJ(e);return Sr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Sr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Sr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Sr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ec.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Sr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=MJ(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Sr(i,t.length)},I:function(e,t,r){const n=TJ(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Sr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ec.d(e,t)},D:function(e,t,r){const n=V4e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Sr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Sr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Sr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Sr(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=af.noon:n===0?i=af.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=af.evening:n>=12?i=af.afternoon:n>=4?i=af.morning:i=af.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ec.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ec.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Sr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Sr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ec.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ec.s(e,t)},S:function(e,t){return ec.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Az(n);case"XXXX":case"XX":return xu(n);case"XXXXX":case"XXX":default:return xu(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Az(n);case"xxxx":case"xx":return xu(n);case"xxxxx":case"xxx":default:return xu(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Oz(n,":");case"OOOO":default:return"GMT"+xu(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Oz(n,":");case"zzzz":default:return"GMT"+xu(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Sr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Sr(n,t.length)}};function Oz(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+Sr(s,2)}function Az(e,t){return e%60===0?(e>0?"-":"+")+Sr(Math.abs(e)/60,2):xu(e,t)}function xu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Sr(Math.trunc(n/60),2),s=Sr(n%60,2);return r+i+t+s}const Tz=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},RJ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},W4e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Tz(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Tz(n,t)).replace("{{time}}",RJ(i,t))},H4e={p:RJ,P:W4e},K4e=/^D+$/,G4e=/^Y+$/,Y4e=["D","DD","YY","YYYY"];function Q4e(e){return K4e.test(e)}function X4e(e){return G4e.test(e)}function Z4e(e,t,r){const n=J4e(e,t,r);if(console.warn(n),Y4e.includes(e))throw new RangeError(n)}function J4e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const e$e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,t$e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,r$e=/^'([^]*?)'?$/,n$e=/''/g,i$e=/[a-zA-Z]/;function rr(e,t,r){var f,d,m,p,x,y,v,b;const n=ty(),i=(r==null?void 0:r.locale)??n.locale??AJ,s=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((y=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=or(e);if(!u4e(l))throw new RangeError("Invalid time value");let c=t.match(t$e).map(w=>{const j=w[0];if(j==="p"||j==="P"){const S=H4e[j];return S(w,i.formatLong)}return w}).join("").match(e$e).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const j=w[0];if(j==="'")return{isToken:!1,value:s$e(w)};if(kz[j])return{isToken:!0,value:w};if(j.match(i$e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const j=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&X4e(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Q4e(j))&&Z4e(j,t,String(e));const S=kz[j[0]];return S(l,j,i.localize,u)}).join("")}function s$e(e){const t=e.match(r$e);return t?t[1].replace(n$e,"'"):e}function a$e(e){const t=or(e),r=t.getFullYear(),n=t.getMonth(),i=Rs(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function o$e(e){return Math.trunc(+or(e)/1e3)}function l$e(e){const t=or(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function c$e(e,t){return d4e(l$e(e),ls(e),t)+1}function PT(e,t){const r=or(e),n=or(t);return r.getTime()>n.getTime()}function DJ(e,t){const r=or(e),n=or(t);return+r<+n}function oR(e,t){const r=or(e),n=or(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function u$e(e,t){const r=or(e),n=or(t);return r.getFullYear()===n.getFullYear()}function yk(e,t){return ni(e,-t)}function Zr(e,t){const n=m$e(e);let i;if(n.date){const c=p$e(n.date,2);i=g$e(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,l;if(n.time&&(a=v$e(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(l=y$e(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+a+l)}const Qx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},d$e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,f$e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,h$e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function m$e(e){const t={},r=e.split(Qx.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Qx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Qx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Qx.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function p$e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function g$e(e,t){if(t===null)return new Date(NaN);const r=e.match(d$e);if(!r)return new Date(NaN);const n=!!r[4],i=vp(r[1]),s=vp(r[2])-1,a=vp(r[3]),l=vp(r[4]),c=vp(r[5])-1;if(n)return S$e(t,l,c)?x$e(t,l,c):new Date(NaN);{const u=new Date(0);return!w$e(t,s,a)||!_$e(t,i)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(i,a)),u)}}function vp(e){return e?parseInt(e):1}function v$e(e){const t=e.match(f$e);if(!t)return NaN;const r=xk(t[1]),n=xk(t[2]),i=xk(t[3]);return j$e(r,n,i)?r*jJ+n*SJ+i*1e3:NaN}function xk(e){return e&&parseFloat(e.replace(",","."))||0}function y$e(e){if(e==="Z")return 0;const t=e.match(h$e);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return C$e(n,i)?r*(n*jJ+i*SJ):NaN}function x$e(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const b$e=[31,null,31,30,31,30,31,31,30,31,30,31];function IJ(e){return e%400===0||e%4===0&&e%100!==0}function w$e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(b$e[t]||(IJ(e)?29:28))}function _$e(e,t){return t>=1&&t<=(IJ(e)?366:365)}function S$e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function j$e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function C$e(e,t){return t>=0&&t<=59}function bk(e,t){const r=or(e),n=r.getFullYear(),i=r.getDate(),s=Rs(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const a=a$e(s);return r.setMonth(t,Math.min(i,a)),r}function Pz(e,t){const r=or(e);return isNaN(+r)?Rs(e,NaN):(r.setFullYear(t),r)}const N$e={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},E$e=(e,t,r)=>{let n;const i=N$e[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},k$e={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},O$e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},A$e={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T$e={date:Df({formats:k$e,defaultWidth:"full"}),time:Df({formats:O$e,defaultWidth:"full"}),dateTime:Df({formats:A$e,defaultWidth:"full"})},P$e={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},M$e=(e,t,r,n)=>P$e[e],R$e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},D$e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},I$e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},L$e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},$$e={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},F$e=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"ère":"er":s="ème",r+s},q$e=["MMM","MMMM"],B$e={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&q$e.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:F$e,era:ao({values:R$e,defaultWidth:"wide"}),quarter:ao({values:D$e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ao({values:I$e,defaultWidth:"wide"}),day:ao({values:L$e,defaultWidth:"wide"}),dayPeriod:ao({values:$$e,defaultWidth:"wide"})},z$e=/^(\d+)(ième|ère|ème|er|e)?/i,V$e=/\d+/i,U$e={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},W$e={any:[/^av/i,/^ap/i]},H$e={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},K$e={any:[/1/i,/2/i,/3/i,/4/i]},G$e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Y$e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Q$e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},X$e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Z$e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},J$e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},e5e={ordinalNumber:OJ({matchPattern:z$e,parsePattern:V$e,valueCallback:e=>parseInt(e)}),era:oo({matchPatterns:U$e,defaultMatchWidth:"wide",parsePatterns:W$e,defaultParseWidth:"any"}),quarter:oo({matchPatterns:H$e,defaultMatchWidth:"wide",parsePatterns:K$e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:oo({matchPatterns:G$e,defaultMatchWidth:"wide",parsePatterns:Y$e,defaultParseWidth:"any"}),day:oo({matchPatterns:Q$e,defaultMatchWidth:"wide",parsePatterns:X$e,defaultParseWidth:"any"}),dayPeriod:oo({matchPatterns:Z$e,defaultMatchWidth:"any",parsePatterns:J$e,defaultParseWidth:"any"})},Ht={code:"fr",formatDistance:E$e,formatLong:T$e,formatRelative:M$e,localize:B$e,match:e5e,options:{weekStartsOn:1,firstWeekContainsDate:4}};var Pt=function(){return Pt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Pt.apply(this,arguments)};function t5e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function LJ(e,t,r){for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ry(e){return e.mode==="multiple"}function ny(e){return e.mode==="range"}function E_(e){return e.mode==="single"}var r5e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function n5e(e,t){return rr(e,"LLLL y",t)}function i5e(e,t){return rr(e,"d",t)}function s5e(e,t){return rr(e,"LLLL",t)}function a5e(e){return"".concat(e)}function o5e(e,t){return rr(e,"cccccc",t)}function l5e(e,t){return rr(e,"yyyy",t)}var c5e=Object.freeze({__proto__:null,formatCaption:n5e,formatDay:i5e,formatMonthCaption:s5e,formatWeekNumber:a5e,formatWeekdayName:o5e,formatYearCaption:l5e}),u5e=function(e,t,r){return rr(e,"do MMMM (EEEE)",r)},d5e=function(){return"Month: "},f5e=function(){return"Go to next month"},h5e=function(){return"Go to previous month"},m5e=function(e,t){return rr(e,"cccc",t)},p5e=function(e){return"Week n. ".concat(e)},g5e=function(){return"Year: "},v5e=Object.freeze({__proto__:null,labelDay:u5e,labelMonthDropdown:d5e,labelNext:f5e,labelPrevious:h5e,labelWeekNumber:p5e,labelWeekday:m5e,labelYearDropdown:g5e});function y5e(){var e="buttons",t=r5e,r=AJ,n={},i={},s=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:c5e,labels:v5e,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:a,today:l,mode:"default"}}function x5e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,s=e.fromDate,a=e.toDate;return n?s=ls(n):t&&(s=new Date(t,0,1)),i?a=sR(i):r&&(a=new Date(r,11,31)),{fromDate:s?$h(s):void 0,toDate:a?$h(a):void 0}}var $J=_.createContext(void 0);function b5e(e){var t,r=e.initialProps,n=y5e(),i=x5e(r),s=i.fromDate,a=i.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!a)&&(l="buttons");var c;(E_(r)||ry(r)||ny(r))&&(c=r.onSelect);var u=Pt(Pt(Pt({},n),r),{captionLayout:l,classNames:Pt(Pt({},n.classNames),r.classNames),components:Pt({},r.components),formatters:Pt(Pt({},n.formatters),r.formatters),fromDate:s,labels:Pt(Pt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Pt(Pt({},n.modifiers),r.modifiers),modifiersClassNames:Pt(Pt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Pt(Pt({},n.styles),r.styles),toDate:a});return o.jsx($J.Provider,{value:u,children:e.children})}function Mr(){var e=_.useContext($J);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function FJ(e){var t=Mr(),r=t.locale,n=t.classNames,i=t.styles,s=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function w5e(e){return o.jsx("svg",Pt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qJ(e){var t,r,n=e.onChange,i=e.value,s=e.children,a=e.caption,l=e.className,c=e.style,u=Mr(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:w5e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function _5e(e){var t,r=Mr(),n=r.fromDate,i=r.toDate,s=r.styles,a=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});var d=[];if(u$e(n,i))for(var m=ls(n),p=n.getMonth();p<=i.getMonth();p++)d.push(bk(m,p));else for(var m=ls(new Date),p=0;p<=11;p++)d.push(bk(m,p));var x=function(v){var b=Number(v.target.value),w=bk(ls(e.displayMonth),b);e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:qJ;return o.jsx(y,{name:"months","aria-label":f(),className:c.dropdown_month,style:s.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:d.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:a})},v.getMonth())})})}function S5e(e){var t,r=e.displayMonth,n=Mr(),i=n.fromDate,s=n.toDate,a=n.locale,l=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,d=n.labels.labelYearDropdown,m=[];if(!i)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var p=i.getFullYear(),x=s.getFullYear(),y=p;y<=x;y++)m.push(Pz(EJ(new Date),y));var v=function(w){var j=Pz(ls(r),Number(w.target.value));e.onChange(j)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:qJ;return o.jsx(b,{name:"years","aria-label":d(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:f(r,{locale:a}),children:m.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:f(w,{locale:a})},w.getFullYear())})})}function j5e(e,t){var r=_.useState(e),n=r[0],i=r[1],s=t===void 0?n:t;return[s,i]}function C5e(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,s=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&ov(s,i)<0){var u=-1*(c-1);i=za(s,u)}return a&&ov(i,a)<0&&(i=a),ls(i)}function N5e(){var e=Mr(),t=C5e(e),r=j5e(t,e.month),n=r[0],i=r[1],s=function(a){var l;if(!e.disableNavigation){var c=ls(a);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function E5e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=ls(e),s=ls(za(i,n)),a=ov(s,i),l=[],c=0;c<a;c++){var u=za(i,c);l.push(u)}return r&&(l=l.reverse()),l}function k5e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=n?s:1,l=ls(e);if(!r)return za(l,a);var c=ov(r,e);if(!(c<s))return za(l,a)}}function O5e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=n?s:1,l=ls(e);if(!r)return za(l,-a);var c=ov(l,r);if(!(c<=0))return za(l,-a)}}var BJ=_.createContext(void 0);function A5e(e){var t=Mr(),r=N5e(),n=r[0],i=r[1],s=E5e(n,t),a=k5e(n,t),l=O5e(n,t),c=function(d){return s.some(function(m){return oR(d,m)})},u=function(d,m){c(d)||(m&&DJ(d,m)?i(za(d,1+t.numberOfMonths*-1)):i(d))},f={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(BJ.Provider,{value:f,children:e.children})}function iy(){var e=_.useContext(BJ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Mz(e){var t,r=Mr(),n=r.classNames,i=r.styles,s=r.components,a=iy().goToMonth,l=function(f){a(za(f,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:FJ,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(_5e,{onChange:l,displayMonth:e.displayMonth}),o.jsx(S5e,{onChange:l,displayMonth:e.displayMonth})]})}function T5e(e){return o.jsx("svg",Pt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function P5e(e){return o.jsx("svg",Pt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Z0=_.forwardRef(function(e,t){var r=Mr(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var a=s.join(" "),l=Pt(Pt({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Pt({},e,{ref:t,type:"button",className:a,style:l}))});function M5e(e){var t,r,n=Mr(),i=n.dir,s=n.locale,a=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,d=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var m=u(e.previousMonth,{locale:s}),p=[a.nav_button,a.nav_button_previous].join(" "),x=f(e.nextMonth,{locale:s}),y=[a.nav_button,a.nav_button_next].join(" "),v=(t=d==null?void 0:d.IconRight)!==null&&t!==void 0?t:P5e,b=(r=d==null?void 0:d.IconLeft)!==null&&r!==void 0?r:T5e;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Z0,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?o.jsx(v,{className:a.nav_icon,style:l.nav_icon}):o.jsx(b,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Z0,{name:"next-month","aria-label":x,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?o.jsx(b,{className:a.nav_icon,style:l.nav_icon}):o.jsx(v,{className:a.nav_icon,style:l.nav_icon})})]})}function Rz(e){var t=Mr().numberOfMonths,r=iy(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,a=r.displayMonths,l=a.findIndex(function(x){return oR(e.displayMonth,x)}),c=l===0,u=l===a.length-1,f=t>1&&(c||!u),d=t>1&&(u||!c),m=function(){n&&s(n)},p=function(){i&&s(i)};return o.jsx(M5e,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:d,nextMonth:i,previousMonth:n,onPreviousClick:m,onNextClick:p})}function R5e(e){var t,r=Mr(),n=r.classNames,i=r.disableNavigation,s=r.styles,a=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:FJ,u;return i?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=o.jsx(Mz,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(Mz,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(Rz,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Rz,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:u})}function D5e(e){var t=Mr(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?o.jsx("tfoot",{className:i,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function I5e(e,t,r){for(var n=r?id(new Date):Eo(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var a=ni(n,s);i.push(a)}return i}function L5e(){var e=Mr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=I5e(i,s,a);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,d){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:i}),children:l(f,{locale:i})},d)})]})}function $5e(){var e,t=Mr(),r=t.classNames,n=t.styles,i=t.components,s=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:L5e;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function F5e(e){var t=Mr(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var lR=_.createContext(void 0);function q5e(e){if(!ry(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(lR.Provider,{value:t,children:e.children})}return o.jsx(B5e,{initialProps:e.initialProps,children:e.children})}function B5e(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,s=t.max,a=function(u,f,d){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,u,f,d);var x=!!(f.selected&&i&&(n==null?void 0:n.length)===i);if(!x){var y=!!(!f.selected&&s&&(n==null?void 0:n.length)===s);if(!y){var v=n?LJ([],n):[];if(f.selected){var b=v.findIndex(function(w){return ss(u,w)});v.splice(b,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,f,d)}}},l={disabled:[]};n&&l.disabled.push(function(u){var f=s&&n.length>s-1,d=n.some(function(m){return ss(m,u)});return!!(f&&!d)});var c={selected:n,onDayClick:a,modifiers:l};return o.jsx(lR.Provider,{value:c,children:r})}function cR(){var e=_.useContext(lR);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function z5e(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?ss(i,e)&&ss(n,e)?void 0:ss(i,e)?{from:i,to:void 0}:ss(n,e)?void 0:PT(n,e)?{from:e,to:i}:{from:n,to:e}:i?PT(e,i)?{from:i,to:e}:{from:e,to:i}:n?DJ(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var uR=_.createContext(void 0);function V5e(e){if(!ny(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(uR.Provider,{value:t,children:e.children})}return o.jsx(U5e,{initialProps:e.initialProps,children:e.children})}function U5e(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},s=i.from,a=i.to,l=t.min,c=t.max,u=function(p,x,y){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,p,x,y);var w=z5e(p,n);(b=t.onSelect)===null||b===void 0||b.call(t,w,p,x,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(f.range_start=[s],a?(f.range_end=[a],ss(s,a)||(f.range_middle=[{after:s,before:a}])):f.range_end=[s]):a&&(f.range_start=[a],f.range_end=[a]),l&&(s&&!a&&f.disabled.push({after:yk(s,l-1),before:ni(s,l-1)}),s&&a&&f.disabled.push({after:s,before:ni(s,l-1)}),!s&&a&&f.disabled.push({after:yk(a,l-1),before:ni(a,l-1)})),c){if(s&&!a&&(f.disabled.push({before:ni(s,-c+1)}),f.disabled.push({after:ni(s,c-1)})),s&&a){var d=ho(a,s)+1,m=c-d;f.disabled.push({before:yk(s,m)}),f.disabled.push({after:ni(a,m)})}!s&&a&&(f.disabled.push({before:ni(a,-c+1)}),f.disabled.push({after:ni(a,c-1)}))}return o.jsx(uR.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function dR(){var e=_.useContext(uR);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function hb(e){return Array.isArray(e)?LJ([],e):e!==void 0?[e]:[]}function W5e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=hb(i)}),t}var Va;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Va||(Va={}));var H5e=Va.Selected,Uo=Va.Disabled,K5e=Va.Hidden,G5e=Va.Today,wk=Va.RangeEnd,_k=Va.RangeMiddle,Sk=Va.RangeStart,Y5e=Va.Outside;function Q5e(e,t,r){var n,i=(n={},n[H5e]=hb(e.selected),n[Uo]=hb(e.disabled),n[K5e]=hb(e.hidden),n[G5e]=[e.today],n[wk]=[],n[_k]=[],n[Sk]=[],n[Y5e]=[],n);return e.fromDate&&i[Uo].push({before:e.fromDate}),e.toDate&&i[Uo].push({after:e.toDate}),ry(e)?i[Uo]=i[Uo].concat(t.modifiers[Uo]):ny(e)&&(i[Uo]=i[Uo].concat(r.modifiers[Uo]),i[Sk]=r.modifiers[Sk],i[_k]=r.modifiers[_k],i[wk]=r.modifiers[wk]),i}var zJ=_.createContext(void 0);function X5e(e){var t=Mr(),r=cR(),n=dR(),i=Q5e(t,r,n),s=W5e(t.modifiers),a=Pt(Pt({},i),s);return o.jsx(zJ.Provider,{value:a,children:e.children})}function VJ(){var e=_.useContext(zJ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Z5e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function J5e(e){return!!(e&&typeof e=="object"&&"from"in e)}function e3e(e){return!!(e&&typeof e=="object"&&"after"in e)}function t3e(e){return!!(e&&typeof e=="object"&&"before"in e)}function r3e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function n3e(e,t){var r,n=t.from,i=t.to;if(n&&i){var s=ho(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var a=ho(e,n)>=0&&ho(i,e)>=0;return a}return i?ss(i,e):n?ss(n,e):!1}function i3e(e){return iR(e)}function s3e(e){return Array.isArray(e)&&e.every(iR)}function a3e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(i3e(r))return ss(e,r);if(s3e(r))return r.includes(e);if(J5e(r))return n3e(e,r);if(r3e(r))return r.dayOfWeek.includes(e.getDay());if(Z5e(r)){var n=ho(r.before,e),i=ho(r.after,e),s=n>0,a=i<0,l=PT(r.before,r.after);return l?a&&s:s||a}return e3e(r)?ho(e,r.after)>0:t3e(r)?ho(r.before,e)>0:typeof r=="function"?r(e):!1})}function fR(e,t,r){var n=Object.keys(t).reduce(function(s,a){var l=t[a];return a3e(e,l)&&s.push(a),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!oR(e,r)&&(i.outside=!0),i}function o3e(e,t){for(var r=ls(e[0]),n=sR(e[e.length-1]),i,s,a=r;a<=n;){var l=fR(a,t),c=!l.disabled&&!l.hidden;if(!c){a=ni(a,1);continue}if(l.selected)return a;l.today&&!s&&(s=a),i||(i=a),a=ni(a,1)}return s||i}var l3e=365;function UJ(e,t){var r=t.moveBy,n=t.direction,i=t.context,s=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=i.weekStartsOn,u=i.fromDate,f=i.toDate,d=i.locale,m={day:ni,week:TT,month:za,year:NJ,startOfWeek:function(v){return i.ISOWeek?id(v):Eo(v,{locale:d,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?kJ(v):aR(v,{locale:d,weekStartsOn:c})}},p=m[r](e,n==="after"?1:-1);n==="before"&&u?p=l4e([u,p]):n==="after"&&f&&(p=c4e([f,p]));var x=!0;if(s){var y=fR(p,s);x=!y.disabled&&!y.hidden}return x?p:l.count>l3e?l.lastFocused:UJ(p,{moveBy:r,direction:n,context:i,modifiers:s,retry:Pt(Pt({},l),{count:l.count+1})})}var WJ=_.createContext(void 0);function c3e(e){var t=iy(),r=VJ(),n=_.useState(),i=n[0],s=n[1],a=_.useState(),l=a[0],c=a[1],u=o3e(t.displayMonths,r),f=i??(l&&t.isDateDisplayed(l))?l:u,d=function(){c(i),s(void 0)},m=function(v){s(v)},p=Mr(),x=function(v,b){if(i){var w=UJ(i,{moveBy:v,direction:b,context:p,modifiers:r});ss(i,w)||(t.goToDate(w,i),m(w))}},y={focusedDay:i,focusTarget:f,blur:d,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return o.jsx(WJ.Provider,{value:y,children:e.children})}function hR(){var e=_.useContext(WJ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function u3e(e,t){var r=VJ(),n=fR(e,r,t);return n}var mR=_.createContext(void 0);function d3e(e){if(!E_(e.initialProps)){var t={selected:void 0};return o.jsx(mR.Provider,{value:t,children:e.children})}return o.jsx(f3e,{initialProps:e.initialProps,children:e.children})}function f3e(e){var t=e.initialProps,r=e.children,n=function(s,a,l){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,a,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,s,s,a,l)},i={selected:t.selected,onDayClick:n};return o.jsx(mR.Provider,{value:i,children:r})}function HJ(){var e=_.useContext(mR);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function h3e(e,t){var r=Mr(),n=HJ(),i=cR(),s=dR(),a=hR(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,f=a.focusWeekBefore,d=a.blur,m=a.focus,p=a.focusMonthBefore,x=a.focusMonthAfter,y=a.focusYearBefore,v=a.focusYearAfter,b=a.focusStartOfWeek,w=a.focusEndOfWeek,j=function(V){var U,W,F,L;E_(r)?(U=n.onDayClick)===null||U===void 0||U.call(n,e,t,V):ry(r)?(W=i.onDayClick)===null||W===void 0||W.call(i,e,t,V):ny(r)?(F=s.onDayClick)===null||F===void 0||F.call(s,e,t,V):(L=r.onDayClick)===null||L===void 0||L.call(r,e,t,V)},S=function(V){var U;m(e),(U=r.onDayFocus)===null||U===void 0||U.call(r,e,t,V)},C=function(V){var U;d(),(U=r.onDayBlur)===null||U===void 0||U.call(r,e,t,V)},E=function(V){var U;(U=r.onDayMouseEnter)===null||U===void 0||U.call(r,e,t,V)},k=function(V){var U;(U=r.onDayMouseLeave)===null||U===void 0||U.call(r,e,t,V)},O=function(V){var U;(U=r.onDayPointerEnter)===null||U===void 0||U.call(r,e,t,V)},M=function(V){var U;(U=r.onDayPointerLeave)===null||U===void 0||U.call(r,e,t,V)},R=function(V){var U;(U=r.onDayTouchCancel)===null||U===void 0||U.call(r,e,t,V)},T=function(V){var U;(U=r.onDayTouchEnd)===null||U===void 0||U.call(r,e,t,V)},P=function(V){var U;(U=r.onDayTouchMove)===null||U===void 0||U.call(r,e,t,V)},I=function(V){var U;(U=r.onDayTouchStart)===null||U===void 0||U.call(r,e,t,V)},B=function(V){var U;(U=r.onDayKeyUp)===null||U===void 0||U.call(r,e,t,V)},$=function(V){var U;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),f();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?y():p();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():x();break;case"Home":V.preventDefault(),V.stopPropagation(),b();break;case"End":V.preventDefault(),V.stopPropagation(),w();break}(U=r.onDayKeyDown)===null||U===void 0||U.call(r,e,t,V)},H={onClick:j,onFocus:S,onBlur:C,onKeyDown:$,onKeyUp:B,onMouseEnter:E,onMouseLeave:k,onPointerEnter:O,onPointerLeave:M,onTouchCancel:R,onTouchEnd:T,onTouchMove:P,onTouchStart:I};return H}function m3e(){var e=Mr(),t=HJ(),r=cR(),n=dR(),i=E_(e)?t.selected:ry(e)?r.selected:ny(e)?n.selected:void 0;return i}function p3e(e){return Object.values(Va).includes(e)}function g3e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(p3e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function v3e(e,t){var r=Pt({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Pt(Pt({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function y3e(e,t,r){var n,i,s,a=Mr(),l=hR(),c=u3e(e,t),u=h3e(e,c),f=m3e(),d=!!(a.onDayClick||a.mode!=="default");_.useEffect(function(){var E;c.outside||l.focusedDay&&d&&ss(l.focusedDay,e)&&((E=r.current)===null||E===void 0||E.focus())},[l.focusedDay,e,r,d,c.outside]);var m=g3e(a,c).join(" "),p=v3e(a,c),x=!!(c.outside&&!a.showOutsideDays||c.hidden),y=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:F5e,v=o.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:m,children:v,role:"gridcell"},w=l.focusTarget&&ss(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&ss(l.focusedDay,e),S=Pt(Pt(Pt({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||w?0:-1,n)),u),C={isButton:d,isHidden:x,activeModifiers:c,selectedDays:f,buttonProps:S,divProps:b};return C}function x3e(e){var t=_.useRef(null),r=y3e(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Z0,Pt({name:"day",ref:t},r.buttonProps)):o.jsx("div",Pt({},r.divProps))}function b3e(e){var t=e.number,r=e.dates,n=Mr(),i=n.onWeekNumberClick,s=n.styles,a=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!i)return o.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:f});var d=c(Number(t),{locale:l}),m=function(p){i(t,r,p)};return o.jsx(Z0,{name:"week-number","aria-label":d,className:a.weeknumber,style:s.weeknumber,onClick:m,children:f})}function w3e(e){var t,r,n=Mr(),i=n.styles,s=n.classNames,a=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:x3e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:b3e,f;return a&&(f=o.jsx("td",{className:s.cell,style:i.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:s.row,style:i.row,children:[f,e.dates.map(function(d){return o.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:d})},o$e(d))})]})}function Dz(e,t,r){for(var n=r!=null&&r.ISOWeek?kJ(t):aR(t,r),i=r!=null&&r.ISOWeek?id(e):Eo(e,r),s=ho(n,i),a=[],l=0;l<=s;l++)a.push(ni(i,l));var c=a.reduce(function(u,f){var d=r!=null&&r.ISOWeek?TJ(f):MJ(f,r),m=u.find(function(p){return p.weekNumber===d});return m?(m.dates.push(f),u):(u.push({weekNumber:d,dates:[f]}),u)},[]);return c}function _3e(e,t){var r=Dz(ls(e),sR(e),t);if(t!=null&&t.useFixedWeeks){var n=c$e(e,t);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],a=TT(s,6-n),l=Dz(TT(s,1),a,t);r.push.apply(r,l)}}return r}function S3e(e){var t,r,n,i=Mr(),s=i.locale,a=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,f=i.components,d=i.weekStartsOn,m=i.firstWeekContainsDate,p=i.ISOWeek,x=_3e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:d,firstWeekContainsDate:m}),y=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:$5e,v=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:w3e,b=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:D5e;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(y,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:x.map(function(w){return o.jsx(v,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(b,{displayMonth:e.displayMonth})]})}function j3e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var C3e=j3e()?_.useLayoutEffect:_.useEffect,jk=!1,N3e=0;function Iz(){return"react-day-picker-".concat(++N3e)}function E3e(e){var t,r=e??(jk?Iz():null),n=_.useState(r),i=n[0],s=n[1];return C3e(function(){i===null&&s(Iz())},[]),_.useEffect(function(){jk===!1&&(jk=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function k3e(e){var t,r,n=Mr(),i=n.dir,s=n.classNames,a=n.styles,l=n.components,c=iy().displayMonths,u=E3e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,d=[s.month],m=a.month,p=e.displayIndex===0,x=e.displayIndex===c.length-1,y=!p&&!x;i==="rtl"&&(t=[p,x],x=t[0],p=t[1]),p&&(d.push(s.caption_start),m=Pt(Pt({},m),a.caption_start)),x&&(d.push(s.caption_end),m=Pt(Pt({},m),a.caption_end)),y&&(d.push(s.caption_between),m=Pt(Pt({},m),a.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:R5e;return o.jsxs("div",{className:d.join(" "),style:m,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(S3e,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function O3e(e){var t=Mr(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function A3e(e){var t,r,n=e.initialProps,i=Mr(),s=hR(),a=iy(),l=_.useState(!1),c=l[0],u=l[1];_.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var d=Pt(Pt({},i.styles.root),i.style),m=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var v;return Pt(Pt({},x),(v={},v[y]=n[y],v))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:O3e;return o.jsx("div",Pt({className:f.join(" "),style:d,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:o.jsx(p,{children:a.displayMonths.map(function(x,y){return o.jsx(k3e,{displayIndex:y,displayMonth:x},y)})})}))}function T3e(e){var t=e.children,r=t5e(e,["children"]);return o.jsx(b5e,{initialProps:r,children:o.jsx(A5e,{children:o.jsx(d3e,{initialProps:r,children:o.jsx(q5e,{initialProps:r,children:o.jsx(V5e,{initialProps:r,children:o.jsx(X5e,{children:o.jsx(c3e,{children:t})})})})})})})}function P3e(e){return o.jsx(T3e,Pt({},e,{children:o.jsx(A3e,{initialProps:e})}))}function js({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(P3e,{showOutsideDays:r,className:Ne("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ne(rg({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ne(rg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>o.jsx(Eoe,{className:"h-4 w-4"}),IconRight:({...i})=>o.jsx(a2,{className:"h-4 w-4"})},...n})}js.displayName="Calendar";const tl=Y.forwardRef(({status:e,errorMessage:t,className:r,...n},i)=>o.jsxs("div",{className:"relative",children:[o.jsx(rt,{ref:i,className:Ne("pr-10",r),...n}),e==="checking"&&o.jsx(en,{className:"absolute right-3 top-1/2 -translate-y-1/2",iconClassName:"h-5 w-5 text-muted-foreground"}),e==="available"&&o.jsx(Ta,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-green-500"}),e==="taken"&&t&&o.jsx(Kh,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-red-500"})]}));tl.displayName="InputWithStatus";var k_="Collapsible",[M3e,Pqe]=Qn(k_),[R3e,pR]=M3e(k_),KJ=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:a,...l}=e,[c,u]=So({prop:n,defaultProp:i??!1,onChange:a,caller:k_});return o.jsx(R3e,{scope:r,disabled:s,contentId:Wn(),open:c,onOpenToggle:_.useCallback(()=>u(f=>!f),[u]),children:o.jsx(at.div,{"data-state":vR(c),"data-disabled":s?"":void 0,...l,ref:t})})});KJ.displayName=k_;var GJ="CollapsibleTrigger",YJ=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=pR(GJ,r);return o.jsx(at.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":vR(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Ye(e.onClick,i.onOpenToggle)})});YJ.displayName=GJ;var gR="CollapsibleContent",QJ=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=pR(gR,e.__scopeCollapsible);return o.jsx(di,{present:r||i.open,children:({present:s})=>o.jsx(D3e,{...n,ref:t,present:s})})});QJ.displayName=gR;var D3e=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=e,a=pR(gR,r),[l,c]=_.useState(n),u=_.useRef(null),f=Dt(t,u),d=_.useRef(0),m=d.current,p=_.useRef(0),x=p.current,y=a.open||l,v=_.useRef(y),b=_.useRef(void 0);return _.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),pn(()=>{const w=u.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const j=w.getBoundingClientRect();d.current=j.height,p.current=j.width,v.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(n)}},[a.open,n]),o.jsx(at.div,{"data-state":vR(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...s,ref:f,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:y&&i})});function vR(e){return e?"open":"closed"}var I3e=KJ,L3e=YJ,XJ=QJ;const ol=I3e,ll=L3e,wo=_.forwardRef(({className:e,children:t,...r},n)=>o.jsx(XJ,{ref:n,className:Ne("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:o.jsx("div",{className:"pb-4 pt-0",children:t})}));wo.displayName=XJ.displayName;const of={Building2:xr,LayoutList:Mn,CalendarDays:kr,Users:Wr,Info:Ct,User:Rn,PlusCircle:gr,Trash2:Li,GraduationCap:Os,Mail:io,Search:Hr,UserCheck:Sl,UserX:RU,Loader2:Doe,XCircle:Kh,School:od,ChevronDown:zr,ChevronUp:Ua,UserPlus:Vu,PenTool:ra,BriefcaseBusiness:Ii,UserRoundCog:Ts,student:Os,professeur:ra,tutor:Wr,director:Ii,deputy_director:Ii,administrator:Ts},Ck=e=>{switch(e){case"student":return"Élève";case"professeur":return"Professeur";case"tutor":return"Tuteur";case"director":return"Directeur";case"deputy_director":return"Directeur Adjoint";case"administrator":return"Administrateur";case"all":return"Tous les rôles";default:return"Rôle inconnu"}},$3e=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),{openChat:n}=Cl(),i=on(),[s,a]=s2(),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,x]=_.useState([]),[y,v]=_.useState([]),[b,w]=_.useState([]),[j,S]=_.useState(""),[C,E]=_.useState(""),[k,O]=_.useState(""),[M,R]=_.useState(""),[T,P]=_.useState(""),[I,B]=_.useState(null),[$,H]=_.useState(void 0),[V,U]=_.useState(void 0),[W,F]=_.useState(!1),[L,q]=_.useState(!1),[K,ee]=_.useState("idle"),[te,Q]=_.useState("idle"),G=_.useRef(null),ne=_.useRef(null),[Z,re]=_.useState(""),[fe,ce]=_.useState("all");s.get("classId"),_.useEffect(()=>{(async()=>{try{c(await Pa()),m(await Ys()),f(await qi()),x(await ts()),v(await as()),w(await xc())}catch(Oe){console.error("Error fetching data for StudentManagementPage:",Oe),se(`Erreur lors du chargement des données de gestion des élèves: ${Oe.message}`)}})()},[e]),_.useEffect(()=>{t==="administrator"?(ce("all"),B(null)):e!=null&&e.establishment_id?(ce(e.establishment_id),B(e.establishment_id)):(ce("all"),B(null))},[t,e==null?void 0:e.id,e==null?void 0:e.establishment_id]);const xe=_.useCallback(async(ue,Oe)=>{var Se;return ue.length<3||!/^[a-zA-Z0-9_]+$/.test(ue)?(ee("idle"),!1):(ee("checking"),await S2(ue)&&(!Oe||((Se=p.find(Ge=>Ge.username===ue))==null?void 0:Se.id)!==Oe)?(ee("taken"),!1):(ee("available"),!0))},[p]),be=_.useCallback(async(ue,Oe)=>{var Se;return/\S+@\S+\.\S+/.test(ue)?(Q("checking"),await j2(ue)&&(!Oe||((Se=p.find(Ge=>Ge.email===ue))==null?void 0:Se.id)!==Oe)?(Q("taken"),!1):(Q("available"),!0)):(Q("idle"),!1)},[p]),ke=ue=>{if(O(ue),G.current&&clearTimeout(G.current),ue.trim()===""){ee("idle");return}G.current=setTimeout(()=>{xe(ue)},500)},Te=ue=>{if(R(ue),ne.current&&clearTimeout(ne.current),ue.trim()===""){Q("idle");return}ne.current=setTimeout(()=>{be(ue)},500)},De=async()=>{if(!e||!["administrator","director","deputy_director","professeur","tutor"].includes(t||"")){se("Vous n'êtes pas autorisé à créer des élèves.");return}if(!j.trim()||!C.trim()||!k.trim()||!M.trim()||!T.trim()||!$||!V){se("Tous les champs requis doivent être remplis.");return}if(T.trim().length<6){se("Le mot de passe doit contenir au moins 6 caractères.");return}if(K==="taken"||te==="taken"){se("Le nom d'utilisateur ou l'email est déjà pris.");return}if(K==="checking"||te==="checking"){se("Veuillez attendre la vérification de la disponibilité du nom d'utilisateur et de l'email.");return}if(!I){se("L'établissement est requis pour créer un élève.");return}if((t==="director"||t==="deputy_director"||t==="professeur"||t==="tutor")&&I!==e.establishment_id){se("Vous ne pouvez créer des élèves que dans votre établissement.");return}F(!0);try{const{data:ue,error:Oe}=await Ie.functions.invoke("create-user-with-role",{body:{email:M.trim(),password:T.trim(),first_name:j.trim(),last_name:C.trim(),username:k.trim(),role:"student",establishment_id:I,enrollment_start_date:$.toISOString().split("T")[0],enrollment_end_date:V.toISOString().split("T")[0]}});if(Oe){console.error("Error creating student via Edge Function:",Oe),se(`Erreur lors de la création de l'élève: ${Oe.message}`);return}nt(`Élève ${j} ${C} créé avec succès !`),S(""),E(""),O(""),R(""),P(""),B((e==null?void 0:e.establishment_id)||null),H(void 0),U(void 0),ee("idle"),Q("idle"),x(await ts()),q(!1)}catch(ue){console.error("Unexpected error creating student:",ue),se(`Une erreur inattendue est survenue: ${ue.message}`)}finally{F(!1)}},ae=async ue=>{if(!e||t!=="administrator"){se("Vous n'êtes pas autorisé à supprimer des élèves.");return}if(window.confirm("Êtes-vous sûr de vouloir supprimer cet élève ? Cette action est irréversible et supprimera également son compte utilisateur et toutes les données associées."))try{const{error:Oe}=await Ie.auth.admin.deleteUser(ue);if(Oe){console.error("Error deleting user from auth.users:",Oe),se(`Erreur lors de la suppression du compte utilisateur: ${Oe.message}`);return}x(await ts()),v(await as()),nt("Élève et compte supprimés !")}catch(Oe){console.error("Error deleting student:",Oe),se(`Erreur lors de la suppression de l'élève: ${Oe.message}`)}},ge=ue=>{i(`/messages?contactId=${ue.id}`)},X=Y.useMemo(()=>{let ue=p.filter(Oe=>Oe.role==="student");if(t!=="administrator"&&(e!=null&&e.establishment_id)&&(ue=ue.filter(Oe=>Oe.establishment_id===e.establishment_id)),fe!=="all"&&t==="administrator"?ue=ue.filter(Oe=>Oe.establishment_id===fe||Oe.role==="administrator"&&!Oe.establishment_id):t!=="administrator"&&(e!=null&&e.establishment_id)&&(ue=ue.filter(Oe=>Oe.establishment_id===e.establishment_id||Oe.role==="administrator"&&!Oe.establishment_id)),Z.trim()){const Oe=Z.toLowerCase();ue=ue.filter(gt=>{var Se,Ge,Nt,vt;return((Se=gt.first_name)==null?void 0:Se.toLowerCase().includes(Oe))||((Ge=gt.last_name)==null?void 0:Ge.toLowerCase().includes(Oe))||((Nt=gt.username)==null?void 0:Nt.toLowerCase().includes(Oe.replace("@","")))||((vt=gt.email)==null?void 0:vt.toLowerCase().includes(Oe))})}return ue},[p,e,t,Z,fe]),ie=ue=>{var Oe;return((Oe=u.find(gt=>gt.id===ue))==null?void 0:Oe.name)||"N/A"};if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e||!["administrator","director","deputy_director","professeur","tutor"].includes(t||""))return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs, directeurs, directeurs adjoints, professeurs et tuteurs peuvent accéder à cette page."})]});const oe=ALL_ROLES.filter(ue=>t==="administrator"?!0:t==="director"||t==="deputy_director"?["professeur","tutor","student"].includes(ue):t==="professeur"||t==="tutor"?ue==="student":!1),je=ALL_ROLES.filter(ue=>t==="administrator"?!0:t==="director"||t==="deputy_director"?["professeur","tutor","student"].includes(ue):t==="professeur"||t==="tutor"?ue==="student":!1),le=u.filter(ue=>t==="administrator"||ue.id===(e==null?void 0:e.establishment_id)).map(ue=>({id:ue.id,label:ue.name,icon_name:"Building2",description:ue.address})),he=u.filter(ue=>t==="administrator"||ue.id===(e==null?void 0:e.establishment_id)).map(ue=>({id:ue.id,label:ue.name,icon_name:"Building2",description:ue.address})),we=oe.map(ue=>({id:ue,label:Ck(ue),icon_name:of[ue]?ue:"User"}));return je.map(ue=>({id:ue,label:Ck(ue),icon_name:of[ue]?ue:"User"})),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Utilisateurs"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Gérez les profils des utilisateurs de la plateforme."}),o.jsx(Re,{className:"rounded-android-tile",children:o.jsxs(ol,{open:L,onOpenChange:q,children:[o.jsxs(Be,{children:[o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"ghost",className:"w-full justify-between p-0",children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Vu,{className:"h-6 w-6 text-primary"})," Créer un nouvel utilisateur"]}),L?o.jsx(Ua,{className:"h-5 w-5"}):o.jsx(zr,{className:"h-5 w-5"})]})}),o.jsx(Le,{children:"Créez un nouveau compte utilisateur avec un rôle spécifique."})]}),o.jsxs(wo,{className:"space-y-4 p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(rt,{placeholder:"Prénom",value:j,onChange:ue=>S(ue.target.value)}),o.jsx(rt,{placeholder:"Nom",value:C,onChange:ue=>E(ue.target.value)}),o.jsx(tl,{placeholder:"Nom d'utilisateur",value:k,onChange:ue=>ke(ue.target.value),status:K,errorMessage:K==="taken"?"Nom d'utilisateur déjà pris":void 0}),o.jsx(tl,{type:"email",placeholder:"Email",value:M,onChange:ue=>Te(ue.target.value),status:te,errorMessage:te==="taken"?"Email déjà enregistré":void 0}),o.jsx(rt,{type:"password",placeholder:"Mot de passe",value:T,onChange:ue=>P(ue.target.value)}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-user-role",children:"Rôle"}),o.jsx(SimpleItemSelector,{id:"new-user-role",options:we,value:"student",onValueChange:()=>{},searchQuery:"",onSearchQueryChange:()=>{},placeholder:"Élève",emptyMessage:"Aucun rôle trouvé.",iconMap:of,disabled:!0})]}),I&&o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-user-establishment",children:"Établissement"}),o.jsx(SimpleItemSelector,{id:"new-user-establishment",options:le,value:I,onValueChange:ue=>B(ue),searchQuery:"",onSearchQueryChange:()=>{},placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:of,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]}),o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-user-enrollment-start-date",className:"text-sm font-medium mb-2 block",children:"Date de début d'inscription"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!$&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),$?rr($,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:$,onSelect:H,initialFocus:!0,locale:Ht})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-user-enrollment-end-date",className:"text-sm font-medium mb-2 block",children:"Date de fin d'inscription"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!V&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),V?rr(V,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:V,onSelect:U,initialFocus:!0,locale:Ht})})]})]})]})]}),o.jsxs(me,{onClick:De,disabled:W||K==="checking"||te==="checking"||!$||!V||!I,children:[W?o.jsx(LoadingSpinner,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(gr,{className:"h-4 w-4 mr-2"})," Créer l'utilisateur"]})]})]})}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-6 w-6 text-primary"})," Liste des Utilisateurs"]}),o.jsx(Le,{children:"Visualisez et gérez les utilisateurs existants."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher par nom, email ou @username...",className:"pl-10 rounded-android-tile",value:Z,onChange:ue=>re(ue.target.value)})]}),(t==="administrator"||(e==null?void 0:e.establishment_id)&&["director","deputy_director","professeur","tutor"].includes(t||""))&&o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"establishment-filter",children:"Filtrer par Établissement"}),o.jsx(SimpleItemSelector,{id:"establishment-filter",options:[{id:"all",label:"Tous les établissements",icon_name:"Building2"},...he],value:fe,onValueChange:ue=>ce(ue),searchQuery:"",onSearchQueryChange:()=>{},placeholder:"Tous les établissements",emptyMessage:"Aucun établissement trouvé.",iconMap:of,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]})]}),o.jsx("div",{className:"space-y-2",children:X.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:Z.trim()===""&&fe==="all"?o.jsx("span",{children:"Aucun élève à afficher. Utilisez la recherche ou les filtres."}):o.jsx("span",{children:"Aucun élève trouvé pour votre recherche ou vos filtres."})}):X.map(ue=>{const Oe=of[ue.role]||Rn;return o.jsxs(Re,{className:"p-3 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 rounded-android-tile",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("p",{className:"font-medium flex items-center gap-2",children:[o.jsx(Oe,{className:"h-4 w-4 text-primary"})," ",ue.first_name," ",ue.last_name," ",o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(@",ue.username,")"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:ue.email}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Rôle: ",Ck(ue.role)]}),ue.establishment_id&&o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(xr,{className:"h-3 w-3"})," ",ie(ue.establishment_id)]}),ue.enrollment_start_date&&ue.enrollment_end_date&&o.jsx("p",{className:"text-xs text-muted-foreground",children:o.jsxs("span",{children:["Du ",rr(Zr(ue.enrollment_start_date),"dd/MM/yyyy",{locale:Ht})," au ",rr(Zr(ue.enrollment_end_date),"dd/MM/yyyy",{locale:Ht}),")"]})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 sm:mt-0",children:[o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>ge(ue),children:[o.jsx(io,{className:"h-4 w-4 mr-1"})," Message"]}),t==="administrator"&&o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>ae(ue.id),children:o.jsx(Li,{className:"h-4 w-4"})})]})]},ue.id)})})]})]})]})},MT=["student","professeur","tutor","administrator","director","deputy_director"],Wo={Home:wl,MessageSquare:As,Search:Hr,User:Rn,LogOut:_l,Settings:$c,Info:Ct,BookOpen:ia,PlusCircle:gr,Users:Wr,GraduationCap:Os,PenTool:ra,NotebookText:Fa,School:od,LayoutList:Mn,BriefcaseBusiness:Ii,UserRoundCog:Ts,ClipboardCheck:Gh,BotMessageSquare:Ao,LayoutDashboard:Xh,LineChart:Zh,UsersRound:tm,UserRoundSearch:em,BellRing:ad,Building2:xr,BookText:bl,UserCog:ld,TrendingUp:Jh,BookMarked:Hh,CalendarDays:kr,UserCheck:Sl,student:Os,professeur:ra,tutor:Wr,director:Ii,deputy_director:Ii,administrator:Ts},Nk=e=>{switch(e){case"student":return"Élève";case"professeur":return"Professeur";case"tutor":return"Tuteur";case"director":return"Directeur";case"deputy_director":return"Directeur Adjoint";case"administrator":return"Administrateur";case"all":return"Tous les rôles";default:return"Rôle inconnu"}},F3e=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r,fetchUserProfile:n}=Qt(),i=on(),[s,a]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState(""),[d,m]=_.useState(""),[p,x]=_.useState(""),[y,v]=_.useState(""),[b,w]=_.useState(""),[j,S]=_.useState(t==="director"||t==="deputy_director"?"professeur":"student"),[C,E]=_.useState(null),[k,O]=_.useState(void 0),[M,R]=_.useState(void 0),[T,P]=_.useState(!1),[I,B]=_.useState(!1),[$,H]=_.useState("idle"),[V,U]=_.useState("idle"),W=_.useRef(null),F=_.useRef(null),[L,q]=_.useState(""),[K,ee]=_.useState(t==="director"||t==="deputy_director"?"professeur":"all"),[te,Q]=_.useState("all"),[G,ne]=_.useState(!1),[Z,re]=_.useState(null),[fe,ce]=_.useState(""),[xe,be]=_.useState(""),[ke,Te]=_.useState(""),[De,ae]=_.useState(""),[ge,X]=_.useState("student"),[ie,oe]=_.useState(null),[je,le]=_.useState(void 0),[he,we]=_.useState(void 0),[ue,Oe]=_.useState(!1),[gt,Se]=_.useState("idle"),[Ge,Nt]=_.useState("idle"),vt=_.useRef(null),mr=_.useRef(null),[tn,jr]=_.useState(""),[Ot,Ze]=_.useState(""),[ft,xt]=_.useState(""),[bt,ct]=_.useState(""),[$t,Ut]=_.useState(""),[Je,ht]=_.useState("");_.useEffect(()=>{(async()=>{a(await ts()),c(await qi())})()},[e]),_.useEffect(()=>{t==="director"||t==="deputy_director"?(ee("professeur"),S("professeur"),E((e==null?void 0:e.establishment_id)||null),Q((e==null?void 0:e.establishment_id)||"all")):t==="administrator"?(ee("all"),S("director"),E(null),Q("all")):(ee("student"),S("student"),E((e==null?void 0:e.establishment_id)||null),Q((e==null?void 0:e.establishment_id)||"all"))},[t,e==null?void 0:e.id,e==null?void 0:e.establishment_id]);const yt=_.useCallback(async(Ae,wt)=>{var ln;return Ae.length<3||!/^[a-zA-Z0-9_]+$/.test(Ae)?(H("idle"),!1):(H("checking"),await S2(Ae)&&(!wt||((ln=s.find($e=>$e.username===Ae))==null?void 0:ln.id)!==wt)?(H("taken"),!1):(H("available"),!0))},[s]),zt=_.useCallback(async(Ae,wt)=>{var ln;return/\S+@\S+\.\S+/.test(Ae)?(U("checking"),await j2(Ae)&&(!wt||((ln=s.find($e=>$e.email===Ae))==null?void 0:ln.id)!==wt)?(U("taken"),!1):(U("available"),!0)):(U("idle"),!1)},[s]),Xt=Ae=>{if(x(Ae),W.current&&clearTimeout(W.current),Ae.trim()===""){H("idle");return}W.current=setTimeout(()=>{yt(Ae)},500)},qt=Ae=>{if(v(Ae),F.current&&clearTimeout(F.current),Ae.trim()===""){U("idle");return}F.current=setTimeout(()=>{zt(Ae)},500)},Cr=async()=>{if(!e||!["administrator","director","deputy_director","professeur","tutor"].includes(t||"")){se("Vous n'êtes pas autorisé à créer des utilisateurs.");return}if(!u.trim()||!d.trim()||!p.trim()||!y.trim()||!b.trim()||!j){se("Tous les champs requis doivent être remplis.");return}if(b.trim().length<6){se("Le mot de passe doit contenir au moins 6 caractères.");return}if($==="taken"||V==="taken"){se("Le nom d'utilisateur ou l'email est déjà pris.");return}if($==="checking"||V==="checking"){se("Veuillez attendre la vérification de la disponibilité du nom d'utilisateur et de l'email.");return}let Ae=j,wt=C,Kr=k,ln=M;if(t==="director"||t==="deputy_director"){if(!["professeur","tutor","student"].includes(j)){se("Les directeurs ne peuvent créer que des professeurs, tuteurs ou des élèves.");return}wt=e.establishment_id||null}else if(t==="professeur"||t==="tutor"){if(j!=="student"){se("Les professeurs et tuteurs ne peuvent créer que des élèves.");return}wt=e.establishment_id||null}else if(t==="administrator"){if(["director","deputy_director","professeur","tutor","student"].includes(j)&&!wt){se("Un établissement est requis pour les rôles de directeur, directeur adjoint, professeur, tuteur et élève.");return}j==="administrator"&&(wt=null)}if(j!=="student")Kr=void 0,ln=void 0;else{if(!Kr||!ln){se("Les dates de début et de fin d'inscription sont requises pour les élèves.");return}if(Kr>=ln){se("La date de fin d'inscription doit être postérieure à la date de début.");return}}P(!0);try{const{data:$e,error:Mt}=await Ie.functions.invoke("create-user-with-role",{body:{email:y.trim(),password:b.trim(),first_name:u.trim(),last_name:d.trim(),username:p.trim(),role:Ae,establishment_id:wt,enrollment_start_date:Kr?Kr.toISOString().split("T")[0]:void 0,enrollment_end_date:ln?ln.toISOString().split("T")[0]:void 0}});if(Mt){console.error("Error creating user via Edge Function:",Mt),se(`Erreur lors de la création de l'utilisateur: ${Mt.message}`);return}nt(`Utilisateur ${u} ${d} (${Ae}) créé avec succès !`),f(""),m(""),x(""),v(""),w(""),S(t==="director"||t==="deputy_director"?"professeur":t==="professeur"||t==="tutor"?"student":"director"),E((e==null?void 0:e.establishment_id)||null),O(void 0),R(void 0),H("idle"),U("idle"),a(await ts()),B(!1)}catch($e){console.error("Unexpected error creating user:",$e),se(`Une erreur inattendue est survenue: ${$e.message}`)}finally{P(!1)}},cr=async Ae=>{if(!e||t!=="administrator"){se("Vous n'êtes pas autorisé à supprimer des utilisateurs.");return}if(window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible et supprimera également son compte utilisateur et toutes les données associées."))try{const{error:wt}=await Ie.auth.admin.deleteUser(Ae);if(wt){console.error("Error deleting user from auth.users:",wt),se(`Erreur lors de la suppression du compte utilisateur: ${wt.message}`);return}a(await ts()),nt("Utilisateur et compte supprimés !")}catch(wt){console.error("Error deleting user:",wt),se(`Erreur lors de la suppression de l'utilisateur: ${wt.message}`)}},qr=Ae=>{i(`/messages?contactId=${Ae.id}`)},fi=Y.useMemo(()=>{let Ae=s;if(K!=="all"&&(Ae=Ae.filter(wt=>wt.role===K)),te!=="all"&&t==="administrator"?Ae=Ae.filter(wt=>wt.establishment_id===te||wt.role==="administrator"&&!wt.establishment_id):t!=="administrator"&&(e!=null&&e.establishment_id)&&(Ae=Ae.filter(wt=>wt.establishment_id===e.establishment_id||wt.role==="administrator"&&!wt.establishment_id)),L.trim()){const wt=L.toLowerCase();Ae=Ae.filter(Kr=>{var ln,$e,Mt,Er;return((ln=Kr.first_name)==null?void 0:ln.toLowerCase().includes(wt))||(($e=Kr.last_name)==null?void 0:$e.toLowerCase().includes(wt))||((Mt=Kr.username)==null?void 0:Mt.toLowerCase().includes(wt.replace("@","")))||((Er=Kr.email)==null?void 0:Er.toLowerCase().includes(wt))})}return Ae},[s,e,t,L,K,te]),Vi=Ae=>{var wt;return((wt=l.find(Kr=>Kr.id===Ae))==null?void 0:wt.name)||"N/A"};if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e||!["administrator","director","deputy_director","professeur","tutor"].includes(t||""))return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs, directeurs, directeurs adjoints, professeurs et tuteurs peuvent accéder à cette page."})]});const Zn=MT.filter(Ae=>t==="administrator"?!0:t==="director"||t==="deputy_director"?["professeur","tutor","student"].includes(Ae):t==="professeur"||t==="tutor"?Ae==="student":!1),fs=MT.filter(Ae=>t==="administrator"?!0:t==="director"||t==="deputy_director"?["professeur","tutor","student"].includes(Ae):t==="professeur"||t==="tutor"?Ae==="student":!1),Ga=l.filter(Ae=>t==="administrator"||Ae.id===(e==null?void 0:e.establishment_id)).map(Ae=>({id:Ae.id,label:Ae.name,icon_name:"Building2",description:Ae.address})),bm=l.filter(Ae=>t==="administrator"||Ae.id===(e==null?void 0:e.establishment_id)).map(Ae=>({id:Ae.id,label:Ae.name,icon_name:"Building2",description:Ae.address})),Qc=Zn.map(Ae=>({id:Ae,label:Nk(Ae),icon_name:Wo[Ae]?Ae:"User"})),hs=fs.map(Ae=>({id:Ae,label:Nk(Ae),icon_name:Wo[Ae]?Ae:"User"}));return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Utilisateurs"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Gérez les profils des utilisateurs de la plateforme."}),o.jsx(Re,{className:"rounded-android-tile",children:o.jsxs(ol,{open:I,onOpenChange:B,children:[o.jsxs(Be,{children:[o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"ghost",className:"w-full justify-between p-0",children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Vu,{className:"h-6 w-6 text-primary"})," Créer un nouvel utilisateur"]}),I?o.jsx(Ua,{className:"h-5 w-5"}):o.jsx(zr,{className:"h-5 w-5"})]})}),o.jsx(Le,{children:"Créez un nouveau compte utilisateur avec un rôle spécifique."})]}),o.jsxs(wo,{className:"space-y-4 p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(rt,{placeholder:"Prénom",value:u,onChange:Ae=>f(Ae.target.value)}),o.jsx(rt,{placeholder:"Nom",value:d,onChange:Ae=>m(Ae.target.value)}),o.jsx(tl,{placeholder:"Nom d'utilisateur",value:p,onChange:Ae=>Xt(Ae.target.value),status:$,errorMessage:$==="taken"?"Nom d'utilisateur déjà pris":void 0}),o.jsx(tl,{type:"email",placeholder:"Email",value:y,onChange:Ae=>qt(Ae.target.value),status:V,errorMessage:V==="taken"?"Email déjà enregistré":void 0}),o.jsx(rt,{type:"password",placeholder:"Mot de passe",value:b,onChange:Ae=>w(Ae.target.value)}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-user-role",children:"Rôle"}),o.jsx(jt,{id:"new-user-role",options:Qc,value:j,onValueChange:Ae=>S(Ae),searchQuery:tn,onSearchQueryChange:jr,placeholder:"Sélectionner un rôle",emptyMessage:"Aucun rôle trouvé.",iconMap:Wo})]}),j!=="administrator"&&(t==="administrator"||(e==null?void 0:e.establishment_id)&&["director","deputy_director","professeur","tutor"].includes(t||""))&&o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-user-establishment",children:"Établissement"}),o.jsx(jt,{id:"new-user-establishment",options:Ga,value:C,onValueChange:Ae=>E(Ae),searchQuery:Ot,onSearchQueryChange:Ze,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:Wo,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]}),j==="student"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-user-enrollment-start-date",className:"text-sm font-medium mb-2 block",children:"Date de début d'inscription"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!k&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),k?rr(k,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:k,onSelect:O,initialFocus:!0,locale:Ht})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-user-enrollment-end-date",className:"text-sm font-medium mb-2 block",children:"Date de fin d'inscription"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!M&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),M?rr(M,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:M,onSelect:R,initialFocus:!0,locale:Ht})})]})]})]})]}),o.jsxs(me,{onClick:Cr,disabled:T||$==="checking"||V==="checking"||j==="student"&&(!k||!M)||j!=="administrator"&&!C,children:[T?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(gr,{className:"h-4 w-4 mr-2"})," Créer l'utilisateur"]})]})]})}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-6 w-6 text-primary"})," Liste des Utilisateurs"]}),o.jsx(Le,{children:"Visualisez et gérez les utilisateurs existants."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher par nom, email ou @username...",className:"pl-10 rounded-android-tile",value:L,onChange:Ae=>q(Ae.target.value)})]}),o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"role-filter",children:"Filtrer par Rôle"}),o.jsx(jt,{id:"role-filter",options:[{id:"all",label:"Tous les rôles",icon_name:"Users"},...hs],value:K,onValueChange:Ae=>ee(Ae),searchQuery:$t,onSearchQueryChange:Ut,placeholder:"Tous les rôles",emptyMessage:"Aucun rôle trouvé.",iconMap:Wo})]}),(t==="administrator"||(e==null?void 0:e.establishment_id)&&["director","deputy_director","professeur","tutor"].includes(t||""))&&o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"establishment-filter",children:"Filtrer par Établissement"}),o.jsx(jt,{id:"establishment-filter",options:[{id:"all",label:"Tous les établissements",icon_name:"Building2"},...bm],value:te,onValueChange:Ae=>Q(Ae),searchQuery:Je,onSearchQueryChange:ht,placeholder:"Tous les établissements",emptyMessage:"Aucun établissement trouvé.",iconMap:Wo})]})]}),o.jsx("div",{className:"space-y-2",children:fi.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:L.trim()===""&&K==="all"?o.jsx("span",{children:"Aucun utilisateur à afficher. Utilisez la recherche ou les filtres."}):o.jsx("span",{children:"Aucun utilisateur trouvé pour votre recherche ou vos filtres."})}):fi.map(Ae=>{const wt=Wo[Ae.role]||Rn;return o.jsxs(Re,{className:"p-3 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 rounded-android-tile",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("p",{className:"font-medium flex items-center gap-2",children:[o.jsx(wt,{className:"h-4 w-4 text-primary"})," ",Ae.first_name," ",Ae.last_name," ",o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(@",Ae.username,")"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:Ae.email}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Rôle: ",Nk(Ae.role)]}),Ae.establishment_id&&o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(xr,{className:"h-3 w-3"})," ",Vi(Ae.establishment_id)]}),Ae.enrollment_start_date&&Ae.enrollment_end_date&&o.jsx("p",{className:"text-xs text-muted-foreground",children:o.jsxs("span",{children:["Du ",rr(Zr(Ae.enrollment_start_date),"dd/MM/yyyy",{locale:Ht})," au ",rr(Zr(Ae.enrollment_end_date),"dd/MM/yyyy",{locale:Ht}),")"]})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 sm:mt-0",children:[o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>qr(Ae),children:[o.jsx(io,{className:"h-4 w-4 mr-1"})," Message"]}),o.jsx(me,{variant:"outline",size:"sm",onClick:()=>{re(Ae),ce(Ae.first_name||""),be(Ae.last_name||""),Te(Ae.username),ae(Ae.email||""),X(Ae.role),oe(Ae.establishment_id||null),le(Ae.enrollment_start_date?Zr(Ae.enrollment_start_date):void 0),we(Ae.enrollment_end_date?Zr(Ae.enrollment_end_date):void 0),ne(!0)},children:o.jsx(es,{className:"h-4 w-4"})}),t==="administrator"&&o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>cr(Ae.id),children:o.jsx(Li,{className:"h-4 w-4"})})]})]},Ae.id)})})]})]}),Z&&o.jsx(ui,{open:G,onOpenChange:ne,children:o.jsx(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier l'utilisateur"}),o.jsx(Yn,{children:"Mettez à jour les informations de l'utilisateur."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-first-name",className:"text-right",children:"Prénom"}),o.jsx(rt,{id:"edit-first-name",value:fe,onChange:Ae=>ce(Ae.target.value),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-last-name",className:"text-right",children:"Nom"}),o.jsx(rt,{id:"edit-last-name",value:xe,onChange:Ae=>be(Ae.target.value),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-username",className:"text-right",children:"Nom d'utilisateur"}),o.jsx(tl,{id:"edit-username",value:ke,onChange:Ae=>{if(Te(Ae.target.value),vt.current&&clearTimeout(vt.current),Ae.target.value.trim()===""){Se("idle");return}vt.current=setTimeout(()=>{yt(Ae.target.value,Z.id).then(wt=>Se(wt?"available":"taken"))},500)},status:gt,errorMessage:gt==="taken"?"Nom d'utilisateur déjà pris":void 0,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-email",className:"text-right",children:"Email"}),o.jsx(tl,{id:"edit-email",type:"email",value:De,onChange:Ae=>{if(ae(Ae.target.value),mr.current&&clearTimeout(mr.current),Ae.target.value.trim()===""){Nt("idle");return}mr.current=setTimeout(()=>{zt(Ae.target.value,Z.id).then(wt=>Nt(wt?"available":"taken"))},500)},status:Ge,errorMessage:Ge==="taken"?"Email déjà enregistré":void 0,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-role",className:"text-right",children:"Rôle"}),o.jsx(jt,{id:"edit-role",options:Qc,value:ge,onValueChange:Ae=>X(Ae),searchQuery:ft,onSearchQueryChange:xt,placeholder:"Sélectionner un rôle",emptyMessage:"Aucun rôle trouvé.",iconMap:Wo,disabled:t!=="administrator"})]}),ge!=="administrator"&&(t==="administrator"||(e==null?void 0:e.establishment_id)&&["director","deputy_director","professeur","tutor"].includes(t||""))&&o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-establishment",className:"text-right",children:"Établissement"}),o.jsx(jt,{id:"edit-establishment",options:Ga,value:ie,onValueChange:Ae=>oe(Ae),searchQuery:bt,onSearchQueryChange:ct,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:Wo,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]}),ge==="student"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-enrollment-start-date",className:"text-sm font-medium mb-2 block",children:"Date de début d'inscription"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!je&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),je?rr(je,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:je,onSelect:le,initialFocus:!0,locale:Ht})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-enrollment-end-date",className:"text-sm font-medium mb-2 block",children:"Date de fin d'inscription"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!he&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),he?rr(he,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:he,onSelect:we,initialFocus:!0,locale:Ht})})]})]})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:async()=>{if(Z){if(!fe.trim()||!xe.trim()||!ke.trim()||!De.trim()){se("Tous les champs sont requis.");return}if(gt==="taken"||Ge==="taken"){se("Le nom d'utilisateur ou l'email est déjà pris.");return}if(gt==="checking"||Ge==="checking"){se("Veuillez attendre la vérification de la disponibilité du nom d'utilisateur et de l'email.");return}if(ge==="student"&&(!je||!he)){se("Les dates d'inscription sont requises pour les élèves.");return}if(je&&he&&je>=he){se("La date de fin d'inscription doit être postérieure à la date de début.");return}if(ge!=="administrator"&&!ie){se("Un établissement est requis pour ce rôle.");return}Oe(!0);try{const Ae={id:Z.id,first_name:fe.trim(),last_name:xe.trim(),username:ke.trim(),email:De.trim(),role:ge,establishment_id:ie,enrollment_start_date:je?je.toISOString().split("T")[0]:void 0,enrollment_end_date:he?he.toISOString().split("T")[0]:void 0};await Zf(Ae);const{data:{user:wt}}=await Ie.auth.getUser();if(wt&&(De.trim()!==wt.email||ie!==Z.establishment_id||ge!==Z.role)){const{error:Kr}=await Ie.auth.admin.updateUserById(Z.id,{email:De.trim(),user_metadata:{...wt.user_metadata,email:De.trim(),establishment_id:ie,role:ge}});if(Kr){se(`Erreur lors de la mise à jour de l'email/rôle/établissement d'authentification: ${Kr.message}`);return}}nt("Utilisateur mis à jour avec succès !"),await n(Z.id),a(await ts()),ne(!1),re(null)}catch(Ae){console.error("Error saving user edit:",Ae),se(`Erreur lors de la sauvegarde des modifications: ${Ae.message}`)}finally{Oe(!1)}}},disabled:ue||gt==="checking"||Ge==="checking"||ge==="student"&&(!je||!he)||ge!=="administrator"&&!ie,children:ue?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Enregistrer les modifications"})})]})})})]})},q3e={Building2:xr,Info:Ct},B3e=({isOpen:e,onClose:t,subject:r,onSave:n,establishments:i})=>{const{currentUserProfile:s,currentRole:a}=Qt(),[l,c]=_.useState(r.name),[u,f]=_.useState(r.establishment_id||null),[d,m]=_.useState(!1),[p,x]=_.useState("");_.useEffect(()=>{e&&r&&(c(r.name),f(r.establishment_id||null))},[e,r]);const y=async()=>{if(!s||a!=="administrator"&&a!=="director"&&a!=="deputy_director"){se("Vous n'êtes pas autorisé à modifier une matière.");return}if(a!=="administrator"&&r.establishment_id!==s.establishment_id){se("Vous ne pouvez modifier que les matières de votre établissement.");return}if(!l.trim()){se("Le nom de la matière est requis.");return}if(!u&&a!=="administrator"){se("L'établissement est requis pour la matière.");return}m(!0);try{const b={...r,name:l.trim(),establishment_id:u||""},w=await qye(b);w?(n(w),nt("Matière mise à jour avec succès !"),t()):se("Échec de la mise à jour de la matière.")}catch(b){console.error("Error saving subject:",b),se(`Erreur lors de la sauvegarde de la matière: ${b.message}`)}finally{m(!1)}},v=i.filter(b=>a==="administrator"||b.id===(s==null?void 0:s.establishment_id)).map(b=>({id:b.id,label:b.name,icon_name:"Building2",description:b.address}));return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsx(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier la matière"}),o.jsx(Yn,{children:"Mettez à jour les informations de la matière."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"name",className:"text-right",children:"Nom"}),o.jsx(rt,{id:"name",value:l,onChange:b=>c(b.target.value),className:"col-span-3",required:!0})]}),(a==="administrator"||(s==null?void 0:s.establishment_id)&&["director","deputy_director"].includes(a||""))&&o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"establishment",className:"text-right",children:"Établissement"}),o.jsx(jt,{id:"establishment",options:v,value:u,onValueChange:b=>f(b),searchQuery:p,onSearchQueryChange:x,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:q3e,disabled:a!=="administrator"&&!!(s!=null&&s.establishment_id)})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:y,disabled:d||!u&&a!=="administrator",children:d?"Enregistrement...":"Enregistrer les modifications"})})]})})})},z3e=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),[n,i]=_.useState([]),[s,a]=_.useState([]),[l,c]=_.useState(""),[u,f]=_.useState(null),[d,m]=_.useState(!1),[p,x]=_.useState(!1),[y,v]=_.useState(null);_.useEffect(()=>{(async()=>{a(await qi()),i(await bf(e==null?void 0:e.establishment_id))})()},[e]),_.useEffect(()=>{e!=null&&e.establishment_id?f(e.establishment_id):t==="administrator"&&s.length>0?f(s[0].id):f(null)},[e,t,s]);const b=O=>{var M;return((M=s.find(R=>R.id===O))==null?void 0:M.name)||"N/A"},w=async()=>{if(!e||t!=="administrator"&&t!=="director"&&t!=="deputy_director"){se("Vous n'êtes pas autorisé à ajouter une matière.");return}if(!l.trim()){se("Le nom de la matière est requis.");return}if(!u&&t!=="administrator"){se("L'établissement est requis pour ajouter une matière.");return}try{await Fye({name:l.trim(),establishment_id:u||""})?(i(await bf(e==null?void 0:e.establishment_id)),c(""),f((e==null?void 0:e.establishment_id)||null),nt("Matière ajoutée !"),m(!1)):se("Échec de l'ajout de la matière.")}catch(O){console.error("Error adding subject:",O),se(`Erreur lors de l'ajout de la matière: ${O.message}`)}},j=async O=>{if(!e||t!=="administrator"&&t!=="director"&&t!=="deputy_director"){se("Vous n'êtes pas autorisé à supprimer une matière.");return}const M=n.find(R=>R.id===O);if(!M){se("Matière introuvable.");return}if(t!=="administrator"&&M.establishment_id!==e.establishment_id){se("Vous ne pouvez supprimer que les matières de votre établissement.");return}try{await Bye(O),i(await bf(e==null?void 0:e.establishment_id)),nt("Matière supprimée !")}catch(R){console.error("Error deleting subject:",R),se(`Erreur lors de la suppression de la matière: ${R.message}`)}},S=O=>{if(!e||t!=="administrator"&&t!=="director"&&t!=="deputy_director"){se("Vous n'êtes pas autorisé à modifier une matière.");return}if(t!=="administrator"&&O.establishment_id!==e.establishment_id){se("Vous ne pouvez modifier que les matières de votre établissement.");return}v(O),x(!0)},C=async O=>{i(await bf(e==null?void 0:e.establishment_id))};if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e||!["administrator","director","deputy_director"].includes(t||""))return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs, directeurs et directeurs adjoints peuvent accéder à cette page."})]});const E=s.filter(O=>t==="administrator"||O.id===(e==null?void 0:e.establishment_id)),k=n;return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[" ",o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Matières"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Créez et gérez les matières scolaires."}),o.jsx(ol,{open:d,onOpenChange:m,children:o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"ghost",className:"w-full justify-between p-0",children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(gr,{className:"h-6 w-6 text-primary"})," Ajouter une matière"]}),d?o.jsx(Ua,{className:"h-5 w-5"}):o.jsx(zr,{className:"h-5 w-5"})]})}),o.jsx(Le,{children:"Créez une nouvelle matière."})]}),o.jsx(wo,{children:o.jsx(qe,{className:"space-y-4",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"new-subject-name",children:"Nom de la matière"}),o.jsx(rt,{id:"new-subject-name",placeholder:"Ex: Mathématiques",value:l,onChange:O=>c(O.target.value),required:!0}),(t==="administrator"||(e==null?void 0:e.establishment_id)&&["director","deputy_director"].includes(t||""))&&o.jsxs(o.Fragment,{children:[o.jsx(Pe,{htmlFor:"new-subject-establishment",children:"Établissement"}),o.jsx(jt,{id:"new-subject-establishment",options:E.map(O=>({id:O.id,label:O.name,icon_name:"Building2",description:O.address})),value:u,onValueChange:O=>f(O),searchQuery:"",onSearchQueryChange:()=>{},placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]}),o.jsxs(me,{onClick:w,disabled:!l.trim()||!u&&t!=="administrator",children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter la matière"]})]})})})]})}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(bl,{className:"h-6 w-6 text-primary"})," Liste des Matières"]}),o.jsx(Le,{children:"Visualisez et gérez les matières."})]}),o.jsx(qe,{className:"space-y-4",children:o.jsx("div",{className:"space-y-2 mt-4",children:k.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucune matière à afficher."}):k.map(O=>o.jsxs(Re,{className:"p-3 flex items-center justify-between border rounded-android-tile bg-background",children:[o.jsxs("span",{children:[O.name," ",O.establishment_id&&`(${b(O.establishment_id)})`]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(me,{variant:"outline",size:"sm",onClick:()=>S(O),children:o.jsx(es,{className:"h-4 w-4"})}),o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>j(O.id),children:o.jsx(Li,{className:"h-4 w-4"})})]})]},O.id))})})]}),y&&o.jsx(B3e,{isOpen:p,onClose:()=>x(!1),subject:y,onSave:C,establishments:E})]})},lf={Building2:xr,LayoutList:Mn,CalendarDays:kr,Users:Wr,Info:Ct},V3e=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),{openChat:n}=Cl(),i=on(),[s,a]=s2(),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,x]=_.useState([]),[y,v]=_.useState([]),[b,w]=_.useState([]),[j,S]=_.useState(""),[C,E]=_.useState(null),[k,O]=_.useState(""),[M,R]=_.useState(""),[T,P]=_.useState(null),[I,B]=_.useState(!1),[$,H]=_.useState(!1),V=_.useRef(null),[U,W]=_.useState(""),[F,L]=_.useState(null),[q,K]=_.useState("all"),[ee,te]=_.useState(null),[Q,G]=_.useState(""),[ne,Z]=_.useState(""),[re,fe]=_.useState(""),[ce,xe]=_.useState(""),[be,ke]=_.useState(""),[Te,De]=_.useState(""),ae=s.get("classId");_.useEffect(()=>{(async()=>{try{c(await Pa()),m(await Ys()),f(await qi()),x(await ts()),v(await as()),w(await xc())}catch(Ge){console.error("Error fetching data for PedagogicalManagementPage:",Ge),se(`Erreur lors du chargement des données de gestion pédagogique: ${Ge.message}`)}})()},[e]),_.useEffect(()=>{L(ae||null)},[ae]),_.useEffect(()=>{const Se=b.find(Ge=>Ge.is_active);Se?(R(Se.id),te(Se.id)):b.length>0&&(R(b[0].id),te(b[0].id)),t==="administrator"?(P(null),K("all")):e!=null&&e.establishment_id?(P(e.establishment_id),K(e.establishment_id)):(P(null),K("all"))},[b,t,e==null?void 0:e.establishment_id]);const ge=async Se=>{if(!e||!["professeur","tutor","director","deputy_director","administrator"].includes(t||"")){se("Vous n'êtes pas autorisé à retirer des élèves des classes.");return}const Ge=y.find(vt=>vt.id===Se);if(!Ge){se("Inscription introuvable.");return}const Nt=l.find(vt=>vt.id===Ge.class_id);if(!Nt){se("Classe associée introuvable.");return}if(t==="professeur"&&!Nt.creator_ids.includes(e.id)){se("Vous ne pouvez retirer des élèves que des classes que vous gérez.");return}if((t==="director"||t==="deputy_director")&&Ge.establishment_id!==e.establishment_id){se("Vous ne pouvez retirer des élèves que des classes de votre établissement.");return}if(t==="tutor"&&Ge.establishment_id!==e.establishment_id){se("Vous ne pouvez retirer des élèves que des classes de votre établissement.");return}try{await Jce(Se),v(await as()),nt("Élève retiré de la classe !")}catch(vt){console.error("Error removing student from class:",vt),se(`Erreur lors du retrait de l'élève: ${vt.message}`)}},X=Se=>{i(`/messages?contactId=${Se.id}`)};_.useEffect(()=>{if(V.current&&clearTimeout(V.current),j.trim()===""){H(!1);return}return H(!0),V.current=setTimeout(async()=>{H(!1)},500),()=>{V.current&&clearTimeout(V.current)}},[j]);const ie=async()=>{if(!e||!["professeur","tutor","director","deputy_director","administrator"].includes(t||"")){se("Vous n'êtes pas autorisé à affecter des élèves à des classes.");return}if(!C){se("Veuillez d'abord sélectionner un élève.");return}if(!k){se("Veuillez sélectionner une classe.");return}if(!M){se("Veuillez spécifier l'année scolaire.");return}if(!T){se("Veuillez spécifier l'établissement.");return}if(C.role!=="student"){se("Seuls les profils d'élèves peuvent être affectés à une classe.");return}if(C.establishment_id!==T){se("L'élève sélectionné n'appartient pas à l'établissement choisi.");return}const Se=l.find(Nt=>Nt.id===k);if(!Se){se("Classe sélectionnée introuvable.");return}if(Se.establishment_id!==T){se("La classe sélectionnée n'appartient pas à l'établissement choisi.");return}if(t==="professeur"&&!Se.creator_ids.includes(e.id)){se("Vous ne pouvez affecter des élèves qu'aux classes que vous gérez.");return}if((t==="director"||t==="deputy_director"||t==="tutor")&&T!==e.establishment_id){se("Vous ne pouvez affecter des élèves qu'aux classes de votre établissement.");return}if(y.find(Nt=>Nt.student_id===C.id&&Nt.class_id===k&&Nt.school_year_id===M&&Nt.establishment_id===T)){se("Cet élève est déjà inscrit à cette classe pour cette année scolaire et cet établissement.");return}try{const Nt={student_id:C.id,class_id:k,school_year_id:M,establishment_id:T};await Zce(Nt)?(v(await as()),nt(`Élève ${C.first_name} ${C.last_name} inscrit à la classe ${Ib(k,l)} pour ${bc(M,b)} (${Tn(T,u)}) !`),oe()):se("Échec de l'inscription de l'élève à la classe.")}catch(Nt){console.error("Error assigning student to class:",Nt),se(`Erreur lors de l'inscription de l'élève à la classe: ${Nt.message}`)}},oe=()=>{S(""),E(null),O("");const Se=b.find(Ge=>Ge.is_active);R(Se?Se.id:b.length>0?b[0].id:""),P((e==null?void 0:e.establishment_id)||null),B(!1)},je=j.trim()===""?p.filter(Se=>Se.role==="student"&&(t==="administrator"||Se.establishment_id===(e==null?void 0:e.establishment_id))).slice(0,10):p.filter(Se=>{var Ge,Nt,vt;return Se.role==="student"&&(((Ge=Se.username)==null?void 0:Ge.toLowerCase().includes(j.toLowerCase()))||((Nt=Se.first_name)==null?void 0:Nt.toLowerCase().includes(j.toLowerCase()))||((vt=Se.last_name)==null?void 0:vt.toLowerCase().includes(j.toLowerCase())))&&(t==="administrator"||Se.establishment_id===(e==null?void 0:e.establishment_id))}).slice(0,10),le=Y.useMemo(()=>{if(!F||!ee)return[];const Se=y.filter(vt=>vt.class_id===F&&vt.school_year_id===ee&&(t==="administrator"||vt.establishment_id===(e==null?void 0:e.establishment_id))),Ge=new Set(Se.map(vt=>vt.student_id));let Nt=p.filter(vt=>vt.role==="student"&&Ge.has(vt.id));if(U.trim()){const vt=U.toLowerCase();Nt=Nt.filter(mr=>{var tn,jr,Ot,Ze;return((tn=mr.first_name)==null?void 0:tn.toLowerCase().includes(vt))||((jr=mr.last_name)==null?void 0:jr.toLowerCase().includes(vt))||((Ot=mr.username)==null?void 0:Ot.toLowerCase().includes(vt.replace("@","")))||((Ze=mr.email)==null?void 0:Ze.toLowerCase().includes(vt))})}return Nt},[p,y,F,ee,U,t,e==null?void 0:e.establishment_id]),he=b.map(Se=>({id:Se.id,label:Se.name,icon_name:"CalendarDays",description:`${rr(Zr(Se.start_date),"dd/MM/yyyy",{locale:Ht})} - ${rr(Zr(Se.end_date),"dd/MM/yyyy",{locale:Ht})}`}));if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e||!["administrator","director","deputy_director","professeur","tutor"].includes(t||""))return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs, directeurs, directeurs adjoints, professeurs et tuteurs peuvent accéder à cette page."})]});const we=l.filter(Se=>t==="administrator"||(t==="director"||t==="deputy_director"||t==="tutor")&&Se.establishment_id===e.establishment_id||t==="professeur"&&Se.creator_ids.includes(e.id)&&Se.establishment_id===e.establishment_id).map(Se=>({id:Se.id,label:Se.name,icon_name:"Users",description:`${$u(Se.curriculum_id,d)} - ${bc(Se.school_year_id,b)} (${Tn(Se.establishment_id,u)})`})),ue=l.filter(Se=>t==="administrator"||(t==="director"||t==="deputy_director"||t==="tutor")&&Se.establishment_id===e.establishment_id||t==="professeur"&&Se.creator_ids.includes(e.id)&&Se.establishment_id===e.establishment_id).map(Se=>({id:Se.id,label:Se.name,icon_name:"Users",description:`${$u(Se.curriculum_id,d)} - ${bc(Se.school_year_id,b)} (${Tn(Se.establishment_id,u)})`})),Oe=u.filter(Se=>t==="administrator"||Se.id===(e==null?void 0:e.establishment_id)).map(Se=>({id:Se.id,label:Se.name,icon_name:"Building2",description:Se.address})),gt=u.filter(Se=>t==="administrator"||Se.id===(e==null?void 0:e.establishment_id)).map(Se=>({id:Se.id,label:Se.name,icon_name:"Building2",description:Se.address}));return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion Pédagogique"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Gérez les affectations des élèves aux classes."}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-6 w-6 text-primary"})," Affecter un élève à une classe"]}),o.jsx(Le,{children:"Inscrivez un élève à une classe pour une année scolaire spécifique."})]}),o.jsxs(qe,{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"select-student-for-class-assignment",className:"text-base font-semibold mb-2 block",children:"1. Sélectionner l'élève"}),o.jsxs(oi,{open:I,onOpenChange:B,children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",role:"combobox","aria-expanded":I,className:"w-full justify-between rounded-android-tile",id:"select-student-for-class-assignment",children:[C?`${C.first_name} ${C.last_name} (@${C.username})`:"Rechercher un élève...",o.jsx(Hr,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Un,{className:"w-[var(--radix-popover-trigger-width)] p-0 rounded-android-tile z-[9999]",children:o.jsxs(Ph,{children:[o.jsx(Mh,{placeholder:"Rechercher par nom d'utilisateur...",value:j,onValueChange:Se=>{S(Se),H(!0)}}),o.jsx(Rh,{children:$&&j.trim()!==""?o.jsxs(nd,{className:"py-2 text-center text-muted-foreground flex items-center justify-center gap-2",children:[o.jsx(en,{iconClassName:"h-4 w-4"})," ",o.jsx("span",{children:"Recherche..."})]}):je.length===0&&j.trim()!==""?o.jsx(nd,{className:"py-2 text-center text-muted-foreground",children:o.jsxs("span",{children:['Aucun élève trouvé pour "',j,'".']})}):o.jsx(Dh,{children:je.map(Se=>o.jsxs(Ih,{value:Se.username,onSelect:()=>{E(Se),S(Se.username||""),B(!1)},children:[o.jsx(La,{className:Ne("mr-2 h-4 w-4",(C==null?void 0:C.id)===Se.id?"opacity-100":"opacity-0")}),o.jsxs("span",{children:[Se.first_name," ",Se.last_name," (@",Se.username,")"]})]},Se.id))})})]})})]})]}),C&&o.jsxs("div",{className:"p-4 border rounded-android-tile bg-muted/20 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sl,{className:"h-5 w-5 text-green-500"}),o.jsxs("p",{className:"font-medium text-lg",children:[C.first_name," ",C.last_name]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email : ",C.email]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nom d'utilisateur : @",C.username]}),C.establishment_id&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[o.jsx(xr,{className:"h-3 w-3"})," ",Tn(C.establishment_id,u)]}),C.enrollment_start_date&&C.enrollment_end_date&&o.jsx("p",{className:"text-sm text-muted-foreground",children:o.jsxs("span",{children:["Du ",rr(Zr(C.enrollment_start_date),"dd/MM/yyyy",{locale:Ht})," au ",rr(Zr(C.enrollment_end_date),"dd/MM/yyyy",{locale:Ht}),")"]})}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"class-to-assign",className:"text-base font-semibold mb-2 block mt-4",children:"2. Choisir la classe d'affectation"}),o.jsx(jt,{id:"class-to-assign",options:we,value:k,onValueChange:Se=>O(Se),searchQuery:Q,onSearchQueryChange:G,placeholder:"Sélectionner une classe",emptyMessage:"Aucune classe trouvée.",iconMap:lf})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"enrollment-school-year",className:"text-base font-semibold mb-2 block mt-4",children:"Année scolaire"}),o.jsx(jt,{id:"enrollment-school-year",options:he,value:M,onValueChange:Se=>R(Se),searchQuery:ne,onSearchQueryChange:Z,placeholder:"Sélectionner l'année scolaire",emptyMessage:"Aucune année scolaire trouvée.",iconMap:lf})]}),(t==="administrator"||(e==null?void 0:e.establishment_id))&&o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"enrollment-establishment",className:"text-base font-semibold mb-2 block mt-4",children:"Établissement"}),o.jsx(jt,{id:"enrollment-establishment",options:Oe,value:T,onValueChange:Se=>P(Se),searchQuery:re,onSearchQueryChange:fe,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:lf,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs(me,{onClick:ie,disabled:!k||!M||!T,children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Inscrire à cette classe"]}),o.jsxs(me,{variant:"outline",onClick:oe,children:[o.jsx(Kh,{className:"h-4 w-4 mr-2"})," Effacer le formulaire"]})]})]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Os,{className:"h-6 w-6 text-primary"})," Élèves par Classe"]}),o.jsx(Le,{children:"Visualisez et gérez les élèves inscrits dans les classes."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher par nom, email ou @username...",className:"pl-10 rounded-android-tile",value:U,onChange:Se=>W(Se.target.value)})]}),(t==="administrator"||(e==null?void 0:e.establishment_id))&&o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"establishment-filter",children:"Filtrer par Établissement"}),o.jsx(jt,{id:"establishment-filter",options:[{id:"all",label:"Tous les établissements",icon_name:"Building2"},...gt],value:q,onValueChange:Se=>K(Se),searchQuery:be,onSearchQueryChange:ke,placeholder:"Tous les établissements",emptyMessage:"Aucun établissement trouvé.",iconMap:lf})]}),o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"class-filter",children:"Filtrer par Classe"}),o.jsx(jt,{id:"class-filter",options:[{id:"all",label:"Toutes les classes",icon_name:"Users"},...ue],value:F,onValueChange:Se=>{L(Se),a(Ge=>(Se==="all"?Ge.delete("classId"):Ge.set("classId",Se),Ge),{replace:!0})},searchQuery:ce,onSearchQueryChange:xe,placeholder:"Toutes les classes",emptyMessage:"Aucune classe trouvée.",iconMap:lf})]}),o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"school-year-filter",children:"Filtrer par Année Scolaire"}),o.jsx(jt,{id:"school-year-filter",options:[{id:"all",label:"Toutes les années",icon_name:"CalendarDays"},...he],value:ee,onValueChange:Se=>te(Se),searchQuery:Te,onSearchQueryChange:De,placeholder:"Toutes les années",emptyMessage:"Aucune année scolaire trouvée.",iconMap:lf})]})]}),o.jsx("div",{className:"space-y-2",children:le.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:U.trim()===""&&!F&&!ee&&q==="all"?o.jsx("span",{children:"Aucun élève à afficher. Utilisez la recherche ou les filtres."}):o.jsx("span",{children:"Aucun élève trouvé pour votre recherche ou vos filtres."})}):le.map(Se=>{const Ge=y.find(vt=>vt.student_id===Se.id&&vt.class_id===F&&vt.school_year_id===ee),Nt=Ge?l.find(vt=>vt.id===Ge.class_id):void 0;return o.jsxs(Re,{className:"p-3 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 rounded-android-tile",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("p",{className:"font-medium",children:[Se.first_name," ",Se.last_name," ",o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(@",Se.username,")"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:Se.email}),Se.establishment_id&&o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(xr,{className:"h-3 w-3"})," ",Tn(Se.establishment_id,u)]}),Se.enrollment_start_date&&Se.enrollment_end_date&&o.jsx("p",{className:"text-xs text-muted-foreground",children:o.jsxs("span",{children:["Du ",rr(Zr(Se.enrollment_start_date),"dd/MM/yyyy",{locale:Ht})," au ",rr(Zr(Se.enrollment_end_date),"dd/MM/yyyy",{locale:Ht}),")"]})}),Nt?o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Classe: ",Nt.name," (",$u(Nt.curriculum_id,d),") - ",bc(Nt.school_year_id,b)]}):o.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Non affecté à une classe pour l'année scolaire en cours"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 sm:mt-0",children:[Ge&&(t==="professeur"||t==="director"||t==="deputy_director"||t==="administrator"||t==="tutor")&&o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>ge(Ge.id),children:[o.jsx(RU,{className:"h-4 w-4 mr-1"})," Retirer de la classe"]}),o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>X(Se),children:[o.jsx(io,{className:"h-4 w-4 mr-1"})," Message"]})]})]},Se.id)})})]})]})]})};var O_="Switch",[U3e,Mqe]=Qn(O_),[W3e,H3e]=U3e(O_),ZJ=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[m,p]=_.useState(null),x=Dt(t,j=>p(j)),y=_.useRef(!1),v=m?f||!!m.closest("form"):!0,[b,w]=So({prop:i,defaultProp:s??!1,onChange:u,caller:O_});return o.jsxs(W3e,{scope:r,checked:b,disabled:l,children:[o.jsx(at.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":ree(b),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:x,onClick:Ye(e.onClick,j=>{w(S=>!S),v&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})}),v&&o.jsx(tee,{control:m,bubbles:!y.current,name:n,value:c,checked:b,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});ZJ.displayName=O_;var JJ="SwitchThumb",eee=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=H3e(JJ,r);return o.jsx(at.span,{"data-state":ree(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});eee.displayName=JJ;var K3e="SwitchBubbleInput",tee=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const a=_.useRef(null),l=Dt(a,s),c=N2(r),u=WT(t);return _.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(x)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tee.displayName=K3e;function ree(e){return e?"checked":"unchecked"}var nee=ZJ,G3e=eee;const sd=_.forwardRef(({className:e,...t},r)=>o.jsx(nee,{className:Ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(G3e,{className:Ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sd.displayName=nee.displayName;const Y3e=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),[n,i]=_.useState([]),[s,a]=_.useState(""),[l,c]=_.useState(void 0),[u,f]=_.useState(void 0),[d,m]=_.useState(!1),[p,x]=_.useState(!1),[y,v]=_.useState(null),[b,w]=_.useState(""),[j,S]=_.useState(void 0),[C,E]=_.useState(void 0),[k,O]=_.useState(!1),[M,R]=_.useState(!1);_.useEffect(()=>{(async()=>{i(await xc())})()},[]);const T=t==="administrator"||t==="director"||t==="deputy_director",P=async()=>{if(!e||!T){se("Vous n'êtes pas autorisé à ajouter une année scolaire.");return}if(!s.trim()||!l||!u){se("Le nom, la date de début et la date de fin sont requis.");return}if(l>=u){se("La date de fin doit être postérieure à la date de début.");return}m(!0);try{const V={name:s.trim(),start_date:l.toISOString().split("T")[0],end_date:u.toISOString().split("T")[0],is_active:!0};await Yye(V)?(i(await xc()),a(""),c(void 0),f(void 0),nt("Année scolaire créée et activée !")):se("Échec de l'ajout de l'année scolaire.")}catch(V){console.error("Error adding school year:",V),se(`Erreur lors de l'ajout de l'année scolaire: ${V.message}`)}finally{m(!1)}},I=async V=>{if(!e||!T){se("Vous n'êtes pas autorisé à supprimer une année scolaire.");return}if(window.confirm("Êtes-vous sûr de vouloir supprimer cette année scolaire ? Cette action est irréversible."))try{await Xye(V),i(await xc()),nt("Année scolaire supprimée !")}catch(U){console.error("Error deleting school year:",U),se(`Erreur lors de la suppression de l'année scolaire: ${U.message}`)}},B=V=>{if(!e||!T){se("Vous n'êtes pas autorisé à modifier une année scolaire.");return}v(V),w(V.name),S(Zr(V.start_date)),E(Zr(V.end_date)),O(V.is_active),x(!0)},$=async()=>{if(!e||!T){se("Vous n'êtes pas autorisé à modifier une année scolaire.");return}if(y){if(!b.trim()||!j||!C){se("Le nom, la date de début et la date de fin sont requis.");return}if(j>=C){se("La date de fin doit être postérieure à la date de début.");return}R(!0);try{const V={...y,name:b.trim(),start_date:j.toISOString().split("T")[0],end_date:C.toISOString().split("T")[0],is_active:k};await Qye(V)?(i(await xc()),nt("Année scolaire mise à jour !"),x(!1),v(null)):se("Échec de la mise à jour de l'année scolaire.")}catch(V){console.error("Error saving edited school year:",V),se(`Erreur lors de la sauvegarde de l'année scolaire: ${V.message}`)}finally{R(!1)}}},H=async()=>{if(!e||!T){se("Vous n'êtes pas autorisé à générer une année scolaire.");return}const V=n.length>0?n[0]:null;let U,W,F;if(V){const L=Zr(V.end_date);U=ni(L,1),W=NJ(U,1),W=ni(W,-1),F=`${rr(U,"yyyy")}-${rr(W,"yyyy")}`}else{const L=new Date().getFullYear();U=new Date(L,7,1),W=new Date(L+1,6,31),F=`${L}-${L+1}`}a(F),c(U),f(W)};return r?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]}):!e||!T?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs, directeurs et directeurs adjoints peuvent accéder à cette page."})]}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Années Scolaires"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Créez et gérez les années scolaires de la plateforme. Une seule année scolaire peut être active à la fois."}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(gr,{className:"h-6 w-6 text-primary"})," Créer une nouvelle année scolaire"]}),o.jsx(Le,{children:"Ajoutez une nouvelle année scolaire et activez-la."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsx(me,{variant:"outline",onClick:H,className:"w-full",children:"Générer la prochaine année scolaire"}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"new-year-name",children:"Nom de l'année scolaire"}),o.jsx(rt,{id:"new-year-name",placeholder:"Ex: 2023-2024",value:s,onChange:V=>a(V.target.value),required:!0}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-year-start-date",className:"text-sm font-medium mb-2 block",children:"Date de début"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!l&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),l?rr(l,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:l,onSelect:c,initialFocus:!0,locale:Ht})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-year-end-date",className:"text-sm font-medium mb-2 block",children:"Date de fin"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!u&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),u?rr(u,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:u,onSelect:f,initialFocus:!0,locale:Ht})})]})]}),o.jsxs(me,{onClick:P,disabled:!s.trim()||!l||!u,children:[d?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(gr,{className:"h-4 w-4 mr-2"})," Créer et Activer"]})]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(kr,{className:"h-6 w-6 text-primary"})," Liste des Années Scolaires"]}),o.jsx(Le,{children:"Visualisez et gérez les années scolaires existantes."})]}),o.jsx(qe,{className:"space-y-4",children:o.jsx("div",{className:"space-y-2 mt-4",children:n.length===0?o.jsx("p",{className:"text-muted-foreground",children:"Aucune année scolaire à afficher."}):n.map(V=>o.jsxs(Re,{className:Ne("p-3 border rounded-android-tile",V.is_active?"border-green-500 ring-2 ring-green-500/50 bg-green-50/20":""),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:V.name}),o.jsxs("div",{className:"flex gap-2",children:[V.is_active&&o.jsx(JM,{variant:"default",className:"bg-green-500 rounded-full",children:"Active"}),o.jsx(me,{variant:"outline",size:"sm",onClick:()=>B(V),children:o.jsx(es,{className:"h-4 w-4"})}),o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>I(V.id),children:o.jsx(Li,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Du ",rr(Zr(V.start_date),"dd/MM/yyyy",{locale:Ht})," au ",rr(Zr(V.end_date),"dd/MM/yyyy",{locale:Ht})]})]},V.id))})})]}),y&&o.jsx(ui,{open:p,onOpenChange:x,children:o.jsx(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier l'année scolaire"}),o.jsx(Yn,{children:"Mettez à jour les informations de l'année scolaire."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-name",className:"text-right",children:"Nom"}),o.jsx(rt,{id:"edit-name",value:b,onChange:V=>w(V.target.value),className:"col-span-3",required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-start-date",className:"text-sm font-medium mb-2 block",children:"Date de début"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!j&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),j?rr(j,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:j,onSelect:S,initialFocus:!0,locale:Ht})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-end-date",className:"text-sm font-medium mb-2 block",children:"Date de fin"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("w-full justify-start text-left font-normal rounded-android-tile",!C&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),C?rr(C,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsx(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:o.jsx(js,{mode:"single",selected:C,onSelect:E,initialFocus:!0,locale:Ht})})]})]}),o.jsxs("div",{className:"flex items-center justify-between col-span-4",children:[o.jsx(Pe,{htmlFor:"edit-is-active",children:"Année active"}),o.jsx(sd,{id:"edit-is-active",checked:k,onCheckedChange:O})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:$,disabled:M,children:M?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Enregistrer les modifications"})})]})})})]})},Ei={Building2:xr,BookText:bl,CalendarDays:kr,Users:Wr,Info:Ct,PenTool:ra},Q3e=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),[n,i]=_.useState([]),[s,a]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,x]=_.useState([]),[y,v]=_.useState([]),[b,w]=_.useState(""),[j,S]=_.useState(""),[C,E]=_.useState(""),[k,O]=_.useState(""),[M,R]=_.useState(null),[T,P]=_.useState(!1),[I,B]=_.useState(!1),[$,H]=_.useState(null),[V,U]=_.useState(""),[W,F]=_.useState(""),[L,q]=_.useState(""),[K,ee]=_.useState(""),[te,Q]=_.useState(null),[G,ne]=_.useState(!1),[Z,re]=_.useState(""),[fe,ce]=_.useState(null),[xe,be]=_.useState(null),[ke,Te]=_.useState(null),[De,ae]=_.useState(null),[ge,X]=_.useState("all"),[ie,oe]=_.useState(""),[je,le]=_.useState(""),[he,we]=_.useState(""),[ue,Oe]=_.useState(""),[gt,Se]=_.useState(""),[Ge,Nt]=_.useState(""),[vt,mr]=_.useState(""),[tn,jr]=_.useState(""),[Ot,Ze]=_.useState(""),[ft,xt]=_.useState(""),[bt,ct]=_.useState(""),[$t,Ut]=_.useState(""),[Je,ht]=_.useState(""),[yt,zt]=_.useState(""),[Xt,qt]=_.useState("");_.useEffect(()=>{(async()=>{try{i(await Xce("professeur")),a(await bf()),c(await Pa()),f(await xc()),m(await qi()),x(await Ys()),v(await Mx())}catch(Mt){console.error("Error fetching data for ProfessorSubjectAssignmentPage:",Mt),se(`Erreur lors du chargement des données d'affectation des professeurs: ${Mt.message}`)}})()},[e]),_.useEffect(()=>{const $e=u.find(Mt=>Mt.is_active);$e?(O($e.id),ae($e.id)):u.length>0&&(O(u[0].id),ae(u[0].id)),t==="administrator"?(R(null),X("all")):e!=null&&e.establishment_id?(R(e.establishment_id),X(e.establishment_id)):(R(null),X("all"))},[t,e==null?void 0:e.id,e==null?void 0:e.establishment_id,u]);const Cr=$e=>{var Mt,Er;return((Mt=n.find(Xc=>Xc.id===$e))==null?void 0:Mt.first_name)+" "+((Er=n.find(Xc=>Xc.id===$e))==null?void 0:Er.last_name)||"N/A"},cr=async()=>{if(!e||!["administrator","director","deputy_director"].includes(t||"")){se("Vous n'êtes pas autorisé à ajouter des affectations.");return}if(!b||!j||!C||!k||!M){se("Tous les champs sont requis.");return}const $e=l.find(Zt=>Zt.id===C),Mt=s.find(Zt=>Zt.id===j),Er=n.find(Zt=>Zt.id===b);if(!$e||!Mt||!Er){se("Sélection invalide pour le professeur, la matière ou la classe.");return}if((t==="director"||t==="deputy_director")&&M!==e.establishment_id){se("Vous ne pouvez créer des affectations que dans votre établissement.");return}if($e.establishment_id!==M||Mt.establishment_id!==M){se("La classe ou la matière sélectionnée n'appartient pas à l'établissement choisi.");return}if(Er.establishment_id!==M){se("Le professeur sélectionné n'appartient pas à l'établissement choisi.");return}if(y.find(Zt=>Zt.professor_id===b&&Zt.subject_id===j&&Zt.class_id===C&&Zt.school_year_id===k&&Zt.establishment_id===M)){se("Cette affectation existe déjà pour cette année scolaire et cet établissement.");return}P(!0);try{if(await Wye({professor_id:b,subject_id:j,class_id:C,school_year_id:k,establishment_id:M})){v(await Mx()),w(""),S(""),E("");const ay=u.find(wm=>wm.is_active);O(ay?ay.id:u.length>0?u[0].id:""),R((e==null?void 0:e.establishment_id)||null),nt("Affectation ajoutée !")}else se("Échec de l'ajout de l'affectation.")}catch(Zt){console.error("Error adding assignment:",Zt),se(`Erreur lors de l'ajout de l'affectation: ${Zt.message}`)}finally{P(!1)}},qr=$e=>{if(!e||!["administrator","director","deputy_director"].includes(t||"")){se("Vous n'êtes pas autorisé à modifier cette affectation.");return}if(l.find(Mt=>Mt.id===$e.class_id),(t==="director"||t==="deputy_director")&&$e.establishment_id!==e.establishment_id){se("Vous ne pouvez modifier que les affectations de votre établissement.");return}H($e),U($e.professor_id),F($e.subject_id),q($e.class_id),ee($e.school_year_id),Q($e.establishment_id||null),B(!0)},fi=async()=>{if(!e||!["administrator","director","deputy_director"].includes(t||"")){se("Vous n'êtes pas autorisé à modifier cette affectation.");return}if(!$)return;if(!V||!W||!L||!K||!te){se("Tous les champs sont requis.");return}const $e=l.find(Zt=>Zt.id===L),Mt=s.find(Zt=>Zt.id===W),Er=n.find(Zt=>Zt.id===V);if(!$e||!Mt||!Er){se("Sélection invalide pour le professeur, la matière ou la classe.");return}if((t==="director"||t==="deputy_director")&&te!==e.establishment_id){se("Vous ne pouvez sauvegarder les affectations que dans votre établissement.");return}if($e.establishment_id!==te||Mt.establishment_id!==te){se("La classe ou la matière sélectionnée n'appartient pas à l'établissement choisi.");return}if(Er.establishment_id!==te){se("Le professeur sélectionné n'appartient pas à l'établissement choisi.");return}if(y.find(Zt=>Zt.id!==$.id&&Zt.professor_id===V&&Zt.subject_id===W&&Zt.class_id===L&&Zt.school_year_id===K&&Zt.establishment_id===te)){se("Cette affectation existe déjà pour cette année scolaire et cet établissement.");return}ne(!0);try{const Zt={...$,professor_id:V,subject_id:W,class_id:L,school_year_id:K,establishment_id:te};await Hye(Zt)?(v(await Mx()),nt("Affectation mise à jour !"),B(!1),H(null)):se("Échec de la mise à jour de l'affectation.")}catch(Zt){console.error("Error saving edited assignment:",Zt),se(`Erreur lors de la sauvegarde de l'affectation: ${Zt.message}`)}finally{ne(!1)}},Vi=async $e=>{if(!e||!["administrator","director","deputy_director"].includes(t||"")){se("Vous n'êtes pas autorisé à supprimer cette affectation.");return}const Mt=y.find(Er=>Er.id===$e);if(!Mt){se("Affectation introuvable.");return}if(l.find(Er=>Er.id===Mt.class_id),(t==="director"||t==="deputy_director")&&Mt.establishment_id!==e.establishment_id){se("Vous ne pouvez supprimer que les affectations de votre établissement.");return}if(window.confirm("Êtes-vous sûr de vouloir supprimer cette affectation ? Cette action est irréversible."))try{await Kye($e),v(await Mx()),nt("Affectation supprimée !")}catch(Er){console.error("Error deleting assignment:",Er),se(`Erreur lors de la suppression de l'affectation: ${Er.message}`)}},Zn=n.filter($e=>t==="administrator"||$e.establishment_id===(e==null?void 0:e.establishment_id)),fs=s.filter($e=>t==="administrator"||$e.establishment_id===(e==null?void 0:e.establishment_id)),Ga=l.filter($e=>t==="administrator"||$e.establishment_id===(e==null?void 0:e.establishment_id)),bm=d.filter($e=>t==="administrator"||$e.id===(e==null?void 0:e.establishment_id)),Qc=Y.useMemo(()=>{let $e=y;if(ge!=="all"&&t==="administrator"?$e=$e.filter(Mt=>Mt.establishment_id===ge):t!=="administrator"&&(e!=null&&e.establishment_id)&&($e=$e.filter(Mt=>Mt.establishment_id===e.establishment_id)),fe&&($e=$e.filter(Mt=>Mt.professor_id===fe)),xe&&($e=$e.filter(Mt=>Mt.subject_id===xe)),ke&&($e=$e.filter(Mt=>Mt.class_id===ke)),De&&($e=$e.filter(Mt=>Mt.school_year_id===De)),Z.trim()){const Mt=Z.toLowerCase();$e=$e.filter(Er=>Cr(Er.professor_id).toLowerCase().includes(Mt)||K$(Er.subject_id,s).toLowerCase().includes(Mt)||Ib(Er.class_id,l).toLowerCase().includes(Mt)||bc(Er.school_year_id,u).toLowerCase().includes(Mt)||Tn(Er.establishment_id,d).toLowerCase().includes(Mt))}return $e},[y,Z,fe,xe,ke,De,ge,n,s,l,u,d,e,t]);if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e||!["administrator","director","deputy_director"].includes(t||""))return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs, directeurs et directeurs adjoints peuvent accéder à cette page."})]});const hs=Zn.map($e=>({id:$e.id,label:`${$e.first_name} ${$e.last_name} (@${$e.username})`,icon_name:"PenTool",description:Tn($e.establishment_id,d)})),Ae=fs.map($e=>({id:$e.id,label:$e.name,icon_name:"BookText",description:Tn($e.establishment_id,d)})),wt=Ga.map($e=>({id:$e.id,label:$e.name,icon_name:"Users",description:`${$u($e.curriculum_id,p)} - ${bc($e.school_year_id,u)} (${Tn($e.establishment_id,d)})`})),Kr=u.map($e=>({id:$e.id,label:$e.name,icon_name:"CalendarDays",description:`${$e.start_date} - ${$e.end_date}`})),ln=bm.map($e=>({id:$e.id,label:$e.name,icon_name:"Building2",description:$e.address}));return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Affectations Professeurs-Matières"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Affectez des professeurs à des matières pour des classes et années scolaires spécifiques."}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(gr,{className:"h-6 w-6 text-primary"})," Ajouter une nouvelle affectation"]}),o.jsx(Le,{children:"Créez une nouvelle affectation professeur-matière-classe-année scolaire."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-professor",children:"Professeur"}),o.jsx(jt,{id:"new-professor",options:hs,value:b,onValueChange:w,searchQuery:ie,onSearchQueryChange:oe,placeholder:"Sélectionner un professeur",emptyMessage:"Aucun professeur trouvé.",iconMap:Ei})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-subject",children:"Matière"}),o.jsx(jt,{id:"new-subject",options:Ae,value:j,onValueChange:S,searchQuery:je,onSearchQueryChange:le,placeholder:"Sélectionner une matière",emptyMessage:"Aucune matière trouvée.",iconMap:Ei})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-class",children:"Classe"}),o.jsx(jt,{id:"new-class",options:wt,value:C,onValueChange:E,searchQuery:he,onSearchQueryChange:we,placeholder:"Sélectionner une classe",emptyMessage:"Aucune classe trouvée.",iconMap:Ei})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-school-year",children:"Année scolaire"}),o.jsx(jt,{id:"new-school-year",options:Kr,value:k,onValueChange:O,searchQuery:ue,onSearchQueryChange:Oe,placeholder:"Sélectionner l'année scolaire",emptyMessage:"Aucune année scolaire trouvée.",iconMap:Ei})]}),(t==="administrator"||(e==null?void 0:e.establishment_id))&&o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-assignment-establishment",children:"Établissement"}),o.jsx(jt,{id:"new-assignment-establishment",options:ln,value:M,onValueChange:$e=>R($e),searchQuery:gt,onSearchQueryChange:Se,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:Ei,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]})]}),o.jsxs(me,{onClick:cr,disabled:T||!b||!j||!C||!k||!M,children:[T?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter l'affectation"]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-6 w-6 text-primary"})," Liste des Affectations"]}),o.jsx(Le,{children:"Visualisez et gérez les affectations existantes."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher par professeur, matière, classe ou année...",className:"pl-10 rounded-android-tile",value:Z,onChange:$e=>re($e.target.value)})]}),(t==="administrator"||(e==null?void 0:e.establishment_id))&&o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"establishment-filter",children:"Filtrer par Établissement"}),o.jsx(jt,{id:"establishment-filter",options:[{id:"all",label:"Tous les établissements",icon_name:"Building2"},...ln],value:ge,onValueChange:$e=>X($e),searchQuery:Xt,onSearchQueryChange:qt,placeholder:"Tous les établissements",emptyMessage:"Aucun établissement trouvé.",iconMap:Ei})]}),o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"professor-filter",children:"Filtrer par Professeur"}),o.jsx(jt,{id:"professor-filter",options:[{id:"all",label:"Tous les professeurs",icon_name:"PenTool"},...hs],value:fe,onValueChange:$e=>ce($e),searchQuery:bt,onSearchQueryChange:ct,placeholder:"Tous les professeurs",emptyMessage:"Aucun professeur trouvé.",iconMap:Ei})]}),o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"subject-filter",children:"Filtrer par Matière"}),o.jsx(jt,{id:"subject-filter",options:[{id:"all",label:"Toutes les matières",icon_name:"BookText"},...Ae],value:xe,onValueChange:$e=>be($e),searchQuery:$t,onSearchQueryChange:Ut,placeholder:"Toutes les matières",emptyMessage:"Aucune matière trouvée.",iconMap:Ei})]}),o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"class-filter",children:"Filtrer par Classe"}),o.jsx(jt,{id:"class-filter",options:[{id:"all",label:"Toutes les classes",icon_name:"Users"},...wt],value:ke,onValueChange:$e=>Te($e),searchQuery:Je,onSearchQueryChange:ht,placeholder:"Toutes les classes",emptyMessage:"Aucune classe trouvée.",iconMap:Ei})]}),o.jsxs("div",{className:"flex-shrink-0 sm:w-1/3",children:[o.jsx(Pe,{htmlFor:"school-year-filter",children:"Filtrer par Année Scolaire"}),o.jsx(jt,{id:"school-year-filter",options:[{id:"all",label:"Toutes les années",icon_name:"CalendarDays"},...Kr],value:De,onValueChange:$e=>ae($e),searchQuery:yt,onSearchQueryChange:zt,placeholder:"Toutes les années",emptyMessage:"Aucune année scolaire trouvée.",iconMap:Ei})]})]}),o.jsx("div",{className:"space-y-2",children:Qc.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucune affectation trouvée pour votre recherche ou vos filtres."}):Qc.map($e=>o.jsxs(Re,{className:"p-3 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 rounded-android-tile",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("p",{className:"font-medium",children:[o.jsx("span",{className:"text-primary",children:Cr($e.professor_id)})," enseigne ",o.jsx("span",{className:"text-primary",children:K$($e.subject_id,s)})," à la classe ",o.jsx("span",{className:"text-primary",children:Ib($e.class_id,l)})," pour l'année ",o.jsx("span",{className:"text-primary",children:bc($e.school_year_id,u)}),"."]}),$e.establishment_id&&o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(xr,{className:"h-3 w-3"})," ",Tn($e.establishment_id,d)]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 sm:mt-0",children:[o.jsx(me,{variant:"outline",size:"sm",onClick:()=>qr($e),children:o.jsx(es,{className:"h-4 w-4"})}),o.jsxs(me,{variant:"destructive",size:"sm",onClick:()=>Vi($e.id),children:[o.jsx(Li,{className:"h-4 w-4"})," Supprimer"]})]})]},$e.id))})]})]}),$&&o.jsx(ui,{open:I,onOpenChange:B,children:o.jsx(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier l'affectation"}),o.jsx(Yn,{children:"Mettez à jour les détails de l'affectation."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-professor",children:"Professeur"}),o.jsx(jt,{id:"edit-professor",options:hs,value:V,onValueChange:U,searchQuery:Ge,onSearchQueryChange:Nt,placeholder:"Sélectionner un professeur",emptyMessage:"Aucun professeur trouvé.",iconMap:Ei})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-subject",children:"Matière"}),o.jsx(jt,{id:"edit-subject",options:Ae,value:W,onValueChange:F,searchQuery:vt,onSearchQueryChange:mr,placeholder:"Sélectionner une matière",emptyMessage:"Aucune matière trouvée.",iconMap:Ei})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-class",children:"Classe"}),o.jsx(jt,{id:"edit-class",options:wt,value:L,onValueChange:q,searchQuery:tn,onSearchQueryChange:jr,placeholder:"Sélectionner une classe",emptyMessage:"Aucune classe trouvée.",iconMap:Ei})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-school-year",children:"Année scolaire"}),o.jsx(jt,{id:"edit-school-year",options:Kr,value:K,onValueChange:ee,searchQuery:Ot,onSearchQueryChange:Ze,placeholder:"Sélectionner l'année scolaire",emptyMessage:"Aucune année scolaire trouvée.",iconMap:Ei})]}),(t==="administrator"||(e==null?void 0:e.establishment_id))&&o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"edit-assignment-establishment",children:"Établissement"}),o.jsx(jt,{id:"edit-assignment-establishment",options:ln,value:te,onValueChange:$e=>Q($e),searchQuery:ft,onSearchQueryChange:xt,placeholder:"Sélectionner un établissement",emptyMessage:"Aucun établissement trouvé.",iconMap:Ei,disabled:t!=="administrator"&&!!(e!=null&&e.establishment_id)})]})]}),o.jsx(me,{onClick:fi,disabled:G||!V||!W||!L||!K||!te,children:G?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Enregistrer les modifications"})]})})})]})},X3e=({isOpen:e,onClose:t,currentUserProfile:r,onSave:n})=>{const{currentRole:i}=Qt(),[s,a]=_.useState(r.first_name||""),[l,c]=_.useState(r.last_name||""),[u,f]=_.useState(r.username),[d,m]=_.useState(""),[p,x]=_.useState(r.enrollment_start_date?Zr(r.enrollment_start_date):void 0),[y,v]=_.useState(r.enrollment_end_date?Zr(r.enrollment_end_date):void 0),[b,w]=_.useState([]);_.useEffect(()=>{(async()=>{w(await qi())})()},[]),_.useEffect(()=>{e&&r&&(a(r.first_name||""),c(r.last_name||""),f(r.username),x(r.enrollment_start_date?Zr(r.enrollment_start_date):void 0),v(r.enrollment_end_date?Zr(r.enrollment_end_date):void 0),Ie.auth.getUser().then(({data:{user:S}})=>{S&&m(S.email||"")}))},[e,r]);const j=async()=>{var S;if(!s.trim()||!l.trim()||!u.trim()||!d.trim()){se("Tous les champs sont requis.");return}if(!/\S+@\S+\.\S+/.test(d)){se("Veuillez entrer une adresse email valide.");return}if(i==="student"&&(!p||!y)){se("Les dates d'inscription sont requises pour les élèves.");return}if(p&&y&&p>=y){se("La date de fin d'inscription doit être postérieure à la date de début.");return}try{const C={id:r.id,first_name:s.trim(),last_name:l.trim(),username:u.trim(),email:d.trim(),enrollment_start_date:p?p.toISOString().split("T")[0]:void 0,enrollment_end_date:y?y.toISOString().split("T")[0]:void 0},E=await Zf(C);if(d.trim()!==((S=(await Ie.auth.getUser()).data.user)==null?void 0:S.email)){const{error:k}=await Ie.auth.updateUser({email:d.trim()});if(k){se(`Erreur lors de la mise à jour de l'email: ${k.message}`);return}}E?(n(E),nt("Profil mis à jour avec succès !"),t()):se("Échec de la mise à jour du profil.")}catch(C){se(`Erreur lors de la sauvegarde du profil: ${C.message}`)}};return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsxs(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:[" ",o.jsxs("div",{className:"flex flex-col",children:[" ",o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier le profil"}),o.jsx(Yn,{children:"Mettez à jour les informations de votre profil. Cliquez sur enregistrer lorsque vous avez terminé."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[" ",o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"firstName",className:"text-right",children:"Prénom"}),o.jsx(rt,{id:"firstName",value:s,onChange:S=>a(S.target.value),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"lastName",className:"text-right",children:"Nom"}),o.jsx(rt,{id:"lastName",value:l,onChange:S=>c(S.target.value),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"username",className:"text-right",children:"Nom d'utilisateur"}),o.jsx(rt,{id:"username",value:u,onChange:S=>f(S.target.value),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"email",className:"text-right",children:"Email"}),o.jsx(rt,{id:"email",type:"email",value:d,onChange:S=>m(S.target.value),className:"col-span-3"})]}),i==="student"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"enrollmentStartDate",className:"text-right",children:"Début inscription"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("col-span-3 justify-start text-left font-normal rounded-android-tile",!p&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),p?rr(p,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsxs(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:[" ",o.jsx(js,{mode:"single",selected:p,onSelect:x,initialFocus:!0,locale:Ht})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"enrollmentEndDate",className:"text-right",children:"Fin inscription"}),o.jsxs(oi,{children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:Ne("col-span-3 justify-start text-left font-normal rounded-android-tile",!y&&"text-muted-foreground"),children:[o.jsx(kr,{className:"mr-2 h-4 w-4"}),y?rr(y,"PPP",{locale:Ht}):o.jsx("span",{children:"Sélectionner une date"})]})}),o.jsxs(Un,{className:"w-auto p-0 backdrop-blur-lg bg-background/80 rounded-android-tile z-[9999]",children:[" ",o.jsx(js,{mode:"single",selected:y,onSelect:v,initialFocus:!0,locale:Ht})]})]})]})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:j,children:"Enregistrer les modifications"})})]})]})})},Z3e=()=>{const{currentUserProfile:e,currentRole:t,setCurrentUserProfile:r,isLoadingUser:n}=Qt(),{setIsAdminModalOpen:i}=mU(),[s,a]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState(!1),p=on();_.useEffect(()=>{(async()=>{try{const w=await Nl();a(w);const j=await pw();c(j),f(await qi())}catch(w){console.error("Error fetching data for Profile page:",w),se(`Erreur lors du chargement des données du profil: ${w.message}`)}})()},[e]);const x=async b=>{try{const w=await Zf(b);w?(r(w),nt("Profil mis à jour avec succès !")):se("Échec de la mise à jour du profil.")}catch(w){console.error("Error updating profile:",w),se(`Erreur lors de la mise à jour du profil: ${w.message}`)}},y=b=>{p(`/messages?contactId=${b}`)};if(n)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement du profil..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Profil non trouvé"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez vous connecter pour voir votre profil."})]});const v=()=>{var b,w;if(t==="student"){const j=l.filter(R=>R.user_id===e.id),S=s.filter(R=>j.some(T=>T.course_id===R.id)),C=S.filter(R=>{const T=j.find(P=>P.course_id===R.id);return T&&T.modules_progress.every(P=>P.is_completed)}).length,E=j.reduce((R,T)=>R+T.modules_progress.filter(P=>P.is_completed).length,0),k=s.reduce((R,T)=>R+T.modules.length,0),O=k>0?Math.round(E/k*100):0,M=[{id:1,type:"completed",description:`Terminé le module "Qu'est-ce que l'IA ?" du cours "Introduction à l'IA"`,date:"2 jours ago"},{id:2,type:"started",description:'Commencé le cours "React pour débutants"',date:"1 semaine ago"},{id:3,type:"note",description:'Ajouté une note à la section "Props et État"',date:"3 jours ago"}];return o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Re,{className:"lg:col-span-full rounded-android-tile",children:[" ",o.jsxs(Be,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[" ",o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Rn,{className:"h-12 w-12 text-primary"}),o.jsxs("div",{children:[o.jsxs(Fe,{className:"text-3xl",children:[e.first_name," ",e.last_name]}),o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(io,{className:"h-4 w-4"})," ",e.email]}),o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:["@",e.username]}),e.establishment_id&&o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(xr,{className:"h-4 w-4"})," ",Tn(e.establishment_id,u)]}),e.enrollment_start_date&&e.enrollment_end_date&&o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(kr,{className:"h-4 w-4"})," Du ",rr(Zr(e.enrollment_start_date),"dd/MM/yyyy",{locale:Ht})," au ",rr(Zr(e.enrollment_end_date),"dd/MM/yyyy",{locale:Ht})]})]})]}),o.jsxs(me,{variant:"outline",onClick:()=>m(!0),className:"w-full sm:w-auto",children:[" ",o.jsx(es,{className:"h-4 w-4 mr-2"})," Modifier le profil"]})]}),o.jsx(qe,{children:o.jsx("p",{className:"text-lg text-muted-foreground",children:"Rôle actuel: Élève"})})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Progression Globale"}),o.jsx(Le,{children:"Votre avancement général dans les cours."})]}),o.jsxs(qe,{children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[O,"%"]}),o.jsx(Mv,{value:O,className:"w-full mt-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Modules terminés : ",E," / ",k]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Cours Terminés"}),o.jsx(Le,{children:"Votre succès jusqu'à présent."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:C}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["cours terminés sur ",S.length," inscrits."]}),o.jsxs("ul",{className:"list-disc pl-5 text-sm text-muted-foreground mt-4",children:[S.filter(R=>{const T=j.find(P=>P.course_id===R.id);return T&&T.modules_progress.every(P=>P.is_completed)}).slice(0,3).map(R=>o.jsxs("li",{children:[R.title," ",o.jsx(Ta,{className:"inline h-3 w-3 text-green-500 ml-1"})]},R.id)),C===0&&o.jsx("li",{children:"Aucun cours terminé."})]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Activité Récente"}),o.jsx(Le,{children:"Vos dernières actions sur la plateforme."})]}),o.jsx(qe,{children:o.jsx("ul",{className:"space-y-2",children:M.map(R=>o.jsxs("li",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(xS,{className:"h-4 w-4 mr-2 text-primary"}),o.jsx("span",{children:R.description}),o.jsx("span",{className:"ml-auto text-xs italic",children:R.date})]},R.id))})})]})]})}else if(t==="professeur"){const j=s,S=j.filter(O=>O.modules.some(M=>M.sections.some(R=>R.content))).length,C=l.length,E=j.sort((O,M)=>(M.modules.length>0?M.modules.reduce((R,T)=>R+T.sections.length,0):0)-(O.modules.length>0?O.modules.reduce((R,T)=>R+T.sections.length,0):0)).slice(0,3),k=[{id:1,type:"created",description:'Créé le cours "Développement Web Fullstack"',date:"5 jours ago"},{id:2,type:"updated",description:'Mis à jour le module 2 de "Algorithmes Avancés"',date:"2 jours ago"},{id:3,type:"published",description:'Publié le cours "Programmation en C#"',date:"1 semaine ago"}];return o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Re,{className:"lg:col-span-full rounded-android-tile",children:[" ",o.jsxs(Be,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[" ",o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ra,{className:"h-12 w-12 text-primary"}),o.jsxs("div",{children:[o.jsxs(Fe,{className:"text-3xl",children:[e.first_name," ",e.last_name]}),o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(io,{className:"h-4 w-4"})," ",e.email]}),o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:["@",e.username]}),e.establishment_id&&o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(xr,{className:"h-4 w-4"})," ",Tn(e.establishment_id,u)]})]})]}),o.jsxs(me,{variant:"outline",onClick:()=>m(!0),className:"w-full sm:w-auto",children:[" ",o.jsx(es,{className:"h-4 w-4 mr-2"})," Modifier le profil"]})]}),o.jsx(qe,{children:o.jsx("p",{className:"text-lg text-muted-foreground",children:"Rôle actuel: Professeur"})})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Cours Créés"}),o.jsx(Le,{children:"Vos contributions à la plateforme."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:j.length}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dont ",S," publiés."]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Impact sur les Élèves"}),o.jsx(Le,{children:"Nombre total d'élèves inscrits à vos cours."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:C}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"élèves uniques."})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Cours Populaires"}),o.jsx(Le,{children:"Vos cours les plus consultés."})]}),o.jsx(qe,{children:o.jsxs("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:[E.map(O=>o.jsx("li",{children:o.jsx(sr,{to:`/courses/${O.id}`,className:"hover:underline text-primary",children:O.title})},O.id)),j.length===0&&o.jsx("li",{children:"Aucun cours créé."})]})})]}),o.jsxs(Re,{className:"lg:col-span-full rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Activité Récente"}),o.jsx(Le,{children:"Vos dernières actions en tant que créateur."})]}),o.jsx(qe,{children:o.jsx("ul",{className:"space-y-2",children:k.map(O=>o.jsxs("li",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(xS,{className:"h-4 w-4 mr-2 text-primary"}),o.jsx("span",{children:O.description}),o.jsx("span",{className:"ml-auto text-xs italic",children:O.date})]},O.id))})})]})]})}else if(t==="tutor"){const j=l.slice(0,2),S=j.filter(E=>E.modules_progress.some(k=>k.sections_progress.some(O=>O.quiz_result&&!O.quiz_result.passed))).length,C=[{id:1,studentId:(b=j[0])==null?void 0:b.user_id,description:"a des difficultés en algèbre.",date:"1 jour ago"},{id:2,studentId:(w=j[1])==null?void 0:w.user_id,description:`n'a pas accédé au cours "Algorithmes Avancés" depuis 5 jours.`,date:"3 jours ago"}].filter(E=>E.studentId&&l.some(k=>k.user_id===E.studentId));return o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:col-span-3",children:[o.jsxs(Re,{className:"lg:col-span-full rounded-android-tile",children:[" ",o.jsxs(Be,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[" ",o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Wr,{className:"h-12 w-12 text-primary"}),o.jsxs("div",{children:[o.jsxs(Fe,{className:"text-3xl",children:[e.first_name," ",e.last_name]}),o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(io,{className:"h-4 w-4"})," ",e.email]}),o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:["@",e.username]}),e.establishment_id&&o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(xr,{className:"h-4 w-4"})," ",Tn(e.establishment_id,u)]})]})]}),o.jsxs(me,{variant:"outline",onClick:()=>m(!0),className:"w-full sm:w-auto",children:[" ",o.jsx(es,{className:"h-4 w-4 mr-2"})," Modifier le profil"]})]}),o.jsx(qe,{children:o.jsx("p",{className:"text-lg text-muted-foreground",children:"Rôle actuel: Tuteur"})})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Élèves Supervisés"}),o.jsx(Le,{children:"Nombre d'élèves sous votre tutelle."})]}),o.jsxs(qe,{children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:j.length}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Élèves en difficulté : ",S]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Progression des Élèves"}),o.jsx(Le,{children:"Vue d'overview de l'avancement de vos élèves."})]}),o.jsx(qe,{children:o.jsxs("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:[j.map(E=>o.jsxs("li",{children:[o.jsx(Lz,{userId:E.user_id}),": ",Math.floor(Math.random()*100),"% de progression moyenne",o.jsx(me,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>y(E.user_id),children:o.jsx(io,{className:"h-4 w-4"})})]},E.user_id)),j.length===0&&o.jsx("li",{children:"Aucun élève supervisé."})]})})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Alertes Récentes"}),o.jsx(Le,{children:"Informations importantes sur vos élèves."})]}),o.jsx(qe,{children:o.jsx("ul",{className:"space-y-2",children:C.map(E=>o.jsxs("li",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(xS,{className:"h-4 w-4 mr-2 text-primary"}),o.jsxs("span",{children:[o.jsx(Lz,{userId:E.studentId})," ",E.description]}),o.jsx("span",{className:"ml-auto text-xs italic",children:E.date})]},E.id))})})]})]})}else if(t==="administrator"||t==="director"||t==="deputy_director")return o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:col-span-3",children:[o.jsxs(Re,{className:"lg:col-span-full rounded-android-tile",children:[" ",o.jsxs(Be,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[" ",o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ii,{className:"h-12 w-12 text-primary"}),o.jsxs("div",{children:[o.jsxs(Fe,{className:"text-3xl",children:[e.first_name," ",e.last_name]}),o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(io,{className:"h-4 w-4"})," ",e.email]}),o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:["@",e.username]}),e.establishment_id&&o.jsxs(Le,{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(xr,{className:"h-4 w-4"})," ",Tn(e.establishment_id,u)]})]})]}),o.jsxs(me,{variant:"outline",onClick:()=>m(!0),className:"w-full sm:w-auto",children:[" ",o.jsx(es,{className:"h-4 w-4 mr-2"})," Modifier le profil"]})]}),o.jsx(qe,{children:o.jsxs("p",{className:"text-lg text-muted-foreground",children:["Rôle actuel: ",t==="administrator"?"Administrateur":t==="director"?"Directeur":"Directeur Adjoint"]})})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Accès Rapide"}),o.jsx(Le,{children:"Liens utiles pour votre rôle."})]}),o.jsx(qe,{children:o.jsxs("ul",{className:"space-y-2",children:[t==="administrator"&&o.jsxs(o.Fragment,{children:[o.jsx("li",{children:o.jsx(sr,{to:"/admin-users",className:"text-primary hover:underline",children:"Gérer les utilisateurs"})}),o.jsx("li",{children:o.jsx(sr,{to:"/establishments",className:"text-primary hover:underline",children:"Gérer les établissements"})}),o.jsx("li",{children:o.jsx(sr,{to:"/analytics?view=overview",className:"text-primary hover:underline",children:"Voir les analytiques globales"})})]}),(t==="director"||t==="deputy_director")&&o.jsxs(o.Fragment,{children:[o.jsx("li",{children:o.jsx(sr,{to:"/admin-users",className:"text-primary hover:underline",children:"Gérer les professeurs"})}),o.jsx("li",{children:o.jsx(sr,{to:"/students",className:"text-primary hover:underline",children:"Gérer les élèves"})}),o.jsx("li",{children:o.jsx(sr,{to:"/analytics?view=overview",className:"text-primary hover:underline",children:"Voir les analytiques"})})]})]})})]}),t==="administrator"&&o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsx(Fe,{children:"Outils Administrateur"}),o.jsx(Le,{children:"Accès aux fonctions d'administration avancées."})]}),o.jsx(qe,{children:o.jsxs(me,{onClick:()=>i(!0),className:"w-full",children:[o.jsx(ld,{className:"h-4 w-4 mr-2"})," Ouvrir le panneau Admin"]})})]})]});return null};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",o.jsxs("h1",{className:"text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:["Mon Profil (",e==null?void 0:e.first_name," ",e==null?void 0:e.last_name,")"]}),v(),e&&o.jsx(X3e,{isOpen:d,onClose:()=>m(!1),currentUserProfile:e,onSave:x})]})},Lz=({userId:e})=>{const[t,r]=_.useState("Chargement...");return _.useEffect(()=>{(async()=>{const i=await eue(e);r(i)})()},[e]),o.jsx(o.Fragment,{children:t})},iee=async()=>{await WIe(),await rue(),await nue(),await nxe(),await rxe(),await Zye(),await Jye(),await exe(),await txe(),await ixe(),await tue(),await uue(),await cue()},J3e=({isOpen:e,onClose:t})=>{const[r,n]=_.useState(""),[i,s]=_.useState(""),[a,l]=_.useState(!1),c=async()=>{if(!r.trim()||!i.trim()){se("Veuillez remplir tous les champs.");return}if(r.trim().length<6){se("Le nouveau mot de passe doit contenir au moins 6 caractères.");return}if(r.trim()!==i.trim()){se("Les mots de passe ne correspondent pas.");return}l(!0);try{const{data:u,error:f}=await Ie.auth.updateUser({password:r.trim()});f?se(`Erreur lors du changement de mot de passe: ${f.message}`):(nt("Mot de passe mis à jour avec succès !"),t(),n(""),s(""))}catch(u){se(`Une erreur inattendue est survenue: ${u.message}`)}finally{l(!1)}};return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsxs(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:[" ",o.jsxs("div",{className:"flex flex-col",children:[" ",o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Changer le mot de passe"}),o.jsx(Yn,{children:"Entrez votre nouveau mot de passe."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"newPassword",className:"text-right",children:"Nouveau mot de passe"}),o.jsx(rt,{id:"newPassword",type:"password",value:r,onChange:u=>n(u.target.value),className:"col-span-3",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"confirmNewPassword",className:"text-right",children:"Confirmer le mot de passe"}),o.jsx(rt,{id:"confirmNewPassword",type:"password",value:i,onChange:u=>s(u.target.value),className:"col-span-3",required:!0})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:c,disabled:a,children:a?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Changer le mot de passe"})})]})]})})},eFe=()=>{const{currentRole:e}=Qt(),{onInitiateThemeChange:t}=mU(),r=on(),[n,i]=_.useState("fr"),[s,a]=_.useState(!0),[l,c]=_.useState(!0),[u,f]=_.useState(!1),d=()=>{nt("Préférences enregistrées !")},m=()=>{window.confirm("Êtes-vous sûr de vouloir effacer TOUTES les données de l'application ? Cette action est irréversible.")&&(iee(),nt("Toutes les données ont été effacées ! Veuillez rafraîchir la page."),window.location.reload())};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[" ",o.jsx("h1",{className:"text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Paramètres"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Gérez les préférences de votre compte et de l'application."}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Foe,{className:"h-6 w-6 text-primary"}),"Apparence"]}),o.jsx(Le,{children:"Personnalisez l'apparence de l'application."})]}),o.jsxs(qe,{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"theme-toggle",children:"Mode clair/sombre"}),o.jsx(_w,{onInitiateThemeChange:t})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Qh,{className:"h-6 w-6 text-primary"}),"Préférences Générales"]}),o.jsx(Le,{children:"Définissez votre langue préférée."})]}),o.jsx(qe,{children:o.jsx("div",{className:"grid gap-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"language",children:"Langue"}),o.jsxs(Jf,{value:n,onValueChange:i,children:[o.jsx(Hu,{id:"language",className:"w-[180px] rounded-android-tile",children:o.jsx(og,{placeholder:"Sélectionner une langue"})}),o.jsxs(Ku,{className:"backdrop-blur-lg bg-background/80 rounded-android-tile",children:[o.jsx(si,{value:"fr",children:"Français"}),o.jsx(si,{value:"en",children:"English"})]})]})]})})})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Coe,{className:"h-6 w-6 text-primary"}),"Notifications"]}),o.jsx(Le,{children:"Gérez comment et quand vous recevez des notifications."})]}),o.jsxs(qe,{className:"grid gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"email-notifications",children:"Notifications par email"}),o.jsx(sd,{id:"email-notifications",checked:s,onCheckedChange:a})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"app-notifications",children:"Notifications in-app"}),o.jsx(sd,{id:"app-notifications",checked:l,onCheckedChange:c})]})]})]}),o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Moe,{className:"h-6 w-6 text-primary"}),"Paramètres du Compte"]}),o.jsx(Le,{children:"Gérez les informations de sécurité de votre compte."})]}),o.jsxs(qe,{className:"space-y-4",children:[o.jsx(me,{variant:"outline",onClick:()=>f(!0),className:"rounded-android-tile",children:"Changer le mot de passe"}),o.jsx(sr,{to:"/data-model",children:o.jsxs(me,{variant:"outline",className:"flex items-center gap-2 rounded-android-tile",children:[o.jsx(Yh,{className:"h-4 w-4"})," Voir le modèle de données"]})}),e==="administrator"&&o.jsxs(o.Fragment,{children:[o.jsx(sr,{to:"/establishments",children:o.jsxs(me,{variant:"outline",className:"flex items-center gap-2 rounded-android-tile",children:[o.jsx(xr,{className:"h-4 w-4"})," Gérer les établissements"]})}),o.jsx(sr,{to:"/admin-menu-management",children:o.jsxs(me,{variant:"outline",className:"flex items-center gap-2 rounded-android-tile",children:[o.jsx(Mn,{className:"h-4 w-4"})," Gérer les menus"]})})]}),o.jsxs(me,{variant:"outline",onClick:()=>r("/about"),className:"flex items-center gap-2 rounded-android-tile",children:[" ",o.jsx(Ct,{className:"h-4 w-4"})," À propos"]}),o.jsxs(me,{variant:"destructive",onClick:m,className:"flex items-center gap-2 rounded-android-tile",children:[o.jsx(CU,{className:"h-4 w-4"})," Réinitialiser toutes les données"]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(me,{onClick:d,className:"rounded-android-tile",children:"Enregistrer toutes les préférences"})}),o.jsx(J3e,{isOpen:u,onClose:()=>f(!1)})]})},see=()=>{const e={"Auth.users (Supabase)":`
// Table gérée par Supabase pour l'authentification
// Non directement accessible via l'API client pour des raisons de sécurité.
// Les données pertinentes sont liées à la table 'profiles'.
interface AuthUser {
  id: string; // UUID unique de l'utilisateur
  email: string;
  created_at: string;
  last_sign_in_at: string;
  // ... autres champs d'authentification
}
    `,"public.roles":`
// Table d'énumération des rôles utilisateurs
interface Role {
  id: string; // UUID, clé primaire
  name: 'student' | 'creator' | 'tutor' | 'administrator'; // Nom du rôle
}
    `,"public.profiles":`
// Table des profils utilisateurs (étudiants, créateurs, tuteurs)
// Liée à auth.users par l'ID.
interface Profile {
  id: string; // UUID, clé primaire, référence auth.users(id)
  first_name: string;
  last_name: string;
  username: string;
  email: string; // Email added to profile
  role: 'student' | 'creator' | 'tutor' | 'administrator'; // Le rôle est maintenant résolu via la jointure avec 'roles'
  establishment_id?: string; // UUID, pour les étudiants, référence public.establishments(id)
  theme?: 'light' | 'dark' | 'system'; // Préférence de thème de l'utilisateur
  created_at: string;
  updated_at: string;
}
    `,"public.establishments":`
interface Establishment {
  id: string; // UUID
  name: string;
  address?: string;
  contact_email?: string;
  created_at: string;
}
    `,"public.subjects":`
// Nouvelle table pour les matières scolaires
interface Subject {
  id: string; // UUID
  name: string; // Nom de la matière (ex: 'Mathématiques', 'Informatique')
  establishment_id: string; // UUID, référence public.establishments(id)
  created_at?: string;
  updated_at?: string;
}
    `,"public.curricula":`
interface Curriculum {
  id: string; // UUID
  name: string;
  description?: string;
  establishment_id: string; // UUID, référence public.establishments(id)
  course_ids: string[]; // JSONB, liste d'UUIDs de public.courses(id)
  created_at: string;
}
    `,"public.school_years":`
// Nouvelle table pour les années scolaires
interface SchoolYear {
  id: string; // UUID
  name: string; // e.g., "2023-2024"
  start_date: string; // ISO date string
  end_date: string; // ISO date string
  is_active: boolean;
  created_at?: string;
  updated_at?: string;
}
    `,"public.classes":`
interface Class {
  id: string; // UUID
  name: string;
  curriculum_id: string; // Link to parent curriculum
  creator_ids: string[]; // JSONB, liste d'UUIDs de public.profiles(id) (rôle 'professeur')
  establishment_id: string; // New: Link to parent establishment
  school_year_id: string; // Changed: Link to SchoolYear
  created_at: string;
}
    `,"public.class_subjects":`
// Nouvelle table de liaison pour les matières affectées à une classe
interface ClassSubject {
  id: string; // UUID
  class_id: string; // UUID, référence public.classes(id)
  subject_id: string; // UUID, référence public.subjects(id)
  subject_name?: string; // For convenience when fetching
  created_at?: string;
}
    `,"public.professor_subject_assignments":`
// Nouvelle table de liaison pour les affectations de professeurs aux matières par classe et année scolaire
interface ProfessorSubjectAssignment {
  id: string; // UUID
  professor_id: string; // UUID, référence public.profiles(id)
  subject_id: string; // UUID, référence public.subjects(id)
  subject_name?: string; // For convenience when fetching
  class_id: string; // UUID, référence public.classes(id)
  school_year_id: string; // Changed: Link to SchoolYear
  created_at?: string;
}
    `,"public.notes":`
interface Note {
  id: string; // UUID
  user_id: string; // UUID, référence public.profiles(id)
  note_key: string; // Clé unique pour le contexte de la note (ex: 'notes_course_1')
  content: string; // Contenu de la note (peut être HTML/Rich Text)
  created_at: string;
  updated_at: string;
}
    `,"public.student_class_enrollments":`
interface StudentClassEnrollment { // New interface for student-class liaison
  id: string; // Unique ID for this enrollment entry
  student_id: string; // Link to the student's Profile
  class_id: string; // Link to the Class
  school_year_id: string; // Changed: Link to SchoolYear
  school_year_name?: string; // For convenience when fetching
  establishment_id: string; // New: Link to parent establishment
  created_at?: string;
  updated_at?: string;
}
    `,"public.student_course_progress":`
interface StudentCourseProgress {
  id: string; // Unique ID for this progress entry
  user_id: string; // Link to the User account (and Profile)
  course_id: string;
  is_completed: boolean;
  modules_progress: {
    module_index: number;
    is_completed: boolean;
    sections_progress: {
      section_index: number;
      is_completed: boolean;
      quiz_result?: { score: number; total: number; passed: boolean };
    }[];
  }[]; // JSONB, progression détaillée par module et section
  created_at: string;
  updated_at: string;
}
    `,"Module (Nested in Course)":`
interface Module {
  title: string;
  sections: ModuleSection[];
  isCompleted: boolean;
  level: number;
}
    `,"ModuleSection (Nested in Module)":`
interface ModuleSection {
  title: string;
  content: string;
  type?: 'text' | 'quiz' | 'video' | 'image';
  url?: string; // Pour les types 'video' ou 'image'
  questions?: QuizQuestion[]; // Pour le type 'quiz'
  isCompleted: boolean;
  passingScore?: number; // Pour le type 'quiz'
  quizResult?: { score: number; total: number; passed: boolean }; // Résultat du dernier quiz
}
    `,"QuizQuestion (Nested in ModuleSection)":`
interface QuizQuestion {
  question: string;
  options: QuizOption[];
}
    `,"QuizOption (Nested in QuizQuestion)":`
interface QuizOption {
  text: string;
  isCorrect: boolean;
}
    `,"Event (Global Search)":`
interface Event {
  id: string;
  title: string;
  description: string;
  start_time: string;
  end_time: string;
  location?: string;
}
    `,"Document (Global Search)":`
interface Document {
  id: string;
  title: string;
  file_url: string;
  description?: string;
  uploaded_at: string;
}
    `},t=r=>{switch(r){case"Auth.users (Supabase)":return o.jsx(EU,{className:"h-5 w-5 text-primary"});case"public.roles":return o.jsx(Wr,{className:"h-5 w-5 text-primary"});case"public.profiles":return o.jsx(Rn,{className:"h-5 w-5 text-primary"});case"public.establishments":return o.jsx(xr,{className:"h-5 w-5 text-primary"});case"public.subjects":return o.jsx(bl,{className:"h-5 w-5 text-primary"});case"public.curricula":return o.jsx(Mn,{className:"h-5 w-5 text-primary"});case"public.school_years":return o.jsx(kr,{className:"h-5 w-5 text-primary"});case"public.classes":return o.jsx(Wr,{className:"h-5 w-5 text-primary"});case"public.class_subjects":return o.jsx(Ooe,{className:"h-5 w-5 text-primary"});case"public.professor_subject_assignments":return o.jsx(Sl,{className:"h-5 w-5 text-primary"});case"public.student_class_enrollments":return o.jsx(Os,{className:"h-5 w-5 text-primary"});case"public.courses":return o.jsx(ia,{className:"h-5 w-5 text-primary"});case"public.notes":return o.jsx(Fa,{className:"h-5 w-5 text-primary"});case"public.student_course_progress":return o.jsx(Os,{className:"h-5 w-5 text-primary"});default:return o.jsx(Yh,{className:"h-5 w-5 text-primary"})}};return o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(e).map(([r,n])=>o.jsxs(Re,{className:"rounded-android-tile",children:[" ",o.jsxs(Be,{className:"flex flex-row items-center gap-3",children:[t(r),o.jsx(Fe,{children:r})]}),o.jsx(qe,{children:o.jsx(ml,{className:"h-48 w-full rounded-md border p-4 font-mono text-sm bg-muted/20",children:o.jsx("pre",{className:"whitespace-pre-wrap",children:n.trim()})})})]},r))})},tFe=()=>o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[" ",o.jsx("h1",{className:"text-3xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Modèle de Données de l'Application"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Voici la structure des données utilisées dans l'application, telles que définies dans les interfaces TypeScript."}),o.jsx(see,{})]}),rFe=({recentMessages:e,allProfiles:t,onSelectContact:r,selectedContactId:n,onUnreadCountChange:i,onArchiveConversation:s,onUnarchiveConversation:a,isArchivedView:l=!1})=>{const{currentUserProfile:c}=Qt(),[u,f]=_.useState(new Map),d=c==null?void 0:c.id;console.log("[MessageList.tsx Render] Received allProfiles prop:",t),console.log(`[MessageList Debug] Rendering with isArchivedView: ${l}`),console.log(`[MessageList Debug] Received recentMessages (${e.length}):`,e.map(b=>({id:b.id,sender:b.sender_id,receiver:b.receiver_id,content:b.content,is_archived:b.is_archived}))),console.log(`[MessageList Debug] Received allProfiles (${t.length}):`,t.map(b=>({id:b.id,username:b.username,role:b.role}))),_.useEffect(()=>{if(!d)return;const b=new Map;let w=0;for(const j of e)if(j.receiver_id===d&&!j.is_read&&!j.is_archived){const S=j.sender_id;b.set(S,(b.get(S)||0)+1),w++}f(b),i(w),console.log(`[MessageList] Unread counts updated. Total unread: ${w}. isArchivedView: ${l}`)},[e,d,i,l]),console.log(`[MessageList] Re-rendering. Number of recentMessages: ${e.length}. isArchivedView: ${l}`);const m=b=>{const w=b.sender_id===d?b.receiver_id:b.sender_id,j=t.find(S=>S.id===w);return console.log(`[MessageList Debug] For message ID ${b.id}, contactId: ${w}, found profile:`,j?{id:j.id,username:j.username}:"null"),j},p=_.useRef(null),x=(b,w)=>{console.log("[MessageList] Touch start for long press."),p.current=setTimeout(()=>{b.preventDefault(),l?(console.log("[MessageList] Long press: Unarchiving conversation."),a(w.id)):(console.log("[MessageList] Long press: Archiving conversation."),s(w.id))},700)},y=()=>{console.log("[MessageList] Touch end."),p.current&&clearTimeout(p.current)},v=()=>{console.log("[MessageList] Touch move."),p.current&&clearTimeout(p.current)};return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs(Be,{className:"pb-2",children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[l?o.jsx(iO,{className:"h-6 w-6 text-primary"}):o.jsx(As,{className:"h-6 w-6 text-primary"}),l?"Conversations Archivées":"Mes Conversations"]}),o.jsx(Le,{children:l?"Retrouvez vos conversations archivées ici.":"Sélectionnez une conversation pour commencer à chatter."})]}),o.jsx(qe,{className:"flex-grow overflow-y-auto pr-2",children:e.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:l?"Aucune conversation archivée.":"Aucune conversation récente."}):o.jsx("div",{className:"space-y-2",children:e.map(b=>{const w=m(b);if(!w)return console.warn(`[MessageList Debug] Skipping message ${b.id} because contact profile not found.`),null;const j=u.get(w.id)||0;return o.jsxs(nv,{children:[o.jsx(iv,{asChild:!0,children:o.jsx(Re,{className:Ne("cursor-pointer hover:bg-accent hover:text-accent-foreground transition-colors rounded-android-tile",n===w.id&&"bg-accent text-accent-foreground",l&&"opacity-60 border-dashed border-muted-foreground/50"),onClick:()=>r(w,b.course_id,b.course_id?`Cours ID: ${b.course_id}`:void 0),onTouchStart:S=>x(S,w),onTouchEnd:y,onTouchMove:v,children:o.jsxs(qe,{className:"p-3 flex items-center gap-3",children:[o.jsxs(jP,{children:[o.jsx(CP,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${w.first_name} ${w.last_name}`}),o.jsxs(NP,{children:[w.first_name[0],w.last_name[0]]})]}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("p",{className:"font-medium",children:[w.first_name," ",w.last_name]}),o.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[b.sender_id===d?"Vous: ":"",b.file_url?o.jsxs(o.Fragment,{children:[o.jsx(sO,{className:"inline h-3 w-3 mr-1"})," Fichier"]}):b.content]})]}),o.jsxs("div",{className:"flex flex-col items-end text-xs text-muted-foreground",children:[o.jsx("span",{children:new Date(b.created_at).toLocaleDateString()}),j>0&&o.jsx("span",{className:"bg-primary text-primary-foreground rounded-full px-2 py-0.5 mt-1",children:j})]})]})})}),o.jsxs(Lh,{className:"w-auto p-1 rounded-android-tile",children:[" ",l?o.jsxs(Ea,{className:"p-2",onClick:()=>a(w.id),children:[o.jsx(joe,{className:"mr-2 h-4 w-4"})," Désarchiver"]}):o.jsxs(Ea,{className:"p-2",onClick:()=>s(w.id),children:[o.jsx(iO,{className:"mr-2 h-4 w-4"})," Archiver"]})]})]},b.id)})})})]})},nFe=({contact:e,onMessageSent:t,initialCourseId:r,initialCourseTitle:n})=>{const{currentUserProfile:i}=Qt(),[s,a]=_.useState([]),[l,c]=_.useState(""),[u,f]=_.useState(null),[d,m]=_.useState(!1),p=_.useRef(null),x=_.useRef(null),y=i==null?void 0:i.id,v=e.id;_.useEffect(()=>{if(!y||!v)return;(async()=>{const k=await I$(y,v);a(k);const O=k.filter(M=>M.receiver_id===y&&!M.is_read);O.length>0&&(await L$(O.map(M=>M.id),y),t())})();const E=Ie.channel(`chat_${y}_${v}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`(sender_id=eq.${v},receiver_id=eq.${y})`},k=>{const O=k.new;a(M=>[...M,O]),L$([O.id],y),t()}).subscribe();return()=>{Ie.removeChannel(E)}},[y,v,t]),_.useEffect(()=>{var C;(C=p.current)==null||C.scrollIntoView({behavior:"smooth"})},[s]);const b=async()=>{if(!(!y||!v||!l.trim()&&!u)){m(!0);try{await Uve(y,v,l.trim(),r,u||void 0),c(""),f(null),x.current&&(x.current.value="");const C=await I$(y,v);a(C),t(),nt("Message envoyé !")}catch(C){console.error("Failed to send message:",C),se(`Échec de l'envoi du message: ${C.message}`)}finally{m(!1)}}},w=C=>{C.target.files&&C.target.files[0]&&f(C.target.files[0])},j=()=>{f(null),x.current&&(x.current.value="")},S=C=>{const E=Gve(C);E?window.open(E,"_blank"):se("Impossible de télécharger le fichier.")};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Chat avec ",e.first_name," ",e.last_name," (@",e.username,")"]}),n&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Contexte: ",n]})]}),o.jsx(ml,{className:"flex-grow p-4",children:o.jsxs("div",{className:"flex flex-col space-y-4",children:[s.map(C=>o.jsx("div",{className:Ne("flex items-end gap-2",C.sender_id===y?"justify-end":"justify-start"),children:o.jsxs("div",{className:Ne("max-w-[70%] p-3 rounded-lg",C.sender_id===y?"bg-primary text-primary-foreground rounded-br-none":"bg-muted text-muted-foreground rounded-bl-none"),children:[C.content,C.file_url&&o.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:o.jsxs(me,{variant:"secondary",size:"sm",onClick:()=>S(C.file_url),className:"flex items-center gap-1 rounded-android-tile",children:[o.jsx(sO,{className:"h-4 w-4"}),o.jsx(jU,{className:"h-4 w-4"}),"Fichier"]})}),o.jsxs("div",{className:"text-right text-xs opacity-70 mt-1",children:[new Date(C.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),C.sender_id===y&&o.jsx("span",{className:"ml-2",children:C.is_read?"Lu":"Envoyé"})]})]})},C.id)),o.jsx("div",{ref:p})]})}),o.jsxs("div",{className:"p-4 border-t border-border",children:[u&&o.jsxs("div",{className:"flex items-center justify-between p-2 mb-2 border rounded-md bg-muted text-muted-foreground rounded-android-tile",children:[" ",o.jsxs("span",{children:["Fichier attaché: ",u.name]}),o.jsx(me,{variant:"ghost",size:"icon",onClick:j,children:o.jsx(Kh,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(rt,{placeholder:"Écrivez votre message...",value:l,onChange:C=>c(C.target.value),onKeyPress:C=>C.key==="Enter"&&b(),disabled:d}),o.jsx("input",{type:"file",ref:x,onChange:w,className:"hidden"}),o.jsxs(me,{variant:"outline",size:"icon",onClick:()=>{var C;return(C=x.current)==null?void 0:C.click()},disabled:d,children:[o.jsx(sO,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Joindre un fichier"})]}),o.jsxs(me,{onClick:b,disabled:d||!l.trim()&&!u,children:[d?o.jsx(en,{iconClassName:"h-5 w-5"}):o.jsx(f2,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Envoyer"})]})]})]})]})},iFe=()=>{const e=new Date().getMonth(),t=new Date().getFullYear();return e>=8?`${t}-${t+1}`:`${t-1}-${t}`},yp={Building2:xr,LayoutList:Mn,Users:Wr,MessageSquare:As,Info:Ct,Search:Hr},sFe=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),n=zc(),i=cs(),s=on(),[a,l]=_.useState(null),[c,u]=_.useState([]),[f,d]=_.useState([]),[m,p]=_.useState([]),[x,y]=_.useState(0),[v,b]=_.useState({}),[w,j]=_.useState(!1),[S,C]=_.useState([]),[E,k]=_.useState([]),[O,M]=_.useState([]),[R,T]=_.useState([]),[P,I]=_.useState("all"),[B,$]=_.useState(""),[H,V]=_.useState(""),[U,W]=_.useState(""),[F,L]=_.useState(!0),[q,K]=_.useState(""),[ee,te]=_.useState(""),[Q,G]=_.useState(""),[ne,Z]=_.useState(""),re=e==null?void 0:e.id,fe=iFe(),ce=async()=>{if(!re){L(!1);return}L(!0);try{const X=await ts();u(X);const ie=await Wve(re);d(ie);const oe=await Hve(re);p(oe);const je=await cb(re);y(je),C(await qi()),k(await Ys()),M(await Pa()),T(await as())}catch(X){console.error("Error fetching all data for Messages:",X),se(`Erreur lors du chargement des données de messagerie: ${X.message}`)}finally{L(!1)}};_.useEffect(()=>{ce();let X;return re&&(X=Ie.channel(`messages_page_${re}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`or(sender_id=eq.${re},receiver_id=eq.${re})`},ie=>{ce()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`or(sender_id=eq.${re},receiver_id=eq.${re})`},ie=>{ce()}).subscribe()),()=>{X&&Ie.removeChannel(X)}},[re,t]),_.useEffect(()=>{if(c.length>0){const X=new URLSearchParams(i.search),ie=X.get("contactId"),oe=X.get("courseId"),je=X.get("courseTitle");if(ie){const le=c.find(he=>he.id===ie);le&&(l(le),oe&&b({id:oe,title:je||`Cours ID: ${oe}`}),m.some(we=>(we.sender_id===re?we.receiver_id:we.sender_id)===ie)&&re&&qp(re,ie).then(()=>{ce(),nt(`Conversation avec ${le.first_name} désarchivée.`)}).catch(we=>se(`Erreur lors du désarchivage: ${we.message}`)))}}},[i.search,c,m,re]);const xe=(X,ie,oe)=>{l(X),b({id:ie,title:oe}),s(`/messages?contactId=${X.id}${ie?`&courseId=${ie}`:""}${oe?`&courseTitle=${oe}`:""}`,{replace:!0}),re&&m.some(le=>(le.sender_id===re?le.receiver_id:le.sender_id)===X.id)&&qp(re,X.id).then(()=>{ce(),nt(`Conversation avec ${X.first_name} désarchivée.`)}).catch(le=>se(`Erreur lors du désarchivage: ${le.message}`))},be=async X=>{if(!re){console.error("[Messages] currentUserId is null, cannot archive.");return}try{await Kve(re,X),nt("Conversation archivée !"),l(null),await ce()}catch(ie){console.error("[Messages] Error during archiving:",ie),se(`Erreur lors de l'archivage: ${ie.message}`)}},ke=async X=>{if(!re){console.error("[Messages] currentUserId is null, cannot unarchive.");return}try{await qp(re,X),nt("Conversation désarchivée !"),await ce()}catch(ie){console.error("[Messages] Error during unarchiving:",ie),se(`Erreur lors du désarchivage: ${ie.message}`)}},Te=_.useMemo(()=>{if(!e)return[];let X=[],ie=c.filter(le=>le.id!==e.id);if(P!=="all"&&t==="administrator"?ie=ie.filter(le=>le.establishment_id===P||le.role==="administrator"&&!le.establishment_id):t!=="administrator"&&(e!=null&&e.establishment_id)&&(ie=ie.filter(le=>le.establishment_id===e.establishment_id||le.role==="administrator"&&!le.establishment_id)),t==="student"){const he=R.filter(ue=>ue.student_id===e.id&&ue.school_year_name===fe).map(ue=>ue.class_id),we=new Set;O.filter(ue=>he.includes(ue.id)&&ue.school_year_name===fe).forEach(ue=>{ue.creator_ids.forEach(Oe=>we.add(Oe))}),X.push(...ie.filter(ue=>ue.role==="professeur"&&we.has(ue.id)))}else if(t==="professeur"){let le=c.filter(ue=>ue.id!==e.id);const he=O.filter(ue=>ue.creator_ids.includes(e.id)&&ue.school_year_name===fe).map(ue=>ue.id),we=new Set(R.filter(ue=>he.includes(ue.class_id)&&ue.school_year_name===fe).map(ue=>ue.student_id));X.push(...le.filter(ue=>ue.role==="student"&&we.has(ue.id))),X.push(...le.filter(ue=>ue.role==="director"||ue.role==="deputy_director"||ue.role==="professeur"||ue.role==="tutor"))}else if(t==="tutor"){let le=c.filter(we=>we.id!==e.id);const he=new Set(R.filter(we=>O.some(ue=>ue.id===we.class_id&&ue.school_year_name===fe)).map(we=>we.student_id));X.push(...le.filter(we=>we.role==="student"&&he.has(we.id))),X.push(...le.filter(we=>we.role==="director"||we.role==="deputy_director"))}else t==="director"||t==="deputy_director"?X.push(...ie):t==="administrator"&&X.push(...ie);let oe=X;if(U.trim()){const le=U.toLowerCase();oe=oe.filter(he=>{var we,ue,Oe,gt;return((we=he.first_name)==null?void 0:we.toLowerCase().includes(le))||((ue=he.last_name)==null?void 0:ue.toLowerCase().includes(le))||((Oe=he.username)==null?void 0:Oe.toLowerCase().includes(le.replace("@","")))||((gt=he.email)==null?void 0:gt.toLowerCase().includes(le))})}return Array.from(new Map(oe.map(le=>[le.id,le])).values()).sort((le,he)=>`${le.first_name} ${le.last_name}`.localeCompare(`${he.first_name} ${he.last_name}`))},[c,e,t,E,O,R,U,fe,P]),De=S.filter(X=>t==="administrator"||X.id===(e==null?void 0:e.establishment_id)).map(X=>({id:X.id,label:X.name,icon_name:"Building2",description:X.address})),ae=E.filter(X=>!P||P==="all"||X.establishment_id===P).map(X=>({id:X.id,label:X.name,icon_name:"LayoutList",description:X.description})),ge=O.filter(X=>(!B||B===""||X.curriculum_id===B)&&(!P||P==="all"||X.establishment_id===P)).map(X=>({id:X.id,label:X.name,icon_name:"Users",description:`${$u(X.curriculum_id,E)} - ${Ib(X.school_year_id)} (${Tn(X.establishment_id)})`}));return r||F?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement des messages..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]}):e?o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 h-[calc(100vh-120px)] flex flex-col",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Messagerie"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Communiquez avec les autres utilisateurs de la plateforme."}),o.jsxs("div",{className:"flex flex-col flex-grow md:flex-row md:gap-4",children:[o.jsxs("div",{className:Ne("flex flex-col",n?a?"hidden":"flex-grow":"w-full md:w-1/3 flex-shrink-0"),children:[(t==="professeur"||t==="tutor"||t==="director"||t==="deputy_director"||t==="administrator")&&o.jsxs("div",{className:"p-4 border-b border-border space-y-4 rounded-android-tile",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Démarrer une nouvelle conversation"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[(t==="administrator"||(e==null?void 0:e.establishment_id))&&o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"select-establishment",children:"Filtrer par Établissement"}),o.jsx(jt,{id:"select-establishment",options:[{id:"all",label:"Tous les établissements",icon_name:"Building2"},...De],value:P,onValueChange:X=>{I(X),$(""),V("")},searchQuery:q,onSearchQueryChange:K,placeholder:"Tous les établissements",emptyMessage:"Aucun établissement trouvé.",iconMap:yp})]}),(t==="professeur"||t==="tutor"||t==="director"||t==="deputy_director"||t==="administrator")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"select-curriculum",children:"Filtrer par Cursus"}),o.jsx(jt,{id:"select-curriculum",options:[{id:"all",label:"Tous les cursus",icon_name:"LayoutList"},...ae],value:B,onValueChange:X=>{$(X==="all"?"":X),V("")},searchQuery:ee,onSearchQueryChange:te,placeholder:"Tous les cursus",emptyMessage:"Aucun cursus trouvé.",iconMap:yp})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"select-class",children:"Filtrer par Classe"}),o.jsx(jt,{id:"select-class",options:[{id:"all",label:"Toutes les classes",icon_name:"Users"},...ge],value:H,onValueChange:X=>V(X==="all"?"":X),searchQuery:Q,onSearchQueryChange:G,placeholder:"Toutes les classes",emptyMessage:"Aucune classe trouvée.",iconMap:yp})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher un contact par nom ou pseudo...",className:"pl-10",value:U,onChange:X=>W(X.target.value)})]}),Te.length>0&&o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-chat-select-contact",children:"Sélectionner un contact"}),o.jsx(jt,{id:"new-chat-select-contact",options:Te.map(X=>({id:X.id,label:`${X.first_name} ${X.last_name} (@${X.username})`,icon_name:"User",description:`${X.role==="professeur"?"Professeur":X.role==="student"?"Élève":X.role==="tutor"?"Tuteur":X.role==="director"?"Directeur":X.role==="deputy_director"?"Directeur Adjoint":"Administrateur"} (${Tn(X.establishment_id,S)})`})),value:(a==null?void 0:a.id)||null,onValueChange:X=>{const ie=c.find(oe=>oe.id===X);ie?xe(ie):se("Contact non trouvé.")},searchQuery:ne,onSearchQueryChange:Z,placeholder:"Sélectionner un contact",emptyMessage:"Aucun contact trouvé.",iconMap:yp})]}),U.trim()!==""&&Te.length===0&&o.jsx("p",{className:"text-muted-foreground text-sm text-center",children:"Aucun contact trouvé avec ces critères."})]})]}),t==="student"&&o.jsxs("div",{className:"p-4 border-b border-border space-y-4 rounded-android-tile",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Démarrer une nouvelle conversation"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher un contact par nom ou pseudo...",className:"pl-10",value:U,onChange:X=>W(X.target.value)})]}),o.jsx(Pe,{htmlFor:"new-chat-select-student",children:"Sélectionner un contact"}),o.jsx(jt,{id:"new-chat-select-student",options:Te.map(X=>({id:X.id,label:`${X.first_name} ${X.last_name} (@${X.username})`,icon_name:"User",description:`${X.role==="professeur"?"Professeur":X.role==="student"?"Élève":X.role==="tutor"?"Tuteur":X.role==="director"?"Directeur":X.role==="deputy_director"?"Directeur Adjoint":"Administrateur"} (${Tn(X.establishment_id,S)})`})),value:(a==null?void 0:a.id)||null,onValueChange:X=>{const ie=c.find(oe=>oe.id===X);ie?xe(ie):se("Contact non trouvé.")},searchQuery:ne,onSearchQueryChange:Z,placeholder:"Sélectionner un contact",emptyMessage:"Aucun contact trouvé.",iconMap:yp}),U.trim()!==""&&Te.length===0&&o.jsx("p",{className:"text-muted-foreground text-sm text-center",children:"Aucun contact trouvé avec ces critères."})]}),o.jsxs("div",{className:"flex justify-center gap-2 p-4 border-b border-border",children:[o.jsxs(me,{variant:w?"outline":"default",onClick:()=>j(!1),className:"flex-1 rounded-android-tile",children:[o.jsx(As,{className:"h-4 w-4 mr-2"})," Récentes"]}),o.jsxs(me,{variant:w?"default":"outline",onClick:()=>j(!0),className:"flex-1 rounded-android-tile",children:[o.jsx(iO,{className:"h-4 w-4 mr-2"})," Archivées"]})]}),c.length>0&&o.jsx(rFe,{recentMessages:w?m:f,allProfiles:c,onSelectContact:xe,selectedContactId:(a==null?void 0:a.id)||null,onUnreadCountChange:y,onArchiveConversation:be,onUnarchiveConversation:ke,isArchivedView:w},`${w}-${f.length}-${m.length}-${c.length}`)]}),o.jsxs("div",{className:Ne("flex flex-col",n?a?"flex-grow":"hidden":"w-full md:w-2/3 flex-grow"),children:[n&&a&&o.jsxs(me,{variant:"outline",onClick:()=>l(null),className:"mb-4 w-fit rounded-android-tile",children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Retour aux conversations"]}),a?o.jsx(nFe,{contact:a,onMessageSent:ce,initialCourseId:v.id,initialCourseTitle:v.title}):o.jsxs("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:[o.jsx(As,{className:"h-12 w-12 mr-4 text-primary"}),"Sélectionnez une conversation ",n?"":"à gauche"," ou démarrez-en une nouvelle."]})]})]})]}):o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez vous connecter pour accéder à la messagerie."})]})},$z=()=>{const e=on(),t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delayChildren:.2,staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.4}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0},exit:{opacity:0,y:-20}};return o.jsxs(kt.div,{className:"max-w-md mx-auto px-4 sm:px-6 lg:px-8 space-y-8 relative",variants:t,initial:"hidden",animate:"visible",exit:"exit",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 mt-4 z-10",children:o.jsxs(me,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"rounded-full bg-muted/20 hover:bg-muted/40",children:[o.jsx(ci,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Retour"})]})}),o.jsxs(kt.div,{variants:r,className:"text-center mb-8 pt-12",children:[o.jsx(kt.div,{initial:{opacity:0,scale:.8,rotate:0},animate:{opacity:1,scale:1,rotate:360},transition:{delay:.1,duration:2,ease:"easeInOut"},className:"mb-4 mx-auto w-fit",children:o.jsx(Ia,{iconClassName:"w-24 h-24",showText:!1})}),o.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan text-center",children:"Informations sur l'Application"}),o.jsx("p",{className:"text-muted-foreground mt-2 text-center",children:"Découvrez les détails techniques et la version d'AcademIA."})]}),o.jsxs(kt.div,{variants:r,className:"grid grid-cols-1 gap-4 w-full",children:[o.jsxs(Re,{className:"shadow-md rounded-android-tile",children:[o.jsxs(Be,{className:"flex flex-row items-center gap-3 pb-3",children:[o.jsx(Yh,{className:"h-5 w-5 text-primary"}),o.jsx(Fe,{className:"text-lg",children:"Développeur"})]}),o.jsxs(qe,{className:"space-y-3 text-sm text-center",children:[o.jsxs("p",{className:"text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Nom du développeur :"})," Mehdi Kacim"]}),o.jsx("p",{className:"text-base font-semibold text-primary mt-2",children:"Developed with love for you, for all ❤️"})]})]}),o.jsxs(Re,{className:"shadow-md rounded-android-tile",children:[o.jsxs(Be,{className:"flex flex-row items-center gap-3 pb-3",children:[o.jsx(Poe,{className:"h-5 w-5 text-primary"}),o.jsx(Fe,{className:"text-lg",children:"Connectez-vous avec le développeur"})]}),o.jsxs(qe,{className:"flex flex-wrap gap-4 pt-2 justify-center",children:[o.jsxs("a",{href:"https://www.linkedin.com/in/mehdi-kacim-333304142?originalSubdomain=fr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:text-blue-700 transition-colors text-sm",children:[o.jsx(Roe,{className:"h-5 w-5"}),"LinkedIn"]}),o.jsxs("a",{href:"https://github.com/MehdiKacim",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200 transition-colors text-sm",children:[o.jsx(Toe,{className:"h-5 w-5"}),"GitHub"]})]})]})]})]})};function aFe({children:e,...t}){return o.jsx(zoe,{...t,children:e})}const oFe=({onComplete:e})=>{_.useEffect(()=>{const i=setTimeout(()=>{e()},3e3);return()=>clearTimeout(i)},[e]);const t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut",staggerChildren:.05}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return o.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-background",children:[o.jsx(kt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"mb-4",children:o.jsx(Ia,{iconClassName:"w-40 h-40",showText:!1})}),o.jsx(kt.h1,{className:"text-5xl md:text-7xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",variants:t,initial:"hidden",animate:"visible",children:"AcademIA".split("").map((i,s)=>o.jsx(kt.span,{variants:r,children:i},s))})]})},lFe=({allowedRoles:e})=>{const{currentUserProfile:t,currentRole:r,isLoadingUser:n}=Qt();return n?null:t?e&&r&&!e.includes(r)?o.jsx(wb,{to:"/dashboard",replace:!0}):o.jsx(xU,{}):o.jsx(wb,{to:"/",replace:!0})};function cFe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const aee=Y.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),sy=()=>{const e=Y.useContext(aee);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};cFe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const uFe=24,dFe=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Fz(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function fFe(){return yR(/^Mac/)}function hFe(){return yR(/^iPhone/)}function qz(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function mFe(){return yR(/^iPad/)||fFe()&&navigator.maxTouchPoints>1}function oee(){return hFe()||mFe()}function yR(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Ek=typeof document<"u"&&window.visualViewport;function Bz(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function lee(e){for(Bz(e)&&(e=e.parentElement);e&&!Bz(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const pFe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Xx=0,kk;function gFe(e={}){let{isDisabled:t}=e;dFe(()=>{if(!t)return Xx++,Xx===1&&oee()&&(kk=vFe()),()=>{Xx--,Xx===0&&(kk==null||kk())}},[t])}function vFe(){let e,t=0,r=d=>{e=lee(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},n=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let m=d.changedTouches[0].pageY,p=e.scrollTop,x=e.scrollHeight-e.clientHeight;x!==0&&((p<=0&&m>t||p>=x&&m<t)&&d.preventDefault(),t=m)},i=d=>{let m=d.target;RT(m)&&m!==document.activeElement&&(d.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},s=d=>{let m=d.target;RT(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",Ek&&(Ek.height<window.innerHeight?requestAnimationFrame(()=>{zz(m)}):Ek.addEventListener("resize",()=>zz(m),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=Fz(yFe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=Fz(xp(document,"touchstart",r,{passive:!1,capture:!0}),xp(document,"touchmove",n,{passive:!1,capture:!0}),xp(document,"touchend",i,{passive:!1,capture:!0}),xp(document,"focus",s,!0),xp(window,"scroll",a));return()=>{u(),f(),window.scrollTo(l,c)}}function yFe(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function xp(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function zz(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=lee(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,i=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const a=r.getBoundingClientRect().bottom+uFe;s>a&&(r.scrollTop+=i-n)}e=r.parentElement}}function RT(e){return e instanceof HTMLInputElement&&!pFe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function xFe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bFe(...e){return t=>e.forEach(r=>xFe(r,t))}function cee(...e){return _.useCallback(bFe(...e),e)}const uee=new WeakMap;function Nn(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,s])=>{if(i.startsWith("--")){e.style.setProperty(i,s);return}n[i]=e.style[i],e.style[i]=s}),!r&&uee.set(e,n)}function wFe(e,t){if(!e||!(e instanceof HTMLElement))return;let r=uee.get(e);r&&(e.style[t]=r[t])}const kn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Zx(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[kn(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[kn(t)?5:4]):null)}function _Fe(e){return 8*(Math.log(e+1)-2)}function Ok(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function SFe(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Xr={DURATION:.5,EASE:[.32,.72,0,1]},dee=.4,jFe=.25,CFe=100,fee=8,mu=16,DT=26,Ak="vaul-dragging";function hee(e){const t=Y.useRef(e);return Y.useEffect(()=>{t.current=e}),Y.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function NFe({defaultProp:e,onChange:t}){const r=Y.useState(e),[n]=r,i=Y.useRef(n),s=hee(t);return Y.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function mee({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=NFe({defaultProp:t,onChange:r}),s=e!==void 0,a=s?e:n,l=hee(r),c=Y.useCallback(u=>{if(s){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else i(u)},[s,e,i,l]);return[a,c]}function EFe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:i,fadeFromIndex:s,onSnapPointChange:a,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[f,d]=mee({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[m,p]=Y.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Y.useEffect(()=>{function k(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const x=Y.useMemo(()=>f===(r==null?void 0:r[r.length-1])||null,[r,f]),y=Y.useMemo(()=>r==null?void 0:r.findIndex(k=>k===f),[r,f]),v=r&&r.length>0&&(s||s===0)&&!Number.isNaN(s)&&r[s]===f||!r,b=Y.useMemo(()=>{const k=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var O;return(O=r==null?void 0:r.map(M=>{const R=typeof M=="string";let T=0;if(R&&(T=parseInt(M,10)),kn(l)){const I=R?T:m?M*k.height:0;return m?l==="bottom"?k.height-I:-k.height+I:I}const P=R?T:m?M*k.width:0;return m?l==="right"?k.width-P:-k.width+P:P}))!=null?O:[]},[r,m,c]),w=Y.useMemo(()=>y!==null?b==null?void 0:b[y]:null,[b,y]),j=Y.useCallback(k=>{var O;const M=(O=b==null?void 0:b.findIndex(R=>R===k))!=null?O:null;a(M),Nn(n.current,{transition:`transform ${Xr.DURATION}s cubic-bezier(${Xr.EASE.join(",")})`,transform:kn(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),b&&M!==b.length-1&&M!==s&&M<s?Nn(i.current,{transition:`opacity ${Xr.DURATION}s cubic-bezier(${Xr.EASE.join(",")})`,opacity:"0"}):Nn(i.current,{transition:`opacity ${Xr.DURATION}s cubic-bezier(${Xr.EASE.join(",")})`,opacity:"1"}),d(r==null?void 0:r[Math.max(M,0)])},[n.current,r,b,s,i,d]);Y.useEffect(()=>{if(f||e){var k;const O=(k=r==null?void 0:r.findIndex(M=>M===e||M===f))!=null?k:-1;b&&O!==-1&&typeof b[O]=="number"&&j(b[O])}},[f,e,r,b,j]);function S({draggedDistance:k,closeDrawer:O,velocity:M,dismissible:R}){if(s===void 0)return;const T=l==="bottom"||l==="right"?(w??0)-k:(w??0)+k,P=y===s-1,I=y===0,B=k>0;if(P&&Nn(i.current,{transition:`opacity ${Xr.DURATION}s cubic-bezier(${Xr.EASE.join(",")})`}),!u&&M>2&&!B){R?O():j(b[0]);return}if(!u&&M>2&&B&&b&&r){j(b[r.length-1]);return}const $=b==null?void 0:b.reduce((V,U)=>typeof V!="number"||typeof U!="number"?V:Math.abs(U-T)<Math.abs(V-T)?U:V),H=kn(l)?window.innerHeight:window.innerWidth;if(M>dee&&Math.abs(k)<H*.4){const V=B?1:-1;if(V>0&&x){j(b[r.length-1]);return}if(I&&V<0&&R&&O(),y===null)return;j(b[y+V]);return}j($)}function C({draggedDistance:k}){if(w===null)return;const O=l==="bottom"||l==="right"?w-k:w+k;(l==="bottom"||l==="right")&&O<b[b.length-1]||(l==="top"||l==="left")&&O>b[b.length-1]||Nn(n.current,{transform:kn(l)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`})}function E(k,O){if(!r||typeof y!="number"||!b||s===void 0)return null;const M=y===s-1;if(y>=s&&O)return 0;if(M&&!O)return 1;if(!v&&!M)return null;const T=M?y+1:y-1,P=M?b[T]-b[T-1]:b[T+1]-b[T],I=k/Math.abs(P);return M?1-I:I}return{isLastSnapPoint:x,activeSnapPoint:f,shouldFade:v,getPercentageDragged:E,setActiveSnapPoint:d,activeSnapPointIndex:y,onRelease:S,onDrag:C,snapPointsOffset:b}}const kFe=()=>()=>{};function OFe(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:i}=sy(),s=Y.useRef(null),a=_.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-DT)/window.innerWidth}Y.useEffect(()=>{if(t&&r){s.current&&clearTimeout(s.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;SFe(n&&!i?Ok(document.body,{background:"black"}):kFe,Ok(c,{transformOrigin:kn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Xr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Xr.EASE.join(",")})`}));const u=Ok(c,{borderRadius:`${fee}px`,overflow:"hidden",...kn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),s.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},Xr.DURATION*1e3)}}},[t,r,a])}let bp=null;function AFe({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:s}){const[a,l]=Y.useState(()=>typeof window<"u"?window.location.href:""),c=Y.useRef(0),u=Y.useCallback(()=>{if(qz()&&bp===null&&e&&!s){bp={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=m-window.innerHeight;p&&c.current>=m&&(document.body.style.top=`${-(c.current+p)}px`)}),300)}},[e]),f=Y.useCallback(()=>{if(qz()&&bp!==null&&!s){const d=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,bp),window.requestAnimationFrame(()=>{if(i&&a!==window.location.href){l(window.location.href);return}window.scrollTo(m,d)}),bp=null}},[a]);return Y.useEffect(()=>{function d(){c.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),Y.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{f()},500)):f())},[e,n,a,t,r,u,f]),{restorePositionSetting:f}}function TFe({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:i,snapPoints:s,shouldScaleBackground:a=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=jFe,scrollLockTimeout:u=CFe,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:m=s&&s.length-1,activeSnapPoint:p,setActiveSnapPoint:x,fixed:y,modal:v=!0,onClose:b,nested:w,noBodyStyles:j,direction:S="bottom",defaultOpen:C=!1,disablePreventScroll:E=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:O=!1,repositionInputs:M=!0,onAnimationEnd:R,container:T,autoFocus:P=!1}){var I,B;const[$=!1,H]=mee({defaultProp:C,prop:e,onChange:Ze=>{t==null||t(Ze),!Ze&&!w&&we(),setTimeout(()=>{R==null||R(Ze)},Xr.DURATION*1e3),Ze&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ze||(document.body.style.pointerEvents="auto")}}),[V,U]=Y.useState(!1),[W,F]=Y.useState(!1),[L,q]=Y.useState(!1),K=Y.useRef(null),ee=Y.useRef(null),te=Y.useRef(null),Q=Y.useRef(null),G=Y.useRef(null),ne=Y.useRef(!1),Z=Y.useRef(null),re=Y.useRef(0),fe=Y.useRef(!1),ce=Y.useRef(0),xe=Y.useRef(null),be=Y.useRef(((I=xe.current)==null?void 0:I.getBoundingClientRect().height)||0),ke=Y.useRef(((B=xe.current)==null?void 0:B.getBoundingClientRect().width)||0),Te=Y.useRef(0),De=Y.useCallback(Ze=>{s&&Ze===oe.length-1&&(ee.current=new Date)},[]),{activeSnapPoint:ae,activeSnapPointIndex:ge,setActiveSnapPoint:X,onRelease:ie,snapPointsOffset:oe,onDrag:je,shouldFade:le,getPercentageDragged:he}=EFe({snapPoints:s,activeSnapPointProp:p,setActiveSnapPointProp:x,drawerRef:xe,fadeFromIndex:m,overlayRef:K,onSnapPointChange:De,direction:S,container:T,snapToSequentialPoint:k});gFe({isDisabled:!$||W||!v||L||!V||!M||!E});const{restorePositionSetting:we}=AFe({isOpen:$,modal:v,nested:w,hasBeenOpened:V,preventScrollRestoration:O,noBodyStyles:j});function ue(){return(window.innerWidth-DT)/window.innerWidth}function Oe(Ze){var ft,xt;!f&&!s||xe.current&&!xe.current.contains(Ze.target)||(be.current=((ft=xe.current)==null?void 0:ft.getBoundingClientRect().height)||0,ke.current=((xt=xe.current)==null?void 0:xt.getBoundingClientRect().width)||0,F(!0),te.current=new Date,oee()&&window.addEventListener("touchend",()=>ne.current=!1,{once:!0}),Ze.target.setPointerCapture(Ze.pointerId),re.current=kn(S)?Ze.pageY:Ze.pageX)}function gt(Ze,ft){var xt,bt;let ct=Ze;const $t=(xt=window.getSelection())==null?void 0:xt.toString(),Ut=xe.current?Zx(xe.current,S):null,Je=new Date;if(ct.hasAttribute("data-vaul-no-drag")||ct.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(ee.current&&Je.getTime()-ee.current.getTime()<500)return!1;if(Ut!==null&&(S==="bottom"?Ut>0:Ut<0))return!0;if($t&&$t.length>0)return!1;if(Je.getTime()-((bt=G.current)==null?void 0:bt.getTime())<u&&Ut===0||ft)return G.current=Je,!1;for(;ct;){if(ct.scrollHeight>ct.clientHeight){if(ct.scrollTop!==0)return G.current=new Date,!1;if(ct.getAttribute("role")==="dialog")return!0}ct=ct.parentNode}return!0}function Se(Ze){if(xe.current&&W){const ft=S==="bottom"||S==="right"?1:-1,xt=(re.current-(kn(S)?Ze.pageY:Ze.pageX))*ft,bt=xt>0,ct=s&&!f&&!bt;if(ct&&ge===0)return;const $t=Math.abs(xt),Ut=document.querySelector("[data-vaul-drawer-wrapper]"),Je=S==="bottom"||S==="top"?be.current:ke.current;let ht=$t/Je;const yt=he($t,bt);if(yt!==null&&(ht=yt),ct&&ht>=1||!ne.current&&!gt(Ze.target,bt))return;if(xe.current.classList.add(Ak),ne.current=!0,Nn(xe.current,{transition:"none"}),Nn(K.current,{transition:"none"}),s&&je({draggedDistance:xt}),bt&&!s){const Xt=_Fe(xt),qt=Math.min(Xt*-1,0)*ft;Nn(xe.current,{transform:kn(S)?`translate3d(0, ${qt}px, 0)`:`translate3d(${qt}px, 0, 0)`});return}const zt=1-ht;if((le||m&&ge===m-1)&&(n==null||n(Ze,ht),Nn(K.current,{opacity:`${zt}`,transition:"none"},!0)),Ut&&K.current&&a){const Xt=Math.min(ue()+ht*(1-ue()),1),qt=8-ht*8,Cr=Math.max(0,14-ht*14);Nn(Ut,{borderRadius:`${qt}px`,transform:kn(S)?`scale(${Xt}) translate3d(0, ${Cr}px, 0)`:`scale(${Xt}) translate3d(${Cr}px, 0, 0)`,transition:"none"},!0)}if(!s){const Xt=$t*ft;Nn(xe.current,{transform:kn(S)?`translate3d(0, ${Xt}px, 0)`:`translate3d(${Xt}px, 0, 0)`})}}}Y.useEffect(()=>{var Ze;function ft(){if(!xe.current||!M)return;const xt=document.activeElement;if(RT(xt)||fe.current){var bt;const ct=((bt=window.visualViewport)==null?void 0:bt.height)||0,$t=window.innerHeight;let Ut=$t-ct;const Je=xe.current.getBoundingClientRect().height||0,ht=Je>$t*.8;Te.current||(Te.current=Je);const yt=xe.current.getBoundingClientRect().top;if(Math.abs(ce.current-Ut)>60&&(fe.current=!fe.current),s&&s.length>0&&oe&&ge){const zt=oe[ge]||0;Ut+=zt}if(ce.current=Ut,Je>ct||fe.current){const zt=xe.current.getBoundingClientRect().height;let Xt=zt;zt>ct&&(Xt=ct-(ht?yt:DT)),y?xe.current.style.height=`${zt-Math.max(Ut,0)}px`:xe.current.style.height=`${Math.max(Xt,ct-yt)}px`}else xe.current.style.height=`${Te.current}px`;s&&s.length>0&&!fe.current?xe.current.style.bottom="0px":xe.current.style.bottom=`${Math.max(Ut,0)}px`}}return(Ze=window.visualViewport)==null||Ze.addEventListener("resize",ft),()=>{var xt;return(xt=window.visualViewport)==null?void 0:xt.removeEventListener("resize",ft)}},[ge,s,oe]);function Ge(Ze){vt(),b==null||b(),Ze||H(!1),setTimeout(()=>{s&&X(s[0])},Xr.DURATION*1e3)}function Nt(){if(!xe.current)return;const Ze=document.querySelector("[data-vaul-drawer-wrapper]"),ft=Zx(xe.current,S);Nn(xe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Xr.DURATION}s cubic-bezier(${Xr.EASE.join(",")})`}),Nn(K.current,{transition:`opacity ${Xr.DURATION}s cubic-bezier(${Xr.EASE.join(",")})`,opacity:"1"}),a&&ft&&ft>0&&$&&Nn(Ze,{borderRadius:`${fee}px`,overflow:"hidden",...kn(S)?{transform:`scale(${ue()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ue()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Xr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Xr.EASE.join(",")})`},!0)}function vt(){!W||!xe.current||(xe.current.classList.remove(Ak),ne.current=!1,F(!1),Q.current=new Date)}function mr(Ze){if(!W||!xe.current)return;xe.current.classList.remove(Ak),ne.current=!1,F(!1),Q.current=new Date;const ft=Zx(xe.current,S);if(!gt(Ze.target,!1)||!ft||Number.isNaN(ft)||te.current===null)return;const xt=Q.current.getTime()-te.current.getTime(),bt=re.current-(kn(S)?Ze.pageY:Ze.pageX),ct=Math.abs(bt)/xt;if(ct>.05&&(q(!0),setTimeout(()=>{q(!1)},200)),s){ie({draggedDistance:bt*(S==="bottom"||S==="right"?1:-1),closeDrawer:Ge,velocity:ct,dismissible:f}),i==null||i(Ze,!0);return}if(S==="bottom"||S==="right"?bt>0:bt<0){Nt(),i==null||i(Ze,!0);return}if(ct>dee){Ge(),i==null||i(Ze,!1);return}var $t;const Ut=Math.min(($t=xe.current.getBoundingClientRect().height)!=null?$t:0,window.innerHeight);var Je;const ht=Math.min((Je=xe.current.getBoundingClientRect().width)!=null?Je:0,window.innerWidth),yt=S==="left"||S==="right";if(Math.abs(ft)>=(yt?ht:Ut)*c){Ge(),i==null||i(Ze,!1);return}i==null||i(Ze,!0),Nt()}Y.useEffect(()=>($&&(Nn(document.documentElement,{scrollBehavior:"auto"}),ee.current=new Date),()=>{wFe(document.documentElement,"scrollBehavior")}),[$]);function tn(Ze){const ft=Ze?(window.innerWidth-mu)/window.innerWidth:1,xt=Ze?-mu:0;Z.current&&window.clearTimeout(Z.current),Nn(xe.current,{transition:`transform ${Xr.DURATION}s cubic-bezier(${Xr.EASE.join(",")})`,transform:`scale(${ft}) translate3d(0, ${xt}px, 0)`}),!Ze&&xe.current&&(Z.current=setTimeout(()=>{const bt=Zx(xe.current,S);Nn(xe.current,{transition:"none",transform:kn(S)?`translate3d(0, ${bt}px, 0)`:`translate3d(${bt}px, 0, 0)`})},500))}function jr(Ze,ft){if(ft<0)return;const xt=(window.innerWidth-mu)/window.innerWidth,bt=xt+ft*(1-xt),ct=-mu+ft*mu;Nn(xe.current,{transform:kn(S)?`scale(${bt}) translate3d(0, ${ct}px, 0)`:`scale(${bt}) translate3d(${ct}px, 0, 0)`,transition:"none"})}function Ot(Ze,ft){const xt=kn(S)?window.innerHeight:window.innerWidth,bt=ft?(xt-mu)/xt:1,ct=ft?-mu:0;ft&&Nn(xe.current,{transition:`transform ${Xr.DURATION}s cubic-bezier(${Xr.EASE.join(",")})`,transform:kn(S)?`scale(${bt}) translate3d(0, ${ct}px, 0)`:`scale(${bt}) translate3d(${ct}px, 0, 0)`})}return Y.createElement(Tv,{defaultOpen:C,onOpenChange:Ze=>{!f&&!Ze||(Ze?U(!0):Ge(!0),H(Ze))},open:$},Y.createElement(aee.Provider,{value:{activeSnapPoint:ae,snapPoints:s,setActiveSnapPoint:X,drawerRef:xe,overlayRef:K,onOpenChange:t,onPress:Oe,onRelease:mr,onDrag:Se,dismissible:f,handleOnly:d,isOpen:$,isDragging:W,shouldFade:le,closeDrawer:Ge,onNestedDrag:jr,onNestedOpenChange:tn,onNestedRelease:Ot,keyboardIsOpen:fe,modal:v,snapPointsOffset:oe,direction:S,shouldScaleBackground:a,setBackgroundColorOnScale:l,noBodyStyles:j,container:T,autoFocus:P}},r))}const pee=Y.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:i,shouldFade:s,isOpen:a,modal:l}=sy(),c=cee(t,r),u=n&&n.length>0;return l?Y.createElement(hd,{onMouseUp:i,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":a&&u?"true":"false","data-vaul-snap-points-overlay":a&&s?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});pee.displayName="Drawer.Overlay";const gee=Y.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},i){const{drawerRef:s,onPress:a,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:f,modal:d,isOpen:m,direction:p,snapPoints:x,container:y,handleOnly:v,autoFocus:b}=sy(),[w,j]=Y.useState(!1),S=cee(i,s),C=Y.useRef(null),E=Y.useRef(null),k=Y.useRef(!1),O=x&&x.length>0;OFe();const M=(T,P,I=0)=>{if(k.current)return!0;const B=Math.abs(T.y),$=Math.abs(T.x),H=$>B,V=["bottom","right"].includes(P)?1:-1;if(P==="left"||P==="right"){if(!(T.x*V<0)&&$>=0&&$<=I)return H}else if(!(T.y*V<0)&&B>=0&&B<=I)return!H;return k.current=!0,!0};Y.useEffect(()=>{O&&window.requestAnimationFrame(()=>{j(!0)})},[]);function R(T){C.current=null,k.current=!1,l(T)}return Y.createElement(md,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":m&&O?"true":"false","data-vaul-custom-container":y?"true":"false",...n,ref:S,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...t}:t,onPointerDown:T=>{v||(n.onPointerDown==null||n.onPointerDown.call(n,T),C.current={x:T.pageX,y:T.pageY},a(T))},onOpenAutoFocus:T=>{r==null||r(T),b||T.preventDefault()},onPointerDownOutside:T=>{if(e==null||e(T),!d||T.defaultPrevented){T.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:T=>{if(!d){T.preventDefault();return}},onPointerMove:T=>{if(E.current=T,v||(n.onPointerMove==null||n.onPointerMove.call(n,T),!C.current))return;const P=T.pageY-C.current.y,I=T.pageX-C.current.x,B=T.pointerType==="touch"?10:2;M({x:I,y:P},p,B)?c(T):(Math.abs(I)>B||Math.abs(P)>B)&&(C.current=null)},onPointerUp:T=>{n.onPointerUp==null||n.onPointerUp.call(n,T),C.current=null,k.current=!1,l(T)},onPointerOut:T=>{n.onPointerOut==null||n.onPointerOut.call(n,T),R(E.current)},onContextMenu:T=>{n.onContextMenu==null||n.onContextMenu.call(n,T),R(E.current)}})});gee.displayName="Drawer.Content";const PFe=250,MFe=120,RFe=Y.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:i,isDragging:s,snapPoints:a,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:f,isOpen:d,onPress:m,onDrag:p}=sy(),x=Y.useRef(null),y=Y.useRef(!1);function v(){if(y.current){j();return}window.setTimeout(()=>{b()},MFe)}function b(){if(s||e||y.current){j();return}if(j(),(!a||a.length===0)&&u){i();return}if(l===a[a.length-1]&&u){i();return}const C=a.findIndex(k=>k===l);if(C===-1)return;const E=a[C+1];c(E)}function w(){x.current=window.setTimeout(()=>{y.current=!0},PFe)}function j(){window.clearTimeout(x.current),y.current=!1}return Y.createElement("div",{onClick:v,onPointerCancel:j,onPointerDown:S=>{f&&m(S),w()},onPointerMove:S=>{f&&p(S)},ref:n,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},Y.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});RFe.displayName="Drawer.Handle";function DFe(e){const t=sy(),{container:r=t.container,...n}=e;return Y.createElement(Pv,{container:r,...n})}const Ka={Root:TFe,Content:gee,Overlay:pee,Portal:DFe,Close:Mw,Title:om,Description:lm},vee=({shouldScaleBackground:e=!0,...t})=>o.jsx(Ka.Root,{shouldScaleBackground:e,...t});vee.displayName="Drawer";const IFe=Ka.Portal,yee=_.forwardRef(({className:e,...t},r)=>o.jsx(Ka.Overlay,{ref:r,className:Ne("fixed inset-0 z-50 bg-black/80",e),...t}));yee.displayName=Ka.Overlay.displayName;const xee=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(IFe,{children:[o.jsx(yee,{}),o.jsxs(Ka.Content,{ref:n,className:Ne("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-card-lg border bg-background shadow-card-shadow",e),...r,children:[o.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));xee.displayName="DrawerContent";const bee=({className:e,...t})=>o.jsx("div",{className:Ne("grid gap-1.5 p-4 text-center sm:text-left",e),...t});bee.displayName="DrawerHeader";const wee=_.forwardRef(({className:e,...t},r)=>o.jsx(Ka.Title,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));wee.displayName=Ka.Title.displayName;const _ee=_.forwardRef(({className:e,...t},r)=>o.jsx(Ka.Description,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));_ee.displayName=Ka.Description.displayName;const LFe=_.forwardRef(({className:e,...t},r)=>o.jsxs(Ka.Close,{ref:r,className:Ne("absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",e),...t,children:[o.jsx(cd,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]}));LFe.displayName=Ka.Close.displayName;const $Fe=({isOpen:e,onClose:t})=>(_.useEffect(()=>{const r=n=>{n.key==="Escape"&&t()};return e?document.addEventListener("keydown",r):document.removeEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,t]),o.jsx(ui,{open:e,onOpenChange:t,children:o.jsxs(Hn,{className:"max-w-4xl h-[90vh] flex flex-col p-6 backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:[" ",o.jsxs("div",{className:"flex flex-col h-full",children:[" ",o.jsxs(Kn,{className:"mb-4",children:[o.jsx(Gn,{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Modèle de Données de l'Application"}),o.jsx(Yn,{children:"Voici la structure des données utilisées dans l'application, telles que définies dans les interfaces TypeScript."})]}),o.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:o.jsx(see,{})})]})]})})),FFe=({isOpen:e,onClose:t})=>{const r=zc(),{currentUserProfile:n,currentRole:i,fetchUserProfile:s}=Qt(),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[f,d]=_.useState(""),[m,p]=_.useState(""),[x,y]=_.useState(""),[v,b]=_.useState(""),[w,j]=_.useState(""),[S,C]=_.useState(!1),[E,k]=_.useState("idle"),[O,M]=_.useState("idle"),R=_.useRef(null),T=_.useRef(null);_.useEffect(()=>{e||(u(!1),d(""),p(""),y(""),b(""),j(""),k("idle"),M("idle"))},[e]);const P=async()=>{if(window.confirm("Êtes-vous ABSOLUMENT SÛR de vouloir effacer TOUTES les données de l'application ? Cette action est irréversible et supprimera tous les utilisateurs, cours, notes, etc."))try{await iee(),nt("Toutes les données ont été effacées ! L'application va se recharger."),window.location.reload()}catch(F){se(`Erreur lors de l'effacement des données: ${F.message}`)}},I=_.useCallback(async F=>{if(F.length<3||!/^[a-zA-Z0-9_]+$/.test(F))return k("idle"),!1;k("checking");const L=await S2(F);return k(L?"taken":"available"),!L},[]),B=_.useCallback(async F=>{if(!/\S+@\S+\.\S+/.test(F))return M("idle"),!1;M("checking");const L=await j2(F);return M(L?"taken":"available"),!L},[]),$=F=>{if(y(F),R.current&&clearTimeout(R.current),F.trim()===""){k("idle");return}R.current=setTimeout(()=>{I(F)},500)},H=F=>{if(b(F),T.current&&clearTimeout(T.current),F.trim()===""){M("idle");return}T.current=setTimeout(()=>{B(F)},500)},V=async()=>{if(!f.trim()||!m.trim()||!x.trim()||!v.trim()||!w.trim()){se("Tous les champs sont requis pour créer l'administrateur.");return}if(w.trim().length<6){se("Le mot de passe doit contenir au moins 6 caractères.");return}if(E==="taken"||O==="taken"){se("Le nom d'utilisateur ou l'email est déjà pris.");return}if(E==="checking"||O==="checking"){se("Veuillez attendre la vérification de la disponibilité du nom d'utilisateur et de l'email.");return}C(!0);try{const{data:F,error:L}=await Ie.functions.invoke("bootstrap-admin",{body:{email:v.trim(),password:w.trim(),first_name:f.trim(),last_name:m.trim(),username:x.trim()}});if(L){se(`Erreur lors de la création de l'administrateur: ${L.message}`);return}nt(`Administrateur ${f} ${m} créé avec succès !`),d(""),p(""),y(""),b(""),j(""),k("idle"),M("idle"),u(!1),t()}catch(F){se(`Une erreur inattendue est survenue: ${F.message}`)}finally{C(!1)}},U=async()=>{if(window.confirm("Êtes-vous sûr de vouloir initialiser les menus de navigation par défaut pour TOUS les rôles ? Cela écrasera toutes les configurations de menu existantes."))try{await bootstrapNavItems(),nt("Menus de navigation par défaut initialisés pour tous les rôles !"),n!=null&&n.id&&await s(n.id),t()}catch(F){se(`Erreur lors de l'initialisation des menus: ${F.message}`)}},W=(F,L,q,K)=>o.jsxs(F,{className:"w-full max-w-md p-6 backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:[" ",o.jsxs(Y.Fragment,{children:[" ",o.jsxs(L,{className:"mb-4 text-center",children:[o.jsx(q,{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Administrateur"}),o.jsx(K,{className:"text-center",children:(n==null?void 0:n.role)==="administrator"?"Actions d'administration disponibles.":"Connectez-vous en tant qu'administrateur pour accéder à ces outils."})]}),o.jsx("div",{className:"space-y-4",children:(n==null?void 0:n.role)==="administrator"?o.jsxs(o.Fragment,{children:[o.jsxs(me,{onClick:()=>l(!0),className:"w-full rounded-android-tile",variant:"outline",children:[o.jsx(Yh,{className:"h-4 w-4 mr-2"})," Voir le modèle de données"]}),o.jsxs(me,{onClick:U,className:"w-full rounded-android-tile",variant:"outline",children:[o.jsx(hw,{className:"h-4 w-4 mr-2"})," Initialiser menus par défaut"]}),o.jsxs(me,{onClick:P,className:"w-full rounded-android-tile",variant:"destructive",children:[o.jsx(CU,{className:"h-4 w-4 mr-2"})," Réinitialiser toutes les données"]}),o.jsx(me,{onClick:t,className:"w-full rounded-android-tile",variant:"secondary",children:"Fermer"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Pour accéder aux outils d'administration, veuillez vous connecter avec un compte ayant le rôle 'administrateur'."}),!n&&o.jsxs(ol,{open:c,onOpenChange:u,children:[o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"outline",className:"w-full justify-between rounded-android-tile",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vu,{className:"h-4 w-4"})," Créer un administrateur initial"]}),c?o.jsx(Ua,{className:"h-4 w-4"}):o.jsx(zr,{className:"h-4 w-4"})]})}),o.jsxs(wo,{className:"space-y-4 p-4 border rounded-android-tile bg-muted/20",children:[" ",o.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisez ceci si la base de données est vide ou si vous avez perdu l'accès administrateur."}),o.jsx(rt,{placeholder:"Prénom",value:f,onChange:ee=>d(ee.target.value),className:"rounded-android-tile"}),o.jsx(rt,{placeholder:"Nom",value:m,onChange:ee=>p(ee.target.value),className:"rounded-android-tile"}),o.jsx(tl,{placeholder:"Nom d'utilisateur",value:x,onChange:ee=>$(ee.target.value),status:E,errorMessage:E==="taken"?"Nom d'utilisateur déjà pris":void 0,className:"rounded-android-tile"}),o.jsx(tl,{type:"email",placeholder:"Email",value:v,onChange:ee=>H(ee.target.value),status:O,errorMessage:O==="taken"?"Email déjà enregistré":void 0,className:"rounded-android-tile"}),o.jsx(rt,{type:"password",placeholder:"Mot de passe",value:w,onChange:ee=>j(ee.target.value),className:"rounded-android-tile"}),o.jsxs(me,{onClick:V,className:"w-full rounded-android-tile",disabled:S||E==="checking"||O==="checking",children:[S?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(Vu,{className:"h-4 w-4 mr-2"})," Créer l'administrateur"]})]})]}),o.jsx(me,{onClick:t,className:"w-full rounded-android-tile",variant:"secondary",children:"Fermer"})]})}),o.jsx($Fe,{isOpen:a,onClose:()=>l(!1)})]})," "]});return r?o.jsx(vee,{open:e,onOpenChange:t,children:W(xee,bee,wee,_ee)}):o.jsx(ui,{open:e,onOpenChange:t,children:W(Hn,Kn,Gn,Yn)})},tc={Home:wl,MessageSquare:As,Search:Hr,User:Rn,LogOut:_l,Settings:$c,Info:Ct,BookOpen:ia,PlusSquare:vv,Users:Wr,GraduationCap:Os,PenTool:ra,NotebookText:Fa,School:od,LayoutList:Mn,BriefcaseBusiness:Ii,UserRoundCog:Ts,ClipboardCheck:Gh,BotMessageSquare:Ao,LayoutDashboard:Xh,LineChart:Zh,UsersRound:tm,UserRoundSearch:em,BellRing:ad,Building2:xr,BookText:bl,UserCog:ld,TrendingUp:Jh,BookMarked:Hh,CalendarDays:kr,UserCheck:Sl,LinkIcon:fw,ExternalLink:$a,Globe:Qh},Vz=["route","category_or_action"],Uz=e=>{switch(e){case"route":return"Route";case"category_or_action":return"Catégorie/Action";default:return"Inconnu"}},qFe=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r}=Qt(),[n,i]=_.useState([]),[s,a]=_.useState(!1),[l,c]=_.useState(""),[u,f]=_.useState(""),[d,m]=_.useState(""),[p,x]=_.useState(""),[y,v]=_.useState(""),[b,w]=_.useState(!1),[j,S]=_.useState("route"),[C,E]=_.useState(!1),[k,O]=_.useState(!1),[M,R]=_.useState(!1),[T,P]=_.useState(null),[I,B]=_.useState(""),[$,H]=_.useState(""),[V,U]=_.useState(""),[W,F]=_.useState(""),[L,q]=_.useState(!1),[K,ee]=_.useState("route"),[te,Q]=_.useState(!1),[G,ne]=_.useState(!1),Z=_.useCallback(async()=>{try{const ae=await t9();i(ae)}catch(ae){console.error("Error loading generic nav items:",ae),se(`Erreur lors du chargement des éléments génériques: ${ae.message}`)}},[]);_.useEffect(()=>{Z()},[Z]);const re=async()=>{if(!u.trim()){se("Le libellé est requis.");return}if(j==="route"&&!d.trim()){se("Une route est requise pour un élément de type 'Route'.");return}if(j==="category_or_action"&&d.trim()){se("Une catégorie/action ne doit pas avoir de route.");return}E(!0);try{const ae={label:u.trim(),route:d.trim()||null,description:y.trim()||null,is_external:b,icon_name:p||null,type:j};await r9(ae),nt("Élément de navigation générique ajouté !"),await Z(),f(""),m(""),x(""),v(""),w(!1),S("route"),a(!1)}catch(ae){console.error("Error adding generic nav item:",ae),se(`Erreur lors de l'ajout de l'élément générique: ${ae.message}`)}finally{E(!1)}},fe=async ae=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cet élément de navigation générique ? Cela supprimera toutes ses configurations de rôle associées. Cette action est irréversible."))try{await aue(ae),nt("Élément de navigation générique supprimé !"),await Z()}catch(ge){console.error("Error deleting generic nav item:",ge),se(`Erreur lors de la suppression de l'élément générique: ${ge.message}`)}},ce=ae=>{if(t!=="administrator"){se("Vous n'êtes pas autorisé à modifier les propriétés génériques des éléments.");return}P(ae),B(ae.label),H(ae.route||""),U(ae.icon_name||""),F(ae.description||""),q(ae.is_external),ee(ae.type),R(!0)},xe=async()=>{if(T){if(!I.trim()){se("Le libellé est requis.");return}if(K==="route"&&!$.trim()){se("Une route est requise pour un élément de type 'Route'.");return}if(K==="category_or_action"&&$.trim()){se("Une catégorie/action ne doit pas avoir de route.");return}Q(!0);try{const ae={id:T.id,label:I.trim(),route:$.trim()||null,description:W.trim()||null,is_external:L,icon_name:V||null,type:K};await sue(ae),nt("Élément de navigation générique mis à jour !"),await Z(),R(!1),P(null)}catch(ae){console.error("Error updating generic nav item:",ae),se(`Erreur lors de la mise à jour de l'élément générique: ${ae.message}`)}finally{Q(!1)}}};if(r)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]});if(!e||t!=="administrator")return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs peuvent accéder à cette page."})]});const be=l.toLowerCase(),ke=n.filter(ae=>ae.label.toLowerCase().includes(be)||ae.route&&ae.route.toLowerCase().includes(be)||ae.description&&ae.description.toLowerCase().includes(be)||ae.icon_name&&ae.icon_name.toLowerCase().includes(be)),Te=ke.filter(ae=>ae.type==="route").sort((ae,ge)=>ae.label.localeCompare(ge.label)),De=ke.filter(ae=>ae.type==="category_or_action").sort((ae,ge)=>ae.label.localeCompare(ge.label));return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Éléments de Navigation Génériques"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Définissez les éléments de navigation de base disponibles pour tous les rôles."}),o.jsx(Re,{className:"rounded-android-tile",children:o.jsxs(ol,{open:s,onOpenChange:a,children:[o.jsx(Be,{children:o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"ghost",className:"w-full justify-between p-0",children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(gr,{className:"h-5 w-5 text-primary"})," Ajouter un nouvel élément générique"]}),s?o.jsx(Ua,{className:"h-5 w-5"}):o.jsx(zr,{className:"h-5 w-5"})]})})}),o.jsx(wo,{children:o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-item-label",children:"Libellé"}),o.jsx(rt,{id:"new-item-label",value:u,onChange:ae=>f(ae.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-item-type",children:"Type d'élément"}),o.jsx(sv,{value:j,onValueChange:ae=>{S(ae),ae==="category_or_action"&&(w(!1),m(""))},className:"flex space-x-4 mt-2",children:Vz.map(ae=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(av,{value:ae,id:`new-item-type-${ae}`}),o.jsx(Pe,{htmlFor:`new-item-type-${ae}`,children:Uz(ae)})]},ae))})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-item-route",children:"Route (URL interne ou #hash)"}),o.jsx(rt,{id:"new-item-route",value:d,onChange:ae=>m(ae.target.value),disabled:j==="category_or_action"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sd,{id:"new-item-is-external",checked:b,onCheckedChange:w,disabled:j==="category_or_action"}),o.jsx(Pe,{htmlFor:"new-item-is-external",children:"Lien externe (ouvre dans un nouvel onglet)"})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-item-icon",children:"Nom de l'icône (Lucide React)"}),o.jsxs(oi,{open:k,onOpenChange:O,children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",role:"combobox","aria-expanded":k,className:"w-full justify-between rounded-android-tile",children:[p?o.jsxs("div",{className:"flex items-center gap-2",children:[Y.createElement(tc[p]||Ct,{className:"h-4 w-4"}),p]}):"Sélectionner une icône...",o.jsx(zr,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Un,{className:"w-[var(--radix-popover-trigger-width)] p-0 rounded-android-tile z-[9999]",children:o.jsxs(Ph,{children:[o.jsx(Mh,{placeholder:"Rechercher une icône..."}),o.jsxs(Rh,{children:[o.jsx(nd,{children:"Aucune icône trouvée."}),o.jsx(Dh,{children:Object.keys(tc).sort().map(ae=>{const ge=tc[ae];return o.jsxs(Ih,{value:ae,onSelect:()=>{x(ae),O(!1)},children:[o.jsx(La,{className:Ne("mr-2 h-4 w-4",p===ae?"opacity-100":"opacity-0")}),o.jsx(ge,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:ae})]},ae)})})]})]})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-item-description",children:"Description (optionnel)"}),o.jsx(Yu,{id:"new-item-description",value:y,onChange:ae=>v(ae.target.value)})]})]}),o.jsxs(me,{onClick:re,disabled:C,className:"mt-4",children:[C?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter l'élément générique"]})]})})]})}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Mn,{className:"h-6 w-6 text-primary"})," Liste des éléments génériques"]}),o.jsx(Le,{children:"Visualisez et gérez les définitions de base des éléments de navigation."})]}),o.jsxs(qe,{children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Filtrer les éléments par libellé, route, description ou icône...",className:"pl-10 rounded-android-tile",value:l,onChange:ae=>c(ae.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(ol,{defaultOpen:!0,children:[o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"ghost",className:"w-full justify-between p-0",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Mn,{className:"h-5 w-5 text-primary"})," Catégories / Actions (",De.length,")"]}),o.jsx(zr,{className:"h-5 w-5 collapsible-icon"})]})}),o.jsx(wo,{className:"mt-2",children:o.jsx(ml,{className:"h-[300px] w-full rounded-md border rounded-android-tile",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"sticky top-0 bg-background/80 backdrop-blur-lg border-b",children:[o.jsx("th",{className:"p-2 text-left font-semibold",children:"Libellé"}),o.jsx("th",{className:"p-2 text-left font-semibold",children:"Route/Action"}),o.jsx("th",{className:"p-2 text-left font-semibold",children:"Icône"}),o.jsx("th",{className:"p-2 text-left font-semibold",children:"Actions"})]})}),o.jsx("tbody",{children:De.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Aucune catégorie/action générique à afficher."})}):De.map(ae=>{const ge=tc[ae.icon_name||"Info"]||Ct;return o.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-muted/20",children:[o.jsx("td",{className:"p-2",children:ae.label}),o.jsxs("td",{className:"p-2",children:[ae.route||"-"," ",ae.is_external&&o.jsx($a,{className:"inline h-3 w-3 ml-1"})]}),o.jsx("td",{className:"p-2",children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(ge,{className:"h-4 w-4"})})}),o.jsxs("td",{className:"p-2 flex gap-2",children:[o.jsx(me,{variant:"outline",size:"sm",onClick:()=>ce(ae),children:o.jsx(es,{className:"h-4 w-4"})}),o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>fe(ae.id),children:o.jsx(Li,{className:"h-4 w-4"})})]})]},ae.id)})})]})})})})]}),o.jsxs(ol,{defaultOpen:!0,children:[o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"ghost",className:"w-full justify-between p-0",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(fw,{className:"h-5 w-5 text-primary"})," Routes (",Te.length,")"]}),o.jsx(zr,{className:"h-5 w-5 collapsible-icon"})]})}),o.jsx(wo,{className:"mt-2",children:o.jsx(ml,{className:"h-[300px] w-full rounded-md border rounded-android-tile",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"sticky top-0 bg-background/80 backdrop-blur-lg border-b",children:[o.jsx("th",{className:"p-2 text-left font-semibold",children:"Libellé"}),o.jsx("th",{className:"p-2 text-left font-semibold",children:"Route"}),o.jsx("th",{className:"p-2 text-left font-semibold",children:"Icône"}),o.jsx("th",{className:"p-2 text-left font-semibold",children:"Actions"})]})}),o.jsx("tbody",{children:Te.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Aucune route générique à afficher."})}):Te.map(ae=>{const ge=tc[ae.icon_name||"Info"]||Ct;return o.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-muted/20",children:[o.jsx("td",{className:"p-2",children:ae.label}),o.jsxs("td",{className:"p-2",children:[ae.route||"-"," ",ae.is_external&&o.jsx($a,{className:"inline h-3 w-3 ml-1"})]}),o.jsx("td",{className:"p-2",children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(ge,{className:"h-4 w-4"})})}),o.jsxs("td",{className:"p-2 flex gap-2",children:[o.jsx(me,{variant:"outline",size:"sm",onClick:()=>ce(ae),children:o.jsx(es,{className:"h-4 w-4"})}),o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>fe(ae.id),children:o.jsx(Li,{className:"h-4 w-4"})})]})]},ae.id)})})]})})})})]})]})]})]}),T&&o.jsx(ui,{open:M,onOpenChange:R,children:o.jsx(Hn,{className:"w-full h-svh sm:max-w-[600px] sm:h-auto backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier l'élément de navigation générique"}),o.jsx(Yn,{children:"Mettez à jour les détails de l'élément de navigation de base."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-item-label",className:"sm:text-right",children:"Libellé"}),o.jsx(rt,{id:"edit-item-label",value:I,onChange:ae=>B(ae.target.value),className:"sm:col-span-3",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-item-type",children:"Type d'élément"}),o.jsx(sv,{value:K,onValueChange:ae=>{ee(ae),ae==="category_or_action"&&(q(!1),H(""))},className:"sm:col-span-3 flex space-x-4 mt-2",children:Vz.map(ae=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(av,{value:ae,id:`edit-item-type-${ae}`}),o.jsx(Pe,{htmlFor:`edit-item-type-${ae}`,children:Uz(ae)})]},ae))})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-item-route",className:"sm:text-right",children:"Route"}),o.jsx(rt,{id:"edit-item-route",value:$,onChange:ae=>H(ae.target.value),className:"sm:col-span-3",disabled:K==="category_or_action"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sd,{id:"edit-item-is-external",checked:L,onCheckedChange:q,className:"sm:col-span-3",disabled:K==="category_or_action"}),o.jsx(Pe,{htmlFor:"edit-item-is-external",children:"Lien externe (ouvre dans un nouvel onglet)"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-item-icon",children:"Icône"}),o.jsxs(oi,{open:G,onOpenChange:ne,children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",role:"combobox","aria-expanded":G,className:"sm:col-span-3 w-full justify-between rounded-android-tile",children:[V?o.jsxs("div",{className:"flex items-center gap-2",children:[Y.createElement(tc[V]||Ct,{className:"h-4 w-4"}),V]}):"Sélectionner une icône...",o.jsx(zr,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Un,{className:"w-[var(--radix-popover-trigger-width)] p-0 rounded-android-tile z-[9999]",children:o.jsxs(Ph,{children:[o.jsx(Mh,{placeholder:"Rechercher une icône..."}),o.jsxs(Rh,{children:[o.jsx(nd,{children:"Aucune icône trouvée."}),o.jsx(Dh,{children:Object.keys(tc).sort().map(ae=>{const ge=tc[ae];return o.jsxs(Ih,{value:ae,onSelect:()=>{U(ae),ne(!1)},children:[o.jsx(La,{className:Ne("mr-2 h-4 w-4",V===ae?"opacity-100":"opacity-0")}),o.jsx(ge,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:ae})]},ae)})})]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-item-description",className:"sm:text-right",children:"Description"}),o.jsx(Yu,{id:"edit-item-description",value:W,onChange:ae=>F(ae.target.value),className:"sm:col-span-3"})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:xe,disabled:te,children:te?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Enregistrer les modifications"})})]})})})]})},Tp={Home:wl,MessageSquare:As,Search:Hr,User:Rn,LogOut:_l,Settings:$c,Info:Ct,BookOpen:ia,PlusSquare:vv,Users:Wr,GraduationCap:Os,PenTool:ra,NotebookText:Fa,School:od,LayoutList:Mn,BriefcaseBusiness:Ii,UserRoundCog:Ts,ClipboardCheck:Gh,BotMessageSquare:Ao,LayoutDashboard:Xh,LineChart:Zh,UsersRound:tm,UserRoundSearch:em,BellRing:ad,Building2:xr,BookText:bl,UserCog:ld,TrendingUp:Jh,BookMarked:Hh,CalendarDays:kr,UserCheck:Sl,LinkIcon:fw,ExternalLink:$a,Globe:Qh,BarChart2:_U,ChevronDown:zr,Code:Yh},BFe=["route","category_or_action"],IT=e=>{switch(e){case"route":return"Route";case"category_or_action":return"Catégorie/Action";default:return"Inconnu"}},zFe=Y.forwardRef(({item:e,level:t,onRemove:r,isDragging:n,isDraggableAndDeletable:i},s)=>{const{attributes:a,listeners:l,setNodeRef:c,transform:u,transition:f,isDragging:d}=WP({id:e.configId,disabled:!i}),m=`calc(${t*10}px + ${t>0?"0.5rem":"0px"})`,p={transform:jo.Transform.toString(u),transition:f,zIndex:d?100:"auto",opacity:d?.8:1,paddingLeft:m},x=e.icon_name&&Tp[e.icon_name]||Ct;return o.jsxs(nv,{children:[o.jsx(iv,{asChild:!0,children:o.jsxs("div",{ref:c,style:p,className:Ne("p-2 border rounded-android-tile bg-background flex items-center justify-between gap-2 mb-1 flex-wrap sm:flex-nowrap select-none",d&&"ring-2 ring-primary/50 shadow-xl"),children:[o.jsxs("div",{className:"flex items-center gap-2 flex-grow select-none",children:[i&&o.jsxs("div",{...l,...a,className:"cursor-grab p-1 rounded-md hover:bg-muted/20",children:[o.jsx(c2,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"sr-only",children:"Déplacer l'élément"})]}),o.jsx(x,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium text-sm",children:e.label}),o.jsxs("span",{className:"text-xs text-muted-foreground italic",children:["(",IT(e.type),")"]}),e.is_global&&o.jsx(Qh,{className:"h-3 w-3 text-muted-foreground ml-1",title:"Configuration globale"})]}),i&&o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>r(e.configId),className:"flex-shrink-0 mt-2 sm:mt-0",children:o.jsx(Li,{className:"h-3 w-3"})})]})}),o.jsx(Lh,{className:"w-auto p-1 pointer-events-auto rounded-android-tile z-[9999]",children:o.jsxs(Ea,{className:"p-2",onClick:()=>r(e.configId),children:[o.jsx(Li,{className:"mr-2 h-4 w-4"})," Retirer"]})})]})}),VFe=({isOpen:e,onClose:t,parentItem:r,selectedRoleFilter:n,allGenericNavItems:i,allConfiguredItemsFlat:s,onChildrenUpdated:a,getDescendantIds:l,getAncestorIds:c})=>{const[u,f]=_.useState(null),[d,m]=_.useState([]),[p,x]=_.useState(""),[y,v]=_.useState([]),[b,w]=_.useState(!1),[j,S]=_.useState(""),[C,E]=_.useState(""),[k,O]=_.useState(""),[M,R]=_.useState(""),[T,P]=_.useState(!1),[I,B]=_.useState("route"),[$,H]=_.useState(!1),[V,U]=_.useState(!1),W=$P(lh(Bv),lh(qv,{coordinateGetter:HP})),[F,L]=_.useState(null);_.useEffect(()=>{var G;if(e&&r){const ne=new Set(((G=r.children)==null?void 0:G.map(ce=>ce.id))||[]),Z=l(r,s),re=c(r.id,i),fe=i.filter(ce=>ce.id!==r.id&&!ne.has(ce.id)&&!Z.has(ce.id)&&!re.has(ce.id));v(fe),m(r.children||[]),f(null),x(""),S(""),E(""),O(""),R(""),P(!1),B("route"),H(!1),U(!1)}},[e,r,i,s,l,c]);const q=G=>{const{active:ne}=G,Z=d.find(re=>re.configId===ne.id);L(Z||null)},K=async G=>{const{active:ne,over:Z}=G;if(!F||!Z||ne.id===Z.id){L(null);return}const re=ne.id,fe=Z.id;try{if(fe==="current-children-container"||d.some(ce=>ce.configId===fe)){const ce=d.findIndex(be=>be.configId===re),xe=d.findIndex(be=>be.configId===fe);if(ce!==-1&&xe!==-1){const be=UP(d,ce,xe);for(let ke=0;ke<be.length;ke++){const Te=be[ke];if(Te.order_index!==ke){const De={id:Te.configId,nav_item_id:Te.id,role:n,parent_nav_item_id:r.id,order_index:ke};await ag(De)}}nt("Sous-éléments réorganisés !")}}else{se("Cible de dépôt non valide.");return}a()}catch(ce){console.error("Error during drag and drop in ManageChildrenDialog:",ce),se(`Erreur lors du glisser-déposer: ${ce.message}`)}finally{L(null)}},ee=async()=>{if(!u){se("Veuillez sélectionner un élément à ajouter.");return}const G=i.find(Z=>Z.id===u);if(!G){se("Élément générique introuvable.");return}const ne=s.find(Z=>Z.id===G.id);try{if(ne){const Z={id:ne.configId,nav_item_id:G.id,role:n,parent_nav_item_id:r.id,order_index:d.length};await ag(Z),nt(`'${G.label}' déplacé sous '${r.label}' !`)}else{const Z={nav_item_id:G.id,role:n,parent_nav_item_id:r.id,order_index:d.length};await sg(Z),nt(`'${G.label}' ajouté comme sous-élément !`)}a()}catch(Z){console.error("Error adding/moving generic item as child:",Z),se(`Erreur lors de l'opération: ${Z.message}`)}},te=async()=>{if(!j.trim()){se("Le libellé est requis.");return}if(I==="route"&&!C.trim()){se("Une route est requise pour un élément de type 'Route'.");return}if(I==="category_or_action"&&C.trim()){se("Une catégorie/action ne doit pas avoir de route.");return}H(!0);try{const G={label:j.trim(),route:C.trim()||null,description:M.trim()||null,is_external:T,icon_name:k||null,type:I},ne=await r9(G);if(ne){const Z={nav_item_id:ne.id,role:n,parent_nav_item_id:r.id,order_index:d.length};await sg(Z),nt(`'${ne.label}' créé et ajouté comme sous-élément !`),a(),S(""),E(""),O(""),R(""),P(!1),B("route"),w(!1)}else se("Échec de la création du nouvel élément générique.")}catch(G){console.error("Error creating and adding new generic child:",G),se(`Erreur lors de la création et de l'ajout du sous-élément: ${G.message}`)}finally{H(!1)}},Q=y.filter(G=>G.label.toLowerCase().includes(p.toLowerCase())||G.description&&G.description.toLowerCase().includes(p.toLowerCase())||G.icon_name&&G.icon_name.toLowerCase().includes(p.toLowerCase())||G.route&&G.route.toLowerCase().includes(p.toLowerCase()));return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsx(Hn,{className:"w-full h-svh sm:max-w-4xl sm:h-[90vh] flex flex-col p-6 backdrop-blur-lg bg-background/80 z-[1000] rounded-android-tile",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(Kn,{className:"mb-4",children:[o.jsxs(Gn,{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:['Gérer les sous-éléments de "',r.label,'"']}),o.jsx(Yn,{children:"Ajoutez, supprimez et réorganisez les éléments enfants de cette catégorie."})]}),o.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:o.jsxs(VP,{sensors:W,collisionDetection:FP,onDragStart:q,onDragEnd:K,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full",children:[o.jsxs(Re,{className:"flex flex-col rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsx(Fe,{className:"text-lg",children:"Ajouter un sous-élément existant"}),o.jsx(Le,{children:"Sélectionnez un élément générique déjà créé à ajouter comme enfant."})]}),o.jsxs(qe,{className:"flex-grow flex-col gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher un élément...",className:"pl-10 rounded-android-tile",value:p,onChange:G=>x(G.target.value)})]}),o.jsx(ml,{className:"h-40 w-full rounded-md border",children:o.jsx("div",{className:"grid grid-cols-1 gap-2 p-2",children:Q.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-2",children:"Aucun élément disponible."}):Q.map(G=>{const ne=G.icon_name&&Tp[G.icon_name]||Ct,Z=u===G.id;return o.jsxs(me,{variant:"outline",className:Ne("flex items-center justify-start gap-2 p-2 h-auto rounded-android-tile",Z?"bg-primary text-primary-foreground border-primary":"hover:bg-accent hover:text-accent-foreground"),onClick:()=>f(G.id),children:[o.jsx(La,{className:Ne("h-4 w-4",Z?"opacity-100":"opacity-0")}),o.jsx(ne,{className:"h-4 w-4 text-primary"}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium",children:G.label}),o.jsxs("span",{className:"text-xs text-muted-foreground italic",children:["(",IT(G.type),")"]})]})]},G.id)})})}),o.jsxs(me,{onClick:ee,disabled:!u,children:[o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter comme enfant"]})]})]}),o.jsx(Re,{className:"rounded-android-tile lg:col-span-2",children:o.jsxs(ol,{open:b,onOpenChange:w,children:[o.jsx(Be,{children:o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"ghost",className:"w-full justify-between p-0",children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(gr,{className:"h-6 w-6 text-primary"})," Créer un nouvel élément générique et l'ajouter"]}),b?o.jsx(ChevronUp,{className:"h-5 w-5"}):o.jsx(zr,{className:"h-5 w-5"})]})})}),o.jsx(wo,{children:o.jsxs(qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-child-label",children:"Libellé"}),o.jsx(rt,{id:"new-child-label",value:j,onChange:G=>S(G.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-child-type",children:"Type d'élément"}),o.jsx(sv,{value:I,onValueChange:G=>{B(G),G==="category_or_action"&&(P(!1),E(""))},className:"flex space-x-4 mt-2",children:BFe.map(G=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(av,{value:G,id:`new-child-type-${G}`}),o.jsx(Pe,{htmlFor:`new-child-type-${G}`,children:IT(G)})]},G))})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-child-route",children:"Route (URL interne ou #hash)"}),o.jsx(rt,{id:"new-child-route",value:C,onChange:G=>E(G.target.value),disabled:I==="category_or_action"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sd,{id:"new-child-is-external",checked:T,onCheckedChange:P,disabled:I==="category_or_action"}),o.jsx(Pe,{htmlFor:"new-child-is-external",children:"Lien externe (ouvre dans un nouvel onglet)"})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-child-icon",children:"Nom de l'icône (Lucide React)"}),o.jsxs(oi,{open:V,onOpenChange:U,children:[o.jsx(li,{asChild:!0,children:o.jsxs(me,{variant:"outline",role:"combobox","aria-expanded":V,className:"w-full justify-between rounded-android-tile",children:[k?o.jsxs("div",{className:"flex items-center gap-2",children:[Y.createElement(Tp[k]||Ct,{className:"h-4 w-4"}),k]}):"Sélectionner une icône...",o.jsx(zr,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Un,{className:"w-[var(--radix-popover-trigger-width)] p-0 rounded-android-tile z-[9999]",children:o.jsxs(Ph,{children:[o.jsx(Mh,{placeholder:"Rechercher une icône..."}),o.jsxs(Rh,{children:[o.jsx(nd,{children:"Aucune icône trouvée."}),o.jsx(Dh,{children:Object.keys(Tp).sort().map(G=>{const ne=Tp[G];return o.jsxs(Ih,{value:G,onSelect:()=>{O(G),U(!1)},children:[o.jsx(La,{className:Ne("mr-2 h-4 w-4",k===G?"opacity-100":"opacity-0")}),o.jsx(ne,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:G})]},G)})})]})]})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"new-child-description",children:"Description (optionnel)"}),o.jsx(Yu,{id:"new-child-description",value:M,onChange:G=>R(G.target.value)})]})]}),o.jsxs(me,{onClick:te,disabled:$||!j.trim(),children:[$?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(gr,{className:"h-4 w-4 mr-2"})," Créer et ajouter"]})]})})]})})]}),o.jsx(AG,{children:F?o.jsx(zFe,{item:F,level:0,onRemove:()=>{},isDragging:!0,isDraggableAndDeletable:!0}):null})]})}),o.jsx($i,{children:o.jsx(me,{onClick:t,children:"Fermer"})})]})})})},Jx=e=>{switch(e){case"route":return"Route";case"category_or_action":return"Catégorie/Action";default:return"Inconnu"}},UFe=({isOpen:e,onClose:t,selectedRoleFilter:r,allGenericNavItems:n,allConfiguredItemsFlat:i,onItemAdded:s,getDescendantIds:a,getAncestorIds:l,iconMap:c,defaultParentId:u})=>{const[f,d]=_.useState(null),[m,p]=_.useState(u===null?"none":u||null),[x,y]=_.useState(!1),[v,b]=_.useState(""),[w,j]=_.useState(""),S=_.useMemo(()=>{if(!f)return null;const P=n.find(B=>B.id===f);if(!P)return null;const I=i.some(B=>B.id===P.id);return{...P,isNew:!I}},[f,n,i]);Y.useEffect(()=>{e&&(d(null),p(u===null?"none":u||null),y(!1),b(""),j(""))},[e,u]);const C=_.useMemo(()=>{const P=new Set(i.map($=>$.id));return n.filter($=>!P.has($.id)).sort(($,H)=>$.label.localeCompare(H.label)).map($=>({id:$.id,label:$.label,icon_name:$.icon_name,description:$.description,isNew:!0,typeLabel:Jx($.type)}))},[n,i]),E=_.useMemo(()=>{const P=[],I=n.find(U=>U.id===f),B=I?a(I,n):new Set,$=I?l(I.id,n):new Set;i.forEach(U=>{const W=U.type==="category_or_action"&&(U.route===null||U.route===void 0),F=U.id!==f,L=!B.has(U.id),q=!$.has(U.id);if(W&&F&&L&&q){let K=0,ee=U.parent_nav_item_id;for(;ee;){K++;const te=i.find(Q=>Q.id===ee);ee=te==null?void 0:te.parent_nav_item_id}P.push({id:U.id,label:U.label,level:K,icon_name:U.icon_name,typeLabel:Jx(U.type),isNew:!1,description:U.description})}});const H=new Set(i.map(U=>U.id));n.forEach(U=>{const W=U.type==="category_or_action"&&(U.route===null||U.route===void 0),F=!H.has(U.id),L=U.id!==f,q=!B.has(U.id),K=!$.has(U.id);W&&F&&L&&q&&K&&P.push({id:U.id,label:U.label,level:0,icon_name:U.icon_name,typeLabel:Jx(U.type),isNew:!0,description:U.description})});const V=P.sort((U,W)=>U.label.localeCompare(W.label));return[{id:"none",label:"Aucun (élément racine)",icon_name:"Home",level:0,isNew:!1,typeLabel:"Catégorie/Action",description:"L'élément sera affiché au premier niveau du menu."},...V]},[f,i,n,a,l,w]),k=async()=>{if(!S){se("Veuillez sélectionner un élément générique à ajouter.");return}y(!0);try{const P=n.find(H=>H.id===S.id);if(!P){se("Élément générique introuvable."),y(!1);return}let I=m==="none"?null:m;const B=E.find(H=>H.id===I);if(B!=null&&B.isNew)try{const V=await sg({nav_item_id:I,role:r,parent_nav_item_id:null,order_index:9999});if(V)I=V.nav_item_id,nt(`Catégorie '${B.label}' ajoutée au menu du rôle.`);else{se(`Échec de l'ajout de la catégorie '${B.label}' au menu du rôle.`),y(!1);return}}catch(H){console.error("Error adding new generic parent to role config:",H),se(`Erreur lors de l'ajout de la nouvelle catégorie parente: ${H.message}`),y(!1);return}if(I&&P.id===I){se("Un élément ne peut pas être son propre parent."),y(!1);return}if(I&&a(P,i).has(I)){se("Un élément ne peut pas être le parent d'un de ses propres descendants."),y(!1);return}const $={nav_item_id:P.id,role:r,parent_nav_item_id:I,order_index:9999};await sg($),nt(`'${P.label}' ajouté au menu du rôle !`),s(),t()}catch(P){console.error("Error adding existing nav item to role menu:",P),se(`Erreur lors de l'ajout de l'élément au menu du rôle: ${P.message}`)}finally{y(!1)}},O=x||!f||!m,M=P=>{d(P),u===void 0&&P!==null&&p("none")},R=()=>{d(null),p(u===null?"none":u||null),b(""),j("")},T=S!=null&&S.icon_name&&c[S.icon_name]||Ct;return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsx(Hn,{className:"w-full h-svh sm:max-w-[600px] sm:h-auto bg-card z-[1000] rounded-android-tile",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Ajouter un élément existant au menu"}),o.jsx(Yn,{children:"Sélectionnez un élément générique et son parent pour l'ajouter au menu de ce rôle."})]}),o.jsx("div",{className:"grid gap-4 py-4 flex-grow",children:f?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{children:"2. Choisir le parent pour l'élément sélectionné"}),o.jsxs(me,{variant:"ghost",size:"sm",onClick:R,children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Annuler la sélection"]})]}),o.jsxs(Re,{className:"p-3 rounded-android-tile bg-muted/20",children:[o.jsxs(Be,{className:"p-0 pb-2",children:[o.jsxs(Fe,{className:"flex items-center gap-2 text-lg",children:[o.jsx(T,{className:"h-5 w-5 text-primary"})," ",S==null?void 0:S.label]}),o.jsxs(Le,{className:"text-sm",children:[Jx((S==null?void 0:S.type)||"route")," ",(S==null?void 0:S.route)&&`(${S.route})`]})]}),o.jsx(qe,{className:"p-0 text-sm text-muted-foreground",children:(S==null?void 0:S.description)||"Aucune description."})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"parent-selector",className:"mb-2 block",children:"Rechercher un parent"}),o.jsx(jt,{id:"parent-selector",options:E,value:m,onValueChange:p,searchQuery:w,onSearchQueryChange:j,placeholder:"Sélectionner un parent...",emptyMessage:"Aucun parent trouvé.",iconMap:c}),m==="none"&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-2 flex items-center gap-1",children:[o.jsx(Ct,{className:"h-4 w-4"})," Cet élément sera ajouté à la racine du menu."]})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx(Pe,{htmlFor:"generic-item-selector",children:"1. Rechercher et sélectionner un élément générique"}),o.jsx(jt,{id:"generic-item-selector",options:C,value:f,onValueChange:M,searchQuery:v,onSearchQueryChange:b,placeholder:"Rechercher un élément...",emptyMessage:"Aucun élément disponible à ajouter.",iconMap:c})]})}),o.jsx($i,{children:o.jsxs(me,{onClick:k,disabled:O,children:[x?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter l'élément"]})})]})})})},Wz=e=>{switch(e){case"route":return"Route";case"category_or_action":return"Catégorie/Action";default:return"Inconnu"}},WFe=({isOpen:e,onClose:t,currentConfigToEdit:r,currentItemToEdit:n,selectedRoleFilter:i,allGenericNavItems:s,allConfiguredItemsFlat:a,onSave:l,getDescendantIds:c,iconMap:u,popoverContentClassName:f})=>{var R;const[d,m]=_.useState(null),[p,x]=_.useState(0),[y,v]=_.useState(!1),[b,w]=_.useState(""),[j,S]=_.useState(!0);_.useEffect(()=>{e&&r&&n&&(m(r.parent_nav_item_id||null),x(r.order_index),v(!1),w(""),S(!0))},[e,r,n]);const C=_.useMemo(()=>{if(!n)return[];const T=c(n,a),P=new Set(a.map($=>$.id)),I=[];a.forEach($=>{const H=$.type==="category_or_action"&&($.route===null||$.route===void 0),V=$.id!==n.id,U=!T.has($.id);if(H&&V&&U){let W=0,F=$.parent_nav_item_id;for(;F;){W++;const L=a.find(q=>q.id===F);F=L==null?void 0:L.parent_nav_item_id}I.push({id:$.id,label:$.label,level:W,icon_name:$.icon_name,typeLabel:Wz($.type),isNew:!1,description:$.description})}}),s.forEach($=>{const H=$.type==="category_or_action"&&($.route===null||$.route===void 0),V=!P.has($.id),U=$.id!==n.id,W=!T.has($.id);H&&V&&U&&W&&I.push({id:$.id,label:$.label,level:0,icon_name:$.icon_name,typeLabel:Wz($.type),isNew:!0,description:$.description})});const B=I.sort(($,H)=>$.label.localeCompare(H.label));return[{id:"none",label:"Aucun (élément racine)",icon_name:"Home",level:0,isNew:!1,typeLabel:"Catégorie/Action",description:"L'élément sera affiché au premier niveau du menu."},...B]},[n,a,s,c,b]),E=async()=>{if(!(!r||!n)){v(!0);try{let T=d==="none"?null:d;const P=C.find($=>$.id===T);if(P!=null&&P.isNew)try{const H=await sg({nav_item_id:T,role:i,parent_nav_item_id:null,order_index:9999});if(H)T=H.nav_item_id,nt(`Catégorie '${P.label}' ajoutée au menu du rôle.`);else{se(`Échec de l'ajout de la catégorie '${P.label}' au menu du rôle.`),v(!1);return}}catch($){console.error("Error adding new generic parent to role config:",$),se(`Erreur lors de l'ajout de la nouvelle catégorie parente: ${$.message}`),v(!1);return}if(T&&n.id===T){se("Un élément ne peut pas être son propre parent."),v(!1);return}const I=c(n,a);if(T&&I.has(T)){se("Un élément ne peut pas être le parent d'un de ses propres descendants."),v(!1);return}const B={id:r.id,nav_item_id:r.nav_item_id,role:r.role,parent_nav_item_id:T,order_index:p};await ag(B),nt("Configuration de rôle mise à jour !"),l(),t()}catch(T){console.error("Error updating role config:",T),se(`Erreur lors de la mise à jour de la configuration de rôle: ${T.message}`)}finally{v(!1)}}},k=T=>{m(T),S(!1)},O=()=>{m(null),S(!0)};if(!r||!n)return null;const M=n.icon_name&&u[n.icon_name]||Ct;return o.jsx(ui,{open:e,onOpenChange:t,children:o.jsx(Hn,{className:"w-full h-svh sm:max-w-[600px] sm:h-auto bg-card z-[1000] rounded-android-tile",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(Kn,{children:[o.jsxs(Gn,{children:['Modifier la configuration de "',n.label,'" pour ',i]}),o.jsx(Yn,{children:"Ajustez la position et le parent de cet élément dans le menu de ce rôle."})]}),o.jsx("div",{className:"grid gap-4 py-4 flex-grow",children:j?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Pe,{htmlFor:"parent-selector",children:"1. Rechercher et sélectionner un parent"}),o.jsx(jt,{id:"parent-selector",options:C,value:d,onValueChange:k,searchQuery:b,onSearchQueryChange:w,placeholder:"Sélectionner un parent...",emptyMessage:"Aucun parent disponible.",iconMap:u})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{children:"2. Confirmer le parent et définir l'ordre"}),o.jsxs(me,{variant:"ghost",size:"sm",onClick:O,children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Changer de parent"]})]}),o.jsxs(Re,{className:"p-3 rounded-android-tile bg-muted/20",children:[o.jsxs(Be,{className:"p-0 pb-2",children:[o.jsxs(Fe,{className:"flex items-center gap-2 text-lg",children:[o.jsx(M,{className:"h-5 w-5 text-primary"})," ",n.label]}),o.jsxs(Le,{className:"text-sm",children:["Parent sélectionné: ",d==="none"?"Aucun (élément racine)":((R=C.find(T=>T.id===d))==null?void 0:R.label)||"Inconnu"]})]}),o.jsx(qe,{className:"p-0 text-sm text-muted-foreground",children:n.description||"Aucune description."})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-config-order",className:"sm:text-right",children:"Ordre"}),o.jsx(rt,{id:"edit-config-order",type:"number",value:p,onChange:T=>x(parseInt(T.target.value)),className:"sm:col-span-3 rounded-android-tile"})]})]})}),o.jsx($i,{children:o.jsx(me,{onClick:E,disabled:y||j,children:y?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Enregistrer les modifications"})})]})})})},mb={Home:wl,MessageSquare:As,Search:Hr,User:Rn,LogOut:_l,Settings:$c,Info:Ct,BookOpen:ia,PlusSquare:vv,Users:Wr,GraduationCap:Os,PenTool:ra,NotebookText:Fa,School:od,LayoutList:Mn,BriefcaseBusiness:Ii,UserRoundCog:Ts,ClipboardCheck:Gh,BotMessageSquare:Ao,LayoutDashboard:Xh,LineChart:Zh,UsersRound:tm,UserRoundSearch:em,BellRing:ad,Building2:xr,BookText:bl,UserCog:ld,TrendingUp:Jh,BookMarked:Hh,CalendarDays:kr,UserCheck:Sl,LinkIcon:fw,ExternalLink:$a,Globe:Qh,BarChart2:_U,RefreshCw:hw,ChevronDown:zr,ChevronUp:Ua,Check:La,Move:AU,Code:Yh,student:Os,professeur:ra,tutor:Wr,director:Ii,deputy_director:Ii,administrator:Ts},HFe=e=>{switch(e){case"route":return"Route";case"category_or_action":return"Catégorie/Action";default:return"Inconnu"}},Hz=Y.forwardRef(({item:e,level:t,onEditGenericItem:r,onEditRoleConfig:n,onDelete:i,onManageChildren:s,onAssignParent:a,isDragging:l,isDraggableAndDeletable:c,selectedRoleFilter:u,isExpanded:f,onToggleExpand:d},m)=>{const{attributes:p,listeners:x,setNodeRef:y,transform:v,transition:b,isDragging:w}=WP({id:e.configId,disabled:!c}),j=`calc(${t*10}px + ${t>0?"0.5rem":"0px"})`,S={transform:jo.Transform.toString(v),transition:b,zIndex:w?100:"auto",opacity:w?.8:1,paddingLeft:j},C=e.icon_name&&mb[e.icon_name]||Ct,E=e.configId&&u!=="all"?{id:e.configId,nav_item_id:e.id,role:u,parent_nav_item_id:e.parent_nav_item_id,order_index:e.order_index}:void 0,k=e.children&&e.children.length>0,O=e.type==="category_or_action"&&(e.route===null||e.route===void 0);return o.jsxs(nv,{children:[o.jsx(iv,{asChild:!0,children:o.jsxs("div",{ref:y,style:S,className:Ne("p-3 border rounded-android-tile flex items-center justify-between gap-2 mb-2",l&&"ring-2 ring-primary/50 shadow-xl",O?"bg-muted/40 font-semibold text-lg":"bg-background text-base",O&&t===0&&"border-l-4 border-primary/50","flex-wrap sm:flex-nowrap select-none hover:scale-[1.01] transition-transform"),children:[o.jsxs("div",{className:"flex items-center gap-2 flex-grow cursor-pointer select-none",onClick:M=>{k&&(M.stopPropagation(),d(e.id))},children:[c&&o.jsxs("div",{...x,...p,className:"cursor-grab p-1 rounded-md hover:bg-muted/20",children:[o.jsx(c2,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Déplacer l'élément"})]}),k&&o.jsxs(me,{type:"button",variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),d(e.id)},className:"h-5 w-5",children:[f?o.jsx(Ua,{className:"h-4 w-4"}):o.jsx(zr,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:f?"Réduire":"Étendre"})]}),o.jsx(C,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"font-medium",children:e.label}),o.jsxs("span",{className:"text-sm text-muted-foreground italic",children:["(",HFe(e.type),")"]}),e.route&&o.jsx("span",{className:"text-sm text-muted-foreground italic",children:e.route}),e.is_external&&o.jsx($a,{className:"h-4 w-4 text-muted-foreground ml-1"}),e.is_global&&o.jsx(Qh,{className:"h-4 w-4 text-muted-foreground ml-1",title:"Configuration globale"})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0 mt-2 sm:mt-0",children:[o.jsx(me,{variant:"outline",size:"sm",onClick:()=>r(e),children:o.jsx(es,{className:"h-4 w-4"})}),E&&o.jsx(me,{variant:"outline",size:"sm",onClick:()=>n(e,E),children:o.jsx(Ts,{className:"h-4 w-4"})}),c&&o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>i(e.id,e.configId),children:o.jsx(Li,{className:"h-4 w-4"})})]})]})}),o.jsxs(Lh,{className:"w-auto p-1 pointer-events-auto rounded-android-tile z-[9999]",children:[O&&o.jsxs(Ea,{className:"p-2",onClick:()=>s(e),children:[o.jsx(Mn,{className:"mr-2 h-4 w-4"})," Gérer les sous-éléments"]}),E&&o.jsxs(Ea,{className:"p-2",onClick:()=>a(e,E),children:[o.jsx(AU,{className:"mr-2 h-4 w-4"})," Assigner un parent"]})]})]})}),KFe=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(void 0),{currentUserProfile:i,currentRole:s,isLoadingUser:a}=Qt();zc();const[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,x]=_.useState("all"),[y,v]=_.useState(""),[b,w]=_.useState(!1),[j,S]=_.useState(null),[C,E]=_.useState(null),[k,O]=_.useState(!1),[M,R]=_.useState(null),[T,P]=_.useState({}),I=$P(lh(Bv),lh(qv,{coordinateGetter:HP})),[B,$]=_.useState(null),[H,V]=_.useState(null),U=_.useCallback((be,ke)=>{for(const Te of be){if(Te.configId===ke||Te.id===ke)return Te;if(Te.children){const De=U(Te.children,ke);if(De)return De}}},[]),W=_.useCallback((be,ke)=>{const Te=new Set,De=[be];let ae=0;for(;ae<De.length;){const ge=De[ae++],X=ke.filter(ie=>(ie.parent_nav_item_id||null)===ge.id);for(const ie of X)Te.has(ie.id)||(Te.add(ie.id),De.push(ie))}return Te.delete(be.id),Te},[]),F=_.useCallback((be,ke)=>{const Te=new Set;let De=ke.find(ae=>ae.id===be);for(;De&&De.parent_nav_item_id;)Te.add(De.parent_nav_item_id),De=ke.find(ae=>ae.id===De.parent_nav_item_id);return Te},[]),L=_.useCallback(async()=>{const be=await t9();if(c(be),p==="all")f([]),m([]);else{const ke=p,Te=await oue(ke),De=new Map,ae=[],ge=new Map;be.forEach(he=>ge.set(he.id,{...he,children:[]})),Te.forEach(he=>{const we=ge.get(he.nav_item_id);if(we){const ue={...we,children:[],configId:he.id,parent_nav_item_id:he.parent_nav_item_id||void 0,order_index:he.order_index,is_global:!0};De.set(ue.id,ue),ae.push(ue)}}),m(ae);const X=new Map;ae.forEach(he=>{var ue;const we=he.parent_nav_item_id||null;X.has(we)||X.set(we,[]),(ue=X.get(we))==null||ue.push(he)});const ie=async(he,we)=>{he.sort((ue,Oe)=>ue.order_index-Oe.order_index);for(let ue=0;ue<he.length;ue++){const Oe=he[ue];if(Oe.configId&&(Oe.order_index!==ue||(Oe.parent_nav_item_id||null)!==we)){const gt={id:Oe.configId,nav_item_id:Oe.id,role:ke,parent_nav_item_id:we,order_index:ue};await ag(gt),Oe.order_index=ue,Oe.parent_nav_item_id=we}}},oe=X.get(null)||[];await ie(oe,null);const je=[...oe],le=async he=>{const we=X.get(he.id)||[];await ie(we,he.id),he.children=we;for(const ue of we)await le(ue)};for(const he of je)await le(he);f(je)}},[p,F]);_.useEffect(()=>{L()},[L]);const q=async(be,ke)=>{if(s!=="administrator"){se("Vous n'êtes pas autorisé à supprimer des éléments de navigation.");return}if(p!=="all"&&ke){if(window.confirm("Êtes-vous sûr de vouloir supprimer cette configuration de rôle pour l'élément ? Cela supprimera toutes ses configurations de rôle associées. Cette action est irréversible."))try{await lue(ke),nt("Configuration de rôle supprimée !"),await L()}catch(Te){se(`Erreur lors de la suppression de la configuration de rôle: ${Te.message}`)}}else se("Veuillez sélectionner un rôle spécifique pour supprimer une configuration, ou utilisez la gestion des éléments génériques pour supprimer l'élément de base.")},K=be=>{if(s!=="administrator"){se("Vous n'êtes pas autorisé à modifier les propriétés génériques des éléments.");return}se("Veuillez utiliser la page 'Éléments de navigation' pour modifier les propriétés génériques des éléments.")},ee=(be,ke)=>{if(s!=="administrator"){se("Vous n'êtes pas autorisé à modifier les configurations de rôle.");return}E(be),S(ke),w(!0)},te=(be,ke)=>{if(s!=="administrator"){se("Vous n'êtes pas autorisé à assigner un parent.");return}E(be),S(ke),w(!0)},Q=be=>{if(s!=="administrator"){se("Vous n'êtes pas autorisé à réorganiser les éléments.");return}const{active:ke}=be,Te=d.find(De=>De.configId===ke.id);if(Te&&Te.configId){const De={id:Te.configId,nav_item_id:Te.id,role:p,parent_nav_item_id:Te.parent_nav_item_id,order_index:Te.order_index};$(Te),V(De)}else $(null),V(null)},G=async be=>{var mr,tn,jr;if(s!=="administrator"){se("Vous n'êtes pas autorisé à réorganiser les éléments."),$(null),V(null);return}const{active:ke,over:Te}=be;if(!B||!H||!Te||ke.id===Te.id){$(null),V(null);return}if(p==="all"){se("Veuillez sélectionner un rôle spécifique pour configurer les menus."),$(null),V(null);return}const De=ke.id,ae=Te.id,ge=(Ot,Ze,ft=null)=>{for(let xt=0;xt<Ot.length;xt++){if(Ot[xt].configId===Ze)return{parentId:ft,index:xt,list:Ot};if(Ot[xt].children&&Ot[xt].children.length>0){const bt=ge(Ot[xt].children,Ze,Ot[xt].id);if(bt)return bt}}return null};if(!ge(u,De)){se("Élément déplacé introuvable dans la structure actuelle."),$(null),V(null);return}let ie=null,oe=0;const je=(mr=Te.data.current)==null?void 0:mr.sortable,le=d.find(Ot=>Ot.configId===ae),he=ae==="configured-container",we=ae.startsWith("configured-container-children-of-");if(je){const Ot=ge(u,ae);if(!Ot){se("Cible de dépôt introuvable."),$(null),V(null);return}le&&le.type==="category_or_action"&&(le.route===null||le.route===void 0)&&T[le.id]?(ie=le.id,oe=((tn=le.children)==null?void 0:tn.length)||0):(ie=Ot.parentId,oe=je.index)}else if(he)ie=null,oe=u.length;else if(we){ie=ae.replace("configured-container-children-of-","");const Ot=d.find(Ze=>Ze.id===ie);if(!Ot||Ot.type==="route"){se("Vous ne pouvez pas déposer un élément sous une route ou une cible invalide."),$(null),V(null);return}oe=((jr=Ot.children)==null?void 0:jr.length)||0}else{se("Cible de dépôt non valide."),$(null),V(null);return}if(B.id===ie){se("Un élément ne peut pas être déplacé dans lui-même."),$(null),V(null);return}const ue=W(B,d);if(ie&&ue.has(ie)){se("Un élément ne peut pas être déplacé dans un de ses propres descendants."),$(null),V(null);return}let Oe=JSON.parse(JSON.stringify(u));const gt=(Ot,Ze)=>Ot.filter(ft=>ft.configId!==Ze).map(ft=>({...ft,children:ft.children?gt(ft.children,Ze):[]}));Oe=gt(Oe,De);const Se={...B,parent_nav_item_id:ie},Ge=(Ot,Ze,ft,xt)=>{if(ft===null){const bt=[...Ot];return bt.splice(xt,0,Ze),bt}return Ot.map(bt=>{if(bt.id===ft){const ct=[...bt.children||[]];return ct.splice(xt,0,Ze),{...bt,children:ct}}return bt.children?{...bt,children:Ge(bt.children,Ze,ft,xt)}:bt})};Oe=Ge(Oe,Se,ie,oe);const Nt=[],vt=(Ot,Ze=null)=>{Ot.forEach((ft,xt)=>{ft.configId&&Nt.push({id:ft.configId,nav_item_id:ft.id,role:p,parent_nav_item_id:Ze,order_index:xt}),ft.children&&ft.children.length>0&&vt(ft.children,ft.id)})};vt(Oe,null);try{for(const Ot of Nt)await ag(Ot);nt("Élément de navigation réorganisé/déplacé !"),await L()}catch(Ot){Ot.message&&Ot.message.includes("Non authentifié")?se("Votre session a expiré. Veuillez vous reconnecter pour réorganiser les menus."):se(`Erreur lors de la mise à jour de la base de données: ${Ot.message}`)}finally{$(null),V(null)}},ne=be=>{if(s!=="administrator"){se("Vous n'êtes pas autorisé à gérer les sous-éléments.");return}R(be),O(!0)},Z=be=>{P(ke=>({...ke,[be]:!ke[be]}))},re=(be,ke,Te)=>o.jsxs("div",{id:Te,className:"min-h-[50px] p-2 border border-dashed border-muted-foreground/30 rounded-android-tile",children:[be.length===0&&o.jsx("p",{className:"text-muted-foreground text-center text-sm py-2",children:o.jsx("span",{children:"Déposez des éléments ici"})}),o.jsx(DG,{items:be.map(De=>De.configId||De.id),strategy:PG,children:be.map(De=>o.jsxs(Y.Fragment,{children:[o.jsx(Hz,{item:De,level:ke,onEditGenericItem:K,onEditRoleConfig:ee,onDelete:q,onManageChildren:ne,onAssignParent:te,isDragging:(B==null?void 0:B.id)===De.id||(H==null?void 0:H.id)===De.configId,isDraggableAndDeletable:s==="administrator",selectedRoleFilter:p,isExpanded:!!T[De.id],onToggleExpand:Z}),De.children&&De.children.length>0&&T[De.id]&&o.jsx("div",{className:"ml-4",children:re(De.children,ke+1,`${Te}-children-of-${De.id}`)})]},De.id))})]}),fe=async()=>{if(s!=="administrator"){se("Vous n'êtes pas autorisé à réinitialiser la navigation.");return}if(p==="all"){se("Veuillez sélectionner un rôle spécifique à réinitialiser.");return}if(window.confirm(`Êtes-vous sûr de vouloir réinitialiser la navigation par défaut pour le rôle '${p}' ? Cela écrasera toutes les configurations existantes pour ce rôle.`))try{await due(p),nt(`Navigation par défaut réinitialisée pour le rôle '${p}' !`),await L()}catch(be){se(`Erreur lors de la réinitialisation de la navigation: ${be.message}`)}},ce=be=>{x(be),v("")},xe=_.useMemo(()=>{const be=y.toLowerCase();return MT.filter(ke=>getRoleDisplayName(ke).toLowerCase().includes(be))},[y]);return a?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]}):!i||s!=="administrator"?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs peuvent accéder à cette page."})]}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Configuration des Menus par Rôle"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Sélectionnez un rôle pour voir et gérer les éléments de menu qui lui sont associés."}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-6 w-6 text-primary"})," Sélectionner un rôle"]}),o.jsx(Le,{children:"Choisissez le rôle dont vous souhaitez configurer le menu."})]}),o.jsxs(qe,{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(rt,{placeholder:"Rechercher un rôle...",className:"pl-10 rounded-android-tile",value:y,onChange:be=>v(be.target.value)})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:xe.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4 col-span-full",children:"Aucun rôle trouvé."}):xe.map(be=>{const ke=mb[be]||Rn;return o.jsxs(me,{variant:"outline",className:Ne("flex flex-col items-center justify-center h-24 w-full text-center p-2 rounded-android-tile hover:scale-[1.02] transition-transform",p===be?"bg-primary text-primary-foreground border-primary":"hover:bg-accent hover:text-accent-foreground","transition-all duration-200 ease-in-out"),onClick:()=>ce(be),children:[o.jsx(ke,{className:"h-6 w-6 mb-2"}),o.jsx("span",{className:"text-sm font-medium line-clamp-1",children:getRoleDisplayName(be)}),p===be&&o.jsx(La,{className:"h-4 w-4 text-primary-foreground mt-1"})]},be)})}),p!=="all"&&o.jsxs(me,{onClick:fe,variant:"outline",className:"mt-4",children:[o.jsx(hw,{className:"h-4 w-4 mr-2"})," Réinitialiser la navigation pour ce rôle"]})]})]}),p!=="all"&&o.jsx("div",{className:"grid grid-cols-1 gap-8",children:o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(Mn,{className:"h-6 w-6 text-primary"})," Structure de Navigation pour ",getRoleDisplayName(p)]}),o.jsx(Le,{children:"Réorganisez les éléments par glisser-déposer. Utilisez le menu contextuel (clic droit) pour gérer les sous-éléments."})]}),o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>{n(null),t(!0)},className:"flex-shrink-0",children:[o.jsx(gr,{className:"mr-2 h-4 w-4"})," Ajouter racine"]})]}),o.jsx(qe,{className:"space-y-2 p-4 border border-dashed border-muted-foreground/30 rounded-android-tile",children:o.jsxs(VP,{sensors:I,collisionDetection:FP,onDragStart:Q,onDragEnd:G,children:[re(u,0,"configured-container"),o.jsx(AG,{children:B?o.jsx(Hz,{item:B,level:0,onEditGenericItem:K,onEditRoleConfig:ee,onDelete:q,onManageChildren:ne,onAssignParent:te,isDragging:!0,isDraggableAndDeletable:s==="administrator",selectedRoleFilter:p,isExpanded:!1,onToggleExpand:()=>{}}):null})]})})]})}),j&&C&&o.jsx(WFe,{isOpen:b,onClose:()=>{w(!1),S(null),E(null)},currentConfigToEdit:j,currentItemToEdit:C,selectedRoleFilter:p,allGenericNavItems:l,allConfiguredItemsFlat:d,onSave:L,getDescendantIds:W,iconMap:mb}),M&&o.jsx(VFe,{isOpen:k,onClose:()=>O(!1),parentItem:M,selectedRoleFilter:p,allGenericNavItems:l,allConfiguredItemsFlat:d,onChildrenUpdated:L,getDescendantIds:W,getAncestorIds:F}),p!=="all"&&o.jsx(UFe,{isOpen:e,onClose:()=>t(!1),selectedRoleFilter:p,allGenericNavItems:l,allConfiguredItemsFlat:d,onItemAdded:L,getDescendantIds:W,getAncestorIds:F,iconMap:mb,defaultParentId:r})]})},Kz={Building2:xr,Info:Ct,BriefcaseBusiness:Ii,User:Rn},GFe=()=>{const{currentUserProfile:e,currentRole:t,isLoadingUser:r,fetchUserProfile:n}=Qt(),[i,s]=_.useState([]),[a,l]=_.useState([]),[c,u]=_.useState([]),[f,d]=_.useState([]),[m,p]=_.useState(""),[x,y]=_.useState(""),[v,b]=_.useState(""),[w,j]=_.useState(!1),[S,C]=_.useState(!1),[E,k]=_.useState(!1),[O,M]=_.useState(null),[R,T]=_.useState(""),[P,I]=_.useState(""),[B,$]=_.useState(""),[H,V]=_.useState(!1),[U,W]=_.useState(!1),[F,L]=_.useState(null),[q,K]=_.useState(null),[ee,te]=_.useState(null),[Q,G]=_.useState(""),[ne,Z]=_.useState(""),[re,fe]=_.useState(!1),ce=_.useCallback(async()=>{try{const le=await qi();s(le);const he=await ts();l(he),u(he.filter(we=>we.role==="director")),d(he.filter(we=>we.role==="deputy_director"))}catch(le){console.error("Error fetching data for EstablishmentManagementPage:",le),se(`Erreur lors du chargement des données de gestion des établissements: ${le.message}`)}},[]);_.useEffect(()=>{ce()},[ce]);const xe=le=>{switch(le){case"director":return"Directeur";case"deputy_director":return"Directeur Adjoint";default:return"Rôle inconnu"}},be=async()=>{if(!m.trim()){se("Le nom de l'établissement est requis.");return}j(!0);try{const le={name:m.trim(),address:x.trim()||void 0,contact_email:v.trim()||void 0};await Iye(le)?(nt("Établissement ajouté !"),p(""),y(""),b(""),C(!1),ce()):se("Échec de l'ajout de l'établissement.")}catch(le){console.error("Error adding establishment:",le),se(`Erreur lors de l'ajout de l'établissement: ${le.message}`)}finally{j(!1)}},ke=le=>{M(le),T(le.name),I(le.address||""),$(le.contact_email||""),k(!0)},Te=async()=>{if(O){if(!R.trim()){se("Le nom de l'établissement est requis.");return}V(!0);try{const le={...O,name:R.trim(),address:P.trim()||void 0,contact_email:B.trim()||void 0};await Lye(le)?(nt("Établissement mis à jour !"),k(!1),M(null),ce()):se("Échec de la mise à jour de l'établissement.")}catch(le){console.error("Error saving edited establishment:",le),se(`Erreur lors de la sauvegarde de l'établissement: ${le.message}`)}finally{V(!1)}}},De=async le=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cet établissement ? Tous les utilisateurs, cursus, classes, etc. liés à cet établissement seront également affectés (dé-liés ou supprimés). Cette action est irréversible."))try{await $ye(le),nt("Établissement supprimé !"),ce()}catch(he){console.error("Error deleting establishment:",he),se(`Erreur lors de la suppression de l'établissement: ${he.message}`)}},ae=le=>{L(le);const he=c.find(ue=>ue.establishment_id===le.id),we=f.find(ue=>ue.establishment_id===le.id);K((he==null?void 0:he.id)||null),te((we==null?void 0:we.id)||null),G(he?`${he.first_name} ${he.last_name}`:""),Z(we?`${we.first_name} ${we.last_name}`:""),W(!0)},ge=async(le,he,we)=>{if(F){fe(!0);try{const ue=a.find(Oe=>Oe.role===he&&Oe.establishment_id===we);if(ue&&ue.id!==le&&(await Zf({id:ue.id,establishment_id:null}),await supabase.auth.admin.updateUserById(ue.id,{user_metadata:{establishment_id:null}})),le){const Oe=a.find(gt=>gt.id===le);Oe&&Oe.role===he?(await Zf({id:le,establishment_id:we}),await supabase.auth.admin.updateUserById(le,{user_metadata:{establishment_id:we}}),nt(`${xe(he)} affecté à l'établissement !`)):se(`Le profil sélectionné n'est pas un ${xe(he)} ou est introuvable.`)}else nt(`${xe(he)} désaffecté de l'établissement.`);ce(),((e==null?void 0:e.id)===le||(e==null?void 0:e.id)===(ue==null?void 0:ue.id))&&await n(e.id)}catch(ue){console.error(`Error assigning ${he} to establishment:`,ue),se(`Erreur lors de l'affectation du ${xe(he)}: ${ue.message}`)}finally{fe(!1)}}},X=a.filter(le=>le.role==="director"&&(!le.establishment_id||le.establishment_id===(F==null?void 0:F.id))).filter(le=>{var he,we,ue;return((he=le.first_name)==null?void 0:he.toLowerCase().includes(Q.toLowerCase()))||((we=le.last_name)==null?void 0:we.toLowerCase().includes(Q.toLowerCase()))||((ue=le.username)==null?void 0:ue.toLowerCase().includes(Q.toLowerCase()))}),ie=a.filter(le=>le.role==="deputy_director"&&(!le.establishment_id||le.establishment_id===(F==null?void 0:F.id))).filter(le=>{var he,we,ue;return((he=le.first_name)==null?void 0:he.toLowerCase().includes(ne.toLowerCase()))||((we=le.last_name)==null?void 0:we.toLowerCase().includes(ne.toLowerCase()))||((ue=le.username)==null?void 0:ue.toLowerCase().includes(ne.toLowerCase()))}),oe=[{id:"none",label:"Désaffecter",icon_name:"UserX"},...X.map(le=>({id:le.id,label:`${le.first_name} ${le.last_name} (@${le.username})`,icon_name:"User"}))],je=[{id:"none",label:"Désaffecter",icon_name:"UserX"},...ie.map(le=>({id:le.id,label:`${le.first_name} ${le.last_name} (@${le.username})`,icon_name:"User"}))];return r?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Chargement..."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Veuillez patienter."})]}):!e||t!=="administrator"?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Accès Restreint"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Seuls les administrateurs peuvent accéder à cette page."})]}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Gestion des Établissements"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Créez, modifiez et gérez les établissements, et affectez-leur des directeurs."}),o.jsx(ol,{open:S,onOpenChange:C,children:o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsx(ll,{asChild:!0,children:o.jsxs(me,{variant:"ghost",className:"w-full justify-between p-0",children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(gr,{className:"h-6 w-6 text-primary"})," Créer un nouvel établissement"]}),S?o.jsx(Ua,{className:"h-5 w-5"}):o.jsx(zr,{className:"h-5 w-5"})]})}),o.jsx(Le,{children:"Ajoutez un nouvel établissement à la plateforme."})]}),o.jsxs(wo,{className:"space-y-4 p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(rt,{placeholder:"Nom de l'établissement",value:m,onChange:le=>p(le.target.value),required:!0}),o.jsx(rt,{placeholder:"Adresse (optionnel)",value:x,onChange:le=>y(le.target.value)}),o.jsx(rt,{type:"email",placeholder:"Email de contact (optionnel)",value:v,onChange:le=>b(le.target.value)})]}),o.jsxs(me,{onClick:be,disabled:w||!m.trim(),children:[w?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):o.jsx(gr,{className:"h-4 w-4 mr-2"})," Ajouter l'établissement"]})]})]})}),o.jsxs(Re,{className:"rounded-android-tile",children:[o.jsxs(Be,{children:[o.jsxs(Fe,{className:"flex items-center gap-2",children:[o.jsx(xr,{className:"h-6 w-6 text-primary"})," Liste des Établissements"]}),o.jsx(Le,{children:"Visualisez et gérez les établissements existants."})]}),o.jsx(qe,{className:"space-y-4",children:o.jsx("div",{className:"space-y-2",children:i.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun établissement à afficher."}):i.map(le=>{const he=c.find(ue=>ue.establishment_id===le.id),we=f.find(ue=>ue.establishment_id===le.id);return o.jsxs(Re,{className:"p-3 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 rounded-android-tile",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-medium",children:le.name}),le.address&&o.jsx("p",{className:"text-sm text-muted-foreground",children:le.address}),le.contact_email&&o.jsx("p",{className:"text-sm text-muted-foreground",children:le.contact_email}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Directeur: ",he?`${he.first_name} ${he.last_name}`:"Non affecté"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Directeur Adjoint: ",we?`${we.first_name} ${we.last_name}`:"Non affecté"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 sm:mt-0",children:[o.jsxs(me,{variant:"outline",size:"sm",onClick:()=>ae(le),children:[o.jsx(Vu,{className:"h-4 w-4 mr-1"})," Affecter Directeurs"]}),o.jsx(me,{variant:"outline",size:"sm",onClick:()=>ke(le),children:o.jsx(es,{className:"h-4 w-4"})}),o.jsx(me,{variant:"destructive",size:"sm",onClick:()=>De(le.id),children:o.jsx(Li,{className:"h-4 w-4"})})]})]},le.id)})})})]}),O&&o.jsx(ui,{open:E,onOpenChange:k,children:o.jsx(Hn,{className:"sm:max-w-[425px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs(Kn,{children:[o.jsx(Gn,{children:"Modifier l'établissement"}),o.jsx(Yn,{children:"Mettez à jour les informations de l'établissement."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-name",className:"text-right",children:"Nom"}),o.jsx(rt,{id:"edit-name",value:R,onChange:le=>T(le.target.value),className:"col-span-3",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-address",className:"text-right",children:"Adresse"}),o.jsx(rt,{id:"edit-address",value:P,onChange:le=>I(le.target.value),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Pe,{htmlFor:"edit-contact-email",className:"text-right",children:"Email Contact"}),o.jsx(rt,{id:"edit-contact-email",type:"email",value:B,onChange:le=>$(le.target.value),className:"col-span-3"})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:Te,disabled:H,children:H?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Enregistrer les modifications"})})]})})}),F&&o.jsx(ui,{open:U,onOpenChange:W,children:o.jsx(Hn,{className:"sm:max-w-[500px] backdrop-blur-lg bg-background/80 rounded-android-tile z-[1000]",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs(Kn,{children:[o.jsxs(Gn,{children:['Affecter Directeurs à "',F.name,'"']}),o.jsx(Yn,{children:"Sélectionnez un directeur et un directeur adjoint pour cet établissement."})]}),o.jsxs("div",{className:"grid gap-4 py-4 flex-grow",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"assign-director",children:"Directeur"}),o.jsx(jt,{id:"assign-director",options:oe,value:q,onValueChange:le=>K(le),searchQuery:Q,onSearchQueryChange:G,placeholder:"Sélectionner un directeur...",emptyMessage:"Aucun directeur trouvé.",iconMap:Kz})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"assign-deputy-director",children:"Directeur Adjoint"}),o.jsx(jt,{id:"assign-deputy-director",options:je,value:ee,onValueChange:le=>te(le),searchQuery:ne,onSearchQueryChange:Z,placeholder:"Sélectionner un directeur adjoint...",emptyMessage:"Aucun directeur adjoint trouvé.",iconMap:Kz})]})]}),o.jsx($i,{children:o.jsx(me,{onClick:async()=>{F&&(await ge(q,"director",F.id),await ge(ee,"deputy_director",F.id),W(!1))},disabled:re,children:re?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Enregistrer les affectations"})})]})})})]})},YFe=({isOpen:e,targetThemeName:t})=>{const r={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut",staggerChildren:.08}},exit:{opacity:0,x:20,transition:{duration:.4,ease:"easeIn"}}},n={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return o.jsx(Nv,{children:e&&o.jsxs(kt.div,{className:Ne("fixed inset-0 z-[9999] flex flex-col items-center justify-center","bg-background/80 backdrop-blur-lg"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,ease:"easeInOut"},children:[o.jsxs(kt.div,{initial:{opacity:0,scale:.8,rotate:0},animate:{opacity:1,scale:1,rotate:360},exit:{opacity:0,scale:.8,rotate:0},transition:{delay:.1,duration:2,ease:"easeInOut"},className:"mb-8",children:[o.jsx(Ia,{iconClassName:"w-24 h-24",showText:!1})," "]}),o.jsx(kt.h1,{className:"text-5xl md:text-7xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",variants:r,initial:"hidden",animate:"visible",exit:"exit",transition:{delay:.8,duration:1.5,ease:"easeInOut"},children:t.split("").map((i,s)=>o.jsx(kt.span,{variants:n,children:i},s))})]})})},QFe=({onSuccess:e,onSwitchToSignup:t,onForgotPasswordClick:r})=>{const[n,i]=_.useState(""),[s,a]=_.useState(""),[l,c]=_.useState(!1),u=async f=>{f.preventDefault(),c(!0);const{data:d,error:m}=await Ie.auth.signInWithPassword({email:n.trim(),password:s.trim()});m?(console.error("Login error:",m),se(`Erreur de connexion: ${m.message}`)):d.user&&e(),c(!1)};return o.jsxs("form",{onSubmit:u,className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"login-email",children:"Email"}),o.jsx(rt,{id:"login-email",type:"email",placeholder:"m@example.com",required:!0,value:n,onChange:f=>i(f.target.value),autoComplete:"email"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"login-password",children:"Mot de passe"}),o.jsx(rt,{id:"login-password",type:"password",required:!0,value:s,onChange:f=>a(f.target.value),autoComplete:"current-password"})]}),o.jsx(me,{type:"submit",className:"w-full",disabled:l,children:l?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Se connecter"})]})},XFe=({onSwitchToLogin:e})=>o.jsxs("div",{className:"space-y-4 text-center",children:[o.jsx(Vu,{className:"h-16 w-16 text-primary mx-auto mb-4"}),o.jsx(Fe,{className:"text-2xl font-bold",children:"Création de compte"}),o.jsx(Le,{className:"text-lg font-semibold text-primary",children:"La création de compte est actuellement gérée par les administrateurs."}),o.jsx("p",{className:"text-muted-foreground",children:"Veuillez contacter un administrateur pour obtenir un compte."}),o.jsxs(me,{type:"button",className:"w-full",onClick:e,children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Retour à la connexion"]})]}),ZFe=({onSuccess:e,onSwitchToLogin:t})=>{const[r,n]=_.useState(""),[i,s]=_.useState(!1),a=async l=>{if(l.preventDefault(),!r.trim()){se("Veuillez entrer votre adresse email.");return}s(!0);try{const{error:c}=await Ie.auth.resetPasswordForEmail(r.trim(),{redirectTo:`${window.location.origin}/reset-password`});c?(console.error("Forgot password error:",c),se(`Erreur lors de la demande de réinitialisation: ${c.message}`)):e(r.trim())}catch(c){console.error("Unexpected error during forgot password:",c),se(`Une erreur inattendue est survenue: ${c.message}`)}finally{s(!1)}};return o.jsxs("form",{onSubmit:a,className:"grid gap-4",children:[o.jsx(kU,{className:"h-16 w-16 text-primary mx-auto mb-4"}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"forgot-password-email",children:"Email"}),o.jsx(rt,{id:"forgot-password-email",type:"email",placeholder:"m@example.com",required:!0,value:r,onChange:l=>n(l.target.value),autoComplete:"email"})]}),o.jsx(me,{type:"submit",className:"w-full",disabled:i,children:i?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Envoyer le lien de réinitialisation"}),o.jsxs(me,{type:"button",variant:"outline",className:"w-full",onClick:t,children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Retour à la connexion"]})]})},JFe=()=>{const e=on(),[t,r]=_.useState("login"),[n,i]=_.useState(""),s=_.useCallback(()=>{nt("Connexion réussie !"),e("/dashboard")},[e]),a=_.useCallback(d=>{i(d),r("password-reset-success")},[]),l=()=>{switch(t){case"login":return o.jsx(QFe,{onSuccess:s,onSwitchToSignup:()=>r("signup-info"),onForgotPasswordClick:()=>r("forgot-password")});case"signup-info":return o.jsx(XFe,{onSwitchToLogin:()=>r("login")});case"forgot-password":return o.jsx(ZFe,{onSuccess:a,onSwitchToLogin:()=>r("login")});case"password-reset-success":return o.jsxs("div",{className:"space-y-4 text-center",children:[o.jsx(kU,{className:"h-16 w-16 text-primary mx-auto mb-4"}),o.jsx(Fe,{className:"text-2xl font-bold",children:"Email de réinitialisation envoyé !"}),o.jsxs(Le,{className:"text-muted-foreground",children:["Un lien de réinitialisation de mot de passe a été envoyé à ",o.jsx("span",{className:"font-semibold text-foreground",children:n}),". Veuillez vérifier votre boîte de réception (et vos spams)."]}),o.jsxs(me,{type:"button",className:"w-full",onClick:()=>r("login"),children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Retour à la connexion"]})]});default:return null}},c={login:"Connexion","signup-info":"Création de compte","forgot-password":"Mot de passe oublié","password-reset-success":"Réinitialisation envoyée"}[t],u={login:"Entrez vos identifiants pour accéder à votre espace.","signup-info":"La création de compte est gérée par les administrateurs.","forgot-password":"Entrez votre email pour réinitialiser votre mot de passe.","password-reset-success":"Vérifiez votre boîte de réception pour le lien de réinitialisation."}[t],f={enter:{opacity:1,x:0},exit:{opacity:0,x:-50},initial:{opacity:0,x:50}};return o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background text-foreground p-4 relative overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -left-40 w-96 h-96 bg-primary/10 rounded-full filter blur-3xl opacity-50 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-secondary/20 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-2000"}),o.jsx(kt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"mb-8",children:o.jsx(Ia,{iconClassName:"w-24 h-24",showText:!1})}),o.jsxs(Re,{className:"w-full max-w-md p-6 rounded-android-tile shadow-xl backdrop-blur-lg bg-background/80 relative",children:[" ",window.history.length>1&&o.jsx(me,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"absolute top-4 left-4 z-10 rounded-full bg-muted/20 hover:bg-muted/40","aria-label":"Retour",children:o.jsx(ci,{className:"h-5 w-5"})}),o.jsxs(Be,{className:"text-center mb-4",children:[o.jsx(Fe,{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:c}),o.jsx(Le,{className:"text-muted-foreground",children:u})]}),o.jsxs(qe,{children:[o.jsx(Nv,{mode:"wait",children:o.jsx(kt.div,{initial:"initial",animate:"enter",exit:"exit",variants:f,transition:{duration:.3,ease:"easeOut"},children:l()},t)}),t==="login"&&o.jsxs("div",{className:"mt-6 text-center space-y-2",children:[o.jsx(me,{variant:"link",className:"w-full text-sm",onClick:()=>r("forgot-password"),children:"Mot de passe oublié ?"}),o.jsx(me,{variant:"link",className:"w-full text-sm",onClick:()=>r("signup-info"),children:"Pas encore de compte ?"})]})]})]})]})},eqe=()=>{const e=on(),[t,r]=_.useState(""),[n,i]=_.useState(""),[s,a]=_.useState(!1),[l,c]=_.useState(!1);_.useEffect(()=>{(async()=>{const{data:{session:m}}=await Ie.auth.getSession()})()},[]);const u=async d=>{if(d.preventDefault(),!t.trim()||!n.trim()){se("Veuillez remplir tous les champs.");return}if(t.trim().length<6){se("Le nouveau mot de passe doit contenir au moins 6 caractères.");return}if(t.trim()!==n.trim()){se("Les mots de passe ne correspondent pas.");return}a(!0);try{const{error:m}=await Ie.auth.updateUser({password:t.trim()});m?(console.error("Password reset error:",m),se(`Erreur lors de la réinitialisation du mot de passe: ${m.message}`)):(nt("Votre mot de passe a été mis à jour avec succès !"),c(!0))}catch(m){console.error("Unexpected error during password reset:",m),se(`Une erreur inattendue est survenue: ${m.message}`)}finally{a(!1)}},f={enter:{opacity:1,y:0},exit:{opacity:0,y:-50},initial:{opacity:0,y:50}};return o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background text-foreground p-4 relative overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -left-40 w-96 h-96 bg-primary/10 rounded-full filter blur-3xl opacity-50 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-secondary/20 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-2000"}),o.jsx(kt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"mb-8",children:o.jsx(Ia,{iconClassName:"w-24 h-24",showText:!1})}),o.jsxs(Re,{className:"w-full max-w-md p-6 rounded-android-tile shadow-xl backdrop-blur-lg bg-background/80",children:[o.jsxs(Be,{className:"text-center mb-4",children:[o.jsx(Fe,{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-foreground to-primary bg-[length:200%_auto] animate-background-pan",children:"Réinitialiser le mot de passe"}),o.jsx(Le,{className:"text-muted-foreground",children:"Définissez un nouveau mot de passe pour votre compte."})]}),o.jsx(qe,{children:o.jsx(kt.div,{initial:"initial",animate:"enter",exit:"exit",variants:f,transition:{duration:.3,ease:"easeOut"},children:l?o.jsxs("div",{className:"space-y-4 text-center",children:[o.jsx(Ta,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),o.jsx(Fe,{className:"text-2xl font-bold",children:"Mot de passe mis à jour !"}),o.jsx(Le,{className:"text-muted-foreground",children:"Votre mot de passe a été changé avec succès. Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."}),o.jsxs(me,{type:"button",className:"w-full",onClick:()=>e("/auth"),children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Retour à la connexion"]})]}):o.jsxs("form",{onSubmit:u,className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"new-password",children:"Nouveau mot de passe"}),o.jsx(rt,{id:"new-password",type:"password",required:!0,value:t,onChange:d=>r(d.target.value),autoComplete:"new-password"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Pe,{htmlFor:"confirm-password",children:"Confirmer le nouveau mot de passe"}),o.jsx(rt,{id:"confirm-password",type:"password",required:!0,value:n,onChange:d=>i(d.target.value),autoComplete:"new-password"})]}),o.jsx(me,{type:"submit",className:"w-full",disabled:s,children:s?o.jsx(en,{iconClassName:"h-4 w-4 mr-2"}):"Réinitialiser le mot de passe"}),o.jsxs(me,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/auth"),children:[o.jsx(ci,{className:"h-4 w-4 mr-2"})," Annuler"]})]})},l?"success":"form")})]})]})},tqe=new Jse,rqe=({isAdminModalOpen:e,setIsAdminModalOpen:t})=>{const{currentUserProfile:r,isLoadingUser:n,dynamicRoutes:i}=Qt(),{setTheme:s}=g2(),[a,l]=_.useState(!1),[c,u]=_.useState(""),f={"/dashboard":Q$,"/courses":mxe,"/create-course":D5,"/create-course/:courseId":D5,"/analytics":$Ie,"/courses/:courseId":fLe,"/courses/:courseId/modules/:moduleIndex":XLe,"/all-notes":ZLe,"/about":$z,"/data-model":tFe,"/admin-users":F3e,"/establishments":GFe,"/subjects":z3e,"/school-years":Y3e,"/professor-assignments":Q3e,"/curricula":r4e,"/classes":i4e,"/students":$3e,"/pedagogical-management":V3e,"/admin-menu-management/generic-items":qFe,"/admin-menu-management/role-configs":KFe};_.useEffect(()=>{},[i,r]);const d=_.useCallback(m=>{const x={light:"Clair",dark:"Sombre","dark-purple":"Violet Sombre",system:"Système"}[m]||m;u(x),l(!0),s(m),setTimeout(()=>{l(!1)},4e3)},[s]);return n?o.jsx(oFe,{onComplete:()=>{}}):o.jsxs(aFe,{storageKey:"vite-ui-theme",attribute:"data-theme",children:[" ",o.jsx(Dse,{children:o.jsxs(Y.Fragment,{children:[" ",o.jsx(Kre,{position:"top-center",containerClassName:"fixed top-16 left-0 right-0 z-[9999] flex flex-col",toastOptions:{duration:5e3,classNames:{toast:"!w-full !max-w-full rounded-lg border border-border shadow-md backdrop-blur-lg bg-background/60",success:"bg-success text-success-foreground border-success",error:"bg-destructive text-destructive-foreground border-destructive",loading:"bg-primary text-primary-foreground border-primary"}}}),o.jsx(goe,{children:o.jsxs(loe,{children:[o.jsx(Qi,{path:"/",element:r?o.jsx(wb,{to:"/dashboard",replace:!0}):o.jsx(qde,{setIsAdminModalOpen:t,onInitiateThemeChange:d})}),o.jsx(Qi,{path:"/auth",element:o.jsx(JFe,{})})," ",o.jsx(Qi,{path:"/reset-password",element:o.jsx(eqe,{})})," ",o.jsx(Qi,{path:"/about",element:o.jsx($z,{})})," ",o.jsx(Qi,{element:o.jsx(lFe,{}),children:o.jsxs(Qi,{element:o.jsx(Tye,{setIsAdminModalOpen:t,onInitiateThemeChange:d}),children:[" ",o.jsx(Qi,{path:"/admin-menu-management",element:o.jsx(wb,{to:"/admin-menu-management/generic-items",replace:!0})}),o.jsx(Qi,{path:"/dashboard",element:o.jsx(Q$,{})}),o.jsx(Qi,{path:"/profile",element:o.jsx(Z3e,{})}),o.jsx(Qi,{path:"/settings",element:o.jsx(eFe,{})}),o.jsx(Qi,{path:"/messages",element:o.jsx(sFe,{})}),i.map(m=>{const p=f[m.route];return p&&m.route!=="/dashboard"&&!["/profile","/settings","/messages","/about"].includes(m.route)?o.jsx(Qi,{path:m.route,element:o.jsx(p,{})},m.id):null})]})}),o.jsx(Qi,{path:"*",element:o.jsx(xge,{})})]})}),o.jsx(FFe,{isOpen:e,onClose:()=>t(!1)}),a&&o.jsx(YFe,{isOpen:a,targetThemeName:c})]})})]})},nqe=()=>{const[e,t]=_.useState(!1);return o.jsx(iae,{client:tqe,children:o.jsx(fue,{children:o.jsx($de,{children:o.jsx(rqe,{isAdminModalOpen:e,setIsAdminModalOpen:t})})})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Fh;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Fh||(Fh={}));class Tk extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const iqe=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},sqe=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},i=()=>t!==null?t.name:iqe(e),s=()=>i()!=="web",a=d=>{const m=u.get(d);return!!(m!=null&&m.platforms.has(i())||l(d))},l=d=>{var m;return(m=r.PluginHeaders)===null||m===void 0?void 0:m.find(p=>p.name===d)},c=d=>e.console.error(d),u=new Map,f=(d,m={})=>{const p=u.get(d);if(p)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),p.proxy;const x=i(),y=l(d);let v;const b=async()=>(!v&&x in m?v=typeof m[x]=="function"?v=await m[x]():v=m[x]:t!==null&&!v&&"web"in m&&(v=typeof m.web=="function"?v=await m.web():v=m.web),v),w=(O,M)=>{var R,T;if(y){const P=y==null?void 0:y.methods.find(I=>M===I.name);if(P)return P.rtype==="promise"?I=>r.nativePromise(d,M.toString(),I):(I,B)=>r.nativeCallback(d,M.toString(),I,B);if(O)return(R=O[M])===null||R===void 0?void 0:R.bind(O)}else{if(O)return(T=O[M])===null||T===void 0?void 0:T.bind(O);throw new Tk(`"${d}" plugin is not implemented on ${x}`,Fh.Unimplemented)}},j=O=>{let M;const R=(...T)=>{const P=b().then(I=>{const B=w(I,O);if(B){const $=B(...T);return M=$==null?void 0:$.remove,$}else throw new Tk(`"${d}.${O}()" is not implemented on ${x}`,Fh.Unimplemented)});return O==="addListener"&&(P.remove=async()=>M()),P};return R.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(R,"name",{value:O,writable:!1,configurable:!1}),R},S=j("addListener"),C=j("removeListener"),E=(O,M)=>{const R=S({eventName:O},M),T=async()=>{const I=await R;C({eventName:O,callbackId:I},M)},P=new Promise(I=>R.then(()=>I({remove:T})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await T()},P},k=new Proxy({},{get(O,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?E:S;case"removeListener":return C;default:return j(M)}}});return n[d]=k,u.set(d,{name:d,proxy:k,platforms:new Set([...Object.keys(m),...y?[x]:[]])}),k};return r.convertFileSrc||(r.convertFileSrc=d=>d),r.getPlatform=i,r.handleError=c,r.isNativePlatform=s,r.isPluginAvailable=a,r.registerPlugin=f,r.Exception=Tk,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},aqe=e=>e.Capacitor=sqe(e),J0=aqe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),See=J0.registerPlugin;class jee{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const s=this.windowListeners[t];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const i=this.listeners[t];if(!i){if(n){let s=this.retainedEventArguments[t];s||(s=[]),s.push(r),this.retainedEventArguments[t]=s}return}i.forEach(s=>s(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new J0.Exception(t,Fh.Unimplemented)}unavailable(t="not available"){return new J0.Exception(t,Fh.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const i=n.indexOf(r);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const Gz=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Yz=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class oqe extends jee{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[i,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=Yz(i).trim(),s=Yz(s).trim(),r[i]=s}),r}async setCookie(t){try{const r=Gz(t.key),n=Gz(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,s=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${s}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}See("CapacitorCookies",{web:()=>new oqe});const lqe=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(e)}),cqe=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=e[t[a]],i),{})},uqe=(e,t=!0)=>e?Object.entries(e).reduce((n,i)=>{const[s,a]=i;let l,c;return Array.isArray(a)?(c="",a.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${s}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(a):a,c=`${s}=${l}`),`${n}&${c}`},"").substr(1):null,dqe=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),i=cqe(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,l]of Object.entries(e.data||{}))s.set(a,l);r.body=s.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const s=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{s.append(c,l)});else for(const l of Object.keys(e.data))s.append(l,e.data[l]);r.body=s;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(i.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class fqe extends jee{async request(t){const r=dqe(t,t.webFetchExtra),n=uqe(t.params,t.shouldEncodeUrlParams),i=n?`${t.url}?${n}`:t.url,s=await fetch(i,r),a=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?t:{};a.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await s.blob(),c=await lqe(u);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}const f={};return s.headers.forEach((d,m)=>{f[m]=d}),{data:c,headers:f,status:s.status,url:s.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}See("CapacitorHttp",{web:()=>new fqe});J0.LiveUpdates.sync();bre.createRoot(document.getElementById("root")).render(o.jsx(nqe,{}));
